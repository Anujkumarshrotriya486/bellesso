var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jquery={exports:{}},jqueryExports=((()=>{var e,t;e="undefined"!=typeof window?window:commonjsGlobal,t=function(v,X){function y(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function D(e){return null!=e&&e===e.window}var t=[],F=Object.getPrototypeOf,s=t.slice,O=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},H=t.push,S=t.indexOf,R={},N=R.toString,B=R.hasOwnProperty,V=B.toString,U=V.call(Object),h={},b=v.document,z={type:!0,src:!0,nonce:!0,noModule:!0};function j(e,t,r){var o,a,i=(r=r||b).createElement("script");if(i.text=e,t)for(o in z)(a=t[o]||t.getAttribute&&t.getAttribute(o))&&i.setAttribute(o,a);r.head.appendChild(i).parentNode.removeChild(i)}function W(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?R[N.call(e)]||"object":typeof e}var e="3.7.1",q=/HTML$/i,C=function(e,t){return new C.fn.init(e,t)};function Z(e){var t=!!e&&"length"in e&&e.length,r=W(e);return!y(e)&&!D(e)&&("array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e)}function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}C.fn=C.prototype={jquery:e,constructor:C,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=C.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return C.each(this,e)},map:function(r){return this.pushStack(C.map(this,function(e,t){return r.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:H,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,r,o,a,i=arguments[0]||{},n=1,s=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[n]||{},n++),"object"==typeof i||y(i)||(i={}),n===s&&(i=this,n--);n<s;n++)if(null!=(e=arguments[n]))for(t in e)r=e[t],"__proto__"!==t&&i!==r&&(l&&r&&(C.isPlainObject(r)||(o=Array.isArray(r)))?(a=i[t],a=o&&!Array.isArray(a)?[]:o||C.isPlainObject(a)?a:{},o=!1,i[t]=C.extend(l,a,r)):void 0!==r&&(i[t]=r));return i},C.extend({expando:"jQuery"+(e+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==N.call(e)||(e=F(e))&&("function"!=typeof(e=B.call(e,"constructor")&&e.constructor)||V.call(e)!==U))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,r){j(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,o=0;if(Z(e))for(r=e.length;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},text:function(e){var t,r="",o=0,a=e.nodeType;if(!a)for(;t=e[o++];)r+=C.text(t);return 1===a||11===a?e.textContent:9===a?e.documentElement.textContent:3===a||4===a?e.nodeValue:r},makeArray:function(e,t){t=t||[];return null!=e&&(Z(Object(e))?C.merge(t,"string"==typeof e?[e]:e):H.call(t,e)),t},inArray:function(e,t,r){return null==t?-1:S.call(t,e,r)},isXMLDoc:function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!q.test(t||e&&e.nodeName||"HTML")},merge:function(e,t){for(var r=+t.length,o=0,a=e.length;o<r;o++)e[a++]=t[o];return e.length=a,e},grep:function(e,t,r){for(var o=[],a=0,i=e.length,n=!r;a<i;a++)!t(e[a],a)!=n&&o.push(e[a]);return o},map:function(e,t,r){var o,a,i=0,n=[];if(Z(e))for(o=e.length;i<o;i++)null!=(a=t(e[i],i,r))&&n.push(a);else for(i in e)null!=(a=t(e[i],i,r))&&n.push(a);return O(n)},guid:1,support:h}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){R["[object "+t+"]"]=t.toLowerCase()});var K=t.pop,Y=t.sort,Q=t.splice,r="[\\x20\\t\\r\\n\\f]",ee=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),te=(C.contains=function(e,t){t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(e.contains?e.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))},/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g);function re(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}C.escapeSelector=function(e){return(e+"").replace(te,re)};var oe,w,ae,ie,ne,k,o,x,u,se,a=b,le=H,T=le,A=C.expando,$=0,ce=0,de=$e(),pe=$e(),ue=$e(),ge=$e(),me=function(e,t){return e===t&&(ne=!0),0},he="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",e="(?:\\\\[\\da-fA-F]{1,6}"+r+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",i="\\["+r+"*("+e+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+e+"))|)"+r+"*\\]",n=":("+e+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+i+")*)|.*)\\)|)",_e=new RegExp(r+"+","g"),fe=new RegExp("^"+r+"*,"+r+"*"),ye=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),Se=new RegExp(r+"|>"),Pe=new RegExp(n),ve=new RegExp("^"+e+"$"),be={ID:new RegExp("^#("+e+")"),CLASS:new RegExp("^\\.("+e+")"),TAG:new RegExp("^("+e+"|[*])"),ATTR:new RegExp("^"+i),PSEUDO:new RegExp("^"+n),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+he+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},Ce=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,ke=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,p=new RegExp("\\\\[\\da-fA-F]{1,6}"+r+"?|\\\\([^\\r\\n\\f])","g"),g=function(e,t){e="0x"+e.slice(1)-65536;return t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))},Te=function(){Me()},Ae=Fe(function(e){return!0===e.disabled&&P(e,"fieldset")},{dir:"parentNode",next:"legend"});try{T.apply(t=s.call(a.childNodes),a.childNodes),t[a.childNodes.length].nodeType}catch(e){T={apply:function(e,t){le.apply(e,s.call(t))},call:function(e){le.apply(e,s.call(arguments,1))}}}function L(t,e,r,o){var a,i,n,s,l,c,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return r;if(!o&&(Me(e),e=e||k,x)){if(11!==p&&(s=ke.exec(t)))if(a=s[1]){if(9===p){if(!(c=e.getElementById(a)))return r;if(c.id===a)return T.call(r,c),r}else if(d&&(c=d.getElementById(a))&&L.contains(e,c)&&c.id===a)return T.call(r,c),r}else{if(s[2])return T.apply(r,e.getElementsByTagName(t)),r;if((a=s[3])&&e.getElementsByClassName)return T.apply(r,e.getElementsByClassName(a)),r}if(!(ge[t+" "]||u&&u.test(t))){if(c=t,d=e,1===p&&(Se.test(t)||ye.test(t))){for((d=xe.test(t)&&Ee(e.parentNode)||e)==e&&h.scope||((n=e.getAttribute("id"))?n=C.escapeSelector(n):e.setAttribute("id",n=A)),i=(l=Xe(t)).length;i--;)l[i]=(n?"#"+n:":scope")+" "+De(l[i]);c=l.join(",")}try{return T.apply(r,d.querySelectorAll(c)),r}catch(e){ge(t,!0)}finally{n===A&&e.removeAttribute("id")}}}return Ve(t.replace(ee,"$1"),e,r,o)}function $e(){var r=[];function o(e,t){return r.push(e+" ")>w.cacheLength&&delete o[r.shift()],o[e+" "]=t}return o}function l(e){return e[A]=!0,e}function Le(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function Je(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&Ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function Ge(n){return l(function(i){return i=+i,l(function(e,t){for(var r,o=n([],e.length,i),a=o.length;a--;)e[r=o[a]]&&(e[r]=!(t[r]=e[r]))})})}function Ee(e){return e&&void 0!==e.getElementsByTagName&&e}function Me(e){var e=e?e.ownerDocument||e:a;return e!=k&&9===e.nodeType&&e.documentElement&&(o=(k=e).documentElement,x=!C.isXMLDoc(k),se=o.matches||o.webkitMatchesSelector||o.msMatchesSelector,o.msMatchesSelector&&a!=k&&(e=k.defaultView)&&e.top!==e&&e.addEventListener("unload",Te),h.getById=Le(function(e){return o.appendChild(e).id=C.expando,!k.getElementsByName||!k.getElementsByName(C.expando).length}),h.disconnectedMatch=Le(function(e){return se.call(e,"*")}),h.scope=Le(function(){return k.querySelectorAll(":scope")}),h.cssHas=Le(function(){try{k.querySelector(":has(*,:jqfake)")}catch(e){return 1}}),h.getById?(w.filter.ID=function(e){var t=e.replace(p,g);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&x)return(t=t.getElementById(e))?[t]:[]}):(w.filter.ID=function(e){var t=e.replace(p,g);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&x){var r,o,a,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(a=t.getElementsByName(e),o=0;i=a[o++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),w.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},w.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&x)return t.getElementsByClassName(e)},u=[],Le(function(e){var t;o.appendChild(e).innerHTML="<a id='"+A+"' href='' disabled='disabled'></a><select id='"+A+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||u.push("\\["+r+"*(?:value|"+he+")"),e.querySelectorAll("[id~="+A+"-]").length||u.push("~="),e.querySelectorAll("a#"+A+"+*").length||u.push(".#.+[+~]"),e.querySelectorAll(":checked").length||u.push(":checked"),(t=k.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),o.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&u.push(":enabled",":disabled"),(t=k.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||u.push("\\["+r+"*name"+r+"*="+r+"*(?:''|\"\")")}),h.cssHas||u.push(":has"),u=u.length&&new RegExp(u.join("|")),me=function(e,t){var r;return e===t?(ne=!0,0):(r=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===r?e===k||e.ownerDocument==a&&L.contains(a,e)?-1:t===k||t.ownerDocument==a&&L.contains(a,t)?1:ie?S.call(ie,e)-S.call(ie,t):0:4&r?-1:1)}),k}for(oe in L.matches=function(e,t){return L(e,null,null,t)},L.matchesSelector=function(e,t){if(Me(e),x&&!ge[t+" "]&&(!u||!u.test(t)))try{var r=se.call(e,t);if(r||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){ge(t,!0)}return 0<L(t,k,null,[e]).length},L.contains=function(e,t){return(e.ownerDocument||e)!=k&&Me(e),C.contains(e,t)},L.attr=function(e,t){(e.ownerDocument||e)!=k&&Me(e);var r=w.attrHandle[t.toLowerCase()],r=r&&B.call(w.attrHandle,t.toLowerCase())?r(e,t,!x):void 0;return void 0!==r?r:e.getAttribute(t)},L.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},C.uniqueSort=function(e){var t,r=[],o=0,a=0;if(ne=!h.sortStable,ie=!h.sortStable&&s.call(e,0),Y.call(e,me),ne){for(;t=e[a++];)t===e[a]&&(o=r.push(a));for(;o--;)Q.call(e,r[o],1)}return ie=null,e},C.fn.uniqueSort=function(){return this.pushStack(C.uniqueSort(s.apply(this)))},(w=C.expr={cacheLength:50,createPseudo:l,match:be,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(p,g),e[3]=(e[3]||e[4]||e[5]||"").replace(p,g),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||L.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&L.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return be.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&Pe.test(r)&&(t=(t=Xe(r,!0))&&r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(p,g).toLowerCase();return"*"===e?function(){return!0}:function(e){return P(e,t)}},CLASS:function(e){var t=de[e+" "];return t||(t=new RegExp("(^|"+r+")"+e+"("+r+"|$)"))&&de(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,r,o){return function(e){e=L.attr(e,t);return null==e?"!="===r:!r||(e+="","="===r?e===o:"!="===r?e!==o:"^="===r?o&&0===e.indexOf(o):"*="===r?o&&-1<e.indexOf(o):"$="===r?o&&e.slice(-o.length)===o:"~="===r?-1<(" "+e.replace(_e," ")+" ").indexOf(o):"|="===r&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(g,e,t,m,h){var _="nth"!==g.slice(0,3),f="last"!==g.slice(-4),y="of-type"===e;return 1===m&&0===h?function(e){return!!e.parentNode}:function(e,t,r){var o,a,i,n,s,l=_!=f?"nextSibling":"previousSibling",c=e.parentNode,d=y&&e.nodeName.toLowerCase(),p=!r&&!y,u=!1;if(c){if(_){for(;l;){for(i=e;i=i[l];)if(y?P(i,d):1===i.nodeType)return!1;s=l="only"===g&&!s&&"nextSibling"}return!0}if(s=[f?c.firstChild:c.lastChild],f&&p){for(u=(n=(o=(a=c[A]||(c[A]={}))[g]||[])[0]===$&&o[1])&&o[2],i=n&&c.childNodes[n];i=++n&&i&&i[l]||(u=n=0,s.pop());)if(1===i.nodeType&&++u&&i===e){a[g]=[$,n,u];break}}else if(!1===(u=p?n=(o=(a=e[A]||(e[A]={}))[g]||[])[0]===$&&o[1]:u))for(;(i=++n&&i&&i[l]||(u=n=0,s.pop()))&&((y?!P(i,d):1!==i.nodeType)||!++u||(p&&((a=i[A]||(i[A]={}))[g]=[$,u]),i!==e)););return(u-=h)===m||u%m==0&&0<=u/m}}},PSEUDO:function(e,i){var t,n=w.pseudos[e]||w.setFilters[e.toLowerCase()]||L.error("unsupported pseudo: "+e);return n[A]?n(i):1<n.length?(t=[e,e,"",i],w.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var r,o=n(e,i),a=o.length;a--;)e[r=S.call(e,o[a])]=!(t[r]=o[a])}):function(e){return n(e,0,t)}):n}},pseudos:{not:l(function(e){var o=[],a=[],s=Be(e.replace(ee,"$1"));return s[A]?l(function(e,t,r,o){for(var a,i=s(e,null,o,[]),n=e.length;n--;)(a=i[n])&&(e[n]=!(t[n]=a))}):function(e,t,r){return o[0]=e,s(o,null,r,a),o[0]=null,!a.pop()}}),has:l(function(t){return function(e){return 0<L(t,e).length}}),contains:l(function(t){return t=t.replace(p,g),function(e){return-1<(e.textContent||C.text(e)).indexOf(t)}}),lang:l(function(r){return ve.test(r||"")||L.error("unsupported lang: "+r),r=r.replace(p,g).toLowerCase(),function(e){var t;do{if(t=x?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===r||0===t.indexOf(r+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=v.location&&v.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===(()=>{try{return k.activeElement}catch(e){}})()&&k.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:Je(!1),disabled:Je(!0),checked:function(e){return P(e,"input")&&!!e.checked||P(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return we.test(e.nodeName)},input:function(e){return Ce.test(e.nodeName)},button:function(e){return P(e,"input")&&"button"===e.type||P(e,"button")},text:function(e){return P(e,"input")&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:Ge(function(){return[0]}),last:Ge(function(e,t){return[t-1]}),eq:Ge(function(e,t,r){return[r<0?r+t:r]}),even:Ge(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:Ge(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:Ge(function(e,t,r){for(var o=r<0?r+t:t<r?t:r;0<=--o;)e.push(o);return e}),gt:Ge(function(e,t,r){for(var o=r<0?r+t:r;++o<t;)e.push(o);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[oe]=(t=>function(e){return P(e,"input")&&e.type===t})(oe);for(oe in{submit:!0,reset:!0})w.pseudos[oe]=(t=>function(e){return(P(e,"input")||P(e,"button"))&&e.type===t})(oe);function Ie(){}function Xe(e,t){var r,o,a,i,n,s,l,c=pe[e+" "];if(c)return t?0:c.slice(0);for(n=e,s=[],l=w.preFilter;n;){for(i in r&&!(o=fe.exec(n))||(o&&(n=n.slice(o[0].length)||n),s.push(a=[])),r=!1,(o=ye.exec(n))&&(r=o.shift(),a.push({value:r,type:o[0].replace(ee," ")}),n=n.slice(r.length)),w.filter)!(o=be[i].exec(n))||l[i]&&!(o=l[i](o))||(r=o.shift(),a.push({value:r,type:i,matches:o}),n=n.slice(r.length));if(!r)break}return t?n.length:n?L.error(e):pe(e,s).slice(0)}function De(e){for(var t=0,r=e.length,o="";t<r;t++)o+=e[t].value;return o}function Fe(n,e,t){var s=e.dir,l=e.next,c=l||s,d=t&&"parentNode"===c,p=ce++;return e.first?function(e,t,r){for(;e=e[s];)if(1===e.nodeType||d)return n(e,t,r);return!1}:function(e,t,r){var o,a,i=[$,p];if(r){for(;e=e[s];)if((1===e.nodeType||d)&&n(e,t,r))return!0}else for(;e=e[s];)if(1===e.nodeType||d)if(a=e[A]||(e[A]={}),l&&P(e,l))e=e[s]||e;else{if((o=a[c])&&o[0]===$&&o[1]===p)return i[2]=o[2];if((a[c]=i)[2]=n(e,t,r))return!0}return!1}}function Oe(a){return 1<a.length?function(e,t,r){for(var o=a.length;o--;)if(!a[o](e,t,r))return!1;return!0}:a[0]}function He(e,t,r,o,a){for(var i,n=[],s=0,l=e.length,c=null!=t;s<l;s++)!(i=e[s])||r&&!r(i,o,a)||(n.push(i),c&&t.push(s));return n}function Re(g,m,h,_,f,e){return _&&!_[A]&&(_=Re(_)),f&&!f[A]&&(f=Re(f,e)),l(function(e,t,r,o){var a,i,n,s,l=[],c=[],d=t.length,p=e||((e,t,r)=>{for(var o=0,a=t.length;o<a;o++)L(e,t[o],r);return r})(m||"*",r.nodeType?[r]:r,[]),u=!g||!e&&m?p:He(p,l,g,r,o);if(h?h(u,s=f||(e?g:d||_)?[]:t,r,o):s=u,_)for(a=He(s,c),_(a,[],r,o),i=a.length;i--;)(n=a[i])&&(s[c[i]]=!(u[c[i]]=n));if(e){if(f||g){if(f){for(a=[],i=s.length;i--;)(n=s[i])&&a.push(u[i]=n);f(null,s=[],a,o)}for(i=s.length;i--;)(n=s[i])&&-1<(a=f?S.call(e,n):l[i])&&(e[a]=!(t[a]=n))}}else s=He(s===t?s.splice(d,s.length):s),f?f(null,t,s,o):T.apply(t,s)})}function Ne(_,f){function e(e,t,r,o,a){var i,n,s,l=0,c="0",d=e&&[],p=[],u=ae,g=e||S&&w.find.TAG("*",a),m=$+=null==u?1:Math.random()||.1,h=g.length;for(a&&(ae=t==k||t||a);c!==h&&null!=(i=g[c]);c++){if(S&&i){for(n=0,t||i.ownerDocument==k||(Me(i),r=!x);s=_[n++];)if(s(i,t||k,r)){T.call(o,i);break}a&&($=m)}y&&((i=!s&&i)&&l--,e)&&d.push(i)}if(l+=c,y&&c!==l){for(n=0;s=f[n++];)s(d,p,t,r);if(e){if(0<l)for(;c--;)d[c]||p[c]||(p[c]=K.call(o));p=He(p)}T.apply(o,p),a&&!e&&0<p.length&&1<l+f.length&&C.uniqueSort(o)}return a&&($=m,ae=u),d}var y=0<f.length,S=0<_.length;return y?l(e):e}function Be(e,t){var r,o=[],a=[],i=ue[e+" "];if(!i){for(r=(t=t||Xe(e)).length;r--;)((i=function e(t){for(var o,r,a,i=t.length,n=w.relative[t[0].type],s=n||w.relative[" "],l=n?1:0,c=Fe(function(e){return e===o},s,!0),d=Fe(function(e){return-1<S.call(o,e)},s,!0),p=[function(e,t,r){return e=!n&&(r||t!=ae)||((o=t).nodeType?c:d)(e,t,r),o=null,e}];l<i;l++)if(r=w.relative[t[l].type])p=[Fe(Oe(p),r)];else{if((r=w.filter[t[l].type].apply(null,t[l].matches))[A]){for(a=++l;a<i&&!w.relative[t[a].type];a++);return Re(1<l&&Oe(p),1<l&&De(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(ee,"$1"),r,l<a&&e(t.slice(l,a)),a<i&&e(t=t.slice(a)),a<i&&De(t))}p.push(r)}return Oe(p)}(t[r]))[A]?o:a).push(i);(i=ue(e,Ne(a,o))).selector=e}return i}function Ve(e,t,r,o){var a,i,n,s,l,c="function"==typeof e&&e,d=!o&&Xe(e=c.selector||e);if(r=r||[],1===d.length){if(2<(i=d[0]=d[0].slice(0)).length&&"ID"===(n=i[0]).type&&9===t.nodeType&&x&&w.relative[i[1].type]){if(!(t=(w.find.ID(n.matches[0].replace(p,g),t)||[])[0]))return r;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(a=be.needsContext.test(e)?0:i.length;a--&&(n=i[a],!w.relative[s=n.type]);)if((l=w.find[s])&&(o=l(n.matches[0].replace(p,g),xe.test(i[0].type)&&Ee(t.parentNode)||t))){if(i.splice(a,1),e=o.length&&De(i))break;return T.apply(r,o),r}}return(c||Be(e,d))(o,t,!x,r,!t||xe.test(e)&&Ee(t.parentNode)||t),r}Ie.prototype=w.filters=w.pseudos,w.setFilters=new Ie,h.sortStable=A.split("").sort(me).join("")===A,Me(),h.sortDetached=Le(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),C.find=L,C.expr[":"]=C.expr.pseudos,C.unique=C.uniqueSort,L.compile=Be,L.select=Ve,L.setDocument=Me,L.tokenize=Xe,L.escape=C.escapeSelector,L.getText=C.text,L.isXML=C.isXMLDoc,L.selectors=C.expr,L.support=C.support,L.uniqueSort=C.uniqueSort;function Ue(e,t,r){for(var o=[],a=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(a&&C(e).is(r))break;o.push(e)}return o}function ze(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}var je=C.expr.match.needsContext,We=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function qe(e,r,o){return y(r)?C.grep(e,function(e,t){return!!r.call(e,t,e)!==o}):r.nodeType?C.grep(e,function(e){return e===r!==o}):"string"!=typeof r?C.grep(e,function(e){return-1<S.call(r,e)!==o}):C.filter(r,e,o)}C.filter=function(e,t,r){var o=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?C.find.matchesSelector(o,e)?[o]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,r,o=this.length,a=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<o;t++)if(C.contains(a[t],this))return!0}));for(r=this.pushStack([]),t=0;t<o;t++)C.find(e,a[t],r);return 1<o?C.uniqueSort(r):r},filter:function(e){return this.pushStack(qe(this,e||[],!1))},not:function(e){return this.pushStack(qe(this,e||[],!0))},is:function(e){return!!qe(this,"string"==typeof e&&je.test(e)?C(e):e||[],!1).length}});var Ze,Ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ye=((C.fn.init=function(e,t,r){if(e){if(r=r||Ze,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==r.ready?r.ready(e):e(C):C.makeArray(e,this);if(!(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:Ke.exec(e))||!o[1]&&t)return(!t||t.jquery?t||r:this.constructor(t)).find(e);if(o[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),We.test(o[1])&&C.isPlainObject(t))for(var o in t)y(this[o])?this[o](t[o]):this.attr(o,t[o])}else(r=b.getElementById(o[2]))&&(this[0]=r,this.length=1)}return this}).prototype=C.fn,Ze=C(b),/^(?:parents|prev(?:Until|All))/),Qe={children:!0,contents:!0,next:!0,prev:!0};function et(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var r,o=0,a=this.length,i=[],n="string"!=typeof e&&C(e);if(!je.test(e))for(;o<a;o++)for(r=this[o];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(n?-1<n.index(r):1===r.nodeType&&C.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(1<i.length?C.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?S.call(C(e),this[0]):S.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return Ue(e,"parentNode")},parentsUntil:function(e,t,r){return Ue(e,"parentNode",r)},next:function(e){return et(e,"nextSibling")},prev:function(e){return et(e,"previousSibling")},nextAll:function(e){return Ue(e,"nextSibling")},prevAll:function(e){return Ue(e,"previousSibling")},nextUntil:function(e,t,r){return Ue(e,"nextSibling",r)},prevUntil:function(e,t,r){return Ue(e,"previousSibling",r)},siblings:function(e){return ze((e.parentNode||{}).firstChild,e)},children:function(e){return ze(e.firstChild)},contents:function(e){return null!=e.contentDocument&&F(e.contentDocument)?e.contentDocument:(P(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(o,a){C.fn[o]=function(e,t){var r=C.map(this,a,e);return(t="Until"!==o.slice(-5)?e:t)&&"string"==typeof t&&(r=C.filter(t,r)),1<this.length&&(Qe[o]||C.uniqueSort(r),Ye.test(o))&&r.reverse(),this.pushStack(r)}});var J=/[^\x20\t\r\n\f]+/g;function tt(e){return e}function rt(e){throw e}function ot(e,t,r,o){var a;try{e&&y(a=e.promise)?a.call(e).done(t).fail(r):e&&y(a=e.then)?a.call(e,t,r):t.apply(void 0,[e].slice(o))}catch(e){r.apply(void 0,[e])}}C.Callbacks=function(o){var e,r;o="string"==typeof o?(e=o,r={},C.each(e.match(J)||[],function(e,t){r[t]=!0}),r):C.extend({},o);function a(){for(s=s||o.once,n=i=!0;c.length;d=-1)for(t=c.shift();++d<l.length;)!1===l[d].apply(t[0],t[1])&&o.stopOnFalse&&(d=l.length,t=!1);o.memory||(t=!1),i=!1,s&&(l=t?[]:"")}var i,t,n,s,l=[],c=[],d=-1,p={add:function(){return l&&(t&&!i&&(d=l.length-1,c.push(t)),function r(e){C.each(e,function(e,t){y(t)?o.unique&&p.has(t)||l.push(t):t&&t.length&&"string"!==W(t)&&r(t)})}(arguments),t)&&!i&&a(),this},remove:function(){return C.each(arguments,function(e,t){for(var r;-1<(r=C.inArray(t,l,r));)l.splice(r,1),r<=d&&d--}),this},has:function(e){return e?-1<C.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=c=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=c=[],t||i||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],c.push(t),i)||a(),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!n}};return p},C.extend({Deferred:function(e){var i=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],a="pending",n={state:function(){return a},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var a=arguments;return C.Deferred(function(o){C.each(i,function(e,t){var r=y(a[t[4]])&&a[t[4]];s[t[1]](function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(o.notify).done(o.resolve).fail(o.reject):o[t[0]+"With"](this,r?[e]:arguments)})}),a=null}).promise()},then:function(t,r,o){var l=0;function c(a,i,n,s){return function(){function e(){var e,t;if(!(a<l)){if((e=n.apply(r,o))===i.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?s?t.call(e,c(l,i,tt,s),c(l,i,rt,s)):(l++,t.call(e,c(l,i,tt,s),c(l,i,rt,s),c(l,i,tt,i.notifyWith))):(n!==tt&&(r=void 0,o=[e]),(s||i.resolveWith)(r,o))}}var r=this,o=arguments,t=s?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.error),l<=a+1&&(n!==rt&&(r=void 0,o=[e]),i.rejectWith(r,o))}};a?t():(C.Deferred.getErrorHook?t.error=C.Deferred.getErrorHook():C.Deferred.getStackHook&&(t.error=C.Deferred.getStackHook()),v.setTimeout(t))}}return C.Deferred(function(e){i[0][3].add(c(0,e,y(o)?o:tt,e.notifyWith)),i[1][3].add(c(0,e,y(t)?t:tt)),i[2][3].add(c(0,e,y(r)?r:rt))}).promise()},promise:function(e){return null!=e?C.extend(e,n):n}},s={};return C.each(i,function(e,t){var r=t[2],o=t[5];n[t[1]]=r.add,o&&r.add(function(){a=o},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),r.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=r.fireWith}),n.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){a[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--r||n.resolveWith(a,i)}}var r=arguments.length,o=r,a=Array(o),i=s.call(arguments),n=C.Deferred();if(r<=1&&(ot(e,n.done(t(o)).resolve,n.reject,!r),"pending"===n.state()||y(i[o]&&i[o].then)))return n.then();for(;o--;)ot(i[o],t(o),n.reject);return n.promise()}});var at=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,it=(C.Deferred.exceptionHook=function(e,t){v.console&&v.console.warn&&e&&at.test(e.name)&&v.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){v.setTimeout(function(){throw e})},C.Deferred());function nt(){b.removeEventListener("DOMContentLoaded",nt),v.removeEventListener("load",nt),C.ready()}C.fn.ready=function(e){return it.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||it.resolveWith(b,[C])}}),C.ready.then=it.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?v.setTimeout(C.ready):(b.addEventListener("DOMContentLoaded",nt),v.addEventListener("load",nt));function d(e,t,r,o,a,i,n){var s=0,l=e.length,c=null==r;if("object"===W(r))for(s in a=!0,r)d(e,t,s,r[s],!0,i,n);else if(void 0!==o&&(a=!0,y(o)||(n=!0),t=c?n?(t.call(e,o),null):(c=t,function(e,t,r){return c.call(C(e),r)}):t))for(;s<l;s++)t(e[s],r,n?o:o.call(e[s],s,t(e[s],r)));return a?e:c?t.call(e):l?t(e[0],r):i}var st=/^-ms-/,lt=/-([a-z])/g;function ct(e,t){return t.toUpperCase()}function G(e){return e.replace(st,"ms-").replace(lt,ct)}function dt(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function pt(){this.expando=C.expando+pt.uid++}pt.uid=1,pt.prototype={cache:function(e){var t=e[this.expando];return t||(t={},dt(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var o,a=this.cache(e);if("string"==typeof t)a[G(t)]=r;else for(o in t)a[G(o)]=t[o];return a},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,o=e[this.expando];if(void 0!==o){if(void 0!==t){r=(t=Array.isArray(t)?t.map(G):(t=G(t))in o?[t]:t.match(J)||[]).length;for(;r--;)delete o[t[r]]}void 0!==t&&!C.isEmptyObject(o)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var f=new pt,c=new pt,ut=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,gt=/[A-Z]/g;function mt(e,t,r){var o,a;if(void 0===r&&1===e.nodeType)if(o="data-"+t.replace(gt,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(o))){try{r="true"===(a=r)||"false"!==a&&("null"===a?null:a===+a+""?+a:ut.test(a)?JSON.parse(a):a)}catch(e){}c.set(e,t,r)}else r=void 0;return r}C.extend({hasData:function(e){return c.hasData(e)||f.hasData(e)},data:function(e,t,r){return c.access(e,t,r)},removeData:function(e,t){c.remove(e,t)},_data:function(e,t,r){return f.access(e,t,r)},_removeData:function(e,t){f.remove(e,t)}}),C.fn.extend({data:function(r,e){var t,o,a,i=this[0],n=i&&i.attributes;if(void 0!==r)return"object"==typeof r?this.each(function(){c.set(this,r)}):d(this,function(e){var t;if(i&&void 0===e)return void 0!==(t=c.get(i,r))||void 0!==(t=mt(i,r))?t:void 0;this.each(function(){c.set(this,r,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(a=c.get(i),1===i.nodeType)&&!f.get(i,"hasDataAttrs")){for(t=n.length;t--;)n[t]&&0===(o=n[t].name).indexOf("data-")&&(o=G(o.slice(5)),mt(i,o,a[o]));f.set(i,"hasDataAttrs",!0)}return a},removeData:function(e){return this.each(function(){c.remove(this,e)})}}),C.extend({queue:function(e,t,r){var o;if(e)return o=f.get(e,t=(t||"fx")+"queue"),r&&(!o||Array.isArray(r)?o=f.access(e,t,C.makeArray(r)):o.push(r)),o||[]},dequeue:function(e,t){t=t||"fx";var r=C.queue(e,t),o=r.length,a=r.shift(),i=C._queueHooks(e,t);"inprogress"===a&&(a=r.shift(),o--),a&&("fx"===t&&r.unshift("inprogress"),delete i.stop,a.call(e,function(){C.dequeue(e,t)},i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return f.get(e,r)||f.access(e,r,{empty:C.Callbacks("once memory").add(function(){f.remove(e,[t+"queue",r])})})}}),C.fn.extend({queue:function(t,r){var e=2;return"string"!=typeof t&&(r=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===r?this:this.each(function(){var e=C.queue(this,t,r);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function r(){--a||i.resolveWith(n,[n])}var o,a=1,i=C.Deferred(),n=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(o=f.get(n[s],e+"queueHooks"))&&o.empty&&(a++,o.empty.add(r));return r(),i.promise(t)}});function ht(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&St(e)&&"none"===C.css(e,"display")}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_t=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),ft=["Top","Right","Bottom","Left"],yt=b.documentElement,St=function(e){return C.contains(e.ownerDocument,e)},Pt={composed:!0};yt.getRootNode&&(St=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(Pt)===e.ownerDocument});function vt(e,t,r,o){var a,i,n=20,s=o?function(){return o.cur()}:function(){return C.css(e,t,"")},l=s(),c=r&&r[3]||(C.cssNumber[t]?"":"px"),d=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+l)&&_t.exec(C.css(e,t));if(d&&d[3]!==c){for(c=c||d[3],d=+(l/=2)||1;n--;)C.style(e,t,d+c),(1-i)*(1-(i=s()/l||.5))<=0&&(n=0),d/=i;C.style(e,t,(d*=2)+c),r=r||[]}return r&&(d=+d||+l||0,a=r[1]?d+(r[1]+1)*r[2]:+r[2],o)&&(o.unit=c,o.start=d,o.end=a),a}var bt={};function Ct(e,t){for(var r,o,a,i,n,s=[],l=0,c=e.length;l<c;l++)(o=e[l]).style&&(r=o.style.display,t?("none"===r&&(s[l]=f.get(o,"display")||null,s[l]||(o.style.display="")),""===o.style.display&&ht(o)&&(s[l]=(n=i=void 0,i=(a=o).ownerDocument,(n=bt[a=a.nodeName])||(i=i.body.appendChild(i.createElement(a)),n=C.css(i,"display"),i.parentNode.removeChild(i),bt[a]=n="none"===n?"block":n),n))):"none"!==r&&(s[l]="none",f.set(o,"display",r)));for(l=0;l<c;l++)null!=s[l]&&(e[l].style.display=s[l]);return e}C.fn.extend({show:function(){return Ct(this,!0)},hide:function(){return Ct(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ht(this)?C(this).show():C(this).hide()})}});var wt=/^(?:checkbox|radio)$/i,kt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,xt=/^$|^module$|\/(?:java|ecma)script/i,m=(i=b.createDocumentFragment().appendChild(b.createElement("div")),(n=b.createElement("input")).setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),i.appendChild(n),h.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,i.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!i.cloneNode(!0).lastChild.defaultValue,i.innerHTML="<option></option>",h.option=!!i.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function _(e,t){var r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&P(e,t)?C.merge([e],r):r}function Tt(e,t){for(var r=0,o=e.length;r<o;r++)f.set(e[r],"globalEval",!t||f.get(t[r],"globalEval"))}m.tbody=m.tfoot=m.colgroup=m.caption=m.thead,m.th=m.td,h.option||(m.optgroup=m.option=[1,"<select multiple='multiple'>","</select>"]);var At=/<|&#?\w+;/;function $t(e,t,r,o,a){for(var i,n,s,l,c,d=t.createDocumentFragment(),p=[],u=0,g=e.length;u<g;u++)if((i=e[u])||0===i)if("object"===W(i))C.merge(p,i.nodeType?[i]:i);else if(At.test(i)){for(n=n||d.appendChild(t.createElement("div")),s=(kt.exec(i)||["",""])[1].toLowerCase(),s=m[s]||m._default,n.innerHTML=s[1]+C.htmlPrefilter(i)+s[2],c=s[0];c--;)n=n.lastChild;C.merge(p,n.childNodes),(n=d.firstChild).textContent=""}else p.push(t.createTextNode(i));for(d.textContent="",u=0;i=p[u++];)if(o&&-1<C.inArray(i,o))a&&a.push(i);else if(l=St(i),n=_(d.appendChild(i),"script"),l&&Tt(n),r)for(c=0;i=n[c++];)xt.test(i.type||"")&&r.push(i);return d}var Lt=/^([^.]*)(?:\.(.+)|)/;function Jt(){return!0}function Gt(){return!1}function Et(e,t,r,o,a,i){var n,s;if("object"==typeof t){for(s in"string"!=typeof r&&(o=o||r,r=void 0),t)Et(e,s,r,o,t[s],i);return e}if(null==o&&null==a?(a=r,o=r=void 0):null==a&&("string"==typeof r?(a=o,o=void 0):(a=o,o=r,r=void 0)),!1===a)a=Gt;else if(!a)return e;return 1===i&&(n=a,(a=function(e){return C().off(e),n.apply(this,arguments)}).guid=n.guid||(n.guid=C.guid++)),e.each(function(){C.event.add(this,t,a,o,r)})}function Mt(e,o,t){t?(f.set(e,o,!1),C.event.add(e,o,{namespace:!1,handler:function(e){var t,r=f.get(this,o);if(1&e.isTrigger&&this[o]){if(r)(C.event.special[o]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),f.set(this,o,r),this[o](),t=f.get(this,o),f.set(this,o,!1),r!==t)return e.stopImmediatePropagation(),e.preventDefault(),t}else r&&(f.set(this,o,C.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Jt)}})):void 0===f.get(e,o)&&C.event.add(e,o,Jt)}C.event={global:{},add:function(t,e,r,o,a){var i,n,s,l,c,d,p,u,g,m=f.get(t);if(dt(t))for(r.handler&&(r=(i=r).handler,a=i.selector),a&&C.find.matchesSelector(yt,a),r.guid||(r.guid=C.guid++),s=(s=m.events)||(m.events=Object.create(null)),n=(n=m.handle)||(m.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(J)||[""]).length;l--;)p=g=(u=Lt.exec(e[l])||[])[1],u=(u[2]||"").split(".").sort(),p&&(c=C.event.special[p]||{},p=(a?c.delegateType:c.bindType)||p,c=C.event.special[p]||{},g=C.extend({type:p,origType:g,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&C.expr.match.needsContext.test(a),namespace:u.join(".")},i),(d=s[p])||((d=s[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,o,u,n))||t.addEventListener&&t.addEventListener(p,n),c.add&&(c.add.call(t,g),g.handler.guid||(g.handler.guid=r.guid)),a?d.splice(d.delegateCount++,0,g):d.push(g),C.event.global[p]=!0)},remove:function(e,t,r,o,a){var i,n,s,l,c,d,p,u,g,m,h,_=f.hasData(e)&&f.get(e);if(_&&(l=_.events)){for(c=(t=(t||"").match(J)||[""]).length;c--;)if(g=h=(s=Lt.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),g){for(p=C.event.special[g]||{},u=l[g=(o?p.delegateType:p.bindType)||g]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),n=i=u.length;i--;)d=u[i],!a&&h!==d.origType||r&&r.guid!==d.guid||s&&!s.test(d.namespace)||o&&o!==d.selector&&("**"!==o||!d.selector)||(u.splice(i,1),d.selector&&u.delegateCount--,p.remove&&p.remove.call(e,d));n&&!u.length&&(p.teardown&&!1!==p.teardown.call(e,m,_.handle)||C.removeEvent(e,g,_.handle),delete l[g])}else for(g in l)C.event.remove(e,g+t[c],r,o,!0);C.isEmptyObject(l)&&f.remove(e,"handle events")}},dispatch:function(e){var t,r,o,a,i,n=new Array(arguments.length),s=C.event.fix(e),e=(f.get(this,"events")||Object.create(null))[s.type]||[],l=C.event.special[s.type]||{};for(n[0]=s,t=1;t<arguments.length;t++)n[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(i=C.event.handlers.call(this,s,e),t=0;(o=i[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,r=0;(a=o.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==a.namespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(a=((C.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,n))&&!1===(s.result=a)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var r,o,a,i,n,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],n={},r=0;r<l;r++)void 0===n[a=(o=t[r]).selector+" "]&&(n[a]=o.needsContext?-1<C(a,this).index(c):C.find(a,this,null,[c]).length),n[a]&&i.push(o);i.length&&s.push({elem:c,handlers:i})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return wt.test(e.type)&&e.click&&P(e,"input")&&Mt(e,"click",!0),!1},trigger:function(e){e=this||e;return wt.test(e.type)&&e.click&&P(e,"input")&&Mt(e,"click"),!0},_default:function(e){e=e.target;return wt.test(e.type)&&e.click&&P(e,"input")&&f.get(e,"click")||P(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Jt:Gt,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Gt,isPropagationStopped:Gt,isImmediatePropagationStopped:Gt,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Jt,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Jt,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Jt,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(o,a){function i(e){var t,r;b.documentMode?(t=f.get(this,"handle"),(r=C.event.fix(e)).type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,t(e),r.target===r.currentTarget&&t(r)):C.event.simulate(a,e.target,C.event.fix(e))}C.event.special[o]={setup:function(){var e;if(Mt(this,o,!0),!b.documentMode)return!1;(e=f.get(this,a))||this.addEventListener(a,i),f.set(this,a,(e||0)+1)},trigger:function(){return Mt(this,o),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=f.get(this,a)-1)?f.set(this,a,e):(this.removeEventListener(a,i),f.remove(this,a))},_default:function(e){return f.get(e.target,o)},delegateType:a},C.event.special[a]={setup:function(){var e=this.ownerDocument||this.document||this,t=b.documentMode?this:e,r=f.get(t,a);r||(b.documentMode?this.addEventListener(a,i):e.addEventListener(o,i,!0)),f.set(t,a,(r||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=b.documentMode?this:e,r=f.get(t,a)-1;r?f.set(t,a,r):(b.documentMode?this.removeEventListener(a,i):e.removeEventListener(o,i,!0),f.remove(t,a))}}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,a){C.event.special[e]={delegateType:a,bindType:a,handle:function(e){var t,r=e.relatedTarget,o=e.handleObj;return r&&(r===this||C.contains(this,r))||(e.type=o.origType,t=o.handler.apply(this,arguments),e.type=a),t}}}),C.fn.extend({on:function(e,t,r,o){return Et(this,e,t,r,o)},one:function(e,t,r,o){return Et(this,e,t,r,o,1)},off:function(e,t,r){var o,a;if(e&&e.preventDefault&&e.handleObj)o=e.handleObj,C(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=Gt),this.each(function(){C.event.remove(this,e,r,t)});for(a in e)this.off(a,t,e[a])}return this}});var It=/<script|<style|<link/i,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ft(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Ot(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ht(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Rt(e,t){var r,o,a,i;if(1===t.nodeType){if(f.hasData(e)&&(i=f.get(e).events))for(a in f.remove(t,"handle events"),i)for(r=0,o=i[a].length;r<o;r++)C.event.add(t,a,i[a][r]);c.hasData(e)&&(e=c.access(e),e=C.extend({},e),c.set(t,e))}}function Nt(r,o,a,i){o=O(o);var e,t,n,s,l,c,d=0,p=r.length,u=p-1,g=o[0],m=y(g);if(m||1<p&&"string"==typeof g&&!h.checkClone&&Xt.test(g))return r.each(function(e){var t=r.eq(e);m&&(o[0]=g.call(this,e,t.html())),Nt(t,o,a,i)});if(p&&(t=(e=$t(o,r[0].ownerDocument,!1,r,i)).firstChild,1===e.childNodes.length&&(e=t),t||i)){for(s=(n=C.map(_(e,"script"),Ot)).length;d<p;d++)l=e,d!==u&&(l=C.clone(l,!0,!0),s)&&C.merge(n,_(l,"script")),a.call(r[d],l,d);if(s)for(c=n[n.length-1].ownerDocument,C.map(n,Ht),d=0;d<s;d++)l=n[d],xt.test(l.type||"")&&!f.access(l,"globalEval")&&C.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):j(l.textContent.replace(Dt,""),l,c))}return r}function Bt(e,t,r){for(var o,a=t?C.filter(t,e):e,i=0;null!=(o=a[i]);i++)r||1!==o.nodeType||C.cleanData(_(o)),o.parentNode&&(r&&St(o)&&Tt(_(o,"script")),o.parentNode.removeChild(o));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var o,a,i,n,s,l,c,d=e.cloneNode(!0),p=St(e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(n=_(d),o=0,a=(i=_(e)).length;o<a;o++)s=i[o],l=n[o],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&wt.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(r)for(i=i||_(e),n=n||_(d),o=0,a=i.length;o<a;o++)Rt(i[o],n[o]);else Rt(e,d);return 0<(n=_(d,"script")).length&&Tt(n,!p&&_(e,"script")),d},cleanData:function(e){for(var t,r,o,a=C.event.special,i=0;void 0!==(r=e[i]);i++)if(dt(r)){if(t=r[f.expando]){if(t.events)for(o in t.events)a[o]?C.event.remove(r,o):C.removeEvent(r,o,t.handle);r[f.expando]=void 0}r[c.expando]&&(r[c.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Bt(this,e,!0)},remove:function(e){return Bt(this,e)},text:function(e){return d(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Nt(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ft(this,e).appendChild(e)})},prepend:function(){return Nt(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Ft(this,e)).insertBefore(e,t.firstChild)})},before:function(){return Nt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Nt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(_(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return d(this,function(e){var t=this[0]||{},r=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!It.test(e)&&!m[(kt.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;r<o;r++)1===(t=this[r]||{}).nodeType&&(C.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var r=[];return Nt(this,arguments,function(e){var t=this.parentNode;C.inArray(this,r)<0&&(C.cleanData(_(this)),t)&&t.replaceChild(e,this)},r)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,n){C.fn[e]=function(e){for(var t,r=[],o=C(e),a=o.length-1,i=0;i<=a;i++)t=i===a?this:this.clone(!0),C(o[i])[n](t),H.apply(r,t.get());return this.pushStack(r)}});function Vt(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:v).getComputedStyle(e)}function Ut(e,t,r){var o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=r.call(e),t)e.style[o]=a[o];return r}var zt,jt,Wt,qt,Zt,Kt,Yt,E,Qt=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),er=/^--/,tr=new RegExp(ft.join("|"),"i");function rr(){var e;E&&(Yt.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",E.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",yt.appendChild(Yt).appendChild(E),e=v.getComputedStyle(E),zt="1%"!==e.top,Kt=12===or(e.marginLeft),E.style.right="60%",qt=36===or(e.right),jt=36===or(e.width),E.style.position="absolute",Wt=12===or(E.offsetWidth/3),yt.removeChild(Yt),E=null)}function or(e){return Math.round(parseFloat(e))}function ar(e,t,r){var o,a=er.test(t),i=e.style;return(r=r||Vt(e))&&(o=r.getPropertyValue(t)||r[t],""!==(o=a?o&&(o.replace(ee,"$1")||void 0):o)||St(e)||(o=C.style(e,t)),!h.pixelBoxStyles())&&Qt.test(o)&&tr.test(t)&&(a=i.width,e=i.minWidth,t=i.maxWidth,i.minWidth=i.maxWidth=i.width=o,o=r.width,i.width=a,i.minWidth=e,i.maxWidth=t),void 0!==o?o+"":o}function ir(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Yt=b.createElement("div"),(E=b.createElement("div")).style&&(E.style.backgroundClip="content-box",E.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===E.style.backgroundClip,C.extend(h,{boxSizingReliable:function(){return rr(),jt},pixelBoxStyles:function(){return rr(),qt},pixelPosition:function(){return rr(),zt},reliableMarginLeft:function(){return rr(),Kt},scrollboxSize:function(){return rr(),Wt},reliableTrDimensions:function(){var e,t,r;return null==Zt&&(e=b.createElement("table"),t=b.createElement("tr"),r=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",yt.appendChild(e).appendChild(t).appendChild(r),r=v.getComputedStyle(t),Zt=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,yt.removeChild(e)),Zt}}));var nr=["Webkit","Moz","ms"],sr=b.createElement("div").style,lr={};function cr(e){var t=C.cssProps[e]||lr[e];return t||(e in sr?e:lr[e]=(e=>{for(var t=e[0].toUpperCase()+e.slice(1),r=nr.length;r--;)if((e=nr[r]+t)in sr)return e})(e)||e)}var dr=/^(none|table(?!-c[ea]).+)/,pr={position:"absolute",visibility:"hidden",display:"block"},ur={letterSpacing:"0",fontWeight:"400"};function gr(e,t,r){var o=_t.exec(t);return o?Math.max(0,o[2]-(r||0))+(o[3]||"px"):t}function mr(e,t,r,o,a,i){var n="width"===t?1:0,s=0,l=0,c=0;if(r===(o?"border":"content"))return 0;for(;n<4;n+=2)"margin"===r&&(c+=C.css(e,r+ft[n],!0,a)),o?("content"===r&&(l-=C.css(e,"padding"+ft[n],!0,a)),"margin"!==r&&(l-=C.css(e,"border"+ft[n]+"Width",!0,a))):(l+=C.css(e,"padding"+ft[n],!0,a),"padding"!==r?l+=C.css(e,"border"+ft[n]+"Width",!0,a):s+=C.css(e,"border"+ft[n]+"Width",!0,a));return!o&&0<=i&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))||0),l+c}function hr(e,t,r){var o=Vt(e),a=(!h.boxSizingReliable()||r)&&"border-box"===C.css(e,"boxSizing",!1,o),i=a,n=ar(e,t,o),s="offset"+t[0].toUpperCase()+t.slice(1);if(Qt.test(n)){if(!r)return n;n="auto"}return(!h.boxSizingReliable()&&a||!h.reliableTrDimensions()&&P(e,"tr")||"auto"===n||!parseFloat(n)&&"inline"===C.css(e,"display",!1,o))&&e.getClientRects().length&&(a="border-box"===C.css(e,"boxSizing",!1,o),i=s in e)&&(n=e[s]),(n=parseFloat(n)||0)+mr(e,t,r||(a?"border":"content"),i,o,n)+"px"}function M(e,t,r,o,a){return new M.prototype.init(e,t,r,o,a)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=ar(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,r,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,i,n,s=G(t),l=er.test(t),c=e.style;if(l||(t=cr(s)),n=C.cssHooks[t]||C.cssHooks[s],void 0===r)return n&&"get"in n&&void 0!==(a=n.get(e,!1,o))?a:c[t];"string"===(i=typeof r)&&(a=_t.exec(r))&&a[1]&&(r=vt(e,t,a),i="number"),null==r||r!=r||("number"!==i||l||(r+=a&&a[3]||(C.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),n&&"set"in n&&void 0===(r=n.set(e,r,o)))||(l?c.setProperty(t,r):c[t]=r)}},css:function(e,t,r,o){var a,i=G(t);return er.test(t)||(t=cr(i)),"normal"===(a=void 0===(a=(i=C.cssHooks[t]||C.cssHooks[i])&&"get"in i?i.get(e,!0,r):a)?ar(e,t,o):a)&&t in ur&&(a=ur[t]),(""===r||r)&&(i=parseFloat(a),!0===r||isFinite(i))?i||0:a}}),C.each(["height","width"],function(e,n){C.cssHooks[n]={get:function(e,t,r){if(t)return!dr.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?hr(e,n,r):Ut(e,pr,function(){return hr(e,n,r)})},set:function(e,t,r){var o=Vt(e),a=!h.scrollboxSize()&&"absolute"===o.position,i=(a||r)&&"border-box"===C.css(e,"boxSizing",!1,o),r=r?mr(e,n,r,i,o):0;return i&&a&&(r-=Math.ceil(e["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(o[n])-mr(e,n,"border",!1,o)-.5)),r&&(i=_t.exec(t))&&"px"!==(i[3]||"px")&&(e.style[n]=t,t=C.css(e,n)),gr(0,t,r)}}}),C.cssHooks.marginLeft=ir(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(ar(e,"marginLeft"))||e.getBoundingClientRect().left-Ut(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(a,i){C.cssHooks[a+i]={expand:function(e){for(var t=0,r={},o="string"==typeof e?e.split(" "):[e];t<4;t++)r[a+ft[t]+i]=o[t]||o[t-2]||o[0];return r}},"margin"!==a&&(C.cssHooks[a+i].set=gr)}),C.fn.extend({css:function(e,t){return d(this,function(e,t,r){var o,a,i={},n=0;if(Array.isArray(t)){for(o=Vt(e),a=t.length;n<a;n++)i[t[n]]=C.css(e,t[n],!1,o);return i}return void 0!==r?C.style(e,t,r):C.css(e,t)},e,t,1<arguments.length)}}),((C.Tween=M).prototype={constructor:M,init:function(e,t,r,o,a,i){this.elem=e,this.prop=r,this.easing=a||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(C.cssNumber[r]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return(e&&e.get?e:M.propHooks._default).get(this)},run:function(e){var t,r=M.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(r&&r.set?r:M.propHooks._default).set(this),this}}).init.prototype=M.prototype,(M.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=C.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[cr(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=M.prototype.init,C.fx.step={};var _r,fr,yr=/^(?:toggle|show|hide)$/,Sr=/queueHooks$/;function Pr(){fr&&(!1===b.hidden&&v.requestAnimationFrame?v.requestAnimationFrame(Pr):v.setTimeout(Pr,C.fx.interval),C.fx.tick())}function vr(){return v.setTimeout(function(){_r=void 0}),_r=Date.now()}function br(e,t){var r,o=0,a={height:e};for(t=t?1:0;o<4;o+=2-t)a["margin"+(r=ft[o])]=a["padding"+r]=e;return t&&(a.opacity=a.width=e),a}function Cr(e,t,r){for(var o,a=(I.tweeners[t]||[]).concat(I.tweeners["*"]),i=0,n=a.length;i<n;i++)if(o=a[i].call(r,t,e))return o}function I(a,e,t){var r,i,o,n,s,l,c,d=0,p=I.prefilters.length,u=C.Deferred().always(function(){delete g.elem}),g=function(){if(!i){for(var e=_r||vr(),e=Math.max(0,m.startTime+m.duration-e),t=1-(e/m.duration||0),r=0,o=m.tweens.length;r<o;r++)m.tweens[r].run(t);if(u.notifyWith(a,[m,t,e]),t<1&&o)return e;o||u.notifyWith(a,[m,1,0]),u.resolveWith(a,[m])}return!1},m=u.promise({elem:a,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:_r||vr(),duration:t.duration,tweens:[],createTween:function(e,t){t=C.Tween(a,m.opts,e,t,m.opts.specialEasing[e]||m.opts.easing);return m.tweens.push(t),t},stop:function(e){var t=0,r=e?m.tweens.length:0;if(!i){for(i=!0;t<r;t++)m.tweens[t].run(1);e?(u.notifyWith(a,[m,1,0]),u.resolveWith(a,[m,e])):u.rejectWith(a,[m,e])}return this}}),h=m.props,_=h,f=m.opts.specialEasing;for(o in _)if(s=f[n=G(o)],l=_[o],Array.isArray(l)&&(s=l[1],l=_[o]=l[0]),o!==n&&(_[n]=l,delete _[o]),(c=C.cssHooks[n])&&"expand"in c)for(o in l=c.expand(l),delete _[n],l)o in _||(_[o]=l[o],f[o]=s);else f[n]=s;for(;d<p;d++)if(r=I.prefilters[d].call(m,a,h,m.opts))return y(r.stop)&&(C._queueHooks(m.elem,m.opts.queue).stop=r.stop.bind(r)),r;return C.map(h,Cr,m),y(m.opts.start)&&m.opts.start.call(a,m),m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always),C.fx.timer(C.extend(g,{elem:a,anim:m,queue:m.opts.queue})),m}C.Animation=C.extend(I,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return vt(r.elem,e,_t.exec(t),r),r}]},tweener:function(e,t){for(var r,o=0,a=(e=y(e)?(t=e,["*"]):e.match(J)).length;o<a;o++)r=e[o],I.tweeners[r]=I.tweeners[r]||[],I.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var o,a,i,n,s,l,c,d="width"in t||"height"in t,p=this,u={},g=e.style,m=e.nodeType&&ht(e),h=f.get(e,"fxshow");for(o in r.queue||(null==(n=C._queueHooks(e,"fx")).unqueued&&(n.unqueued=0,s=n.empty.fire,n.empty.fire=function(){n.unqueued||s()}),n.unqueued++,p.always(function(){p.always(function(){n.unqueued--,C.queue(e,"fx").length||n.empty.fire()})})),t)if(a=t[o],yr.test(a)){if(delete t[o],i=i||"toggle"===a,a===(m?"hide":"show")){if("show"!==a||!h||void 0===h[o])continue;m=!0}u[o]=h&&h[o]||C.style(e,o)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(u))for(o in d&&1===e.nodeType&&(r.overflow=[g.overflow,g.overflowX,g.overflowY],null==(c=h&&h.display)&&(c=f.get(e,"display")),"none"===(d=C.css(e,"display"))&&(c?d=c:(Ct([e],!0),c=e.style.display||c,d=C.css(e,"display"),Ct([e]))),"inline"===d||"inline-block"===d&&null!=c)&&"none"===C.css(e,"float")&&(l||(p.done(function(){g.display=c}),null==c&&(d=g.display,c="none"===d?"":d)),g.display="inline-block"),r.overflow&&(g.overflow="hidden",p.always(function(){g.overflow=r.overflow[0],g.overflowX=r.overflow[1],g.overflowY=r.overflow[2]})),l=!1,u)l||(h?"hidden"in h&&(m=h.hidden):h=f.access(e,"fxshow",{display:c}),i&&(h.hidden=!m),m&&Ct([e],!0),p.done(function(){for(o in m||Ct([e]),f.remove(e,"fxshow"),u)C.style(e,o,u[o])})),l=Cr(m?h[o]:0,o,p),o in h||(h[o]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?I.prefilters.unshift(e):I.prefilters.push(e)}}),C.speed=function(e,t,r){var o=e&&"object"==typeof e?C.extend({},e):{complete:r||!r&&t||y(e)&&e,duration:e,easing:r&&t||t&&!y(t)&&t};return C.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in C.fx.speeds?o.duration=C.fx.speeds[o.duration]:o.duration=C.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){y(o.old)&&o.old.call(this),o.queue&&C.dequeue(this,o.queue)},o},C.fn.extend({fadeTo:function(e,t,r,o){return this.filter(ht).css("opacity",0).show().end().animate({opacity:t},e,r,o)},animate:function(t,e,r,o){function a(){var e=I(this,C.extend({},t),n);(i||f.get(this,"finish"))&&e.stop(!0)}var i=C.isEmptyObject(t),n=C.speed(e,r,o);return a.finish=a,i||!1===n.queue?this.each(a):this.queue(n.queue,a)},stop:function(a,e,i){function n(e){var t=e.stop;delete e.stop,t(i)}return"string"!=typeof a&&(i=e,e=a,a=void 0),e&&this.queue(a||"fx",[]),this.each(function(){var e=!0,t=null!=a&&a+"queueHooks",r=C.timers,o=f.get(this);if(t)o[t]&&o[t].stop&&n(o[t]);else for(t in o)o[t]&&o[t].stop&&Sr.test(t)&&n(o[t]);for(t=r.length;t--;)r[t].elem!==this||null!=a&&r[t].queue!==a||(r[t].anim.stop(i),e=!1,r.splice(t,1));!e&&i||C.dequeue(this,a)})},finish:function(n){return!1!==n&&(n=n||"fx"),this.each(function(){var e,t=f.get(this),r=t[n+"queue"],o=t[n+"queueHooks"],a=C.timers,i=r?r.length:0;for(t.finish=!0,C.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===n&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<i;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,o){var a=C.fn[o];C.fn[o]=function(e,t,r){return null==e||"boolean"==typeof e?a.apply(this,arguments):this.animate(br(o,!0),e,t,r)}}),C.each({slideDown:br("show"),slideUp:br("hide"),slideToggle:br("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,o){C.fn[e]=function(e,t,r){return this.animate(o,e,t,r)}}),C.timers=[],C.fx.tick=function(){var e,t=0,r=C.timers;for(_r=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||C.fx.stop(),_r=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){fr||(fr=!0,Pr())},C.fx.stop=function(){fr=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(o,e){return o=C.fx&&C.fx.speeds[o]||o,this.queue(e=e||"fx",function(e,t){var r=v.setTimeout(e,o);t.stop=function(){v.clearTimeout(r)}})},n=b.createElement("input"),i=b.createElement("select").appendChild(b.createElement("option")),n.type="checkbox",h.checkOn=""!==n.value,h.optSelected=i.selected,(n=b.createElement("input")).value="t",n.type="radio",h.radioValue="t"===n.value;var wr,kr=C.expr.attrHandle,xr=(C.fn.extend({attr:function(e,t){return d(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,r){var o,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?C.prop(e,t,r):(1===i&&C.isXMLDoc(e)||(a=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?wr:void 0)),void 0!==r?null===r?void C.removeAttr(e,t):a&&"set"in a&&void 0!==(o=a.set(e,r,t))?o:(e.setAttribute(t,r+""),r):!(a&&"get"in a&&null!==(o=a.get(e,t)))&&null==(o=C.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){var r;if(!h.radioValue&&"radio"===t&&P(e,"input"))return r=e.value,e.setAttribute("type",t),r&&(e.value=r),t}}},removeAttr:function(e,t){var r,o=0,a=t&&t.match(J);if(a&&1===e.nodeType)for(;r=a[o++];)e.removeAttribute(r)}}),wr={set:function(e,t,r){return!1===t?C.removeAttr(e,r):e.setAttribute(r,r),r}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var n=kr[t]||C.find.attr;kr[t]=function(e,t,r){var o,a,i=t.toLowerCase();return r||(a=kr[i],kr[i]=o,o=null!=n(e,t,r)?i:null,kr[i]=a),o}}),/^(?:input|select|textarea|button)$/i),Tr=/^(?:a|area)$/i;function Ar(e){return(e.match(J)||[]).join(" ")}function $r(e){return e.getAttribute&&e.getAttribute("class")||""}function Lr(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(J)||[]}C.fn.extend({prop:function(e,t){return d(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,r){var o,a,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&C.isXMLDoc(e)||(t=C.propFix[t]||t,a=C.propHooks[t]),void 0!==r?a&&"set"in a&&void 0!==(o=a.set(e,r,t))?o:e[t]=r:a&&"get"in a&&null!==(o=a.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):xr.test(e.nodeName)||Tr.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),h.optSelected||(C.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,r,o,a,i,n;return y(t)?this.each(function(e){C(this).addClass(t.call(this,e,$r(this)))}):(e=Lr(t)).length?this.each(function(){if(o=$r(this),r=1===this.nodeType&&" "+Ar(o)+" "){for(i=0;i<e.length;i++)a=e[i],r.indexOf(" "+a+" ")<0&&(r+=a+" ");n=Ar(r),o!==n&&this.setAttribute("class",n)}}):this},removeClass:function(t){var e,r,o,a,i,n;return y(t)?this.each(function(e){C(this).removeClass(t.call(this,e,$r(this)))}):arguments.length?(e=Lr(t)).length?this.each(function(){if(o=$r(this),r=1===this.nodeType&&" "+Ar(o)+" "){for(i=0;i<e.length;i++)for(a=e[i];-1<r.indexOf(" "+a+" ");)r=r.replace(" "+a+" "," ");n=Ar(r),o!==n&&this.setAttribute("class",n)}}):this:this.attr("class","")},toggleClass:function(t,r){var e,o,a,i,n=typeof t,s="string"==n||Array.isArray(t);return y(t)?this.each(function(e){C(this).toggleClass(t.call(this,e,$r(this),r),r)}):"boolean"==typeof r&&s?r?this.addClass(t):this.removeClass(t):(e=Lr(t),this.each(function(){if(s)for(i=C(this),a=0;a<e.length;a++)o=e[a],i.hasClass(o)?i.removeClass(o):i.addClass(o);else void 0!==t&&"boolean"!=n||((o=$r(this))&&f.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",!o&&!1!==t&&f.get(this,"__className__")||""))}))},hasClass:function(e){for(var t,r=0,o=" "+e+" ";t=this[r++];)if(1===t.nodeType&&-1<(" "+Ar($r(t))+" ").indexOf(o))return!0;return!1}});function Jr(e){e.stopPropagation()}var Gr=/\r/g,Er=(C.fn.extend({val:function(t){var r,e,o,a=this[0];return arguments.length?(o=y(t),this.each(function(e){1!==this.nodeType||(null==(e=o?t.call(this,e,C(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=C.map(e,function(e){return null==e?"":e+""})),(r=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,e,"value"))||(this.value=e)})):a?(r=C.valHooks[a.type]||C.valHooks[a.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(a,"value"))?e:"string"==typeof(e=a.value)?e.replace(Gr,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:Ar(C.text(e))}},select:{get:function(e){for(var t,r=e.options,o=e.selectedIndex,a="select-one"===e.type,i=a?null:[],n=a?o+1:r.length,s=o<0?n:a?o:0;s<n;s++)if(((t=r[s]).selected||s===o)&&!t.disabled&&(!t.parentNode.disabled||!P(t.parentNode,"optgroup"))){if(t=C(t).val(),a)return t;i.push(t)}return i},set:function(e,t){for(var r,o,a=e.options,i=C.makeArray(t),n=a.length;n--;)((o=a[n]).selected=-1<C.inArray(C.valHooks.option.get(o),i))&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},h.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.location),Mr={guid:Date.now()},Ir=/\?/,Xr=(C.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{t=(new v.DOMParser).parseFromString(e,"text/xml")}catch(e){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||C.error("Invalid XML: "+(r?C.map(r.childNodes,function(e){return e.textContent}).join("\n"):e)),t},/^(?:focusinfocus|focusoutblur)$/),Dr=(C.extend(C.event,{trigger:function(e,t,r,o){var a,i,n,s,l,c,d,p=[r||b],u=B.call(e,"type")?e.type:e,g=B.call(e,"namespace")?e.namespace.split("."):[],m=d=i=r=r||b;if(3!==r.nodeType&&8!==r.nodeType&&!Xr.test(u+C.event.triggered)&&(-1<u.indexOf(".")&&(u=(g=u.split(".")).shift(),g.sort()),s=u.indexOf(":")<0&&"on"+u,(e=e[C.expando]?e:new C.Event(u,"object"==typeof e&&e)).isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[u]||{},o||!c.trigger||!1!==c.trigger.apply(r,t))){if(!o&&!c.noBubble&&!D(r)){for(n=c.delegateType||u,Xr.test(n+u)||(m=m.parentNode);m;m=m.parentNode)p.push(m),i=m;i===(r.ownerDocument||b)&&p.push(i.defaultView||i.parentWindow||v)}for(a=0;(m=p[a++])&&!e.isPropagationStopped();)d=m,e.type=1<a?n:c.bindType||u,(l=(f.get(m,"events")||Object.create(null))[e.type]&&f.get(m,"handle"))&&l.apply(m,t),(l=s&&m[s])&&l.apply&&dt(m)&&(e.result=l.apply(m,t),!1===e.result)&&e.preventDefault();return e.type=u,o||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!dt(r)||s&&y(r[u])&&!D(r)&&((i=r[s])&&(r[s]=null),C.event.triggered=u,e.isPropagationStopped()&&d.addEventListener(u,Jr),r[u](),e.isPropagationStopped()&&d.removeEventListener(u,Jr),C.event.triggered=void 0,i)&&(r[s]=i),e.result}},simulate:function(e,t,r){r=C.extend(new C.Event,r,{type:e,isSimulated:!0});C.event.trigger(r,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return C.event.trigger(e,t,r,!0)}}),/\[\]$/),Fr=/\r?\n/g,Or=/^(?:submit|button|image|reset|file)$/i,Hr=/^(?:input|select|textarea|keygen)/i;C.param=function(e,t){function r(e,t){t=y(t)?t():t,a[a.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var o,a=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){r(this.name,this.value)});else for(o in e)!function r(o,e,a,i){if(Array.isArray(e))C.each(e,function(e,t){a||Dr.test(o)?i(o,t):r(o+"["+("object"==typeof t&&null!=t?e:"")+"]",t,a,i)});else if(a||"object"!==W(e))i(o,e);else for(var t in e)r(o+"["+t+"]",e[t],a,i)}(o,e[o],t,r);return a.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Hr.test(this.nodeName)&&!Or.test(e)&&(this.checked||!wt.test(e))}).map(function(e,t){var r=C(this).val();return null==r?null:Array.isArray(r)?C.map(r,function(e){return{name:t.name,value:e.replace(Fr,"\r\n")}}):{name:t.name,value:r.replace(Fr,"\r\n")}}).get()}});var Rr=/%20/g,Nr=/#.*$/,Br=/([?&])_=[^&]*/,Vr=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ur=/^(?:GET|HEAD)$/,zr=/^\/\//,jr={},Wr={},qr="*/".concat("*"),Zr=b.createElement("a");function Kr(i){return function(e,t){"string"!=typeof e&&(t=e,e="*");var r,o=0,a=e.toLowerCase().match(J)||[];if(y(t))for(;r=a[o++];)"+"===r[0]?(r=r.slice(1)||"*",(i[r]=i[r]||[]).unshift(t)):(i[r]=i[r]||[]).push(t)}}function Yr(t,o,a,i){var n={},s=t===Wr;function l(e){var r;return n[e]=!0,C.each(t[e]||[],function(e,t){t=t(o,a,i);return"string"!=typeof t||s||n[t]?s?!(r=t):void 0:(o.dataTypes.unshift(t),l(t),!1)}),r}return l(o.dataTypes[0])||!n["*"]&&l("*")}function Qr(e,t){var r,o,a=C.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((a[r]?e:o=o||{})[r]=t[r]);return o&&C.extend(!0,e,o),e}Zr.href=Er.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Er.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Er.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Qr(Qr(e,C.ajaxSettings),t):Qr(C.ajaxSettings,e)},ajaxPrefilter:Kr(jr),ajaxTransport:Kr(Wr),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,c,d,r,p,u,g,o,m=C.ajaxSetup({},t=t||{}),h=m.context||m,_=m.context&&(h.nodeType||h.jquery)?C(h):C.event,f=C.Deferred(),y=C.Callbacks("once memory"),S=m.statusCode||{},a={},i={},n="canceled",P={readyState:0,getResponseHeader:function(e){var t;if(u){if(!r)for(r={};t=Vr.exec(d);)r[t[1].toLowerCase()+" "]=(r[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=r[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?d:null},setRequestHeader:function(e,t){return null==u&&(e=i[e.toLowerCase()]=i[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==u&&(m.mimeType=e),this},statusCode:function(e){if(e)if(u)P.always(e[P.status]);else for(var t in e)S[t]=[S[t],e[t]];return this},abort:function(e){e=e||n;return l&&l.abort(e),s(0,e),this}};if(f.promise(P),m.url=((e||m.url||Er.href)+"").replace(zr,Er.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(J)||[""],null==m.crossDomain){e=b.createElement("a");try{e.href=m.url,e.href=e.href,m.crossDomain=Zr.protocol+"//"+Zr.host!=e.protocol+"//"+e.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=C.param(m.data,m.traditional)),Yr(jr,m,t,P),!u){for(o in(g=C.event&&m.global)&&0==C.active++&&C.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ur.test(m.type),c=m.url.replace(Nr,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Rr,"+")):(e=m.url.slice(c.length),m.data&&(m.processData||"string"==typeof m.data)&&(c+=(Ir.test(c)?"&":"?")+m.data,delete m.data),!1===m.cache&&(c=c.replace(Br,"$1"),e=(Ir.test(c)?"&":"?")+"_="+Mr.guid+++e),m.url=c+e),m.ifModified&&(C.lastModified[c]&&P.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c])&&P.setRequestHeader("If-None-Match",C.etag[c]),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&P.setRequestHeader("Content-Type",m.contentType),P.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+qr+"; q=0.01":""):m.accepts["*"]),m.headers)P.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(h,P,m)||u))return P.abort();if(n="abort",y.add(m.complete),P.done(m.success),P.fail(m.error),l=Yr(Wr,m,t,P)){if(P.readyState=1,g&&_.trigger("ajaxSend",[P,m]),u)return P;m.async&&0<m.timeout&&(p=v.setTimeout(function(){P.abort("timeout")},m.timeout));try{u=!1,l.send(a,s)}catch(e){if(u)throw e;s(-1,e)}}else s(-1,"No Transport")}return P;function s(e,t,r,o){var a,i,n,s=t;u||(u=!0,p&&v.clearTimeout(p),l=void 0,d=o||"",P.readyState=0<e?4:0,o=200<=e&&e<300||304===e,r&&(n=((e,t,r)=>{for(var o,a,i,n,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in r)i=l[0];else{for(a in r){if(!l[0]||e.converters[a+" "+l[0]]){i=a;break}n=n||a}i=i||n}if(i)return i!==l[0]&&l.unshift(i),r[i]})(m,P,r)),!o&&-1<C.inArray("script",m.dataTypes)&&C.inArray("json",m.dataTypes)<0&&(m.converters["text script"]=function(){}),n=((e,t,r,o)=>{var a,i,n,s,l,c={},d=e.dataTypes.slice();if(d[1])for(n in e.converters)c[n.toLowerCase()]=e.converters[n];for(i=d.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=d.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(n=c[l+" "+i]||c["* "+i]))for(a in c)if((s=a.split(" "))[1]===i&&(n=c[l+" "+s[0]]||c["* "+s[0]])){!0===n?n=c[a]:!0!==c[a]&&(i=s[0],d.unshift(s[1]));break}if(!0!==n)if(n&&e.throws)t=n(t);else try{t=n(t)}catch(e){return{state:"parsererror",error:n?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}})(m,n,P,o),o?(m.ifModified&&((r=P.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=r),r=P.getResponseHeader("etag"))&&(C.etag[c]=r),204===e||"HEAD"===m.type?s="nocontent":304===e?s="notmodified":(s=n.state,a=n.data,o=!(i=n.error))):(i=s,!e&&s||(s="error",e<0&&(e=0))),P.status=e,P.statusText=(t||s)+"",o?f.resolveWith(h,[a,s,P]):f.rejectWith(h,[P,s,i]),P.statusCode(S),S=void 0,g&&_.trigger(o?"ajaxSuccess":"ajaxError",[P,m,o?a:i]),y.fireWith(h,[P,s]),g&&(_.trigger("ajaxComplete",[P,m]),--C.active||C.event.trigger("ajaxStop")))}},getJSON:function(e,t,r){return C.get(e,t,r,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,a){C[a]=function(e,t,r,o){return y(t)&&(o=o||r,r=t,t=void 0),C.ajax(C.extend({url:e,type:a,dataType:o,data:t,success:r},C.isPlainObject(e)&&e))}}),C.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),C._evalUrl=function(e,t,r){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,r)}})},C.fn.extend({wrapAll:function(e){return this[0]&&(y(e)&&(e=e.call(this[0])),e=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(r){return y(r)?this.each(function(e){C(this).wrapInner(r.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(r):e.append(r)})},wrap:function(t){var r=y(t);return this.each(function(e){C(this).wrapAll(r?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new v.XMLHttpRequest}catch(e){}};var eo={0:200,1223:204},to=C.ajaxSettings.xhr(),ro=(h.cors=!!to&&"withCredentials"in to,h.ajax=to=!!to,C.ajaxTransport(function(a){var i,n;if(h.cors||to&&!a.crossDomain)return{send:function(e,t){var r,o=a.xhr();if(o.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(r in a.xhrFields)o[r]=a.xhrFields[r];for(r in a.mimeType&&o.overrideMimeType&&o.overrideMimeType(a.mimeType),a.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)o.setRequestHeader(r,e[r]);i=function(e){return function(){i&&(i=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?t(0,"error"):t(o.status,o.statusText):t(eo[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=i(),n=o.onerror=o.ontimeout=i("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&v.setTimeout(function(){i&&n()})},i=i("abort");try{o.send(a.hasContent&&a.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(r){var o,a;if(r.crossDomain||r.scriptAttrs)return{send:function(e,t){o=C("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",a=function(e){o.remove(),a=null,e&&t("error"===e.type?404:200,e.type)}),b.head.appendChild(o[0])},abort:function(){a&&a()}}}),[]),oo=/(=)\?(?=&|$)|\?\?/,ao=(C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ro.pop()||C.expando+"_"+Mr.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,r){var o,a,i,n=!1!==e.jsonp&&(oo.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&oo.test(e.data)&&"data");if(n||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,n?e[n]=e[n].replace(oo,"$1"+o):!1!==e.jsonp&&(e.url+=(Ir.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return i||C.error(o+" was not called"),i[0]},e.dataTypes[0]="json",a=v[o],v[o]=function(){i=arguments},r.always(function(){void 0===a?C(v).removeProp(o):v[o]=a,e[o]&&(e.jsonpCallback=t.jsonpCallback,ro.push(o)),i&&y(a)&&a(i[0]),i=a=void 0}),"script"}),h.createHTMLDocument=((e=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===e.childNodes.length),C.parseHTML=function(e,t,r){var o;return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(h.createHTMLDocument?((o=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(o)):t=b),o=!r&&[],(r=We.exec(e))?[t.createElement(r[1])]:(r=$t([e],t,o),o&&o.length&&C(o).remove(),C.merge([],r.childNodes)))},C.fn.load=function(e,t,r){var o,a,i,n=this,s=e.indexOf(" ");return-1<s&&(o=Ar(e.slice(s)),e=e.slice(0,s)),y(t)?(r=t,t=void 0):t&&"object"==typeof t&&(a="POST"),0<n.length&&C.ajax({url:e,type:a||"GET",dataType:"html",data:t}).done(function(e){i=arguments,n.html(o?C("<div>").append(C.parseHTML(e)).find(o):e)}).always(r&&function(e,t){n.each(function(){r.apply(this,i||[e.responseText,t,e])})}),this},C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,r){var o,a,i,n,s=C.css(e,"position"),l=C(e),c={};"static"===s&&(e.style.position="relative"),i=l.offset(),o=C.css(e,"top"),n=C.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<(o+n).indexOf("auto")?(a=(s=l.position()).top,s.left):(a=parseFloat(o)||0,parseFloat(n)||0),null!=(t=y(t)?t.call(e,r,C.extend({},i)):t).top&&(c.top=t.top-i.top+a),null!=t.left&&(c.left=t.left-i.left+s),"using"in t?t.using.call(e,c):l.css(c)}},C.fn.extend({offset:function(t){var e,r;return arguments.length?void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)}):(r=this[0])?r.getClientRects().length?(e=r.getBoundingClientRect(),r=r.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,o=this[0],a={top:0,left:0};if("fixed"===C.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),r=o.ownerDocument,e=o.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((a=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),a.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-a.top-C.css(o,"marginTop",!0),left:t.left-a.left-C.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||yt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,a){var i="pageYOffset"===a;C.fn[t]=function(e){return d(this,function(e,t,r){var o;if(D(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[a]:e[t];o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):e[t]=r},t,e,arguments.length)}}),C.each(["top","left"],function(e,r){C.cssHooks[r]=ir(h.pixelPosition,function(e,t){if(t)return t=ar(e,r),Qt.test(t)?C(e).position()[r]+"px":t})}),C.each({Height:"height",Width:"width"},function(n,s){C.each({padding:"inner"+n,content:s,"":"outer"+n},function(o,i){C.fn[i]=function(e,t){var r=arguments.length&&(o||"boolean"!=typeof e),a=o||(!0===e||!0===t?"margin":"border");return d(this,function(e,t,r){var o;return D(e)?0===i.indexOf("outer")?e["inner"+n]:e.document.documentElement["client"+n]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+n],o["scroll"+n],e.body["offset"+n],o["offset"+n],o["client"+n])):void 0===r?C.css(e,t,a):C.style(e,t,r,a)},s,r?e:void 0,r)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,o){return this.on(t,e,r,o)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){C.fn[r]=function(e,t){return 0<arguments.length?this.on(r,null,e,t):this.trigger(r)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),io=(C.proxy=function(e,t){var r,o;if("string"==typeof t&&(o=e[t],t=e,e=o),y(e))return r=s.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||C.guid++,o},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=P,C.isFunction=y,C.isWindow=D,C.camelCase=G,C.type=W,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(ao,"$1")},v.jQuery),no=v.$;return C.noConflict=function(e){return v.$===C&&(v.$=no),e&&v.jQuery===C&&(v.jQuery=io),C},void 0===X&&(v.jQuery=v.$=C),C},jquery.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}})(),jquery.exports),mg$$1=getDefaultExportFromCjs(jqueryExports);function noop(){}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let src_url_equal_anchor;function src_url_equal(e,t){return e===t||((src_url_equal_anchor=src_url_equal_anchor||document.createElement("a")).href=t,e===src_url_equal_anchor.href)}function is_empty(e){return 0===Object.keys(e).length}function subscribe(e,...t){if(null==e){for(var r of t)r(void 0);return noop}let o=e.subscribe(...t);return o.unsubscribe?()=>o.unsubscribe():o}function get_store_value(e){let t;return subscribe(e,e=>t=e)(),t}function append(e,t){e.appendChild(t)}function append_styles(e,t,r){var o,e=get_root_for_style(e);e.getElementById(t)||((o=element("style")).id=t,o.textContent=r,append_stylesheet(e,o))}function get_root_for_style(e){var t;return e?(t=e.getRootNode?e.getRootNode():e.ownerDocument)&&t.host?t:e.ownerDocument:document}function append_stylesheet(e,t){return append(e.head||e,t),t.sheet}function insert(e,t,r){e.insertBefore(t,r||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function destroy_each(t,r){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(r)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,r,o){return e.addEventListener(t,r,o),()=>e.removeEventListener(t,r,o)}function prevent_default(t){return function(e){return e.preventDefault(),t.call(this,e)}}function stop_propagation(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function attr(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function set_custom_element_data(e,t,r){var o=t.toLowerCase();o in e?e[o]="boolean"==typeof e[o]&&""===r||r:t in e?e[t]="boolean"==typeof e[t]&&""===r||r:attr(e,t,r)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){e.data!==(t=""+t)&&(e.data=t)}function set_input_value(e,t){e.value=null==t?"":t}function set_style(e,t,r,o){null==r?e.style.removeProperty(t):e.style.setProperty(t,r,o?"important":"")}function toggle_class(e,t,r){e.classList.toggle(t,!!r)}function custom_event(e,t,{bubbles:r=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:o})}class HtmlTag{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){this.e||(this.is_svg?this.e=svg_element(t.nodeName):this.e=element(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(("TEMPLATE"===this.e.nodeName?this.e.content:this.e).childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)insert(this.t,this.n[e],t)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(detach)}}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(current_component)return current_component;throw new Error("Function called outside component initialization")}function onMount(e){get_current_component().$$.on_mount.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){let i=get_current_component();return(e,r,{cancelable:o=!1}={})=>{var a=i.$$.callbacks[e];if(a){let t=custom_event(e,r,{cancelable:o});return a.slice().forEach(e=>{e.call(i,t)}),!t.defaultPrevented}return!0}}function bubble(e,t){e=e.$$.callbacks[t.type];e&&e.slice().forEach(e=>e.call(this,t))}let dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve(),update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}let seen_callbacks=new Set,flushidx=0;function flush(){if(0===flushidx){var e=current_component;do{try{for(;flushidx<dirty_components.length;){var t=dirty_components[flushidx];flushidx++,set_current_component(t),update(t.$$)}}catch(e){throw dirty_components.length=0,flushidx=0,e}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){var r=render_callbacks[e];seen_callbacks.has(r)||(seen_callbacks.add(r),r())}}while(render_callbacks.length=0,dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}}function update(e){var t;null!==e.fragment&&(e.update(),run_all(e.before_update),t=e.dirty,e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback))}function flush_render_callbacks(t){let r=[],o=[];render_callbacks.forEach(e=>(-1===t.indexOf(e)?r:o).push(e)),o.forEach(e=>e()),render_callbacks=r}let outroing=new Set,outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,r,o){e&&e.o?outroing.has(e)||(outroing.add(e),outros.c.push(()=>{outroing.delete(e),o&&(r&&e.d(1),o())}),e.o(t)):o&&o()}function ensure_array_like(e){return void 0!==e?.length?e:Array.from(e)}function destroy_block(e,t){e.d(1),t.delete(e.key)}function update_keyed_each(e,r,o,t,a,i,n,s,l,c,d,p){let u=e.length,g=i.length,m=u;for(var h={};m--;)h[e[m].key]=m;var _=[],f=new Map,y=new Map,S=[];for(m=g;m--;){let e=p(a,i,m);var P=o(e);let t=n.get(P);t?S.push(()=>t.p(e,r)):(t=c(P,e)).c(),f.set(P,_[m]=t),P in h&&y.set(P,Math.abs(m-h[P]))}var v=new Set,b=new Set;function C(e){transition_in(e,1),e.m(s,d),n.set(e.key,e),d=e.first,g--}for(;u&&g;){var w=_[g-1],k=e[u-1],x=w.key,T=k.key;w===k?(d=w.first,u--,g--):f.has(T)?!n.has(x)||v.has(x)?C(w):b.has(T)?u--:y.get(x)>y.get(T)?(b.add(x),C(w)):(v.add(T),u--):(l(k,n),u--)}for(;u--;){var A=e[u];f.has(A.key)||l(A,n)}for(;g;)C(_[g-1]);return run_all(S),_}function bind(e,t,r){t=e.$$.props[t];void 0!==t&&(e.$$.bound[t]=r)(e.$$.ctx[t])}function create_component(e){e&&e.c()}function mount_component(t,e,r){var{fragment:o,after_update:a}=t.$$;o&&o.m(e,r),add_render_callback(()=>{var e=t.$$.on_mount.map(run).filter(is_function);t.$$.on_destroy?t.$$.on_destroy.push(...e):run_all(e),t.$$.on_mount=[]}),a.forEach(add_render_callback)}function destroy_component(e,t){e=e.$$;null!==e.fragment&&(flush_render_callbacks(e.after_update),run_all(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(o,e,t,r,a,i,n=null,s=[-1]){var l=current_component;set_current_component(o);let c=o.$$={fragment:null,ctx:[],props:i,update:noop,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:e.target||l.$$.root},d=(n&&n(c.root),!1);c.ctx=t?t(o,e.props||{},(e,t,...r)=>{r=r.length?r[0]:t;return c.ctx&&a(c.ctx[e],c.ctx[e]=r)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](r),d)&&make_dirty(o,e),t}):[],c.update(),d=!0,run_all(c.before_update),c.fragment=!!r&&r(c.ctx),e.target&&(e.hydrate?(i=children(e.target),c.fragment&&c.fragment.l(i),i.forEach(detach)):c.fragment&&c.fragment.c(),e.intro&&transition_in(o.$$.fragment),mount_component(o,e.target,e.anchor),flush()),set_current_component(l)}class SvelteComponent{$$=void 0;$$set=void 0;$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){if(!is_function(t))return noop;let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{var e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}let PUBLIC_VERSION="4",subscriber_queue=("undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION),[]);function writable(o,a=noop){let i,n=new Set;function s(e){if(safe_not_equal(o,e)&&(o=e,i)){var t,e=!subscriber_queue.length;for(t of n)t[1](),subscriber_queue.push(t,o);if(e){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}function l(e){s(e(o))}return{set:s,update:l,subscribe:function(e,t=noop){let r=[e,t];return n.add(r),1===n.size&&(i=a(s,l)||noop),e(o),()=>{n.delete(r),0===n.size&&i&&(i(),i=null)}}}}let rootScope={},Gm={};function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}Gm.activeView=writable(""),Gm.user=writable({}),Gm.accessToken=writable(""),Gm.organization=writable({}),Gm.tours=writable([]),Gm.appOnDomain=writable({}),Gm.loggedIn=writable(!1),Gm.appData=writable([]),Gm.allGuides=writable([]),Gm.activeAppData=writable({}),Gm.activeAppId=writable(""),Gm.allCategories=writable([]),Gm.subCategories=writable({}),Gm.breadCrumb=writable([]),Gm.breadcrumbCategories=writable([]),Gm.validatedSegments=writable({}),Gm.isSidePanelApp=writable(!1),Gm.isPageReloaded=writable(!1),Gm.guidePlayTracker=writable({}),Gm.showPlayer=writable(!1),Gm.accessibility=writable(!1),Gm.playedTour=writable([]),Gm.isMediaPlayerOn=writable(!1),Gm.pageTitle=writable(),Gm.route=writable("Home"),Gm.urlParts=writable({}),Gm.partUrl={},Gm.appList=writable([]),Gm.CurrentPage=writable("currentpage"),Gm.currentTour=writable({}),Gm.dialogBox=writable({}),Gm.showModal=writable({}),Gm.publishedTours=writable({}),Gm.CurrentPageTours=writable([]),Gm.MyGuidePageTours=writable([]),Gm.parent=writable(),Gm.categoryTours=writable([]),Gm.childCategories=writable(),Gm.isNotificationReqd=writable(!0),Gm.dShowAgain=writable(!1),Gm.wLater=writable(!1),Gm.loading=writable(!1),Gm.activeSortFilterStore=writable(),Gm.searchTours=writable([]),Gm.selectedBranch=writable(!1),Gm.selectedLang=writable("default"),Gm.lanDropDownVisible=writable(!1),Gm.isSidePanelOpen=writable(!1),Gm.miniPlayer=writable(!1),Gm.showNoTour=writable(!1),Gm.isTaskListVisible=writable(!1),Gm.isStepFrame=writable(!1),Gm.params=writable({}),Gm.routeAction=writable({}),Gm.filters=writable({}),Gm.statusBar=writable(""),Gm.labels=writable(rootScope.labels);var localforage$1={exports:{}},localforageExports=(localforage$1.exports=function o(a,i,n){function s(r,e){if(!i[r]){if(!a[r]){var t="function"==typeof commonjsRequire&&commonjsRequire;if(!e&&t)return t(r,!0);if(l)return l(r,!0);e=new Error("Cannot find module '"+r+"'");throw e.code="MODULE_NOT_FOUND",e}t=i[r]={exports:{}};a[r][0].call(t.exports,function(e){var t=a[r][1][e];return s(t||e)},t,t.exports,o,a,i,n)}return i[r].exports}for(var l="function"==typeof commonjsRequire&&commonjsRequire,e=0;e<n.length;e++)s(n[e]);return s}({1:[function(e,c,t){!function(t){var e,r,o,a,i=t.MutationObserver||t.WebKitMutationObserver,n=i?(e=0,i=new i(l),r=t.document.createTextNode(""),i.observe(r,{characterData:!0}),function(){r.data=e=++e%2}):t.setImmediate||void 0===t.MessageChannel?"document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)}:((o=new t.MessageChannel).port1.onmessage=l,function(){o.port2.postMessage(0)}),s=[];function l(){a=!0;for(var e,t,r=s.length;r;){for(t=s,s=[],e=-1;++e<r;)t[e]();r=s.length}a=!1}c.exports=function(e){1!==s.push(e)||a||n()}}.call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){var a=e(1);function l(){}var c={},i=["REJECTED"],n=["FULFILLED"],o=["PENDING"];function s(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,e!==l&&g(this,e)}function d(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function p(t,r,o){a(function(){var e;try{e=r(o)}catch(e){return c.reject(t,e)}e===t?c.reject(t,new TypeError("Cannot resolve promise with itself")):c.resolve(t,e)})}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function g(t,e){var r=!1;function o(e){r||(r=!0,c.reject(t,e))}function a(e){r||(r=!0,c.resolve(t,e))}var i=m(function(){e(a,o)});"error"===i.status&&o(i.value)}function m(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=s).prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var r;return"function"!=typeof e&&this.state===n||"function"!=typeof t&&this.state===i?this:(r=new this.constructor(l),this.state!==o?p(r,this.state===n?e:t,this.outcome):this.queue.push(new d(r,e,t)),r)},d.prototype.callFulfilled=function(e){c.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){p(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){c.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){p(this.promise,this.onRejected,e)},c.resolve=function(e,t){var r=m(u,t);if("error"===r.status)return c.reject(e,r.value);r=r.value;if(r)g(e,r);else{e.state=n,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},c.reject=function(e,t){e.state=i,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callRejected(t);return e},s.resolve=function(e){if(e instanceof this)return e;return c.resolve(new this(l),e)},s.reject=function(e){var t=new this(l);return c.reject(t,e)},s.all=function(e){var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,a=!1;if(!o)return this.resolve([]);var i=new Array(o),n=0,t=-1,s=new this(l);for(;++t<o;)((e,t)=>{r.resolve(e).then(function(e){i[t]=e,++n!==o||a||(a=!0,c.resolve(s,i))},function(e){a||(a=!0,c.reject(s,e))})})(e[t],t);return s},s.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);var a=-1,i=new this(l);for(;++a<r;)(e=>{t.resolve(e).then(function(e){o||(o=!0,c.resolve(i,e))},function(e){o||(o=!0,c.reject(i,e))})})(e[a]);return i}},{1:1}],3:[function(t,e,r){!function(e){"function"!=typeof e.Promise&&(e.Promise=t(2))}.call(this,void 0!==commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,X,D){var F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var s=(()=>{try{return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}catch(e){}})();function i(t,r){t=t||[],r=r||{};try{return new Blob(t,r)}catch(e){if("TypeError"!==e.name)throw e;for(var o=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),a=0;a<t.length;a+=1)o.append(t[a]);return o.getBlob(r.type)}}"undefined"==typeof Promise&&e(3);var g=Promise;function m(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function l(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function d(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var n="local-forage-detect-blob-support",t=void 0,p={},O=Object.prototype.toString,r="readonly",u="readwrite";function H(e){return"boolean"==typeof t?g.resolve(t):(o=e,new g(function(r){var e=o.transaction(n,u),t=i([""]);e.objectStore(n).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),r(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);r(t||!e||43<=parseInt(e[1],10))}}).catch(function(){return!1}).then(function(e){return t=e}));var o}function h(e){var e=p[e.name],r={};r.promise=new g(function(e,t){r.resolve=e,r.reject=t}),e.deferredOperations.push(r),e.dbReady?e.dbReady=e.dbReady.then(function(){return r.promise}):e.dbReady=r.promise}function _(e){e=p[e.name].deferredOperations.pop();e&&(e.resolve(),e.promise)}function f(e,t){e=p[e.name].deferredOperations.pop();if(e)return e.reject(t),e.promise}function o(a,i){return new g(function(t,r){if(p[a.name]=p[a.name]||V(),a.db){if(!i)return t(a.db);h(a),a.db.close()}var e=[a.name],o=(i&&e.push(a.version),s.open.apply(s,e));i&&(o.onupgradeneeded=function(t){var e=o.result;try{e.createObjectStore(a.storeName),t.oldVersion<=1&&e.createObjectStore(n)}catch(e){if("ConstraintError"!==e.name)throw e;console.warn('The database "'+a.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+a.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var e=o.result;e.onversionchange=function(e){e.target.close()},t(e),_(a)}})}function y(e){return o(e,!1)}function S(e){return o(e,!0)}function P(e,t){var r,o,a;return!e.db||(r=!e.db.objectStoreNames.contains(e.storeName),a=e.version<e.db.version,o=e.version>e.db.version,a&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),(o||r)&&(r&&(a=e.db.version+1,e.version<a)&&(e.version=a),1))}function R(e){return i([(e=>{for(var t=e.length,r=new ArrayBuffer(t),o=new Uint8Array(r),a=0;a<t;a++)o[a]=e.charCodeAt(a);return r})(atob(e.data))],{type:e.type})}function N(e){return e&&e.__local_forage_encoded_blob}function B(e){var t=this,r=t._initReady().then(function(){var e=p[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return l(r,e,e),r}function v(t,r,o,a){void 0===a&&(a=1);try{var e=t.db.transaction(t.storeName,r);o(null,e)}catch(e){if(0<a&&(!t.db||"InvalidStateError"===e.name||"NotFoundError"===e.name))return g.resolve().then(function(){if(!t.db||"NotFoundError"===e.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),S(t)}).then(function(){return(r=>{h(r);for(var o=p[r.name],a=o.forages,e=0;e<a.length;e++){var t=a[e];t._dbInfo.db&&(t._dbInfo.db.close(),t._dbInfo.db=null)}return r.db=null,y(r).then(function(e){return r.db=e,P(r)?S(r):e}).then(function(e){r.db=o.db=e;for(var t=0;t<a.length;t++)a[t]._dbInfo.db=e}).catch(function(e){throw f(r,e),e})})(t).then(function(){v(t,r,o,a-1)})}).catch(o);o(e)}}function V(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}e={_driver:"asyncStorage",_initStorage:function(e){var o=this,a={db:null};if(e)for(var t in e)a[t]=e[t];var i=p[a.name],r=(i||(i=V(),p[a.name]=i),i.forages.push(o),o._initReady||(o._initReady=o.ready,o.ready=B),[]);function n(){return g.resolve()}for(var s=0;s<i.forages.length;s++){var l=i.forages[s];l!==o&&r.push(l._initReady().catch(n))}var c=i.forages.slice(0);return g.all(r).then(function(){return a.db=i.db,y(a)}).then(function(e){return a.db=e,P(a,o._defaultConfig.version)?S(a):e}).then(function(e){a.db=i.db=e,o._dbInfo=a;for(var t=0;t<c.length;t++){var r=c[t];r!==o&&(r._dbInfo.db=a.db,r._dbInfo.version=a.version)}})},_support:(()=>{try{var e,t;return s&&s.open?(e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code"),(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange):!1}catch(e){return!1}})(),iterate:function(n,e){var s=this,t=new g(function(a,i){s.ready().then(function(){v(s._dbInfo,r,function(e,t){if(e)return i(e);try{var r=t.objectStore(s._dbInfo.storeName).openCursor(),o=1;r.onsuccess=function(){var e,t=r.result;t?(N(e=t.value)&&(e=R(e)),void 0!==(e=n(e,t.key,o++))?a(e):t.continue()):a()},r.onerror=function(){i(r.error)}}catch(e){i(e)}})}).catch(i)});return m(t,e),t},getItem:function(i,e){var n=this,t=(i=d(i),new g(function(o,a){n.ready().then(function(){v(n._dbInfo,r,function(e,t){if(e)return a(e);try{var r=t.objectStore(n._dbInfo.storeName).get(i);r.onsuccess=function(){var e=r.result;N(e=void 0===e?null:e)&&(e=R(e)),o(e)},r.onerror=function(){a(r.error)}}catch(e){a(e)}})}).catch(a)}));return m(t,e),t},setItem:function(s,t,e){var l=this,r=(s=d(s),new g(function(i,n){var e;l.ready().then(function(){return e=l._dbInfo,"[object Blob]"===O.call(t)?H(e.db).then(function(e){return e?t:(o=t,new g(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){e=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:e,type:o.type})},r.readAsBinaryString(o)}));var o}):t}).then(function(a){v(l._dbInfo,u,function(e,t){if(e)return n(e);try{var r=t.objectStore(l._dbInfo.storeName),o=(null===a&&(a=void 0),r.put(a,s));t.oncomplete=function(){i(a=void 0===a?null:a)},t.onabort=t.onerror=function(){var e=o.error||o.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)}));return m(r,e),r},removeItem:function(i,e){var n=this,t=(i=d(i),new g(function(o,a){n.ready().then(function(){v(n._dbInfo,u,function(e,t){if(e)return a(e);try{var r=t.objectStore(n._dbInfo.storeName).delete(i);t.oncomplete=function(){o()},t.onerror=function(){a(r.error)},t.onabort=function(){var e=r.error||r.transaction.error;a(e)}}catch(e){a(e)}})}).catch(a)}));return m(t,e),t},clear:function(e){var i=this,t=new g(function(o,a){i.ready().then(function(){v(i._dbInfo,u,function(e,t){if(e)return a(e);try{var r=t.objectStore(i._dbInfo.storeName).clear();t.oncomplete=function(){o()},t.onabort=t.onerror=function(){var e=r.error||r.transaction.error;a(e)}}catch(e){a(e)}})}).catch(a)});return m(t,e),t},length:function(e){var i=this,t=new g(function(o,a){i.ready().then(function(){v(i._dbInfo,r,function(e,t){if(e)return a(e);try{var r=t.objectStore(i._dbInfo.storeName).count();r.onsuccess=function(){o(r.result)},r.onerror=function(){a(r.error)}}catch(e){a(e)}})}).catch(a)});return m(t,e),t},key:function(s,e){var l=this,t=new g(function(i,n){s<0?i(null):l.ready().then(function(){v(l._dbInfo,r,function(e,t){if(e)return n(e);try{var r=t.objectStore(l._dbInfo.storeName),o=!1,a=r.openKeyCursor();a.onsuccess=function(){var e=a.result;e?0===s||o?i(e.key):(o=!0,e.advance(s)):i(null)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return m(t,e),t},keys:function(e){var n=this,t=new g(function(a,i){n.ready().then(function(){v(n._dbInfo,r,function(e,t){if(e)return i(e);try{var r=t.objectStore(n._dbInfo.storeName).openKeyCursor(),o=[];r.onsuccess=function(){var e=r.result;e?(o.push(e.key),e.continue()):a(o)},r.onerror=function(){i(r.error)}}catch(e){i(e)}})}).catch(i)});return m(t,e),t},dropInstance:function(n,e){e=c.apply(this,arguments);var t=this.config();return(n="function"!=typeof n&&n||{}).name||(n.name=n.name||t.name,n.storeName=n.storeName||t.storeName),m(t=n.name?(t=n.name===t.name&&this._dbInfo.db?g.resolve(this._dbInfo.db):y(n).then(function(e){var t=p[n.name],r=t.forages;t.db=e;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=e;return e}),n.storeName?t.then(function(e){if(e.objectStoreNames.contains(n.storeName)){var a=e.version+1,o=(h(n),p[n.name]),i=o.forages;e.close();for(var t=0;t<i.length;t++){var r=i[t];r._dbInfo.db=null,r._dbInfo.version=a}return new g(function(t,r){var o=s.open(n.name,a);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(n.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}).then(function(e){o.db=e;for(var t=0;t<i.length;t++){var r=i[t];r._dbInfo.db=e,_(r._dbInfo)}}).catch(function(e){throw(f(n,e)||g.resolve()).catch(function(){}),e})}}):t.then(function(e){h(n);var r=p[n.name],o=r.forages;e.close();for(var t=0;t<o.length;t++)o[t]._dbInfo.db=null;return new g(function(t,r){var o=s.deleteDatabase(n.name);o.onerror=function(){var e=o.result;e&&e.close(),r(o.error)},o.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},o.onsuccess=function(){var e=o.result;e&&e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<o.length;t++)_(o[t]._dbInfo)}).catch(function(e){throw(f(n,e)||g.resolve()).catch(function(){}),e})})):g.reject("Invalid arguments"),e),t}};var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=/^~~local_forage_type~([^~]+)~/,C="__lfsc__:",w=C.length,k="arbf",x="blob",z=w+k.length,j=Object.prototype.toString;function W(e){for(var t,r,o,a,i=.75*e.length,n=e.length,s=0,i=("="===e[e.length-1]&&(i--,"="===e[e.length-2])&&i--,new ArrayBuffer(i)),l=new Uint8Array(i),c=0;c<n;c+=4)t=b.indexOf(e[c]),r=b.indexOf(e[c+1]),o=b.indexOf(e[c+2]),a=b.indexOf(e[c+3]),l[s++]=t<<2|r>>4,l[s++]=(15&r)<<4|o>>2,l[s++]=(3&o)<<6|63&a;return i}function T(e){for(var t=new Uint8Array(e),r="",o=0;o<t.length;o+=3)r=(r=(r=(r+=b[t[o]>>2])+b[(3&t[o])<<4|t[o+1]>>4])+b[(15&t[o+1])<<2|t[o+2]>>6])+b[63&t[o+2]];return t.length%3==2?r=r.substring(0,r.length-1)+"=":t.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var A={serialize:function(t,r){var e="";if(t&&(e=j.call(t)),t&&("[object ArrayBuffer]"===e||t.buffer&&"[object ArrayBuffer]"===j.call(t.buffer))){var o,a=C;t instanceof ArrayBuffer?(o=t,a+=k):(o=t.buffer,"[object Int8Array]"===e?a+="si08":"[object Uint8Array]"===e?a+="ui08":"[object Uint8ClampedArray]"===e?a+="uic8":"[object Int16Array]"===e?a+="si16":"[object Uint16Array]"===e?a+="ur16":"[object Int32Array]"===e?a+="si32":"[object Uint32Array]"===e?a+="ui32":"[object Float32Array]"===e?a+="fl32":"[object Float64Array]"===e?a+="fl64":r(new Error("Failed to get type for BinaryArray"))),r(a+T(o))}else if("[object Blob]"===e){a=new FileReader;a.onload=function(){var e="~~local_forage_type~"+t.type+"~"+T(this.result);r(C+x+e)},a.readAsArrayBuffer(t)}else try{r(JSON.stringify(t))}catch(e){console.error("Couldn't convert value into a JSON string: ",t),r(null,e)}},deserialize:function(e){if(e.substring(0,w)!==C)return JSON.parse(e);var t,r=e.substring(z),o=e.substring(w,z),a=(o===x&&U.test(r)&&(t=(e=r.match(U))[1],r=r.substring(e[0].length)),W(r));switch(o){case k:return a;case x:return i([a],{type:t});case"si08":return new Int8Array(a);case"ui08":return new Uint8Array(a);case"uic8":return new Uint8ClampedArray(a);case"si16":return new Int16Array(a);case"ur16":return new Uint16Array(a);case"si32":return new Int32Array(a);case"ui32":return new Uint32Array(a);case"fl32":return new Float32Array(a);case"fl64":return new Float64Array(a);default:throw new Error("Unkown type: "+o)}},stringToBuffer:W,bufferToString:T};function q(e,t,r,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,o)}function $(e,o,a,i,n,s){e.executeSql(a,i,n,function(e,r){r.code===r.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[o.storeName],function(e,t){t.rows.length?s(e,r):q(e,o,function(){e.executeSql(a,i,n,s)},s)},s):s(e,r)},s)}function Z(n,e,s,l){var c=this,t=(n=d(n),new g(function(a,i){c.ready().then(function(){var r=e=void 0===e?null:e,o=c._dbInfo;o.serializer.serialize(e,function(t,e){e?i(e):o.db.transaction(function(e){$(e,o,"INSERT OR REPLACE INTO "+o.storeName+" (key, value) VALUES (?, ?)",[n,t],function(){a(r)},function(e,t){i(t)})},function(e){e.code===e.QUOTA_ERR&&(0<l?a(Z.apply(c,[n,r,s,l-1])):i(e))})})}).catch(i)}));return m(t,s),t}var a={_driver:"webSQLStorage",_initStorage:function(e){var o=this,a={db:null};if(e)for(var t in e)a[t]="string"!=typeof e[t]?e[t].toString():e[t];var r=new g(function(t,r){try{a.db=openDatabase(a.name,String(a.version),a.description,a.size)}catch(e){return r(e)}a.db.transaction(function(e){q(e,a,function(){o._dbInfo=a,t()},function(e,t){r(t)})},r)});return a.serializer=A,r},_support:"function"==typeof openDatabase,iterate:function(c,e){var t=this,r=new g(function(l,r){t.ready().then(function(){var s=t._dbInfo;s.db.transaction(function(e){$(e,s,"SELECT * FROM "+s.storeName,[],function(e,t){for(var r=t.rows,o=r.length,a=0;a<o;a++){var i=r.item(a),n=(n=i.value)&&s.serializer.deserialize(n);if(void 0!==(n=c(n,i.key,a+1)))return void l(n)}l()},function(e,t){r(t)})})}).catch(r)});return m(r,e),r},getItem:function(t,e){var i=this,r=(t=d(t),new g(function(o,a){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(e){$(e,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],function(e,t){t=(t=t.rows.length?t.rows.item(0).value:null)&&r.serializer.deserialize(t);o(t)},function(e,t){a(t)})})}).catch(a)}));return m(r,e),r},setItem:function(e,t,r){return Z.apply(this,[e,t,r,1])},removeItem:function(a,e){var i=this,t=(a=d(a),new g(function(r,o){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){$(e,t,"DELETE FROM "+t.storeName+" WHERE key = ?",[a],function(){r()},function(e,t){o(t)})})}).catch(o)}));return m(t,e),t},clear:function(e){var a=this,t=new g(function(r,o){a.ready().then(function(){var t=a._dbInfo;t.db.transaction(function(e){$(e,t,"DELETE FROM "+t.storeName,[],function(){r()},function(e,t){o(t)})})}).catch(o)});return m(t,e),t},length:function(e){var a=this,t=new g(function(r,o){a.ready().then(function(){var t=a._dbInfo;t.db.transaction(function(e){$(e,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(e,t){t=t.rows.item(0).c;r(t)},function(e,t){o(t)})})}).catch(o)});return m(t,e),t},key:function(a,e){var i=this,t=new g(function(r,o){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){$(e,t,"SELECT key FROM "+t.storeName+" WHERE id = ? LIMIT 1",[a+1],function(e,t){t=t.rows.length?t.rows.item(0).key:null;r(t)},function(e,t){o(t)})})}).catch(o)});return m(t,e),t},keys:function(e){var o=this,t=new g(function(a,r){o.ready().then(function(){var t=o._dbInfo;t.db.transaction(function(e){$(e,t,"SELECT key FROM "+t.storeName,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o).key);a(r)},function(e,t){r(t)})})}).catch(r)});return m(t,e),t},dropInstance:function(r,e){e=c.apply(this,arguments);var o=this.config(),a=((r="function"!=typeof r&&r||{}).name||(r.name=r.name||o.name,r.storeName=r.storeName||o.storeName),this),t=r.name?new g(function(e){var i,t=r.name===o.name?a._dbInfo.db:openDatabase(r.name,"","",0);r.storeName?e({db:t,storeNames:[r.storeName]}):e((i=t,new g(function(a,r){i.transaction(function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o).name);a({db:i,storeNames:r})},function(e,t){r(t)})},function(e){r(e)})})))}).then(function(n){return new g(function(a,i){n.db.transaction(function(o){for(var e=[],t=0,r=n.storeNames.length;t<r;t++)e.push((t=>new g(function(e,r){o.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(e,t){r(t)})}))(n.storeNames[t]));g.all(e).then(function(){a()}).catch(function(e){i(e)})},function(e){i(e)})})}):g.reject("Invalid arguments");return m(t,e),t}};function K(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function Y(){return!(()=>{var e="_localforage_support_test";try{localStorage.setItem(e,!0),localStorage.removeItem(e)}catch(e){return 1}})()||0<localStorage.length}function Q(e,t){for(var r,o,a=e.length,i=0;i<a;){if((r=e[i])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return 1;i++}}var ee={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=K(e,this._defaultConfig),Y()?((this._dbInfo=t).serializer=A,g.resolve()):g.reject()},_support:(()=>{try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}})(),iterate:function(l,e){var c=this,t=c.ready().then(function(){for(var e=c._dbInfo,t=e.keyPrefix,r=t.length,o=localStorage.length,a=1,i=0;i<o;i++){var n=localStorage.key(i);if(0===n.indexOf(t)){var s=(s=localStorage.getItem(n))&&e.serializer.deserialize(s);if(void 0!==(s=l(s,n.substring(r),a++)))return s}}});return m(t,e),t},getItem:function(r,e){var o=this,t=(r=d(r),o.ready().then(function(){var e=o._dbInfo,t=localStorage.getItem(e.keyPrefix+r);return t=t&&e.serializer.deserialize(t)}));return m(t,e),t},setItem:function(n,e,t){var s=this,r=(n=d(n),s.ready().then(function(){var i=e=void 0===e?null:e;return new g(function(r,o){var a=s._dbInfo;a.serializer.serialize(e,function(e,t){if(t)o(t);else try{localStorage.setItem(a.keyPrefix+n,e),r(i)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}})})}));return m(r,t),r},removeItem:function(t,e){var r=this,o=(t=d(t),r.ready().then(function(){var e=r._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return m(o,e),o},clear:function(e){var o=this,t=o.ready().then(function(){for(var e=o._dbInfo.keyPrefix,t=localStorage.length-1;0<=t;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}});return m(t,e),t},length:function(e){var t=this.keys().then(function(e){return e.length});return m(t,e),t},key:function(r,e){var o=this,t=o.ready().then(function(){var t,e=o._dbInfo;try{t=localStorage.key(r)}catch(e){t=null}return t=t&&t.substring(e.keyPrefix.length)});return m(t,e),t},keys:function(e){var i=this,t=i.ready().then(function(){for(var e=i._dbInfo,t=localStorage.length,r=[],o=0;o<t;o++){var a=localStorage.key(o);0===a.indexOf(e.keyPrefix)&&r.push(a.substring(e.keyPrefix.length))}return r});return m(t,e),t},dropInstance:function(t,e){e=c.apply(this,arguments),(t="function"!=typeof t&&t||{}).name||(o=this.config(),t.name=t.name||o.name,t.storeName=t.storeName||o.storeName);var r=this,o=t.name?new g(function(e){t.storeName?e(K(t,r._defaultConfig)):e(t.name+"/")}).then(function(e){for(var t=localStorage.length-1;0<=t;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}}):g.reject("Invalid arguments");return m(o,e),o}},te=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},L={},re={},J={INDEXEDDB:e,WEBSQL:a,LOCALSTORAGE:ee},e=[J.INDEXEDDB._driver,J.WEBSQL._driver,J.LOCALSTORAGE._driver],G=["dropInstance"],E=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(G),oe={description:"",driver:e.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];if(r)for(var o in r)r.hasOwnProperty(o)&&(te(r[o])?e[o]=r[o].slice():e[o]=r[o])}return e}function I(e){var t,r,o;if(!(this instanceof I))throw new TypeError("Cannot call a class as a function");for(t in J)J.hasOwnProperty(t)&&(o=(r=J[t])._driver,this[t]=o,L[o]||this.defineDriver(r));this._defaultConfig=M({},oe),this._config=M({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}I.prototype.config=function(e){if("object"!==(void 0===e?"undefined":F(e)))return"string"==typeof e?this._config[e]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)},I.prototype.defineDriver=function(u,e,t){var r=new g(function(t,r){try{var o=u._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(u._driver){for(var a=E.concat("_initStorage"),i=0,n=a.length;i<n;i++){var s=a[i];if((!Q(G,s)||u[s])&&"function"!=typeof u[s])return void r(e)}for(var l=0,c=G.length;l<c;l++){var d=G[l];u[d]||(u[d]=(t=>function(){var e=new Error("Method "+t+" is not implemented by the current driver"),e=g.reject(e);return m(e,arguments[arguments.length-1]),e})(d))}var p=function(e){L[o]&&console.info("Redefining LocalForage driver: "+o),L[o]=u,re[o]=e,t()};"_support"in u?u._support&&"function"==typeof u._support?u._support().then(p,r):p(!!u._support):p(!0)}else r(e)}catch(e){r(e)}});return l(r,e,t),r},I.prototype.driver=function(){return this._driver||null},I.prototype.getDriver=function(e,t,r){e=L[e]?g.resolve(L[e]):g.reject(new Error("Driver not found."));return l(e,t,r),e},I.prototype.getSerializer=function(e){var t=g.resolve(A);return l(t,e),t},I.prototype.ready=function(e){var t=this,r=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return l(r,e,e),r},I.prototype.setDriver=function(e,t,r){var i=this,o=(te(e)||(e=[e]),this._getSupportedDrivers(e));function n(){i._config.driver=i.driver()}function s(e){return i._extend(e),n(),i._ready=i._initStorage(i._config),i._ready}function a(a){return function(){var o=0;return function e(){for(;o<a.length;){var t=a[o];return o++,i._dbInfo=null,i._ready=null,i.getDriver(t).then(s).catch(e)}n();var r=new Error("No available storage method found.");return i._driverSet=g.reject(r),i._driverSet}()}}e=null!==this._driverSet?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=e.then(function(){var e=o[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then(function(e){i._driver=e._driver,n(),i._wrapLibraryMethodsWithReady(),i._initDriver=a(o)})}).catch(function(){n();var e=new Error("No available storage method found.");return i._driverSet=g.reject(e),i._driverSet}),l(this._driverSet,t,r),this._driverSet},I.prototype.supports=function(e){return!!re[e]},I.prototype._extend=function(e){M(this,e)},I.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,o=e.length;r<o;r++){var a=e[r];this.supports(a)&&t.push(a)}return t},I.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=E.length;e<t;e++)((t,r)=>{t[r]=function(){var e=arguments;return t.ready().then(function(){return t[r].apply(t,e)})}})(this,E[e])},I.prototype.createInstance=function(e){return new I(e)};a=new I;X.exports=a},{3:3}]},{},[4])(4),localforage$1.exports),localforage=getDefaultExportFromCjs(localforageExports);let storage$1={},str=(GmCXt.storageService=function(){function n(e){let t;return t=e&&GmCXt.isDefined(e)&&!isNaN(e)?Date.now()+1e3*e:Date.now()+864e6}function i(e){e={action:"mgPlayerJSProd_action:save_user_info",data:e};GmCXt.sendToParentWindow(e),GmCXt.sendMessageToBackgroundService(e)}function s(e){e={action:"mgPlayerJSProd_action:save_org",data:e};GmCXt.sendToParentWindow(e),GmCXt.sendMessageToBackgroundService(e)}let l=function(r){return new Promise(function(e,t){"user"===r?i(!1):"organization"===r&&s(!1),r=GmCXt.addStoragePrefix(r),localStorage.removeItem(r),localStorage.getItem(r+"_time")&&localStorage.removeItem(r+"_time"),e(!0)})};function e(){return new Promise(function(e,t){Object.keys(localStorage).forEach(function(e){l(e)}),i(!1),s(!1),e(!0)})}function c(o){return new Promise(function(e,t){var r=[],r=(r.push(o),{action:"mgPlayerJSProd_action:remove_lxp_storage",data:r});GmCXt.sendToParentWindow(r),GmCXt.sendMessageToBackgroundService(r),e()})}var t={};return GmCXt.isLXP()?(t.get=function(n){return new Promise(function(i,e){try{let o=[],e=(o.push(n),"id"+Math.random());var t={action:"mgPlayerJSProd_action:get_lxp_storage",data:{id:e,key:o}};let a=function(t){var r,t=GmCXt.parseMsg(t);if("mgPlayerJSProd_action:receive_lxp_storage"===(t=GmCXt.convertMgdata(t)).action&&t.data.id===e){window.removeEventListener("message",a);let e=!1;GmCXt.isEmpty(t.data)?e=!1:(t=t.data.data[o[0]])&&(r=t.expires,t=t.val,r&&void 0!==r?r<Date.now()&&(c(n),e=!1):i(!1),t)&&void 0!==t&&GmCXt.isDefined(t)&&(e=t),i(e)}};window.addEventListener("message",a),GmCXt.sendToParentWindow(t),GmCXt.sendMessageToBackgroundService(t)}catch(e){GmCXt.showCookieDisabledPopup()}})},t.save=function(o,a,i){return new Promise(function(e,t){var r={},r=(r.key=o,r.data={},r.data.expires=n(i),r.data.val=a,{action:"mgPlayerJSProd_action:set_lxp_storage",data:r});GmCXt.sendToParentWindow(r),GmCXt.sendMessageToBackgroundService(r),e()})},t.remove=c,t.reset=function(){return new Promise(function(e,t){var r={action:"mgPlayerJSProd_action:reset_lxp_storage",data:{}};GmCXt.sendToParentWindow(r),GmCXt.sendMessageToBackgroundService(r),e()})},t.getString=function(n){return new Promise(function(t,e){let r=[],o=(r.push(n),"id"+Math.random());var a={action:"mgPlayerJSProd_action:get_lxp_storage",data:{id:o,key:r}};let i=function(e){var e=GmCXt.parseMsg(e);"mgPlayerJSProd_action:receive_lxp_storage"===(e=GmCXt.convertMgdata(e)).action&&e.data.id===o&&(window.removeEventListener("message",i),e=e.data.data[r[0]],GmCXt.isEmpty(e)?t(!1):t(e))};window.addEventListener("message",i),GmCXt.sendToParentWindow(a),GmCXt.sendMessageToBackgroundService(a)})},t.saveString=function(o,a){return new Promise(function(e,t){var r={},r=(r.key=o,r.data=a,{action:"mgPlayerJSProd_action:set_lxp_storage",data:r});GmCXt.sendToParentWindow(r),GmCXt.sendMessageToBackgroundService(r),e()})}):(t.get=function(a){return new Promise(function(e,t){try{a=GmCXt.addStoragePrefix(a);var r=localStorage.getItem(a),o=localStorage.getItem(a+"_time");o&&void 0!==o?o<Date.now()&&(l(a),e(!1)):e(!1),r&&void 0!==r&&(r=GmCXt.parseJSON(r),GmCXt.isDefined(r))&&e(r),e(!1)}catch(e){GmCXt.showCookieDisabledPopup(),t(!1)}})},t.save=function(r,o,a){return new Promise(function(e,t){"user"===r?i(o):"organization"===r&&s(o),o=JSON.stringify(o),r=GmCXt.addStoragePrefix(r),localStorage.setItem(r,o),localStorage.setItem(r+"_time",n(a)),e(!0)})},t.remove=l,t.reset=e,t.getString=function(o){return new Promise(function(e,t){o=GmCXt.addStoragePrefix(o);var r=localStorage.getItem(o);e(!(!r||void 0===r)&&r)})},t.saveString=function(r,o){return new Promise(function(e,t){r=GmCXt.addStoragePrefix(r),localStorage.setItem(r,o),e(!0)})}),t},GmCXt.notifTours={get:function(){return new Promise(function(t,e){GmCXt.storage().get(["toursClosed","tourIdArray"]).then(function(e){GmCXt.log(10,"LOADED notifTours from storage",e),t(e)})})},set:function(r){return new Promise(function(e,t){GmCXt.storage().set({toursClosed:r.toursClosed,tourIdArray:r.tourIdArray}).then(function(){e()})})}},GmCXt.stepsPlayed={get:function(){return new Promise(function(t,e){GmCXt.storage().get(["stepsPlayed"]).then(function(e){t(e)})})},set:function(r){return new Promise(function(e,t){GmCXt.storage().set({stepsPlayed:r}).then(function(){e()})})}},storage$1.user={},storage$1.organization={},storage$1.activeView={},storage$1.activeTab={},storage$1.appData={},storage$1.activeAppId={},storage$1.category={},storage$1.videosInProgress={},storage$1.activeLang={},storage$1.activeOrgKeys={},storage$1.activeVoice={},storage$1.userPrefLang={},storage$1.dual_auth_token={},storage$1.storageSyncTime={},storage$1.trackerSecrets={},storage$1.tour={},storage$1.breadCrumbItems={},storage$1.breadCrumb={},storage$1.currentPage={},storage$1.activeTourId={},storage$1.edcastTermsAccepted={},storage$1.lastSsoRedirectTime={},storage$1.activeTaskTab={},storage$1.currentTour={},storage$1.testAuto={},storage$1.loginTime={},storage$1.notifTours={},storage$1.stepsPlayed={},storage$1.refreshTime={},storage$1.lastTimeStampSync={},storage$1.segmentData={},storage$1.segmentGroupData={},storage$1.edcastLogin={},storage$1.debugMode={},storage$1.allTourList={},storage$1.serverUpdates={},storage$1.activeSortFilter={},storage$1.refreshCache={},storage$1.currentStep={},storage$1.serverDeletes={},storage$1.taskList={},storage$1.pinnedToursList={},storage$1.toursModifiedTime={},storage$1.accessibility={},storage$1.otpCounter={},storage$1.confirmLinkGuidePub={},storage$1.languageList={},GmCXt.storageService()),dbName=GmCXt.conf.appName+GmCXt.conf.env+"DB",currentURL,dapStore=(GmCXt.isLXP()&&document.referrer&&(currentURL=GmCXt.filterUrlScheme(document.referrer).replaceAll(".",""),dbName+=currentURL),storage$1.getIndexedDbInstance=function(){return localforage.createInstance({name:dbName,storeName:"mgStore"})},storage$1.getIndexedDbInstance());function remove$1(e){str.remove(e)}function set(e,t,r){str.save(e,t,r)}function setString(e,t,r){str.saveString(e,t,r)}storage$1.clearIndexedDb=function(t){try{dapStore.clear()}catch(e){GmCXt.log(1,"ERROR: IndexedDb not cleared, "+t)}},storage$1.reset=function(){dapStore.clear(),str.reset()},GmCXt.FT.creatorApp&&(storage$1.showPlayer={},storage$1.showPlayer.set=function(e){(rootScope.showPlayer=e)&&(GmCXt.FT.creatorApp=!0,rootScope.FT.creatorApp=!0),set("playerMode",e)},storage$1.showPlayer.get=function(){return new Promise(function(e,t){str.get("playerMode").then(function(e){e?(rootScope.showPlayer=e,GmCXt.FT.creatorApp=!0,rootScope.FT.creatorApp=!0):rootScope.showPlayer=!1}),e()})}),storage$1.activeSortFilter.set=function(e){return rootScope.descOrder=e.descOrder,rootScope.activeSortFilter=e.activeSfilter,set("activeSortFilter",e)},storage$1.activeSortFilter.get=function(){return new Promise(function(t,e){str.get("activeSortFilter").then(function(e){Gm.activeSortFilterStore.set(e),t(e)})})},storage$1.activeSortFilter.remove=function(){remove$1("activeSortFilter")},storage$1.testAuto.set=function(){setString("testAuto",rootScope.testAuto=!0)},storage$1.refreshCache.set=function(e){return rootScope.refreshCache=e,set("refreshCache",JSON.stringify(e))},storage$1.refreshCache.get=function(){return new Promise(function(t,e){str.get("refreshCache").then(function(e){e&&!GmCXt.isEmpty(e)?rootScope.refreshCache=GmCXt.parseJSON(e):rootScope.refreshCache={},t(e)})})},storage$1.refreshCache.remove=function(){rootScope.refreshCache={},remove$1("refreshCache")},storage$1.testAuto.get=function(){return new Promise(function(e,t){str.getString("testAuto").then(function(e){rootScope.testAuto="true"===e}),e()})},storage$1.testAuto.remove=function(){rootScope.testAuto=null,remove$1("testAuto")},storage$1.user.get=function(){return new Promise(function(t,e){str.get("user").then(function(e){e?(GmCXt.updateGlobalUser(e),GmCXt.user=e,rootScope.user=e,rootScope.syncUser(),t(e)):(GmCXt.user={},rootScope.user=!1,t({})),e&&e.organization&&rootScope.saveOrganization(e.organization)})})},storage$1.user.set=function(e){e&&(GmCXt.updateGlobalUser(e),e=GmCXt.user,set("user",rootScope.user=e))},storage$1.user.remove=function(){GmCXt.user={},GmCXt.updateGlobalUser({}),remove$1("user")},storage$1.accessibility.get=function(){return new Promise(function(t,e){str.get("accessibility").then(function(e){rootScope.accessibility=e||!1,Gm.accessibility.set(rootScope.accessibility),rootScope.syncAccessibility(rootScope.accessibility),t(rootScope.accessibility)})})},storage$1.accessibility.set=function(e){rootScope.accessibility=e,Gm.accessibility.set(rootScope.accessibility),rootScope.syncAccessibility(rootScope.accessibility),set("accessibility",e)},storage$1.accessibility.remove=function(){rootScope.accessibility=!1,Gm.accessibility.set(rootScope.accessibility),rootScope.syncAccessibility(rootScope.accessibility),remove$1("accessibility")},storage$1.organization.get=function(){return new Promise(function(r,o){str.get("organization").then(function(e){var t=GmCXt.user;e?(GmCXt.updateGlobalOrg(e),rootScope.organization=e,r(e)):GmCXt.isEmpty(t)?(GmCXt.organization={},rootScope.organization=!1,r({})):t.organization?(rootScope.saveOrganization(t.organization),r(t.organization)):rootScope.fetchOrgFromAPI().then(function(){r(!0)}).catch(function(e){o(e)})})})},storage$1.organization.set=function(e){e&&(GmCXt.updateGlobalOrg(e),set("organization",rootScope.organization=e))},storage$1.organization.remove=function(){GmCXt.updateGlobalOrg({});var e=GmCXt.organization;rootScope.organization=e,remove$1("organization")},storage$1.activeView.set=function(e){e&&setString("activeView",e)},storage$1.activeView.get=function(){return new Promise(function(t,e){str.getString("activeView").then(function(e){e&&Gm.activeView.set(e),t(e)})})},storage$1.activeView.remove=function(){remove$1("activeView")},storage$1.activeTab.set=function(e){e&&setString("activeTab",rootScope.activeTab=e)},storage$1.activeTab.get=function(){return new Promise(function(t,e){str.getString("activeTab").then(function(e){rootScope.activeTab=e,t(e)})})},storage$1.activeTab.remove=function(){rootScope.activeTab=!1,remove$1("activeTab")},GmCXt.inPlayer?(storage$1.appData.set=function(e,t){rootScope.appList=e,GmCXt.appList=e,dapStore.setItem("appData",e)},storage$1.appData.get=function(){return new Promise(function(t,e){function r(e){rootScope.appList=e||{},GmCXt.appList=e||{},t(rootScope.appList),rootScope.syncApps(rootScope.appList)}dapStore.getItem("appData").then(function(e){r(e)}).catch(function(e){console.dir(e),r({})})})},storage$1.appData.remove=function(){rootScope.appList={},GmCXt.appList.set={},dapStore.removeItem("appData")}):(storage$1.appData.set=function(e){rootScope.appList=e,GmCXt.appList=e,rootScope.syncApps(e),set("appData",e)},storage$1.appData.get=function(){return new Promise(function(t,e){str.get("appData").then(function(e){rootScope.appList=e||{},GmCXt.appList=e||{},rootScope.syncApps(e),t(rootScope.appList)})})},storage$1.appData.remove=function(){rootScope.appList={},GmCXt.appList={},remove$1("appData")}),storage$1.activeAppId.set=function(e){e&&(rootScope.activeAppId=e,set("activeAppId",GmCXt.activeAppId=e),rootScope.syncAppId())},storage$1.activeAppId.get=function(){return new Promise(function(t,e){str.get("activeAppId").then(function(e){rootScope.activeAppId=e||null,GmCXt.activeAppId=rootScope.activeAppId,rootScope.syncAppId(),t(e)})})},storage$1.activeAppId.remove=function(){rootScope.activeAppId=!1,GmCXt.activeAppId=!1,remove$1("activeAppId"),rootScope.syncAppId()},GmCXt.inPlayer||(storage$1.category.get=function(e){return new Promise(function(e,t){dapStore.getItem("categories").then(function(e){e=e||{},rootScope.allCategories=e,rootScope.processCategories()}),e()})},storage$1.category.reset=function(e){return rootScope.allCategories=e,dapStore.setItem("categories",e)},storage$1.category.remove=function(){dapStore.removeItem("categories")}),storage$1.videosInProgress.get=function(){return new Promise(function(t,e){str.get("videosInProgress").then(function(e){e&&(rootScope.tourVideoInProgressArr=e),t(e)})})},storage$1.videosInProgress.set=function(e){set("videosInProgress",e)},storage$1.activeLang.set=function(e){rootScope.language=e,setString("activeLang",GmCXt.language=e)},storage$1.activeLang.get=function(){return new Promise(function(t,e){str.getString("activeLang").then(function(e){GmCXt.isFalse(e)||(rootScope.language=e,GmCXt.language=e),t(e)})})},storage$1.activeLang.remove=function(){rootScope.language=!1,GmCXt.language=!1,remove$1("activeLang")},storage$1.activeOrgKeys.set=function(e){setString("activeOrgKeys",e)},storage$1.activeOrgKeys.get=function(){return new Promise(function(t,e){str.getString("activeOrgKeys").then(function(e){t(e)})})},storage$1.activeOrgKeys.remove=function(){remove$1("activeOrgKeys")},storage$1.activeVoice.set=function(e){rootScope.languageVoice=e,str.saveString("activeVoice",e)},storage$1.activeVoice.get=function(){return new Promise(function(t,e){str.getString("activeVoice").then(function(e){GmCXt.isFalse(e)||(rootScope.languageVoice=e),t(e)})})},storage$1.userPrefLang.set=function(e){rootScope.userPrefLang=e,str.saveString("userPrefLang",e)},storage$1.userPrefLang.get=function(){return new Promise(function(t,e){str.getString("userPrefLang").then(function(e){GmCXt.isFalse(e)||(rootScope.userPrefLang=e),t(e)})})},storage$1.activeVoice.remove=function(){rootScope.languageVoice=!1,remove$1("activeVoice")},storage$1.dual_auth_token.set=function(e,t){set("dual_auth_token",e,t)},storage$1.dual_auth_token.get=function(){return new Promise(function(t,e){str.get("dual_auth_token").then(function(e){t(e)})})},storage$1.storageSyncTime.set=function(e){set("storageSyncTime",e)},storage$1.storageSyncTime.get=function(){return new Promise(function(t,e){str.get("storageSyncTime").then(function(e){t(e)})})},storage$1.storageSyncTime.remove=function(){remove$1("storageSyncTime")},storage$1.trackerSecrets.set=function(e){rootScope.trackerSecrets=e,set("trackerSecrets",GmCXt.trackerUtil.secrets=e);e={action:"mgPlayerJSProd_action:update_secrets",data:{secrets:GmCXt.trackerUtil.secrets}};rootScope.isClientJs?GmCXt.sendToParentWindow(e):GmCXt.sendMessageToBackgroundService(e)},storage$1.trackerSecrets.get=function(){return new Promise(function(r,e){str.get("trackerSecrets").then(function(e){rootScope.trackerSecrets=e||{},GmCXt.trackerUtil.secrets=e||{};var t={action:"mgPlayerJSProd_action:update_secrets",data:{secrets:GmCXt.trackerUtil.secrets}};rootScope.isClientJs?GmCXt.sendToParentWindow(t):GmCXt.sendMessageToBackgroundService(t),r(e)})})},storage$1.segmentData.set=function(e){rootScope.segmentData=e.list,set("segmentData",e)},storage$1.segmentData.get=function(){return new Promise(function(r,e){str.get("segmentData").then(function(e){var t;e?(t=e.time+GmCXt.t.syncSegment,Date.now()<t?(rootScope.segmentData=e.list,r(e.list)):rootScope.getSegmentsList().then(function(){r(rootScope.segmentData)})):(rootScope.segmentData=[],r(rootScope.segmentData))})})},storage$1.segmentData.remove=function(){rootScope.segmentData=[],remove$1("segmentData")},storage$1.segmentGroupData.set=function(e){rootScope.allSegments=e.list,set("segmentGroupData",e),rootScope.syncSegmentData()},storage$1.segmentGroupData.get=function(){return new Promise(function(r,e){function o(){rootScope.allSegments=[],r([])}str.get("segmentGroupData").then(function(e){var t;e&&(t=e.time+GmCXt.t.syncSegment,Date.now()<t)?(r(e.list),rootScope.allSegments=e.list,rootScope.syncSegmentData()):o()})})},storage$1.segmentGroupData.remove=function(){rootScope.allSegments=[],rootScope.syncSegmentData(),remove$1("segmentGroupData")},storage$1.breadCrumb.set=function(e){set("breadCrumb",e)},storage$1.breadCrumb.get=function(){return new Promise(function(t,e){str.get("breadCrumb").then(function(e){Gm.breadCrumb.set(e),t(e)})})},storage$1.breadCrumbItems.set=function(e){set("breadCrumbItems",rootScope.breadCrumbItems=e)},storage$1.breadCrumbItems.get=function(){return new Promise(function(t,e){str.get("breadCrumbItems").then(function(e){rootScope.breadCrumbItems=e,t(e)})})},storage$1.currentPage.set=function(e){setString("currentPage",e)},storage$1.currentPage.get=function(){return new Promise(function(t,e){str.getString("currentPage").then(function(e){Gm.CurrentPage.set(e),t(e)})})},storage$1.currentPage.remove=function(){rootScope.setCurrentPage(""),remove$1("currentPage")},storage$1.activeTourId.set=function(e){set("activeTourId",rootScope.activeTourId=e)},storage$1.activeTourId.get=function(){return new Promise(function(t,e){str.get("activeTourId").then(function(e){rootScope.activeTourId=e,t(e)})})},storage$1.activeTourId.remove=function(){rootScope.activeTourId=0,remove$1("activeTourId")},storage$1.edcastTermsAccepted.set=function(e){set("edcastTermsAccepted",e)},storage$1.edcastTermsAccepted.get=function(){return new Promise(function(t,e){str.get("edcastTermsAccepted").then(function(e){t(e)})})},storage$1.lastSsoRedirectTime.set=function(e){set("lastSsoRedirectTime",e)},storage$1.lastSsoRedirectTime.get=function(){return new Promise(function(t,e){str.get("lastSsoRedirectTime").then(function(e){t(e)})})},storage$1.confirmLinkGuidePub.set=function(e){set("confirmLinkGuidePub",e)},storage$1.confirmLinkGuidePub.get=function(){return new Promise(function(t,e){str.get("confirmLinkGuidePub").then(function(e){t(e)})})},storage$1.confirmLinkGuidePub.remove=function(){remove$1("confirmLinkGuidePub")},storage$1.activeTaskTab.set=function(e){set("activeTaskTab",e)},storage$1.activeTaskTab.get=function(){return new Promise(function(t,e){str.get("activeTaskTab").then(function(e){t(e)})})},storage$1.currentTour.set=function(e){rootScope.currentTour=e,dapStore.setItem("currentTour",e)},storage$1.currentTour.get=function(){return new Promise(function(t,e){dapStore.getItem("currentTour").then(function(e){rootScope.currentTour=e||{},Gm.currentTour.set(e),t(e)})})},storage$1.currentTour.remove=function(){rootScope.currentTour={},dapStore.removeItem("currentTour")},storage$1.currentStep.set=function(e){set("currentStep",rootScope.currentStep=e)},storage$1.currentStep.get=function(){return new Promise(function(t,e){str.get("currentStep").then(function(e){rootScope.currentStep=e,t(e)})})},storage$1.currentStep.remove=function(){rootScope.currentStep=!1,remove$1("currentStep")},storage$1.loginTime.set=function(e){set("loginTime",rootScope.loginTime=e)},storage$1.loginTime.get=function(){return new Promise(function(t,e){str.get("loginTime").then(function(e){rootScope.loginTime=e,t(e)})})},storage$1.loginTime.remove=function(){rootScope.loginTime=!1,remove$1("loginTime")},storage$1.refreshTime.set=function(e){set("refreshTime",rootScope.refreshTime=e)},storage$1.refreshTime.get=function(){return new Promise(function(t,e){str.get("refreshTime").then(function(e){rootScope.refreshTime=e||0,t(e)})})},storage$1.refreshTime.remove=function(){rootScope.refreshTime=null,remove$1("refreshTime")},storage$1.lastTimeStampSync.set=function(e){set("lastTimeStampSync",rootScope.lastTimeStampSync=e)},storage$1.lastTimeStampSync.get=function(){return new Promise(function(t,e){str.get("lastTimeStampSync").then(function(e){rootScope.lastTimeStampSync=e||0,t(e)})})},storage$1.lastTimeStampSync.remove=function(){rootScope.lastTimeStampSync=null,remove$1("lastTimeStampSync")},storage$1.edcastLogin.set=function(e){rootScope.edLogin=e,set("edcastLogin",GmCXt.edcastLogin=e)},storage$1.edcastLogin.get=function(){return new Promise(function(t,e){str.get("edcastLogin").then(function(e){rootScope.edLogin=e,GmCXt.edcastLogin=rootScope.edLogin,t(rootScope.edLogin)})})},storage$1.edcastLogin.remove=function(){rootScope.edLogin=null,remove$1("edcastLogin")},storage$1.debugMode.set=function(e){rootScope.debugMode=e,GmCXt.debugMode=e,set(GmCXt.getDebugKey(),e)},storage$1.debugMode.get=function(){return new Promise(function(t,e){str.get(GmCXt.getDebugKey()).then(function(e){rootScope.debugMode=e,GmCXt.debugMode=rootScope.debugMode,t(rootScope.debugMode)})})},storage$1.debugMode.remove=function(){rootScope.debugMode=null,remove$1(GmCXt.getDebugKey())},storage$1.toursModifiedTime.set=function(e){set("toursModifiedTime",rootScope.toursModifiedTime=e)},storage$1.toursModifiedTime.get=function(){return new Promise(function(t,e){str.get("toursModifiedTime").then(function(e){rootScope.toursModifiedTime=e||{},t(e)})})},storage$1.notifTours.get=GmCXt.notifTours.get,storage$1.notifTours.set=GmCXt.notifTours.set,storage$1.allTourList.get=function(){return new Promise(function(t,e){dapStore.getItem("allTourList").then(function(e){rootScope.allTourList=e||{},t(rootScope.allTourList)}).catch(function(e){console.dir(e)})})},storage$1.allTourList.set=function(r){return new Promise(function(e,t){rootScope.allTourList=r||{},dapStore.setItem("allTourList",rootScope.allTourList)})},storage$1.allTourList.remove=function(){rootScope.allTourList={},dapStore.removeItem("allTourList")},storage$1.languageList.get=function(){return new Promise(function(t,e){dapStore.getItem("languageList").then(function(e){rootScope.languageList=e||{},t(rootScope.languageList)}).catch(function(e){console.dir(e)})})},storage$1.languageList.set=function(r){return new Promise(function(e,t){rootScope.languageList=r||{},dapStore.setItem("languageList",rootScope.languageList)})},storage$1.languageList.remove=function(){rootScope.languageList={},dapStore.removeItem("languageList")},storage$1.serverUpdates.set=function(e){rootScope.serverUpdates=e||{},dapStore.setItem("serverUpdates",e)},storage$1.serverUpdates.get=function(){return new Promise(function(t,e){dapStore.getItem("serverUpdates").then(function(e){rootScope.serverUpdates=e||{},t()})})},storage$1.serverUpdates.remove=function(){rootScope.serverUpdates={},dapStore.removeItem("serverUpdates")},storage$1.serverDeletes.set=function(e){rootScope.serverDeletes=e,dapStore.setItem("serverDeletes",e)},storage$1.serverDeletes.get=function(){return new Promise(function(e,t){dapStore.getItem("serverDeletes").then(function(e){rootScope.serverDeletes=e||{categories:[],tours:[]}}),e()})},storage$1.serverDeletes.remove=function(){rootScope.serverDeletes={categories:[],tours:[]},dapStore.removeItem("serverDeletes")},storage$1.taskList.set=function(e,t){var r=GmCXt.getBaseAppId(),t={list:e,time:t=GmCXt.isEmpty(t)?Date.now():t};rootScope.taskList=e,dapStore.setItem("taskList_"+r,t)},storage$1.taskList.get=function(){return new Promise(function(t,e){var r=GmCXt.getBaseAppId();dapStore.getItem("taskList_"+r).then(function(e){!e||GmCXt.isEmpty(e)?(rootScope.taskList=null,t(null)):(e=rootScope.syncTaskList(e),rootScope.taskList=e.list,t(e))}).catch(function(e){rootScope.taskList=null,t(null)})})},storage$1.taskList.remove=function(){rootScope.taskList=[],dapStore.removeItem("taskList_"+GmCXt.getBaseAppId())},storage$1.pinnedToursList.set=function(e){rootScope.pinnedToursList=e,dapStore.setItem("pinnedToursList",e)},storage$1.pinnedToursList.get=function(){return new Promise(function(t,e){dapStore.getItem("pinnedToursList").then(function(e){rootScope.pinnedToursList=e||{},t(e)})})},storage$1.pinnedToursList.remove=function(){rootScope.pinnedToursList={},dapStore.removeItem("pinnedToursList")},storage$1.stepsPlayed.get=GmCXt.stepsPlayed.get,storage$1.stepsPlayed.set=GmCXt.stepsPlayed.set;let setChromeStorage=function(e,t){chrome.storage.local.set(t,function(){e()})},setFirefoxStorage=function(t,e){browser.storage.local.set(e).then(function(e){t()}).catch(onError)},setSafariStorage=function(e,t){for(var r in t)localStorage.setItem(r,t[r]);e()},getChromeStorage=function(o,e){chrome.storage.local.get(e,function(e){var t,r={};for(t in e)r[GmCXt.removeStoragePrefix(t)]=e[t];o(r)})},getFirefoxStorage=function(t,e){browser.storage.local.get(e).then(function(e){t(e)}).catch(onError)},getSafariExtStorage=function(t,r){for(let e=0;e<k.length;e++){var o,a={};for(o in r)a[GmCXt.removeStoragePrefix(o)]=localStorage.getItem(o);t(a)}},setExtStorage=function(a){return new Promise(function(e,t){var r,o={};for(r in a)o[GmCXt.addStoragePrefix(r)]=a[r];switch(rootScope.browserApp){case"chrome":setChromeStorage(e,o);break;case"firefox":setFirefoxStorage(e,o);break;case"safari":setSafariStorage(e,o);break;default:t()}},501)},getExtStorage=function(r){return new Promise(function(e,t){for(let e=0;e<r.length;e++)r[e]=GmCXt.addStoragePrefix(r[e]);switch(rootScope.browserApp){case"chrome":getChromeStorage(e,r);break;case"firefox":getFirefoxStorage(e,r);break;case"safari":getSafariExtStorage(res,r);break;default:t()}})},mgError$1=(storage$1.get=function(e){if(GmCXt.isExtension())return getExtStorage(e)},storage$1.set=function(e){if(GmCXt.isExtension())return setExtStorage(e)},{});function isContextError(e){return!(!(e=e.toString())||-1===e.indexOf("Extension context invalidated"))}function showErrorMsg(e,t){Gm.loading.set(!1),rootScope.settingsLoader=!1,t&&(e=e+" (Error: "+t+")"),rootScope.showPopup(e,"","alert")}mgError$1.show=function(e,t){e=(e=isContextError(e)?rootScope.labels.extensionContextError:e)+(t?" (Error: "+t+") ":"");rootScope.showPopup(e,"","error")},mgError$1.try=function(e,t){try{return e()}catch(e){mgError$1.show(e,t),"Prod"!==GmCXt.conf.env||isContextError(e)||GmCXt.reportError(GmCXt.getErrObj(e,{code:405,info:e,source:t}))}},mgError$1.on=function(t,r){if(rootScope.isApiCallOn=!1,null!=t){var o=parseInt(t.code);if(2036===o&&(0<t.url.indexOf("user/signout")||0<t.url.indexOf("user/token")))return rootScope.clearSession(),rootScope.showWidget(),!1;let e="";switch(!0){case 3044===o:showErrorMsg(rootScope.labels.segmentationRequired,o);break;case 1001===o:showErrorMsg(rootScope.labels.notAutorised,o);break;case 1003===o:e=rootScope.labels[1003]+"(Error:"+o+")",rootScope.showPopup(e,function(){rootScope.clearSession("1003: Access token invalid")},"error");break;case 1007===o:rootScope.getAccessTokenFromRefreshToken(r,t);break;case 1005===o:"Organization not found"===t.message[0]?showErrorMsg(rootScope.labels.orgError,o):showErrorMsg(rootScope.labels[o],o);break;case 1009===o:showErrorMsg(rootScope.labels.signInVerifyYourEmail,o);break;case 2001===o:rootScope.loginInvalidCred=!0;break;case 3045===o:break;case 3061===o:showErrorMsg(rootScope.labels[o]);break;case 2004===o:e=rootScope.labels[2004]+"(Error:"+o+")",rootScope.showPopup(e,function(){rootScope.clearSession("2004: Session Expired")},"error");break;case 3063===o:t&&-1===t.url.indexOf("task_list")&&showErrorMsg(rootScope.labels.applicationJsonError,o);break;case 2200===o:case 405===o:case 3008===o:case 1019===o:case 2044===o:case 3068===o:case 1017===o:case 1018===o:case 2e3===o:case 429===o:case 2002<=o&&o<=2099:case 3e3<=o&&o<=3099:case 4e3<=o&&o<=4099:showErrorMsg(rootScope.labels[o],o);break;case 1014===o:GmCXt.redirect("#/maintenance");break;case 403===o&&t.message[0]===GmCXt.unknownError:showErrorMsg(rootScope.labels.lostInternetConnection,o);break;default:rootScope.showPopup(rootScope.labels.apiError,function(){(GmCXt.user||GmCXt.onPrem())&&GmCXt.redirect("#/home/currentpage")},"error")}}else showErrorMsg(rootScope.labels.lostInternetConnection,c)};let api$3={};function processApi(e){let t=e.url.replace(GmCXt.conf.webServiceUrl,"");var r={serviceName:t=-1!==t.indexOf("?")?t.split("?")[0]:t,method:e.method_type,data:e.params,onSuccess:e.successCb};"GET"===e.method_type?api$3.get(r):api$3.post(r)}function addCdnUrl(e){var e=GmCXt.conf.jsonStorageUrl+GmCXt.orgBucket+"/"+e,t=api$3.user();return t?e+t.cdn_signature+"&v="+Date():e}api$3.user=function(){return GmCXt.user},api$3.orgId=function(){return api$3.user().organization_id},api$3.appId=function(){return GmCXt.activeAppId},api$3.getHeaders=function(e){let t="";var r={"Content-Type":"application/json","x-mg-host":t=GmCXt.isEmpty(GmCXt.urlParts)?t:GmCXt.urlParts.host,"x-mg-source":GmCXt.conf.appName,"x-mg-orgId":""};let o="",a="";var i=GmCXt.user;return i&&i.accesstoken&&(o=i.accesstoken),i&&i.refreshtoken&&(a=i.refreshtoken),!e.serviceName||-1===e.serviceName.indexOf("user/signout")&&-1===e.serviceName.indexOf("user/token")?e.serviceName&&-1!==e.serviceName.indexOf("user/sso/login")||"user/sso/autologin"===e.serviceName?(r.Authorization=e.data.myGuideOrgKey,delete e.data.myGuideOrgKey):"user/signin/edcast"===e.serviceName?(r.EdcastToken=e.data.EdcastToken,delete e.data.EdcastToken):r.AccessToken=o:r.RefreshToken=a,r.appType=GmCXt.conf.appType,i&&(r.userId=i.user_id,r.orgId=i.organization_id,r["x-mg-orgId"]=i.organization_id),r},api$3.fetch=function(e){return new Promise(function(t,r){fetch(e.url,{method:e.method,headers:e.headers,body:JSON.stringify(e.data)}).then(e=>{t(e.json())}).catch(function(e){e.stack&&(e.data=GmCXt.getCodeError()),r(e.data)})})},api$3.xhrDesktopApp=function(e){return new Promise(function(t,r){mg$$1.ajax({url:e.url,data:e.data,method:e.method,success:function(e){e&&t(e)},error:function(e){r(e)}})})},api$3.get_=function(a){let i={url:GmCXt.conf.webServiceUrl+a.serviceName,method:a.method,headers:api$3.getHeaders(a),params:a.data};function n(e){var t;e=e||GmCXt.getDefaultError(),(t=e).url=i.url,t.params=i.params,t.method_type=i.method,a.onSuccess&&(t.successCb=a.onSuccess),e=t,Gm.loading.set(!1),1007===e.code?mgError$1.on(e,processApi):3033!==e.code&&mgError$1.on(e)}return new Promise(function(r,o){i.url=GmCXt.getSearchURL(i.url,a.data),api$3.fetch(i).then(function(e){rootScope.isAppJsonCalling||Gm.loading.set(!1);var t=e;t&&(t.error?(n(t),o(t)):(GmCXt.validateDataModel(t,GmCXt.model.api),a.onSuccess?r(a.onSuccess(e)):r(e)))}).catch(function(e){e&&e.stack?(e.data=GmCXt.getCodeError(),n(e.data)):n()})})},api$3.get=function(e){return e.data.isDeskReq?(delete e.data.isDeskReq,api$3.get_(e)):(rootScope.isFetchingCdn=!1,rootScope.checkCdnSignature().then(function(){return api$3.get_(e)}))},api$3.getCDN=function(e){return rootScope.checkCdnSignature().then(function(){return GmCXt.onPrem()||(e=addCdnUrl(e)),new Promise(function(t,r){fetch(e).then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{t(e)}).catch(e=>{r(e)})})})},api$3.post_=function(r){let o={url:GmCXt.conf.webServiceUrl+r.serviceName,method:r.method,headers:api$3.getHeaders(r),data:r.data};function a(e){var t;e=e||GmCXt.getDefaultError(),(t=e).url=o.url,t.params=o.data,t.method_type=o.method,1007===(e=t).code?mgError$1.on(e,processApi):3033!==e.code&&mgError$1.on(e),r.onFail&&r.onFail(e)}api$3.fetch(o).then(function(e){Gm.loading.set(!1),rootScope.uploadInProgress=!1;var t=e;t.error?a(t):r.onSuccess&&(!0===r.signIn&&(e=e.data.token?GmCXt.validateDataModel(e.data.token,GmCXt.model.token):e.data.orgs?e.data:GmCXt.validateDataModel(e.data.user,GmCXt.model.user)),r.onSuccess(e))}).catch(function(e){e?(e.stack&&(e.data=GmCXt.getCodeError()),a(e.data)):console.error("Error in api.post")})},api$3.post=function(e){rootScope.checkCdnSignature().then(function(){api$3.post_(e)})},api$3.userApiKeySignin=function(e,t,r){e={serviceName:"user/sso/login?mg_source_name="+GmCXt.conf.appConfig.customer,method:"POST",data:e,onSuccess:t,onFail:r,signIn:!0};api$3.post(e)},api$3.userOrgKeySignin=function(e,t,r){e={serviceName:"user/sso/autologin",method:"POST",data:e,onSuccess:t,onFail:r,signIn:!0};api$3.post(e)},api$3.userTranscation=function(e,t,r){e={serviceName:"user/transaction",method:"POST",data:e,onSuccess:t,onFail:r};api$3.post(e)},api$3.userSignIn=function(e,t,r){e={serviceName:"user/signin",method:"POST",data:e,onSuccess:t,onFail:r,signIn:!0};api$3.post(e)},api$3.userSignOut=function(e){e={serviceName:"user/signout?mg_source_name="+GmCXt.conf.appConfig.customer,method:"POST",serviceType:"",data:{},onSuccess:e};api$3.post(e)},api$3.verifyUser=function(e,t,r){e={serviceName:"user/verify",method:"POST",data:e,onSuccess:t,onFail:r,signIn:!0};api$3.post(e)},api$3.forgetPassword=function(e,t,r){e={serviceName:"user/password/reset",method:"GET",data:e};api$3.get(e).then(t)},api$3.changePassword=function(e,t){e={serviceName:"user/password",method:"PUT",data:e,onSuccess:t};api$3.post(e)},api$3.resetPassword=function(e,t){e={serviceName:"user/resetpassword",method:"POST",data:e,onSuccess:t};api$3.post(e)},api$3.resendOTP=function(e,t){e={serviceName:"user/otp/resend",method:"POST",data:e,serviceType:"",onSuccess:t,signIn:!0};return api$3.post_(e)},api$3.getAccessToken=function(r){var e={serviceName:"user/token",method:"GET",serviceType:"",data:{force_update:!0,mg_source_name:GmCXt.conf.appConfig.customer}};api$3.get_(e).then(function(e){let t={};t=e.data.data||e.data;e=GmCXt.validateDataModel(t,GmCXt.model.userToken);r(e)})},api$3.callGetCdnSignature=function(e,t){e={serviceName:"organization/signature",method:"GET",serviceType:"",data:e};api$3.get_(e).then(t)},api$3.getUserList=function(e,t){e.organization_id=api$3.orgId();e={serviceName:"user/list",method:"GET",data:e,serviceType:""};Gm.loading.set(!0),api$3.get_(e).then(t)},api$3.getOrganization=function(t,e){let r={serviceName:"organization",method:"GET",data:{organization_id:api$3.orgId()},serviceType:""};Gm.loading.set(e),api$3.get_(r).then(function(e){GmCXt.validateApiResp(t,r.serviceName,e.data.organization,GmCXt.model.organization)})},api$3.getDomains=function(e){var t={serviceName:"organization/domain",method:"GET",data:{organization_id:api$3.orgId()},serviceType:""};api$3.get_(t).then(e)},api$3.sendMsgToMyBot=function(e){var t={url:"http://localhost:11311/"+e.url,data:"",method:"GET"};return e.method&&(t.method=e.method),e.info&&(t.data={info:JSON.stringify(e.info)}),api$3.xhrDesktopApp(t).catch(function(e){GmCXt.log(1,"ERROR: failed to connect Desktop app",e)})},api$3.postUserProfile=function(e,t){e.organization_id=api$3.orgId();e={serviceName:"user",method:"PUT",serviceType:"",data:e,onSuccess:t};api$3.post(e)},api$3.getTourCDN=function(e,t,r){e="tours/tour-"+e+".json";api$3.getCDN(e).then(function(e){e&&(e=GmCXt.validateDataModel(e,GmCXt.model.guide),e=GmCXt.migrateTour(e),rootScope.updateTourToStorage(e),t)&&t(e)}).catch(function(e){r&&r()})},api$3.getCategoryListStorage=function(o,e){new Promise(function(t,e){function r(e){(e=!GmCXt.inPlayer&&o.is_publish?rootScope.filterPublished(e):e)&&e.length&&(e=(e=e.sort(function(e,t){return e.category_order-t.category_order})).slice(o.offset,o.limit+o.offset)),t(e)}if(o.parent_id){let e=[];r(e=GmCXt.isEmpty(rootScope.subCategoryStore)?e:rootScope.subCategoryStore["cat_"+o.parent_id])}else r(rootScope.categoryStore)}).then(e)},api$3.getCategoryDetails=function(e,t,r){function o(e){api$3.appId()||(GmCXt.log(70,"ADD CATEGORY TO GLOBLE: "+GmCXt.categoryLog(e)),rootScope.addCategory(e),rootScope.updateCategoryInStorgae(e)),t(e)}let a={serviceName:"category",method:"GET",serviceType:"",data:e};api$3.get(a).then(function(e){GmCXt.validateApiResp(o,a.serviceName,e.data.category,GmCXt.model.category)})},api$3.getCategoryDetailsStorage=function(o,e,t,r){t?api$3.getCategoryDetails(o,e,r):new Promise(function(e,t){var r=rootScope.categoryStore.filter(function(e){return parseInt(e.category_id)===parseInt(o.category_id)});if(r.length)e(r[0]);else{let t=[];rootScope.subCategoryStore.forEach(function(e){e.forEach(function(e){parseInt(e.category_id)===parseInt(o.category_id)&&t.push(e)})}),e(t[0])}}).then(e)},api$3.getTourList=function(r,o,a){r.application_id=a||api$3.appId(),GmCXt.isMirrorApp()&&(r.application_id=GmCXt.getBaseAppId()),r.organization_id=api$3.orgId(),rootScope.notDefaultLang()&&(r.language=rootScope.language),GmCXt.getLXPLang()&&(r.language=GmCXt.getLXPLang());let t={serviceName:"tour/list",method:"GET",serviceType:"",data:r};function i(e,t){a||(e=rootScope.filterGuideByEnv(e),GmCXt.log(70,"ADD TOURS TO VARIABLE: ",e),rootScope.addTourList(r.category_id,e),rootScope.updateToursInCategoryStorage(category_id,e)),o(e,t)}api$3.get(t).then(function(e){GmCXt.validateApiResp(i,t.serviceName,e.data.tours,GmCXt.model.guides,e.data.pin_tours)}).catch(function(){})},api$3.getTourListStorage=function(s,e,t,r){t?api$3.getTourList(s,e,r):new Promise(function(t,e){function r(e){e=e&&(e=e.sort(function(e,t){return e.tour_order-t.tour_order})).slice(s.offset,s.limit+s.offset),t(e)}var o=[];if(s.category_id){var a,i=rootScope.allTourList["cat_"+s.category_id];for(a in i)o.push(i[a])}var n=o;if(GmCXt.inPlayer?n=rootScope.filterGuideByEnv(n):"1"===s.published_guides?n=rootScope.filterPublished(n):"0"===s.published_guides&&(n=rootScope.filterUnpublished(n)),s.search_text){let o=s.search_text.toLowerCase();n=rootScope.publishedTours.filter(function(r){if(r.application_id===s.app_id){let e=r.tour_title,t=r.tour_description;return r.language_data&&r.language_data[rootScope.language]&&rootScope.notDefaultLang()&&(e=r.language_data[rootScope.language].tour_title,t=r.language_data[rootScope.language].tour_description),rootScope.filterGuide(e,o,r.tour_id,t)}})}r(n)}).then(e)},api$3.getContextualTourStorage=function(e,t){return new Promise(function(e,t){setTimeout(function(){e(rootScope.validateAllRulesExceptSelectEl(rootScope.publishedTours).tours)},1e3)}).then(t)},api$3.getContextualTour=function(t,r){function o(e){rootScope.FT.isPlayer&&(e=rootScope.filterGuideByEnv(e)),rootScope.addTourList(!1,e),GmCXt.contextualApiParams={},r(e)}function a(e){GmCXt.validateApiResp(o,"tour/contextual",e.data.tours,GmCXt.model.guides)}GmCXt.getLXPLang()?t.language=GmCXt.getLXPLang():rootScope.language&&-1===rootScope.language.indexOf("en-")&&!GmCXt.isFalse(rootScope.language)&&(t.language=rootScope.language),t.organization_id=api$3.orgId(),t.application_id=api$3.appId(),api$3.getContextualTourStorage(t,function(e){e&&e.length||GmCXt.inPlayer?r(e):!GmCXt.isEmpty(GmCXt.contextualApiParams)&&Object.values(t).toString()===Object.values(GmCXt.contextualApiParams).toString()||(e={serviceName:"tour/contextual",method:"POST",serviceType:"",data:t,onSuccess:a},api$3.post_(e),GmCXt.contextualApiParams=t)})},api$3.getJSONFromCDN=function(e){return api$3.getCDN(e).catch(function(e){Gm.loading.set(!1),404===e.status?(rootScope.cdn404=!0,GmCXt.redirect("#/maintenance")):403===e.status&&(rootScope.cdn403=!0,GmCXt.redirect("#/maintenance"))})},api$3.getTours=function(e,t){e.organization_id=api$3.orgId();let r={serviceName:"tours",method:"GET",serviceType:"",data:e};function o(e){rootScope.FT.isPlayer&&(e=rootScope.filterGuideByEnv(e)),t(e)}api$3.get(r).then(function(e){GmCXt.validateApiResp(o,r.serviceName,e.data.tours,GmCXt.model.guides)})},api$3.getTaskList=function(){rootScope.taskListApiCalled=!0;var e={serviceName:"task_list/json",method:"GET",data:{application_id:api$3.appId(),organization_id:api$3.orgId(),limit:10,offset:0,search:""}};return api$3.get(e)},api$3.getTaskDetails=function(e){e={serviceName:"task_list/user/stats",method:"GET",data:{id:e}};return api$3.get(e)},api$3.getTaskListDetails=function(){var e={serviceName:"task_list/user/stats/list",method:"GET",data:{application_id:api$3.appId(),organization_id:api$3.orgId()}};return api$3.get(e)},api$3.getTaskFolderDetails=function(e){e={serviceName:"task_list/content",method:"GET",data:{folder_id:e}};return api$3.get(e)},api$3.markTaskGuideComplete=function(e,t){e={serviceName:"task_list/task/complete",method:"POST",serviceType:"",data:{task_list_id:e.task_id,user_id:api$3.user().user_id,guide_id:e.guide_id},onSuccess:t};return api$3.post(e)},api$3.getAllLanguages=function(){let e=GmCXt.conf.staticContentPath+"json/languages.json";return new Promise(function(t,r){fetch(e).then(e=>{if(e.ok)return e.json();throw new Error("Network response was not ok")}).then(e=>{t(e)}).catch(e=>{r(e)})})},api$3.getAppDetails=function(e,t){let r={serviceName:"application",method:"GET",data:{application_id:e}};api$3.get(r).then(function(e){GmCXt.validateApiResp(t,r.serviceName,e.data.application,GmCXt.model.application)})},api$3.getOrgJson=function(){var e;return Gm.loading.set(!0),GmCXt.cdnPlayer?api$3.getJSONFromCDN("json/org_info.json"):(e={serviceName:"organization/info/json",method:"GET",data:{organization_id:api$3.orgId()},serviceType:""},api$3.get_(e))},api$3.getAppJson=function(e){var t;return Gm.loading.set(!0),GmCXt.cdnPlayer?(t="json/app-"+e+".json",api$3.getJSONFromCDN(t)):(t={serviceName:"application/json",method:"GET",data:{application_id:e},serviceType:""},api$3.get_(t))},api$3.getSearchTourList=function(n,e,t){new Promise(function(e,t){var r=n.search_text,o=[],a=n.category_id;for(let e=0;e<rootScope.publishedTours.length;e++){var i=rootScope.publishedTours[e];void 0!==a&&a!==i.category_id||!(i.tour_title&&i.tour_title.toLowerCase().includes(r.toLowerCase())||i.keywords&&-1<i.keywords.toLowerCase().indexOf(r.toLowerCase()))||o.push(i)}o.sort(function(e,t){return e.tour_title.localeCompare(t.tour_title)}),e(o)}).then(e).catch(function(){rootScope.goBack()})};let api$2={},cache=(api$2.user=api$3.user,api$2.orgId=api$3.orgId,api$2.appId=api$3.appId,api$2.getHeaders=api$3.getHeaders,api$2.fetch=api$3.fetch,api$2.xhrDesktopApp=api$3.xhrDesktopApp,api$2.get_=api$3.get_,api$2.get=api$3.get,api$2.getCDN=api$3.getCDN,api$2.post_=api$3.post_,api$2.post=api$3.post,api$2.userSignIn=api$3.userSignIn,api$2.userApiKeySignin=api$3.userApiKeySignin,api$2.userOrgKeySignin=api$3.userOrgKeySignin,api$2.userSignOut=api$3.userSignOut,api$2.verifyUser=api$3.verifyUser,api$2.forgetPassword=api$3.forgetPassword,api$2.changePassword=api$3.changePassword,api$2.resetPassword=api$3.resetPassword,api$2.getCdnSignature=api$3.callGetCdnSignature,api$2.getAccessToken=api$3.getAccessToken,api$2.getOrganization=api$3.getOrganization,api$2.getDomains=api$3.getDomains,api$2.sendMsgToMyBot=api$3.sendMsgToMyBot,api$2.postUserProfile=api$3.postUserProfile,api$2.getCategoryList=api$3.getCategoryListStorage,api$2.getCategoryDetails=api$3.getCategoryDetailsStorage,api$2.getTourList=api$3.getTourListStorage,api$2.searchTours=api$3.getSearchTourList,api$2.getContextualTour=api$3.getContextualTour,api$2.getOrgJson=api$3.getOrgJson,api$2.getAppJson=api$3.getAppJson,api$2.resendOTP=api$3.resendOTP,api$2.getTours=api$3.getTours,api$2.getTaskList=api$3.getTaskList,api$2.getTaskDetails=api$3.getTaskDetails,api$2.getTaskFolderDetails=api$3.getTaskFolderDetails,api$2.getTaskListDetails=api$3.getTaskListDetails,api$2.markTaskGuideComplete=api$3.markTaskGuideComplete,api$2.getAllLanguages=api$3.getAllLanguages,api$2.getAppDetails=api$3.getAppDetails,api$2.getUserList=api$3.getUserList,api$2.getTourFromCDNorJSON=function(t,r,o){api$2.getTourCDN(t.tour_id,function(e){GmCXt.isEmpty(e)?api$2.getTourJson(t.tour_id,r,o):r(e)},function(){api$2.getTourJson(t.tour_id,r,o)})},api$2.getTour=function(e,t,r,o,a){var i=rootScope.getTourFromId(e.tour_id,e.category_id);i&&!GmCXt.isEmpty(i.steps)?t(i):(GmCXt.cdnPlayer||GmCXt.apiPlayer)&&api$2.getTourFromCDNorJSON(e,t,r)},api$2.getTourJson=function(t,r,o){var e={serviceName:"tour/json",method:"GET",data:{tour_id:t},serviceType:"",onSuccess:function(e){e.data?(e=GmCXt.validateDataModel(e.data,GmCXt.model.guide),rootScope.updateTourToStorage(e),r(e)):o&&o()},onFail:function(e){GmCXt.log(1,"Tour not found"+t),o()}};Gm.loading.set(!0),api$2.get(e)},api$2.getTourCDN=function(e,t,r){e="tours/tour-"+e+".json";api$2.getCDN(e).then(function(e){e&&(e=GmCXt.validateDataModel(e,GmCXt.model.guide),e=GmCXt.migrateTour(e),rootScope.updateTourToStorage(e),t)&&t(e)}).catch(function(e){r&&r()})},api$2.updateUser=function(e,t){var r=GmCXt.organization,r=(e.organization_id=r.organization_id,e),e=("string"!=typeof r.settings&&(r.settings=JSON.stringify(e.settings)),{serviceName:"user",method:"PUT",serviceType:"",data:r,onSuccess:t});api$2.post(e)},{});function checkTourCatFound(e){var t=!1;return t=e&&!GmCXt.isEmpty(rootScope.allTourList["cat_"+e])?!0:t}function updateCatDetails(e){var t=rootScope.allCategories["cat_"+e.category_id];t&&("unpublish"===e.action?(t.total_unpublish_tour++,t.total_publish_tour--,t.total_publish_tour=0<t.total_publish_tour?t.total_publish_tour:0):(t.total_publish_tour++,t.total_unpublish_tour--,t.total_unpublish_tour=0<t.total_unpublish_tour?t.total_unpublish_tour:0),rootScope.addCategory(t))}cache.getCatList=function(e,t){if((GmCXt.isEmpty(rootScope.refreshCache)||rootScope.getCategory(e.parent_id))&&(!rootScope.refreshAllGuides||e.parent_id)){if(!GmCXt.isEmpty(rootScope.categoryStore)&&!e.parent_id){var r=rootScope.categoryStore.length;if(e.offset<r)return api$3.getCategoryListStorage(e,t),!0}if(!GmCXt.isEmpty(rootScope.subCategoryStore)&&e.parent_id){var r=rootScope.subCategoryStore["cat_"+e.parent_id],o=rootScope.getCategory(e.parent_id),o=parseInt(o.total_sub_category);if(r&&r.length&&o<=r.length&&e.offset<r.length)return api$3.getCategoryListStorage(e,t),!0}e.parent_id?delete rootScope.subCategoryStore["cat_"+e.parent_id]:rootScope.categoryStore=[]}return!1},cache.getCatDetails=function(e,t){var r=rootScope.allCategories["cat_"+e.category_id];return!rootScope.isUpdateNeeded(e.category_id,"category")&&(r&&(GmCXt.isEmpty(rootScope.refreshCache)||rootScope.refreshCache.category_id!==e.category_id||rootScope.refreshCache.parent_id!==e.category_id)?(t(r),!0):void 0)},cache.updateCat=function(e,t){var r,o=GmCXt.createDeepCopy(rootScope.getCategory(e.category_id));return o&&((r=GmCXt.createDeepCopy(rootScope.getCategory(e.category_id))).category_id=e.category_id,r.category_title=e.category_title,r.category_description=e.category_description,r.category_image=e.category_image,r.image_url=e.image_url,r.parent_id=e.parent_id,r.language=e.language,0===parseInt(r.category_image)&&(r.image_url=rootScope.staticContentPath+"default_category.png"),r.modification_date=GmCXt.getCurrentTimeInSec(),rootScope.addCategory(r),t(r)),o},cache.deleteCat=function(e){var t,r,e=rootScope.getCategory(e.category_id);return e&&(parseInt(e.parent_id)&&(t=rootScope.getCategory(e.parent_id),r=parseInt(t.total_sub_category),r=0<--r?r:0,rootScope.updateCategory(t,"total_sub_category",r.toString())),rootScope.removeCategory(e),e)},cache.getTourList=function(a,e){return new Promise(function(t,e){var r,o=Object.keys(rootScope.allTourList["cat_"+a.category_id]).length;(o||!GmCXt.isEmpty(rootScope.refreshCache)&&rootScope.refreshCache.category_id===a.category_id&&rootScope.refreshCache.parent_id===a.category_id)&&o&&!a.search_text&&(!0===rootScope.isRefreshClicked&&e(),r=0,GmCXt.isEmpty(rootScope.allCategories)||(r=parseInt(rootScope.allCategories["cat_"+a.category_id].total_publish_tour),a.published_guides)||(r+=parseInt(rootScope.allCategories["cat_"+a.category_id].total_unpublish_tour)),a.offset<o)&&r<=o&&!a.reloadFlag?api$3.getTourListStorage(a,function(e){t(e)}):e()})},cache.getTour=function(e,t){var r;return!!((r=checkTourCatFound(e.category_id)&&!rootScope.isUpdateNeeded(e.tour_id,"tour")?rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]:r)&&r.steps.length&&parseInt(r.step_count))&&(t(r),!0)},cache.deleteTour=function(e,t){var r;return checkTourCatFound(e.category_id)&&(r=rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id],rootScope.removeTour(e.category_id,e.tour_id),t()),r},cache.updateTour=function(e,t){var r,o;return checkTourCatFound(e.category_id)&&(r=GmCXt.createDeepCopy(rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]),o=GmCXt.createDeepCopy(rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]),GmCXt.isEmpty(o)||(o.tour_title=e.tour_title,o.tour_description=e.tour_description,o.tour_type=e.tour_type,o.tour_image=e.tour_image,o.tour_settings=e.tour_settings,o.is_locked=e.is_locked,0===parseInt(o.tour_image)&&(o.image_url=GmCXt.getDefaultGuideIcon()),rootScope.setTour(o))),r},cache.unlockTour=function(e,t,r){var o;if(checkTourCatFound(e.category_id)){if(o=GmCXt.createDeepCopy(rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]),r)return o;r=GmCXt.createDeepCopy(rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]);GmCXt.isEmpty(r)||(r.is_locked=!1,r.user_id=rootScope.user.user_id,rootScope.setTour(r),t(r))}return o},cache.tourStatus=function(e,t){e.is_published=!e.is_published,rootScope.setTour(e),updateCatDetails(t)},cache.updateTourStatus=function(e,t){var r,o;return checkTourCatFound(e.category_id)&&(r=GmCXt.createDeepCopy(rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]),o=GmCXt.createDeepCopy(rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]),GmCXt.isEmpty(o)||(cache.tourStatus(o,e),t(o))),r},cache.tourEnv=function(e,t){var r,o;"publish"===t.action?(e.tour_settings.app_publish_env=t.env_name,e.parent_tour_id&&-1!==t.env_name.indexOf(rootScope.highestEnv)&&(rootScope.removeTour(e.category_id,e.parent_tour_id),e.parent_tour_id=null),e.is_published=!0):(r=[],GmCXt.isEmpty(t.env_name)||GmCXt.isEmpty(e.tour_settings.app_publish_env)||(r=rootScope.appEnvs.filter(function(e){return-1===t.env_name.indexOf(e)})),e.tour_settings.app_publish_env=r,(o=rootScope.draftExists(e.tour_id,e.category_id))&&rootScope.removeTour(e.category_id,o),e.is_published=!(!r||!r.length)),updateCatDetails(t),rootScope.setTour(e)},cache.updateTourEnv=function(e){var t,r;return checkTourCatFound(e.category_id)&&(t=GmCXt.createDeepCopy(rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]),r=GmCXt.createDeepCopy(rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]),GmCXt.isEmpty(r)||cache.tourEnv(r,e)),t},cache.clearTourList=function(e){delete rootScope.allTourList["cat_"+e.category_id]},cache.createTour=function(e){var t,e=rootScope.allCategories["cat_"+e.category_id];e&&(t=parseInt(e.total_unpublish_tour),t=0<++t?t:0,rootScope.updateCategory(e,"total_unpublish_tour",t.toString()))};let api$1={},api=(api$1.user=api$3.user,api$1.orgId=api$3.orgId,api$1.appId=api$3.appId,api$1.getHeaders=api$3.getHeaders,api$1.fetch=api$3.fetch,api$1.get_=api$3.get_,api$1.get=api$3.get,api$1.post_=api$3.post_,api$1.post=api$3.post,api$1.getAccessToken=api$3.getAccessToken,api$1.getCdnSignature=api$3.callGetCdnSignature,api$1.userApiKeySignin=api$3.userApiKeySignin,api$1.userOrgKeySignin=api$3.userOrgKeySignin,api$1.userSignIn=api$3.userSignIn,api$1.userSignOut=api$3.userSignOut,api$1.verifyUser=api$3.verifyUser,api$1.forgetPassword=api$3.forgetPassword,api$1.changePassword=api$3.changePassword,api$1.resetPassword=api$3.resetPassword,api$1.getOrganization=api$3.getOrganization,api$1.getDomains=api$3.getDomains,api$1.sendMsgToMyBot=api$3.sendMsgToMyBot,api$1.postUserProfile=api$3.postUserProfile,api$1.userTranscation=api$3.userTranscation,api$1.getTourCDN=api$3.getTourCDN,api$1.getTourCdnUrl=api$3.getTourCdnUrl,api$1.getCategoryListStorage=api$3.getCategoryListStorage,api$1.getCategoryDetailsStorage=api$3.getCategoryDetailsStorage,api$1.getTourListStorage=api$3.getTourListStorage,api$1.getContextualTourStorage=api$3.getContextualTourStorage,api$1.getContextualTour=api$3.getContextualTour,api$1.getOrgJson=api$3.getOrgJson,api$1.getAppJson=api$3.getAppJson,api$1.resendOTP=api$3.resendOTP,api$1.getTours=api$3.getTours,api$1.getTaskList=api$3.getTaskList,api$1.getTaskDetails=api$3.getTaskDetails,api$1.getTaskFolderDetails=api$3.getTaskFolderDetails,api$1.getTaskListDetails=api$3.getTaskListDetails,api$1.markTaskGuideComplete=api$3.markTaskGuideComplete,api$1.getAllLanguages=api$3.getAllLanguages,api$1.getSearchTourList=api$3.getSearchTourList,api$1.getUserList=api$3.getUserList,api$1.upload_=async function(o){var e=api$3.getHeaders(o);delete e["Content-Type"];let t={url:GmCXt.conf.webServiceUrl+o.serviceName,method:o.method,headers:e,data:o.data};function a(){rootScope.showLogoSpinner=!1,rootScope.uploadInProgress=!1}function i(e){e=e||GmCXt.getDefaultError(),a(),e.url=t.url,e.params=t.data,e.method_type=t.method,mgError$1.on(e),o.onFail&&o.onFail()}return api$1.fetch=function(r){return new Promise(function(e,t){fetch(r.url,{method:r.method,headers:r.headers,body:r.data}).then(e=>(e.ok||t(new Error("Network response was not ok")),e.json())).then(function(e){a(),e.error?i(e):o.onSuccess&&o.onSuccess(e)}).catch(function(e){e.stack&&(e.data=GmCXt.getCodeError()),i(e.data)})})},api$1.fetch(t)},api$1.upload=function(e){let t=this;rootScope.checkCdnSignature().then(function(){t.upload_(e)})},api$1.getCategoryList=function(e,t){e.application_id=api$1.appId();let r={serviceName:"category/list",method:"GET",serviceType:"",data:e};cache.getCatList(e,t)||api$1.get(r).then(function(e){GmCXt.validateApiResp(t,r.serviceName,e.data.categories,GmCXt.model.categories)})},api$1.getGuideHistory=function(e,t,r){r={serviceName:r+"/history",method:"GET",serviceType:"",data:e};api$1.get(r).then(t)},api$1.getCategoryDetails=function(e,t){function r(e){rootScope.addCategory(e),rootScope.updateServerUpdateList(e.category_id,"category"),t(e)}let o={serviceName:"category",method:"GET",serviceType:"",data:e};cache.getCatDetails(e,t)||api$1.get(o).then(function(e){GmCXt.validateApiResp(r,o.serviceName,e.data.category,GmCXt.model.category)})},api$1.categoryCreate=function(e,t){e.application_id=api$1.appId();e={serviceName:"category",method:"POST",serviceType:"",data:e,onSuccess:function(e){e=GmCXt.validateDataModel(e.data.category,GmCXt.model.category);t(e)}};api$1.post(e)},api$1.categoryUpdate=function(e,t){e.application_id=api$1.appId(),e.organization_id=api$1.orgId();var r={serviceName:"category",method:"PUT",serviceType:"adminwithparams",data:e};let o=cache.updateCat(e,t);o?r.onFail=function(e){o&&(rootScope.addCategory(o),rootScope.refreshPageView())}:r.onSuccess=function(e){e=GmCXt.validateDataModel(e.data.category,GmCXt.model.category);rootScope.addCategory(e),t(e)},api$1.post(r)},api$1.categoryLangUpdate=function(e,t){e.application_id=api$1.appId(),e.organization_id=api$1.orgId();e={serviceName:"category/language/update",method:"PUT",serviceType:"adminwithparams",data:e,onSuccess:function(){t()}};api$1.post(e)},api$1.categoryDelete=function(e,t){var r={serviceName:"category",method:"DELETE",serviceType:"",data:e};let o=cache.deleteCat(e);r.onSuccess=t,r.onFail=function(e){o&&rootScope.addCategory(o)},api$1.post(r)},api$1.categoryPublish=function(e,t){var r={serviceName:"category/publish",method:"PUT",serviceType:"adminwithparams",data:e};let o=!!parseInt(e.publish);t(o),r.onFail=function(){t(!o)},api$1.post(r)},api$1.getAllCategoryList=function(e,t){var r=api$1.appId(),r=(e.application_id||(e.application_id=r),{serviceName:"categories/by_tour_count",method:"GET",serviceType:"",data:e});api$1.get(r).then(function(e){e=e.data.categories;t(e)})},api$1.addKeywords=function(e,t,r){e.organization_id=api$1.orgId();e={serviceName:"tour/keywords",method:"PUT",data:e,onFail:r,onSuccess:t};api$1.post(e)},api$1.deleteKeyword=function(e,t,r){e={serviceName:"tour/keywords",method:"DELETE",data:e,onFail:r,onSuccess:t};api$1.post(e)},api$1.getAllApps=function(e,t){e.organization_id=api$1.orgId();let r={serviceName:"application/list",method:"GET",serviceType:"",data:e};api$1.get(r).then(function(e){GmCXt.validateApiResp(t,r.serviceName,e.data.applications,GmCXt.model.applications)})},api$1.getTourListByElement=function(e,t,r){e.application_id=r||api$1.appId(),e.organization_id=api$1.orgId();let o={serviceName:"element/search",method:"GET",serviceType:"",data:e};cache.getTourList(e).then(function(e){t(e)}).catch(function(){delete o.data.reloadFlag,api$1.get(o).then(function(e){e=e.data,t(e)}).catch(function(){rootScope.goBack()})})},api$1.tourUpdateElement=function(e,t,r,o){function a(e){n&&rootScope.setTour(n),r&&r()}let i={serviceName:"tour/update",method:"PUT",serviceType:"",data:e,onFail:a},n=cache.updateTour(e);GmCXt.isEmpty(n)?i.onSuccess=t:(i.onFail=a,i.onSuccess=function(e){t&&t(e.data.tour),GmCXt.validateApiResp(o,i.serviceName,e.data.tour,GmCXt.model.guide)}),i.data.tour_settings=JSON.stringify(i.data.tour_settings),api$1.post(i)},api$1.stepUpdateElement=function(e,t){e={serviceName:"step/update",method:"PUT",serviceType:"adminwithparams",data:e,onSuccess:t};e.data.step_settings=JSON.stringify(e.data.step_settings),api$1.post(e)},api$1.getTour=function(e,r,t,o){let a=!1,i={serviceName:"tour",method:"GET",serviceType:"",data:e};function n(e){e=GmCXt.migrateTour(e),"home"!==rootScope.lastActiveView&&rootScope.setTour(e),r&&r(e)}(a=o?a:cache.getTour(e,r))&&!e.isDeskReq||api$1.get(i).then(function(e){let t={};(t=e.data.tour?e.data.tour:t)?GmCXt.validateApiResp(n,i.serviceName,t,GmCXt.model.guide):r()},function(){r()})},api$1.tourDelete=function(e,r,o,a){let i={serviceName:"tour",method:"DELETE",serviceType:"adminwithparams",data:e};function t(e){function t(e){n&&(rootScope.setTour(n),a())}e&&e.error?t():(GmCXt.isEmpty(n)?i.onSuccess=r:(i.onFail=t,i.onSuccess=o),api$1.post(i))}let n=cache.deleteTour(e,r);e.is_locked?(e={category_id:e.category_id,tour_id:e.tour_id},api$1.tourUnlock(e,t,!0)):t()},api$1.pinUnpinTour=function(e,t,r){e={serviceName:"tour/pin",method:"POST",serviceType:"",data:e,onSuccess:r};api$1.post(e)},api$1.tourUpdate=function(e,t,r,o){function a(e){n&&rootScope.setTour(n),r&&r()}let i={serviceName:"tour",method:"PUT",serviceType:"",data:e,onFail:a},n=cache.updateTour(e);GmCXt.isEmpty(n)?i.onSuccess=t:(i.onFail=a,i.onSuccess=function(e){t&&t(e.data.tour),GmCXt.validateApiResp(o,i.serviceName,e.data.tour,GmCXt.model.guide)}),i.data.tour_settings=JSON.stringify(i.data.tour_settings),api$1.post(i)},api$1.publishedTourUpdate=function(e,t,r,o){function a(e){n&&rootScope.setTour(n),r&&r()}let i={serviceName:"tour/quick/update",method:"PUT",serviceType:"",data:{tour_id:e.tour_id,new_settings:e.new_settings,keywords:e.keywords,tour_type:e.tour_type},onFail:a},n=cache.updateTour(e);GmCXt.isEmpty(n)?i.onSuccess=function(e){GmCXt.validateApiResp(t,i.serviceName,e.data.tour,GmCXt.model.guide)}:(i.onFail=a,i.onSuccess=function(e){t&&t(e.data.tour),GmCXt.validateApiResp(o,i.serviceName,e.data.tour,GmCXt.model.guide)}),i.data.new_settings=JSON.stringify(i.data.new_settings),api$1.post(i)},api$1.tourLangUpdate=function(e,t){let r={serviceName:"tour/language/update",method:"PUT",serviceType:"",data:e,onSuccess:function(e){GmCXt.validateApiResp(t,r.serviceName,e.data.tour,GmCXt.model.guide)}};r.data.tour_settings=JSON.stringify(r.data.tour_settings),api$1.post(r)},api$1.tourUnlock=function(e,t,r){var o={serviceName:"tour/unlock",method:"POST",serviceType:"",data:e};let a=null;r||(a=cache.unlockTour(e,t)),GmCXt.isEmpty(a)&&!r||(o.onFail=function(e){a&&(a.is_locked=!0,rootScope.setTour(a),t(a)),r&&t(e)}),GmCXt.isEmpty(a)&&(o.onSuccess=t),api$1.post(o)},api$1.tourCreate=function(e,t){e.organization_id=api$1.orgId();function r(e){rootScope.setTour(e),t(e)}let o={serviceName:"tour",method:"POST",serviceType:"",data:e,onSuccess:function(e){GmCXt.validateApiResp(r,o.serviceName,e.data.tour,GmCXt.model.guide)}};cache.createTour(e),api$1.post(o)},api$1.tourStatus=function(t,r){function e(e){a&&(rootScope.setTour(a),rootScope.refreshPageView())}var o={serviceName:"tour/publish",method:"POST",serviceType:"",data:t};let a={};GmCXt.organization.admin_settings.guide_segmentation||"filter-list"===rootScope.currentView?(o.onSuccess=function(){var e;rootScope.allTourList["cat_"+t.category_id]&&rootScope.allTourList["cat_"+t.category_id]["tour_"+t.tour_id]&&(e=rootScope.allTourList["cat_"+t.category_id]["tour_"+t.tour_id],cache.tourStatus(e,t)),r()},o.onFail=e):(a=cache.updateTourStatus(t),GmCXt.isEmpty(a)?o.onSuccess=r:o.onFail=e),api$1.post(o)},api$1.pubUnpubTour=function(t,e){function r(e){GmCXt.isEmpty(a)||(t.env_name.forEach(function(e){e=a.tour_settings.app_publish_env.indexOf(e);a.tour_settings.app_publish_env=a.tour_settings.app_publish_env.splice(e,0)}),rootScope.setTour(a),rootScope.refreshPageView())}var o={serviceName:"tour/status",method:"POST",serviceType:"",data:t};let a={},i;var n=GmCXt.organization.admin_settings.guide_segmentation;let s="";Gm.CurrentPage.subscribe(e=>{s=e}),n||"myguides"===s?(o.onSuccess=function(){rootScope.allTourList["cat_"+t.category_id]&&rootScope.allTourList["cat_"+t.category_id]["tour_"+t.tour_id]&&(i=rootScope.allTourList["cat_"+t.category_id]["tour_"+t.tour_id],cache.tourEnv(i,t)),e(i)},o.onFail=r):(a=cache.updateTourEnv(t),o.onSuccess=function(){GmCXt.isEmpty(a)?e():e(a)},GmCXt.isEmpty(a)||(o.onFail=r)),api$1.post(o)},api$1.getTourDownload=function(e,t){e.organization_id=api$1.orgId();e={serviceName:"tour/bulk/export",method:"POST",serviceType:"",data:e,onSuccess:t};api$1.post(e)},api$1.copyGuides=function(e,t){e={serviceName:"tour/bulk/copy",method:"POST",serviceType:"",data:e,onSuccess:t};api$1.post(e)},api$1.tourUpload=function(e,t){e={serviceName:"tour/bulk/import",method:"POST",serviceType:"",data:e,onSuccess:t};api$1.post(e)},api$1.updateGuide=function(e,t){t={serviceName:"tour/draft",method:"POST",serviceType:"",data:e,onSuccess:t};cache.clearTourList(e),api$1.post(t)},api$1.tourCopy=function(e,t){var r={serviceName:"tour/copy",method:"GET",serviceType:"",data:e};cache.clearTourList(e),api$1.get(r).then(t)},api$1.getTextToAudio=function(e,t){e={serviceName:"file/audio",method:"PUT",serviceType:"",data:e,onSuccess:t};api$1.post(e)},api$1.getTaskStatus=function(e,t){e.organization_id=api$1.orgId();e={serviceName:"organization/tasks",method:"GET",data:e};api$1.get(e).then(t)},api$1.getUserProfile=function(t){let r={serviceName:"user",method:"GET",data:{user_id:GmCXt.user.user_id},serviceType:""};api$1.get(r).then(function(e){GmCXt.validateApiResp(t,r.serviceName,e.data.user,GmCXt.model.user)})},api$1.visitorVerify=function(e,t,r){e={serviceName:"visitor/verify",method:"POST",data:e,onSuccess:t,onFail:r};api$1.post(e)},api$1.categoriesDrag=function(e,t){e={serviceName:"category/updateorder",method:"POST",data:e,onFail:t};api$1.post(e)},api$1.toursDrag=function(e,t){e={serviceName:"tour/updateorder",method:"POST",data:e,onFail:t};api$1.post(e)},api$1.stepsDrag=function(e,t,r){e={serviceName:"step/updateorder",method:"POST",data:e,onFail:r,onSuccess:t};api$1.post(e)},api$1.getVisitorVerify=function(e,t){e={serviceName:"user/verify",method:"GET",data:e};api$1.get(e).then(t)},api$1.postOrgSettings=function(e,t){e.organization_id=api$1.orgId();e={serviceName:"organization",method:"PUT",serviceType:"",data:e,onSuccess:t};api$1.post(e)},api$1.tourCopyTemplate=function(e,t){e={serviceName:"tour/copy/template",method:"POST",serviceType:"",data:e,onSuccess:t};api$1.post(e)},api$1.getStep=function(e,t){e.application_id=api$3.appId(),e.organization_id=api$1.orgId();e={serviceName:"step",method:"GET",serviceType:"",data:e};api$1.get(e).then(function(e){t(e)})},api$1.stepSwap=function(e,t){e={serviceName:"step/order",method:"POST",serviceType:"adminwithparams",data:e,onSuccess:t};api$1.post(e)},api$1.stepCreate=function(e,t){e={serviceName:"step",method:"POST",serviceType:"adminwithparams",data:e,onSuccess:t,onFail:t};api$1.post(e)},api$1.stepUpdate=function(e,t){e={serviceName:"step",method:"PUT",serviceType:"adminwithparams",data:e,onSuccess:t};api$1.post(e)},api$1.stepUpdateLang=function(e,t){e={serviceName:"step/language/update",method:"PUT",serviceType:"adminwithparams",data:e,onSuccess:t};api$1.post(e)},api$1.stepDelete=function(e,t){e={serviceName:"step",method:"DELETE",serviceType:"adminwithparams",data:e,onSuccess:t};api$1.post(e)},api$1.bulkStepDelete=function(e,t){e={serviceName:"step/bulk/delete",method:"POST",serviceType:"",data:e,onSuccess:t};api$1.post(e)},api$1.stepCopy=function(e,t){e={serviceName:"step/copy",method:"GET",serviceType:"",data:e};api$1.get(e).then(t)},api$1.bulkStepCopy=function(e,t){e={serviceName:"step/bulk/copy",method:"POST",serviceType:"",data:e,onSuccess:t};api$1.post(e)},api$1.getSegmentList=function(){var e={application_id:api$1.appId(),organization_id:api$1.orgId()},e=(GmCXt.isMirrorApp()&&(e.application_id=GmCXt.getBaseAppId()),{serviceName:"segment/list",method:"GET",data:e});return api$1.get(e)},api$1.getTourList=function(r,o,e){r.application_id=e||api$1.appId(),r.organization_id=api$1.orgId(),rootScope.notDefaultLang()&&(r.language=rootScope.language),GmCXt.getLXPLang()&&(r.language=GmCXt.getLXPLang());let t={serviceName:"tour/list",method:"GET",serviceType:"",data:r};function a(e,t){GmCXt.isPlayer()&&(e=rootScope.filterGuideByEnv(e)),r.category_id&&rootScope.addTourList(r.category_id,e),o(e,t)}GmCXt.isDefined(r.search_text)&&!GmCXt.isEmpty(r.search_text)&&(t.serviceName="tour/search",t.method="POST");function i(e){GmCXt.validateApiResp(a,t.serviceName,e.data.tours,GmCXt.model.guides,e.data.pin_tours)}cache.getTourList(r).then(function(t){storage.pinnedToursList.get().then(function(e){o(t,e)})}).catch(function(){delete t.data.reloadFlag,"tour/search"===t.serviceName?(t.onSuccess=i,api$1.post(t)):api$1.get(t).then(i).catch(function(){rootScope.goBack()})})},api$1.updateApp=function(e,t){e={serviceName:"application",method:"PUT",serviceType:"",data:e,onSuccess:t};api$1.post(e)},api$1.getAppAllShortcuts=function(e,t){e.application_id=api$1.appId();e={serviceName:"application/shortcut_keys",method:"GET",data:e};api$1.get(e).then(function(e){t(e)})},api$1.fileUploadUrl=function(e){e.organization_id=api$1.orgId();e={serviceName:"file/upload/url",method:"GET",serviceType:"",data:e};return api$1.get(e)},api$1.uploadBase64Image=function(e,t,r){e={serviceName:"file/base64image",method:"POST",serviceType:"adminwithparams",data:e,onSuccess:t,onFail:r};api$1.upload(e)},api$1.uploadImageFile=function(e,t,r){e.append("organization_id",api$1.orgId());e={serviceName:"file/image",method:"POST",serviceType:"",data:e,fileInput:!0,onSuccess:t,onFail:r};api$1.upload(e)},api$1.analyticsCreate=function(e){e={serviceName:"analytics/create",method:"POST",data:e};api$1.post(e)},{});function add_css$3(e){append_styles(e,"svelte-30nvir","dialog.svelte-30nvir{width:460px;height:276px;border-radius:6px 6px 6px 6px;border:none;inset:unset;top:58px;right:20px;padding:0;overflow:hidden}dialog.svelte-30nvir::backdrop{background:rgba(0, 0, 0, 0.3)}dialog[open].svelte-30nvir{animation:svelte-30nvir-zoom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)}@keyframes svelte-30nvir-zoom{from{transform:scale(0.95)}to{transform:scale(1)}}dialog[open].svelte-30nvir::backdrop{animation:svelte-30nvir-fade 0.2s ease-out}@keyframes svelte-30nvir-fade{from{opacity:0}to{opacity:1}}.mgPlayerJSProd_push-notification-info-wrapper.svelte-30nvir{background:#FFFFFF;border-radius:6px;&:hover {\r\n\t\t& .mgPlayerJSProd_title-tooltip-wrapper {\r\n\t\t\tdisplay: none !important;\r\n\t\t}\r\n\t};&.mgPlayerJSProd_push-notification-info-micro-player {\r\n\t\twidth: 370px;\r\n\t\ttop: 38px;\r\n\r\n\t\t& .mgPlayerJSProd_notification-info-tabs-wrapper {\r\n\t\t\t& .mgPlayerJSProd_notification-info-tab {\r\n\t\t\t\t&:hover {\r\n\t\t\t\t\t& .mgPlayerJSProd_title-tooltip-wrapper {\r\n\t\t\t\t\t\tmax-width: 350px !important;\r\n\t\t\t\t\t\tmax-height: 119px;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\tright: -175px;\r\n\t\t\t\t\t\tfont-weight: normal !important;\r\n\t\t\t\t\t\tdisplay: block !important;\r\n\r\n\t\t\t\t\t\t&.mgPlayerJSProd_title-tooltip-align-left {\r\n\t\t\t\t\t\t\tleft: -175px;\r\n\t\t\t\t\t\t\tright: initial;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t& .mgPlayerJSProd_tooltip-title {\r\n\t\t\t\t\t\t\twhite-space: initial;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};& .mgPlayerJSProd_push-dropdown-pointer {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\ttop: -5px;\r\n\t\tleft: 350px;\r\n\t\tbox-sizing: border-box;\r\n\t\tborder: 9px solid #ffffff;\r\n\t\tborder-color: transparent transparent #ffffff #ffffff;\r\n\t\ttransform: rotate(135deg);\r\n\t\tbox-shadow: -2px 1px 5px -1px rgba(0, 0, 0, 0.4);\r\n\t\tz-index: -1;\r\n\t};& .mgPlayerJSProd_notification-overlay-wrapper {\r\n\t\tposition: fixed;\r\n\t\ttop: 62px;\r\n\t\tleft: 0px;\r\n\t\tz-index: -1;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: rgba(10, 10, 10, 0.3);\r\n\t\tcursor: default;\r\n\t};& .mgPlayerJSProd_notification-info-header-wrapper {\r\n\t\theight: 61px;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 6px 6px 0px 0px;\r\n\t\tborder-bottom: 1px solid #E6E6E6;\r\n\r\n\t\t& .mgPlayerJSProd_notification-close {\r\n\t\t\twidth: 15px;\r\n\t\t\theight: 15px;\r\n\t\t}\r\n\t};& .mgPlayerJSProd_notification-info-tabs-wrapper {\r\n\t\twidth: 100%;\r\n\t\theight: 50px;\r\n\t\tbackground: #ffffff;\r\n\t\tpadding: 3px;\r\n\r\n\t\t& .mgPlayerJSProd_notification-info-tab {\r\n\t\t\twidth: 50%;\r\n\t\t\tcolor: #555555;\r\n\t\t\ttext-transform: uppercase;\r\n\t\t\tborder-bottom: 1px solid transparent;\r\n\t\t\tfont-size: 12px;\r\n\t\t\tmargin: 0 15px;\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\t& .mgPlayerJSProd_title-tooltip-wrapper {\r\n\t\t\t\t\tmax-width: 435px !important;\r\n\t\t\t\t\tmax-height: 119px;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\tright: -215px;\r\n\t\t\t\t\tfont-weight: normal !important;\r\n\t\t\t\t\tdisplay: block !important;\r\n\t\t\t\t\ttext-transform: none;\r\n\r\n\t\t\t\t\t&.mgPlayerJSProd_title-tooltip-align-left {\r\n\t\t\t\t\t\tleft: -220px;\r\n\t\t\t\t\t\tright: initial;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t& .mgPlayerJSProd_tooltip-title {\r\n\t\t\t\t\t\twhite-space: initial;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&:hover, &.mgPlayerJSProd_notification-active-tab {\r\n\t\t\t\tborder-bottom: 1px solid var(--mg-primary);\r\n\t\t\t}\r\n\t\t}\r\n\t};& .mgPlayerJSProd_notification-guide-details-wrapper {\r\n\t\theight: 170px;\r\n\t\tbackground: #FFFFFF;\r\n\t\tborder-radius: 0px 0px 6px 6px;\r\n\t\tpadding-bottom: 30px;\r\n\r\n\t\t& .mgPlayerJSProd_notification-guide-details {\r\n\t\t\theight: 42px;\r\n\t\t\tbox-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 3px -2px;\r\n\r\n\t\t\t& .mgPlayerJSProd_title-tooltip-wrapper {\r\n\t\t\t\tfont-weight: normal !important;\r\n\t\t\t\tdisplay: none !important;\r\n\t\t\t\tmax-width: 90% !important;\r\n\r\n\t\t\t\t& .mgPlayerJSProd_tooltip-title {\r\n\t\t\t\t\twhite-space: normal;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\t& .mgPlayerJSProd_notification-guide-details-overlay {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t& .mgPlayerJSProd_title-tooltip-wrapper {\r\n\t\t\t\t\tfont-weight: normal !important;\r\n\t\t\t\t\tdisplay: block !important;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t& .mgPlayerJSProd_notification-guide-details-overlay {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 0px;\r\n\t\t\t\tleft: 0px;\r\n\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t& .mgPlayerJSProd_details-overlay-wrapper {\r\n\t\t\t\t\tbackground: #E7F5FF;\r\n\t\t\t\t\topacity: 0.3;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 0px;\r\n\t\t\t\t\tleft: 0px;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t& .mgPlayerJSProd_details-overlay-action-wrapper {\r\n\t\t\t\t\tmax-width: 170px;\r\n\r\n\t\t\t\t\t& .mgPlayerJSProd_action-show-again-icon {\r\n\t\t\t\t\t\twidth: 17px;\r\n\t\t\t\t\t\theight: 20px;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t& .mgPlayerJSProd_action-show-again-btn {\r\n\t\t\t\t\t\tmin-width: 84px;\r\n\t\t\t\t\t\theight: 20px;\r\n\t\t\t\t\t\tborder-radius: 30px;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\tpadding: 0px 10px;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t& .mgPlayerJSProd_notification-guide-icon {\r\n\t\t\t\twidth: 24px;\r\n\t\t\t\theight: 24px;\r\n\r\n\t\t\t\t& svg {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\r\n\t\t\t\t\t& rect {\r\n\t\t\t\t\t\tstroke: var(--mg-primary);\r\n\t\t\t\t\t\tfill: var(--mg-primary-hover) !important;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t& path {\r\n\t\t\t\t\t\tfill: var(--mg-primary);\r\n\t\t\t\t\t\tstroke: var(--mg-primary);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t& .mgPlayerJSProd_notification-guide-title {\r\n\t\t\t\twidth: 250px;\r\n\r\n\t\t\t\t& .mgPlayerJSProd_not-guide-title {\r\n\t\t\t\t\twidth: 70% !important\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t& .mgPlayerJSProd_no-guide-msg-wrapper {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tbackground: #ffffff;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0px;\r\n\t\t\tleft: 0px;\r\n\r\n\t\t\t& .mgPlayerJSProd_icon-oops {\r\n\t\t\t\tmargin-bottom: 10px;\r\n\r\n\t\t\t\t& svg {\r\n\t\t\t\t\twidth: 80px;\r\n\t\t\t\t\theight: 80px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}}")}function get_each_context$b(e,t,r){e=e.slice();return e[21]=t[r],e[23]=r,e}function get_each_context_1$5(e,t,r){e=e.slice();return e[21]=t[r],e[23]=r,e}function create_if_block$o(r){let o,a,i,n,s,l,c,d,p,u,g,m=rootScope.svgs.close_push+"",h,_,f,e=rootScope.labels.dontShowAgain+"",y,S,P,v,b,C,t=rootScope.labels.watchLater+"",w,k,x,T,A,$,L,J,G=r[2]&&r[4]&&r[4]?.doNotShowTour&&create_if_block_3$g(r),E=r[3]&&r[4]&&r[4]?.snoozeTour&&create_if_block_1$k(r);return{c(){o=element("dialog"),a=element("div"),i=element("div"),n=element("div"),s=space(),l=element("div"),c=space(),d=element("div"),(p=element("h3")).textContent=""+rootScope.labels.pushNotification,u=space(),g=element("button"),h=space(),_=element("div"),f=element("button"),y=text(e),S=space(),P=element("div"),(v=element("div")).textContent=""+rootScope.labels.tooltipDontShowAgain,b=space(),C=element("button"),w=text(t),k=space(),x=element("div"),(T=element("div")).textContent=`${rootScope.labels.tooltipWatchLater1} ${GmCXt.getSleepTime(rootScope.labels)} `+rootScope.labels.tooltipWatchLater2,A=space(),G&&G.c(),$=space(),E&&E.c(),attr(n,"class","mgPlayerJSProd_push-dropdown-pointer"),attr(l,"class","mgPlayerJSProd_notification-overlay-wrapper"),attr(p,"class","mgPlayerJSProd_notification-title mgPlayerJSProd_text-color-dark mgPlayerJSProd_font-weight-550 mgPlayerJSProd_font-size-18 mgPlayerJSProd_no-margin"),attr(p,"aria-label",rootScope.labels.pushNotification),attr(p,"tabindex","0"),attr(g,"id","mgPlayerJSProd_icon-close-push-notif-dropdown"),attr(g,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-close mgPlayerJSProd_position-relative mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),attr(g,"aria-label","close push notification dropdown"),attr(d,"class","mgPlayerJSProd_notification-info-header-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_padding-20 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),attr(v,"class","mgPlayerJSProd_tooltip-title"),attr(P,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_notification-tabs-tooltip mgPlayerJSProd_margin-tb-10"),attr(f,"id","mgPlayerJSProd_label-notification-list-dshow-again"),attr(f,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-info-tab mgPlayerJSProd_height-100 mgPlayerJSProd_font-weight-700 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_position-relative"),toggle_class(f,"mgPlayerJSProd_notification-active-tab",r[2]),attr(T,"class","mgPlayerJSProd_tooltip-title"),attr(x,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_notification-tabs-tooltip mgPlayerJSProd_margin-tb-10 mgPlayerJSProd_title-tooltip-align-left"),attr(C,"id","mgPlayerJSProd_label-notification-list-wlater"),attr(C,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-info-tab mgPlayerJSProd_height-100 mgPlayerJSProd_font-weight-700 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_position-relative"),toggle_class(C,"mgPlayerJSProd_notification-active-tab",r[3]),attr(_,"class","mgPlayerJSProd_notification-info-tabs-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),attr(i,"class","mgPlayerJSProd_push-notification-info-wrapper mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max mgPlayerJSProd_cursor mgPlayerJSProd_cursor-default "+(rootScope.isMicroPlayer?"mgPlayerJSProd_push-notification-info-micro-player":"")+" svelte-30nvir"),attr(o,"id","svelte-notification-modal"),attr(o,"role","region"),attr(o,"aria-labelledby",rootScope.labels.pushNotification),attr(o,"class","svelte-30nvir")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(i,s),append(i,l),append(i,c),append(i,d),append(d,p),append(d,u),append(d,g),g.innerHTML=m,append(i,h),append(i,_),append(_,f),append(f,y),append(f,S),append(f,P),append(P,v),append(_,b),append(_,C),append(C,w),append(C,k),append(C,x),append(x,T),append(i,A),G&&G.m(i,null),append(i,$),E&&E.m(i,null),r[14](o),L||(J=[listen(g,"click",r[9]),listen(f,"click",r[10]),listen(C,"click",r[11]),listen(a,"click",stop_propagation(r[8])),listen(o,"close",r[15])],L=!0)},p(e,t){4&t&&toggle_class(f,"mgPlayerJSProd_notification-active-tab",e[2]),8&t&&toggle_class(C,"mgPlayerJSProd_notification-active-tab",e[3]),e[2]&&e[4]&&e[4]?.doNotShowTour?G?G.p(e,t):((G=create_if_block_3$g(e)).c(),G.m(i,$)):G&&(G.d(1),G=null),e[3]&&e[4]&&e[4]?.snoozeTour?E?E.p(e,t):((E=create_if_block_1$k(e)).c(),E.m(i,null)):E&&(E.d(1),E=null)},d(e){e&&detach(o),G&&G.d(),E&&E.d(),r[14](null),L=!1,run_all(J)}}}function create_if_block_3$g(t){let a,i,n=ensure_array_like(t[4].doNotShowTour),s=[];for(let e=0;e<n.length;e+=1)s[e]=create_each_block_1$5(get_each_context_1$5(t,n,e));let l=0===t[4].doNotShowTour.length&&create_if_block_4$g();return{c(){a=element("div");for(let e=0;e<s.length;e+=1)s[e].c();i=space(),l&&l.c(),attr(a,"class","mgPlayerJSProd_notification-guide-details-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_position-relative")},m(e,t){insert(e,a,t);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(a,null);append(a,i),l&&l.m(a,null)},p(t,r){if(80&r){n=ensure_array_like(t[4].doNotShowTour);let e;for(e=0;e<n.length;e+=1){var o=get_each_context_1$5(t,n,e);s[e]?s[e].p(o,r):(s[e]=create_each_block_1$5(o),s[e].c(),s[e].m(a,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}0===t[4].doNotShowTour.length?l||((l=create_if_block_4$g()).c(),l.m(a,null)):l&&(l.d(1),l=null)},d(e){e&&detach(a),destroy_each(s,e),l&&l.d()}}}function create_each_block_1$5(r){let o,a,i=rootScope.svgs.default_guide+"",n,s,l,c=r[21].tour_title+"",d,p,u,g,m=r[21].tour_title+"",h,_,f,y,S,P,v,b,C;function w(){return r[12](r[21],r[23])}return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),l=element("div"),d=text(c),p=space(),u=element("div"),g=element("div"),h=text(m),_=space(),f=element("div"),y=element("div"),S=space(),P=element("div"),(v=element("button")).textContent=""+rootScope.labels.showAgain,attr(a,"class","mgPlayerJSProd_notification-guide-icon mgPlayerJSProd_position-relative"),attr(l,"class","mgPlayerJSProd_text-overflow-ellipsis mgPlayerJSProd_text-color-dark "+(rootScope.isMicroPlayer?"mgPlayerJSProd_not-guide-title":"")),attr(s,"class","mgPlayerJSProd_notification-guide-title mgPlayerJSProd_margin-lr-10"),attr(g,"class","mgPlayerJSProd_tooltip-title"),attr(u,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right mgPlayerJSProd_margin-lr-10"),attr(y,"class","mgPlayerJSProd_details-overlay-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_z-index mgPlayerJSProd_z-index-1"),attr(v,"id","mgPlayerJSProd_label-show-again"),attr(v,"class","mgPlayerJSProd_action-show-again-btn mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_theme-background mgPlayerJSProd_text-color-white mgPlayerJSProd_font-size-12 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn"),attr(P,"class","mgPlayerJSProd_details-overlay-action-wrapper mgPlayerJSProd_height-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_z-index mgPlayerJSProd_z-index-2"),attr(f,"class","mgPlayerJSProd_notification-guide-details-overlay mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_padding-lr-20"),attr(o,"class","mgPlayerJSProd_notification-guide-details mgPlayerJSProd_width-100 mgPlayerJSProd_padding-lr-20 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-start mgPlayerJSProd_position-relative"),attr(o,"tabindex","0")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,l),append(l,d),append(o,p),append(o,u),append(u,g),append(g,h),append(o,_),append(o,f),append(f,y),append(f,S),append(f,P),append(P,v),b||(C=listen(v,"click",w),b=!0)},p(e,t){r=e,16&t&&c!==(c=r[21].tour_title+"")&&set_data(d,c),16&t&&m!==(m=r[21].tour_title+"")&&set_data(h,m)},d(e){e&&detach(o),b=!1,C()}}}function create_if_block_4$g(e){let r,o,a,i=rootScope.svgs.no_guides_image+"",n,s,l,c;return{c(){r=element("div"),o=element("div"),a=element("div"),n=space(),(s=element("div")).textContent="Oops!",l=space(),(c=element("div")).textContent=""+rootScope.labels.noGuidesOnThisTab,attr(a,"class","mgPlayerJSProd_icon-oops mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center"),attr(s,"class","mgPlayerJSProd_icon-text mgPlayerJSProd_text-align-center mgPlayerJSProd_font-weight-550"),attr(s,"tabindex","0"),attr(c,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-tb-5"),attr(c,"tabindex","0"),attr(o,"class","mgPlayerJSProd_oops-wrapper mgPlayerJSProd_text-align-center"),attr(r,"class","mgPlayerJSProd_no-guide-msg-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center")},m(e,t){insert(e,r,t),append(r,o),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(o,l),append(o,c)},d(e){e&&detach(r)}}}function create_if_block_1$k(t){let a,i,n=ensure_array_like(t[4].snoozeTour),s=[];for(let e=0;e<n.length;e+=1)s[e]=create_each_block$b(get_each_context$b(t,n,e));let l=0===t[4].snoozeTour.length&&create_if_block_2$j();return{c(){a=element("div");for(let e=0;e<s.length;e+=1)s[e].c();i=space(),l&&l.c(),attr(a,"class","mgPlayerJSProd_notification-guide-details-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_position-relative")},m(e,t){insert(e,a,t);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(a,null);append(a,i),l&&l.m(a,null)},p(t,r){if(144&r){n=ensure_array_like(t[4].snoozeTour);let e;for(e=0;e<n.length;e+=1){var o=get_each_context$b(t,n,e);s[e]?s[e].p(o,r):(s[e]=create_each_block$b(o),s[e].c(),s[e].m(a,i))}for(;e<s.length;e+=1)s[e].d(1);s.length=n.length}0===t[4].snoozeTour.length?l||((l=create_if_block_2$j()).c(),l.m(a,null)):l&&(l.d(1),l=null)},d(e){e&&detach(a),destroy_each(s,e),l&&l.d()}}}function create_each_block$b(r){let o,a,i=rootScope.svgs.default_guide+"",n,s,l,c=r[21].tour_title+"",d,p,u,g,m=r[21].tour_title+"",h,_,f,y,S,P,v,b,C;function w(){return r[13](r[21],r[23])}return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),l=element("div"),d=text(c),p=space(),u=element("div"),g=element("div"),h=text(m),_=space(),f=element("div"),y=element("div"),S=space(),P=element("div"),(v=element("button")).textContent=""+rootScope.labels.showAgain,attr(a,"class","mgPlayerJSProd_notification-guide-icon mgPlayerJSProd_position-relative"),attr(l,"class","mgPlayerJSProd_text-overflow-ellipsis mgPlayerJSProd_text-color-dark "+(rootScope.isMicroPlayer?"mgPlayerJSProd_not-guide-title":"")),attr(s,"class","mgPlayerJSProd_notification-guide-title mgPlayerJSProd_margin-lr-10"),attr(g,"class","mgPlayerJSProd_tooltip-title"),attr(u,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right mgPlayerJSProd_margin-lr-10"),attr(y,"class","mgPlayerJSProd_details-overlay-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_z-index mgPlayerJSProd_z-index-1"),attr(v,"id","mgPlayerJSProd_label-watch-again"),attr(v,"class","mgPlayerJSProd_action-show-again-btn mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_theme-background mgPlayerJSProd_text-color-white mgPlayerJSProd_font-size-12 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_primary-color mgPlayerJSProd_bg-color mgPlayerJSProd_lbl-btn"),attr(P,"class","mgPlayerJSProd_details-overlay-action-wrapper mgPlayerJSProd_height-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_z-index mgPlayerJSProd_z-index-2"),attr(f,"class","mgPlayerJSProd_notification-guide-details-overlay mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_padding-lr-20"),attr(o,"class","mgPlayerJSProd_notification-guide-details mgPlayerJSProd_width-100 mgPlayerJSProd_padding-lr-20 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-start mgPlayerJSProd_position-relative"),attr(o,"tabindex","0")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,l),append(l,d),append(o,p),append(o,u),append(u,g),append(g,h),append(o,_),append(o,f),append(f,y),append(f,S),append(f,P),append(P,v),b||(C=listen(v,"click",w),b=!0)},p(e,t){r=e,16&t&&c!==(c=r[21].tour_title+"")&&set_data(d,c),16&t&&m!==(m=r[21].tour_title+"")&&set_data(h,m)},d(e){e&&detach(o),b=!1,C()}}}function create_if_block_2$j(e){let r,o,a,i=rootScope.svgs.no_guides_image+"",n,s,l,c;return{c(){r=element("div"),o=element("div"),a=element("div"),n=space(),(s=element("div")).textContent="Oops!",l=space(),(c=element("div")).textContent=""+rootScope.labels.noGuidesOnThisTab,attr(a,"class","mgPlayerJSProd_icon-oops mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center"),attr(s,"class","mgPlayerJSProd_icon-text mgPlayerJSProd_text-align-center mgPlayerJSProd_font-weight-550"),attr(s,"tabindex","0"),attr(c,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-tb-5"),attr(c,"tabindex","0"),attr(o,"class","mgPlayerJSProd_oops-wrapper mgPlayerJSProd_text-align-center"),attr(r,"class","mgPlayerJSProd_no-guide-msg-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center")},m(e,t){insert(e,r,t),append(r,o),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(o,l),append(o,c)},d(e){e&&detach(r)}}}function create_fragment$s(e){let r,o=e[0]&&create_if_block$o(e);return{c(){o&&o.c(),r=empty()},m(e,t){o&&o.m(e,t),insert(e,r,t)},p(e,[t]){e[0]?o?o.p(e,t):((o=create_if_block$o(e)).c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i:noop,o:noop,d(e){e&&detach(r),o&&o.d(e)}}}function instance$r(t,e,i){let n,r=e.pushNotificationDropdown,o,a,s,l,c=(get_store_value(Gm.notificationsGuides),Gm.dShowAgain.subscribe(e=>{i(2,a=e)})),d=Gm.wLater.subscribe(e=>{i(3,s=e)});function p(e){Gm.dShowAgain.set(!1),Gm.wLater.set(!1),Gm[e].set(!0)}function u(o,a){storage$1.notifTours.get().then(function(e){var t={};function r(e){rootScope.saveUser(GmCXt.user)}(t=GmCXt.isAnonymousUser()?e.tourIdArray||{}:GmCXt.createDeepCopy(GmCXt.user).settings.viewed_guide_notifications||{})[o]&&(GmCXt.isAnonymousUser()?GmCXt.updateNotiDoNotShow(o):(delete t[o],GmCXt.user.settings.viewed_guide_notifications=t,GmCXt.user.signin_user_email?(e={email_id:GmCXt.user.signin_user_email,settings:JSON.stringify(l.settings),organization_id:GmCXt.user.organization_id},GmCXt.setAnonymousUserPrefrence(e).then(r)):(l.settings=JSON.stringify(l.settings),api.postUserProfile(l,r))),n.doNotShowTour.splice(a,1),i(4,n={...n}))})}function g(e,t){n.snoozeTour.splice(t,1),i(4,n={...n}),GmCXt.updateNotiWatchLater(e)}l=rootScope.user,GmCXt.updateNotiWatchLater=function(r){GmCXt.storage().get(["tourIdArray","toursClosed"]).then(function(e){var t=GmCXt.parseJSON(e.toursClosed),e=(t[r]&&(delete t[r],GmCXt.storage().set({toursClosed:t})),GmCXt.parseJSON(e.tourIdArray));GmCXt.updNotifDataSidePanel(t,e)})},GmCXt.updateNotiDoNotShow=function(r){GmCXt.storage().get(["tourIdArray","toursClosed"]).then(function(e){var t=GmCXt.parseJSON(e.tourIdArray),e=(t[r]&&(delete t[r],GmCXt.storage().set({tourIdArray:t})),GmCXt.parseJSON(e.toursClosed));GmCXt.updNotifDataSidePanel(e,t)})},p("wLater"),onDestroy(()=>()=>{c(),d()});return t.$$set=e=>{"pushNotificationDropdown"in e&&i(0,r=e.pushNotificationDropdown)},t.$$.update=()=>{3&t.$$.dirty&&o&&r&&o.showModal()},i(4,n=rootScope.notifications),[r,o,a,s,n,p,u,g,function(e){bubble.call(this,t,e)},()=>o.close(),()=>p("dShowAgain"),()=>p("wLater"),(e,t)=>u(e.tour_id,t),(e,t)=>g(e.tour_id,t),function(e){binding_callbacks[e?"unshift":"push"](()=>{o=e,i(1,o)})},()=>i(0,r=!1)]}api=GmCXt.isPlayer()?api$2:api$1;class NotificationModal extends SvelteComponent{constructor(e){super(),init(this,e,instance$r,create_fragment$s,safe_not_equal,{pushNotificationDropdown:0},add_css$3)}}var logAll=[];let logLog=function(){console.log(JSON.stringify(logAll))},stopCapture=function(e){e=e||logAll;var e=JSON.stringify(e,null,2),e=new Blob([e],{type:"text/plain"}),e=URL.createObjectURL(e),t=document.createElement("a");t.href=e,t.download="console_logs.txt",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e)},logoutServ={logout:function(t){Gm.loading.set(!0),t=t||"user",GmCXt.log(1,"User logged out: "+t),rootScope.videoUploadMessage=!1,rootScope.uploadProgressBar=!1,Gm.statusBar.set("logoutServ"),rootScope.uploadInProgress=!1,rootScope.closeAppPopup(),rootScope.isElectron?GmCXt.stopVideoStep_():(e={action:"mgPlayerJSProd_action:stop_video_upload_in_background"},GmCXt.sendMessageToBackgroundService(e));var e={action:"mgPlayerJSProd_action:stop_screencast"};function r(e){logoutServ.clearSession(t),rootScope.showWidget(),rootScope.removeChatIcon(),rootScope.hideCurrentPageGuidesIndicator(),Gm.loading.set(!1),Gm.breadCrumb.set([])}GmCXt.sendMessageToBackgroundService(e),"logout_button_click"===t?api.userSignOut(r):r()},clearSession:function(e){let t=!1;var r=GmCXt.user;GmCXt.isEmpty(r)||(rootScope.showPlayer=!1,rootScope.initPlayerMode(!0),storage$1.clearIndexedDb(GmCXt.conf.appName+GmCXt.conf.env+"DB"),"user"!==e&&(t=!0)),storage$1.dual_auth_token.get().then(function(t){storage$1.lastSsoRedirectTime.get().then(function(e){storage$1.reset(),t&&storage$1.dual_auth_token.set(t,rootScope.thirtyDaysInSeconds),e&&storage$1.lastSsoRedirectTime.set(e)})}),storage$1.confirmLinkGuidePub.remove(),storage$1.taskList.remove(),rootScope.copiedStep=!1,rootScope.copiedTour=!1,rootScope.edLogin=!1,Gm.loading.set(!1),Gm.miniPlayer.set(!1),rootScope.chatBot=!1,rootScope.chatBotMin=!1,rootScope.user=!1,rootScope.organization=!1,rootScope.enableTranslation=!1,rootScope.activeSortFilter="",rootScope.descOrder=!1,rootScope.contextTours={},rootScope.uploadStepProgressBar=!1,rootScope.pendingStepCount=-1,GmCXt.enableTranslation=!1,rootScope.publishedTours=[],GmCXt.edCandidates=null,rootScope.uploadProgressBar=!1,Gm.statusBar.set("logout"),rootScope.videoUploadMessage=!1,GmCXt.user={},GmCXt.organization={},rootScope.updateWidgetIconSendMsg(),rootScope.resetAppData(),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:user_logout",data:{startInterval:t}}),rootScope.navBarVisible=!1,rootScope.hidePanelOverlay();GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:stop_sync_interval"}),GmCXt.isExtension()&&GmCXt.storage().set({login_state:!1}),rootScope.clearStorage().then(function(){Gm.activeView.set("signin")}),t&&(rootScope.appConfig.login.SSO||GmCXt.isMyGuide())&&GmCXt.isPlayer()&&rootScope.isAllowedDomain()&&GmCXt.urlParts&&rootScope.signInWithSso()}};var NavBarIcon='<svg width="24" height="16" viewBox="0 0 24 16" fill="none">\r\n    <path d="M22.935 13.717H10.452C10.1868 13.717 9.9324 13.8223 9.74487 14.0099C9.55733 14.1974 9.45197 14.4517 9.45197 14.717C9.45197 14.9822 9.55733 15.2365 9.74487 15.4241C9.9324 15.6116 10.1868 15.717 10.452 15.717H22.935C23.2002 15.717 23.4545 15.6116 23.6421 15.4241C23.8296 15.2365 23.935 14.9822 23.935 14.717C23.935 14.4517 23.8296 14.1974 23.6421 14.0099C23.4545 13.8223 23.2002 13.717 22.935 13.717ZM22.935 7.24996H10.452C10.1868 7.24996 9.9324 7.35532 9.74487 7.54285C9.55733 7.73039 9.45197 7.98474 9.45197 8.24996C9.45197 8.51518 9.55733 8.76953 9.74487 8.95707C9.9324 9.1446 10.1868 9.24996 10.452 9.24996H22.935C23.2002 9.24996 23.4545 9.1446 23.6421 8.95707C23.8296 8.76953 23.935 8.51518 23.935 8.24996C23.935 7.98474 23.8296 7.73039 23.6421 7.54285C23.4545 7.35532 23.2002 7.24996 22.935 7.24996ZM10.452 2.78296H22.935C23.2002 2.78296 23.4545 2.6776 23.6421 2.49007C23.8296 2.30253 23.935 2.04818 23.935 1.78296C23.935 1.51774 23.8296 1.26339 23.6421 1.07585C23.4545 0.888316 23.2002 0.782959 22.935 0.782959H10.452C10.1868 0.782959 9.9324 0.888316 9.74487 1.07585C9.55733 1.26339 9.45197 1.51774 9.45197 1.78296C9.45197 2.04818 9.55733 2.30253 9.74487 2.49007C9.9324 2.6776 10.1868 2.78296 10.452 2.78296ZM5.73897 3.57496C5.55144 3.38749 5.29714 3.28217 5.03197 3.28217C4.76681 3.28217 4.5125 3.38749 4.32497 3.57496L0.357972 7.54296C0.170501 7.73049 0.0651855 7.98479 0.0651855 8.24996C0.0651855 8.51512 0.170501 8.76943 0.357972 8.95696L4.32497 12.925C4.51357 13.1071 4.76618 13.2079 5.02837 13.2056C5.29057 13.2034 5.54138 13.0982 5.72679 12.9128C5.9122 12.7274 6.01737 12.4766 6.01965 12.2144C6.02192 11.9522 5.92113 11.6996 5.73897 11.511L2.47897 8.24996L5.73897 4.98896C5.92644 4.80143 6.03176 4.54712 6.03176 4.28196C6.03176 4.01679 5.92644 3.76249 5.73897 3.57496Z" fill="#555555"/>\r\n</svg>',SettIcon='<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="4 3 20 20" fill="none">\r\n\t<g clip-path="url(#clip0_3195_94)">\r\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M18.608 14.08C18.4413 14.7777 18.1645 15.4444 17.788 16.055C18.0254 16.3613 18.1432 16.7437 18.1192 17.1305C18.0953 17.5173 17.9314 17.8822 17.658 18.157C17.3834 18.4305 17.0185 18.5947 16.6317 18.6188C16.2449 18.6429 15.8625 18.5253 15.556 18.288C14.9449 18.6649 14.2775 18.9417 13.579 19.108C13.5297 19.4922 13.3423 19.8453 13.0517 20.1015C12.7612 20.3576 12.3873 20.4993 12 20.5C11.6125 20.4995 11.2384 20.358 10.9476 20.1018C10.6569 19.8456 10.4693 19.4924 10.42 19.108C9.72228 18.9413 9.05558 18.6645 8.445 18.288C8.13865 18.5254 7.75633 18.6432 7.36949 18.6192C6.98265 18.5953 6.61776 18.4314 6.343 18.158C6.06949 17.8834 5.90535 17.5185 5.88124 17.1317C5.85713 16.7449 5.97471 16.3625 6.212 16.056C5.83522 15.4448 5.5584 14.7774 5.392 14.079C5.00781 14.0297 4.65469 13.8423 4.39854 13.5517C4.1424 13.2612 4.00074 12.8873 4 12.5C4 11.688 4.608 11.024 5.392 10.92C5.55866 10.222 5.83547 9.55494 6.212 8.944C5.97513 8.6378 5.85771 8.25591 5.88163 7.86952C5.90555 7.48314 6.06918 7.11865 6.342 6.844C6.61651 6.57035 6.98127 6.40602 7.36811 6.38172C7.75496 6.35743 8.13742 6.47484 8.444 6.712C9.05481 6.33521 9.72188 6.05839 10.42 5.892C10.4695 5.50773 10.6571 5.15459 10.9479 4.89846C11.2386 4.64233 11.6125 4.50071 12 4.5C12.812 4.5 13.476 5.108 13.579 5.892C14.288 6.061 14.952 6.34 15.555 6.712C15.8615 6.47471 16.2439 6.35713 16.6307 6.38124C17.0175 6.40535 17.3824 6.56949 17.657 6.843C18.232 7.418 18.271 8.318 17.788 8.945C18.16 9.548 18.439 10.212 18.608 10.921C18.9922 10.9703 19.3453 11.1577 19.6015 11.4483C19.8576 11.7388 19.9993 12.1127 20 12.5C20 13.312 19.392 13.976 18.608 14.08ZM17.6 11.7H17.134C17.0068 10.8809 16.6844 10.1043 16.194 9.436L16.525 9.106C16.6024 9.03245 16.6643 8.94415 16.7071 8.8463C16.7498 8.74845 16.7725 8.64303 16.7739 8.53626C16.7753 8.42949 16.7553 8.32352 16.715 8.22461C16.6748 8.1257 16.6152 8.03584 16.5397 7.96033C16.4642 7.88483 16.3743 7.8252 16.2754 7.78497C16.1765 7.74474 16.0705 7.72472 15.9637 7.72608C15.857 7.72745 15.7515 7.75018 15.6537 7.79293C15.5559 7.83568 15.4675 7.89759 15.394 7.975L15.064 8.305C14.3952 7.8159 13.6188 7.49456 12.8 7.368V6.9C12.8 6.68783 12.7157 6.48434 12.5657 6.33431C12.4157 6.18429 12.2122 6.1 12 6.1C11.7878 6.1 11.5843 6.18429 11.4343 6.33431C11.2843 6.48434 11.2 6.68783 11.2 6.9V7.368C10.3812 7.49441 9.60468 7.81576 8.936 8.305L8.606 7.975C8.45488 7.83117 8.25355 7.75206 8.04493 7.75454C7.83632 7.75703 7.63693 7.84091 7.48928 7.9883C7.34162 8.13569 7.25739 8.33493 7.25454 8.54354C7.25168 8.75215 7.33043 8.95362 7.474 9.105L7.804 9.436C7.31458 10.1047 6.99289 10.8811 6.866 11.7H6.4C6.18783 11.7 5.98434 11.7843 5.83431 11.9343C5.68429 12.0843 5.6 12.2878 5.6 12.5C5.6 12.7122 5.68429 12.9157 5.83431 13.0657C5.98434 13.2157 6.18783 13.3 6.4 13.3H6.866C6.996 14.138 7.326 14.909 7.805 15.564L7.475 15.894C7.39759 15.9675 7.33568 16.0559 7.29293 16.1537C7.25018 16.2515 7.22745 16.357 7.22608 16.4637C7.22472 16.5705 7.24474 16.6765 7.28497 16.7754C7.3252 16.8743 7.38483 16.9642 7.46033 17.0397C7.53584 17.1152 7.6257 17.1748 7.72461 17.215C7.82352 17.2553 7.92949 17.2753 8.03626 17.2739C8.14303 17.2725 8.24845 17.2498 8.3463 17.2071C8.44415 17.1643 8.53245 17.1024 8.606 17.025L8.936 16.695C9.60474 17.1841 10.3812 17.5055 11.2 17.632V18.1C11.2 18.3122 11.2843 18.5157 11.4343 18.6657C11.5843 18.8157 11.7878 18.9 12 18.9C12.2122 18.9 12.4157 18.8157 12.5657 18.6657C12.7157 18.5157 12.8 18.3122 12.8 18.1V17.632C13.6189 17.5056 14.3953 17.1843 15.064 16.695L15.394 17.025C15.4675 17.1025 15.5557 17.1645 15.6535 17.2073C15.7514 17.2501 15.8567 17.273 15.9635 17.2744C16.0703 17.2759 16.1763 17.2559 16.2752 17.2158C16.3742 17.1757 16.4641 17.1161 16.5396 17.0407C16.6152 16.9652 16.6749 16.8754 16.7152 16.7766C16.7556 16.6777 16.7757 16.5717 16.7744 16.465C16.7731 16.3582 16.7505 16.2527 16.7078 16.1549C16.6652 16.057 16.6033 15.9686 16.526 15.895L16.196 15.564C16.674 14.909 17.004 14.138 17.134 13.3H17.6C17.8122 13.3 18.0157 13.2157 18.1657 13.0657C18.3157 12.9157 18.4 12.7122 18.4 12.5C18.4 12.2878 18.3157 12.0843 18.1657 11.9343C18.0157 11.7843 17.8122 11.7 17.6 11.7ZM12 15.7C11.1513 15.7 10.3374 15.3629 9.73726 14.7627C9.13714 14.1626 8.8 13.3487 8.8 12.5C8.8 11.6513 9.13714 10.8374 9.73726 10.2373C10.3374 9.63714 11.1513 9.3 12 9.3C12.8487 9.3 13.6626 9.63714 14.2627 10.2373C14.8629 10.8374 15.2 11.6513 15.2 12.5C15.2 13.3487 14.8629 14.1626 14.2627 14.7627C13.6626 15.3629 12.8487 15.7 12 15.7ZM12 10.9C11.7899 10.9 11.5818 10.9414 11.3877 11.0218C11.1936 11.1022 11.0172 11.2201 10.8686 11.3686C10.7201 11.5172 10.6022 11.6936 10.5218 11.8877C10.4414 12.0818 10.4 12.2899 10.4 12.5C10.4 12.7101 10.4414 12.9182 10.5218 13.1123C10.6022 13.3064 10.7201 13.4828 10.8686 13.6314C11.0172 13.7799 11.1936 13.8978 11.3877 13.9782C11.5818 14.0586 11.7899 14.1 12 14.1C12.4243 14.1 12.8313 13.9314 13.1314 13.6314C13.4314 13.3313 13.6 12.9243 13.6 12.5C13.6 12.0757 13.4314 11.6687 13.1314 11.3686C12.8313 11.0686 12.4243 10.9 12 10.9Z" fill="#555555"/>\r\n\t</g>\r\n\t<defs>\r\n\t<clipPath id="clip0_3195_94">\r\n\t<rect width="24" height="24" fill="white" transform="translate(0 0.5)"/>\r\n\t</clipPath>\r\n\t</defs>\r\n</svg>\r\n',EditIcon='<svg version="1.1" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve">\r\n\t\t<g>\r\n\t\t<g>\r\n\t\t<g>\r\n\t\t\t\t<path d="M43.1,29c-1.1,0-2,0.9-2,2v12.1c0,1.4-1.1,2.5-2.5,2.5H6.9c-1.4,0-2.5-1.1-2.5-2.5V11.5c0-1.4,1.1-2.5,2.5-2.5H19\r\n\t\tc1.1,0,2-0.9,2-2s-0.9-2-2-2H6.9c-3.6,0-6.5,2.9-6.5,6.5v31.6c0,3.6,2.9,6.5,6.5,6.5h31.6c3.6,0,6.5-2.9,6.5-6.5V31\r\n\t\tC45.1,29.9,44.2,29,43.1,29z"/>\r\n\t\t</g>\r\n\t\t</g>\r\n\t\t<g>\r\n\t\t<g>\r\n\t\t<path d="M49,10l-9-9c-0.8-0.8-2-0.8-2.8,0L14.6,23.6C14.2,24,14,24.5,14,25v9c0,1.1,0.9,2,2,2h9c0.5,0,1-0.2,1.4-0.6L49,12.9\r\n\t\tc0.4-0.4,0.6-0.9,0.6-1.4C49.6,10.9,49.4,10.4,49,10z M24.2,32H18v-6.2L38.5,5.2l6.2,6.2L24.2,32z"/>\r\n\t\t</g>\r\n\t\t</g>\r\n\t\t</g> \r\n\t\t</svg> ',PlayStoreIcon='<svg width="30" height="30" viewBox="0 0 30 30" fill="none">\r\n<path opacity="0.802967" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#666666"/>\r\n<path d="M11.874 7.19116C11.4876 6.95854 11.0271 6.93774 10.6254 7.1314L17.3599 13.8803L19.5619 11.6681L11.874 7.19116ZM10.0066 7.75601C9.92168 7.9359 9.87598 8.136 9.87598 8.34196V20.6872C9.87598 20.894 9.92197 21.0912 10.0078 21.2673L16.7397 14.5034L10.0066 7.75601ZM17.3608 15.1257L10.6371 21.8813C10.8156 21.964 11.0054 22 11.195 22C11.429 22 11.6625 21.944 11.8741 21.8169L19.5634 17.3333L17.3608 15.1257ZM22.4899 13.3732C22.4873 13.3714 22.4843 13.3696 22.4817 13.3682L20.3471 12.1251L17.9808 14.5026L20.3486 16.8753C20.3486 16.8753 22.4873 15.6285 22.4899 15.627C22.8869 15.3859 23.1239 14.9646 23.1239 14.4999C23.1239 14.0353 22.8869 13.614 22.4899 13.3732Z" fill="white"/>\r\n</svg>\r\n',DesktopIcon='<svg width="30" height="30" viewBox="0 0 30 30" fill="none">\r\n<path opacity="0.802967" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#666666"/>\r\n<path d="M20.239 9.30719C20.0343 9.10247 19.7883 9 19.5007 9H9.04552C8.75801 9 8.51195 9.10247 8.30708 9.30719C8.10233 9.51199 8 9.75803 8 10.0456V18.2816C8 18.5692 8.10233 18.8153 8.30708 19.0201C8.51195 19.2248 8.75801 19.3271 9.04552 19.3271H12.6003C12.6003 19.4926 12.5655 19.6627 12.4958 19.8368C12.4261 20.0111 12.3564 20.1635 12.2867 20.2941C12.217 20.4249 12.1822 20.5206 12.1822 20.5816C12.1822 20.6948 12.2235 20.7931 12.3063 20.8756C12.3891 20.9585 12.4871 21 12.6003 21H15.946C16.0593 21 16.1573 20.9585 16.2401 20.8756C16.3229 20.7931 16.3643 20.6948 16.3643 20.5816C16.3643 20.5251 16.3293 20.4303 16.2597 20.2974C16.1899 20.1647 16.1202 20.0098 16.0506 19.8336C15.9809 19.6571 15.946 19.4883 15.946 19.3271H19.5009C19.7883 19.3271 20.0343 19.2248 20.2391 19.0201C20.4439 18.8153 20.5463 18.5693 20.5463 18.2816V10.0456C20.5463 9.75803 20.4439 9.51199 20.239 9.30719ZM19.7098 16.6088C19.7098 16.6654 19.6892 16.7144 19.6478 16.7558C19.6063 16.7971 19.5573 16.8178 19.5007 16.8178H9.04552C8.98892 16.8178 8.93989 16.7971 8.89851 16.7558C8.85716 16.7142 8.83644 16.6654 8.83644 16.6088V10.0456C8.83644 9.98892 8.85709 9.93994 8.89851 9.89856C8.93992 9.85725 8.98894 9.83649 9.04552 9.83649H19.5008C19.5574 9.83649 19.6065 9.85718 19.6478 9.89856C19.6892 9.93996 19.7098 9.98894 19.7098 10.0456V16.6088Z" fill="white" stroke="white" stroke-width="0.5"/>\r\n</svg>\r\n',AppleIcon='<svg width="30" height="30" viewBox="0 0 30 30" fill="none">\r\n<path opacity="0.802967" d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#666666"/>\r\n<path fill-rule="evenodd" clip-rule="evenodd" d="M20.9686 17.6609C20.8849 17.9033 20.7972 18.1347 20.7041 18.3566C20.4766 18.881 20.2081 19.3635 19.897 19.8065C19.4737 20.4114 19.1263 20.8299 18.8585 21.0621C18.444 21.4435 17.9994 21.6394 17.5232 21.6496C17.1812 21.6496 16.7698 21.5525 16.2897 21.3559C15.8087 21.1592 15.3665 21.0621 14.9622 21.0621C14.5381 21.0621 14.0833 21.1592 13.5968 21.3559C13.1096 21.5525 12.7171 21.6559 12.417 21.6654C11.9606 21.6852 11.5057 21.4846 11.0516 21.0621C10.7618 20.8094 10.3993 20.3758 9.96501 19.7623C9.49909 19.1068 9.11608 18.3463 8.816 17.4792C8.49459 16.5435 8.3335 15.6369 8.3335 14.7595C8.3335 13.7543 8.55066 12.8872 8.98578 12.1607C9.32772 11.5771 9.78259 11.1167 10.352 10.7787C10.9213 10.4407 11.5365 10.2685 12.1991 10.2575C12.5615 10.2575 13.0369 10.3696 13.6276 10.59C14.2167 10.8111 14.595 10.9232 14.7608 10.9232C14.8848 10.9232 15.3049 10.7921 16.0172 10.5307C16.6908 10.2883 17.2594 10.188 17.7253 10.2275C18.9873 10.3294 19.9349 10.8269 20.5659 11.7232C19.4374 12.407 18.8791 13.3649 18.8901 14.5937C18.9004 15.5508 19.2471 16.3476 19.9294 16.9802C20.2389 17.2731 20.5848 17.4998 20.9686 17.6609ZM17.794 6.66675C17.8043 6.76704 17.809 6.86733 17.809 6.96683C17.809 7.71704 17.535 8.4175 16.9893 9.06584C16.3299 9.83658 15.5324 10.282 14.6676 10.2117C14.6566 10.1217 14.6503 10.0269 14.6503 9.9274C14.6503 9.2072 14.9638 8.43645 15.5205 7.80628C15.7985 7.48724 16.1523 7.2219 16.5803 7.01027C17.0083 6.80179 17.4134 6.68649 17.794 6.66675Z" fill="white"/>\r\n</svg>\r\n',langExpand='<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 15 10" fill="none">\r\n\t<path d="M0.557617 2.5576L2.20262 0.912598L7.55762 6.25593L12.9126 0.912598L14.5576 2.5576L7.55762 9.5576L0.557617 2.5576Z" fill="black" fill-opacity="0.7"/>\r\n</svg>\r\n',langSelect='<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 16 12" fill="none">\r\n\t<path d="M5.45455 9.36111L2.14899 6.05555L2.11364 6.0202L2.07828 6.05555L0.964645 7.16919L0.929289 7.20455L0.964645 7.2399L5.41919 11.6944L5.45455 11.7298L5.4899 11.6944L15.0354 2.14899L15.0707 2.11364L15.0354 2.07828L13.9217 0.964645L13.8864 0.929289L13.851 0.964645L5.45455 9.36111Z" fill="#005BF0" stroke="#005BF0" stroke-width="0.1"/>\r\n</svg>',manageAccount='<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 24 20" fill="none">\r\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M14.8939 9.14809C14.8939 9.14809 15.9901 7.67638 15.9901 6.06451C15.9901 4.97077 15.9901 3.60968 15.378 2.39577C14.8261 1.3025 13.5928 0 10.8519 0C8.11032 0 6.87704 1.3025 6.3258 2.39562C5.71283 3.60968 5.71283 4.97061 5.71283 6.06436C5.71283 7.67685 6.48205 9.51778 7.80923 11.1479C7.49173 11.4476 6.18533 12.1007 5.40033 12.4925C3.84362 13.2712 2.85581 13.7864 2.26503 14.3767C0.957376 15.6853 0.858471 17.8807 0.851752 18.3079C0.845033 18.7535 1.01722 19.1843 1.33097 19.5029C1.64347 19.8202 2.07206 19.9998 2.51768 19.9998H14.1847V18.7499H2.51768C2.40722 18.7499 2.29925 18.7048 2.22159 18.6254C2.14409 18.5467 2.10019 18.4381 2.10128 18.327C2.10487 18.1176 2.16237 16.2481 3.14893 15.2612C3.6044 14.8059 4.55783 14.3121 5.95955 13.6107C7.45579 12.8631 8.28548 12.4175 8.66766 12.0562L9.51125 11.2586L8.77876 10.3589C7.62501 8.94169 6.96267 7.37607 6.96267 6.06451C6.96267 5.05311 6.96267 3.90749 7.44126 2.95905C8.01438 1.82499 9.16079 1.25 10.8519 1.25C12.5416 1.25 13.6892 1.82499 14.2619 2.95843C14.7405 3.90749 14.7405 5.05311 14.7405 6.06451C14.6742 6.4601 14.6529 6.7087 14.6374 6.88973C14.5966 7.36559 14.5958 7.37448 13.9236 8.35887L13.1911 9.25918L14.0348 10.0564C14.8939 9.5 14.8939 9.14809 14.8939 9.14809ZM22.5496 13.8889H23.4852C23.7691 13.8889 24 14.1198 24 14.4037V15.5961C24 15.88 23.7691 16.1111 23.4852 16.1111H22.5496C22.3993 16.1111 22.2752 16.1939 22.2178 16.3328C22.1604 16.4717 22.1894 16.618 22.2956 16.7243L22.957 17.3856C23.0543 17.483 23.1078 17.6122 23.1078 17.7496C23.1078 17.8872 23.0543 18.0167 22.957 18.1139L22.1139 18.957C21.9194 19.1515 21.5804 19.1519 21.3856 18.957L20.7243 18.2957C20.6363 18.208 20.5394 18.1894 20.4739 18.1894C20.2956 18.1894 20.1109 18.3241 20.1109 18.5496V19.485C20.1109 19.7689 19.88 20 19.5961 20H18.4037C18.1198 20 17.8889 19.7689 17.8891 19.485V18.5496C17.8891 18.3243 17.7044 18.1894 17.5261 18.1894C17.4604 18.1894 17.3637 18.2078 17.2757 18.2957L16.6144 18.957C16.4196 19.152 16.0807 19.1517 15.8861 18.957L15.043 18.1139C14.9457 18.0165 14.8922 17.8872 14.8922 17.7496C14.8922 17.6122 14.9457 17.4828 15.043 17.3856L15.7044 16.7243C15.8106 16.618 15.8398 16.4717 15.7822 16.3328C15.7246 16.1939 15.6007 16.1111 15.4504 16.1111H14.5148C14.2309 16.1111 14 15.88 14 15.5959V14.4037C14 14.1198 14.2309 13.8889 14.5148 13.8889H15.4504C15.6007 13.8889 15.7246 13.8061 15.782 13.6672C15.8394 13.5283 15.8104 13.382 15.7043 13.2757L15.0428 12.6144C14.9456 12.517 14.892 12.3878 14.892 12.2504C14.892 12.1128 14.9456 11.9833 15.0428 11.8861L15.8859 11.043C16.0804 10.8485 16.4194 10.8481 16.6143 11.043L17.2756 11.7043C17.3635 11.792 17.4602 11.8106 17.5257 11.8106C17.7043 11.8106 17.8889 11.6759 17.8889 11.4504V10.5148C17.8889 10.2309 18.1198 10 18.4037 10H19.5963C19.8802 10 20.1111 10.2309 20.1111 10.5148V11.4504C20.1111 11.5804 20.1711 11.6637 20.2213 11.7107C20.2893 11.7743 20.3813 11.8106 20.4739 11.8106C20.5396 11.8106 20.6363 11.7922 20.7243 11.7043L21.3856 11.043C21.5804 10.8481 21.9194 10.8485 22.1139 11.043L22.957 11.8861C23.0543 11.9835 23.1078 12.1128 23.1078 12.2504C23.1078 12.3878 23.0543 12.5172 22.957 12.6144L22.2956 13.2757C22.1894 13.382 22.1602 13.5283 22.2178 13.6672C22.2754 13.8061 22.3993 13.8889 22.5496 13.8889ZM19 16.2963C19.7146 16.2963 20.2963 15.7146 20.2963 15C20.2963 14.2854 19.7146 13.7037 19 13.7037C18.2854 13.7037 17.7037 14.2854 17.7037 15C17.7037 15.7146 18.2854 16.2963 19 16.2963Z" fill="#666666"/>\r\n</svg>',externalLink='<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 24 25" fill="none">\r\n\t<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3521 5.68455C19.3891 5.77155 19.4091 5.91455 19.4091 5.91455H19.3901V10.8506C19.3901 11.2506 19.0761 11.4736 18.6751 11.4736H18.6851C18.2841 11.4736 17.9411 11.2506 17.9411 10.8506V7.76755L11.6751 14.0686C11.3921 14.3526 10.9331 14.3456 10.6921 14.0626V14.0496C10.4501 13.7666 10.3851 13.2816 10.6691 12.9996L16.9531 6.63955H13.8701C13.4701 6.63955 13.1081 6.34155 13.1081 5.94055V5.96655C13.1081 5.56655 13.4701 5.19055 13.8701 5.19055H18.7021H18.6661V5.24055C18.9071 5.24055 19.2421 5.42355 19.3521 5.68455ZM16.1901 12.3766L17.6401 13.8266V18.3996C17.6401 19.1996 17.0101 19.8096 16.2101 19.8096H6.05906C5.25906 19.8096 4.59106 19.1996 4.59106 18.3996V8.25055C4.59106 7.45055 5.25906 6.76055 6.06006 6.76055H10.6321L12.0821 8.21055H6.04206V18.3605H16.1901V12.3766Z" fill="#555555"/>\r\n</svg>',iconMore='<svg width="25" height="18" viewBox="0 0 25 18" fill="none">\r\n<path d="M17.3473 0.85H2.41024C1.77929 0.85 1.26862 1.36067 1.26862 1.99162V15.9328C1.26862 16.5638 1.77929 17.0744 2.41024 17.0744H17.2825C17.6663 17.0744 18.0181 16.8742 18.2305 16.5634L23.2966 8.95722L18.2305 1.35106C18.0048 1.02022 17.7088 0.85 17.3473 0.85Z" stroke="#666666" stroke-width="1.7"/>\r\n<circle cx="8" cy="9" r="2" fill="#666666"/>\r\n<circle cx="14" cy="9" r="2" fill="#666666"/>\r\n</svg>\r\n';function get_each_context$a(e,t,r){e=e.slice();return e[35]=t[r],e}function create_if_block_27$2(e){let r;let o=(GmCXt.getAppSetting("isMiniPlayer")?create_else_block$a:create_if_block_28$2)(e);return{c(){o.c(),r=empty()},m(e,t){o.m(e,t),insert(e,r,t)},p(e,t){o.p(e,t)},d(e){e&&detach(r),o.d(e)}}}function create_else_block$a(e){let r,o=e[0].labels.miniPlayerHelp+"",a;return{c(){r=element("h4"),a=text(o),attr(r,"class","mgPlayerJSProd_theme-mplayer-header-title mgPlayerJSProd_font-size-16 mgPlayerJSProd_float-left mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_text-overflow-ellipsis mgPlayerJSProd_no-margin")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t[0]&&o!==(o=e[0].labels.miniPlayerHelp+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_28$2(r){let o,a,i,n,s,l,c;return{c(){o=element("div"),a=element("div"),attr(i=element("img"),"id","mgPlayerJSProd_header-brand-logo"),attr(i,"class","mgPlayerJSProd_logo-image mgPlayerJSProd_width-height-auto mgPlayerJSProd_max-width-height-100 mgPlayerJSProd_custom-image"),src_url_equal(i.src,n=r[3])||attr(i,"src",n),attr(i,"alt",s=r[0].labels.brandLogo),attr(a,"class","mgPlayerJSProd_logo-wrapper mgPlayerJSProd_inline-block-vm"),attr(o,"class","mgPlayerJSProd_panel-brand-logo-wrapper mgPlayerJSProd_float-left"),set_style(o,"margin-left","10px")},m(e,t){insert(e,o,t),append(o,a),append(a,i),l||(c=listen(i,"error",function(){is_function(r[0].staticContentPath+r[0].appConfig.defaultIcon)&&(r[0].staticContentPath+r[0].appConfig.defaultIcon).apply(this,arguments)}),l=!0)},p(e,t){r=e,8&t[0]&&!src_url_equal(i.src,n=r[3])&&attr(i,"src",n),1&t[0]&&s!==(s=r[0].labels.brandLogo)&&attr(i,"alt",s)},d(e){e&&detach(o),l=!1,c()}}}function create_if_block_26$2(r){let o,a,i=r[0].svgs.accessibility+"",n,s,l,c,d,p=r[0].labels.accessibility+"",u,g,m;return{c(){o=element("div"),a=element("button"),l=space(),c=element("div"),d=element("div"),u=text(p),attr(a,"id","mgPlayerJSProd_icon-accessibility"),attr(a,"class",n="mgPlayerJSProd_lbl-btn mgPlayerJSProd_accessibility-btn mgPlayerJSProd_position-center "+(r[0].accessibility?"mgPlayerJSProd_accessibility-btn-active":"")),attr(a,"aria-label",s=r[0].labels.accessibility),attr(d,"class","mgPlayerJSProd_tooltip-title"),attr(c,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),attr(o,"class","mgPlayerJSProd_accessibility-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,l),append(o,c),append(c,d),append(d,u),g||(m=listen(a,"click",function(){is_function(r[0].setAccessibility)&&r[0].setAccessibility.apply(this,arguments)}),g=!0)},p(e,t){r=e,1&t[0]&&i!==(i=r[0].svgs.accessibility+"")&&(a.innerHTML=i),1&t[0]&&n!==(n="mgPlayerJSProd_lbl-btn mgPlayerJSProd_accessibility-btn mgPlayerJSProd_position-center "+(r[0].accessibility?"mgPlayerJSProd_accessibility-btn-active":""))&&attr(a,"class",n),1&t[0]&&s!==(s=r[0].labels.accessibility)&&attr(a,"aria-label",s),1&t[0]&&p!==(p=r[0].labels.accessibility+"")&&set_data(u,p)},d(e){e&&detach(o),g=!1,m()}}}function create_if_block_25$3(r){let o,a,i=r[0].svgs.refresh+"",n,s,l,c,d=r[0].labels.refresh+"",p,u,g;return{c(){o=element("div"),a=element("button"),s=space(),l=element("div"),c=element("div"),p=text(d),attr(a,"id","mgPlayerJSProd_icon-refresh-alldata"),attr(a,"aria-label",n=r[0].labels.refresh),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_refresh-btn mgPlayerJSProd_position-center"),attr(c,"class","mgPlayerJSProd_tooltip-title"),attr(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),attr(o,"class","mgPlayerJSProd_refresh-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,s),append(o,l),append(l,c),append(c,p),u||(g=listen(a,"click",r[12]),u=!0)},p(e,t){1&t[0]&&i!==(i=e[0].svgs.refresh+"")&&(a.innerHTML=i),1&t[0]&&n!==(n=e[0].labels.refresh)&&attr(a,"aria-label",n),1&t[0]&&d!==(d=e[0].labels.refresh+"")&&set_data(p,d)},d(e){e&&detach(o),u=!1,g()}}}function create_if_block_24$3(e){let r,o,a,i=e[0].svgs.help_center+"",n,s,l,c,d=e[0].labels.helpCenter+"",p;return{c(){r=element("div"),o=element("a"),a=element("button"),s=space(),l=element("div"),c=element("div"),p=text(d),attr(a,"id","mgPlayerJSProd_icon-help-center"),attr(a,"aria-label",n=e[0].labels.helpCenter),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_help-center-btn mgPlayerJSProd_position-center"),attr(o,"href",getHelpCenterUrl()),attr(o,"target","_blank"),attr(o,"rel","noopener noreferrer"),attr(o,"tabindex","-1"),attr(c,"class","mgPlayerJSProd_tooltip-title"),attr(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),attr(r,"class","mgPlayerJSProd_help-center-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){insert(e,r,t),append(r,o),append(o,a),a.innerHTML=i,append(r,s),append(r,l),append(l,c),append(c,p)},p(e,t){1&t[0]&&i!==(i=e[0].svgs.help_center+"")&&(a.innerHTML=i),1&t[0]&&n!==(n=e[0].labels.helpCenter)&&attr(a,"aria-label",n),1&t[0]&&d!==(d=e[0].labels.helpCenter+"")&&set_data(p,d)},d(e){e&&detach(r)}}}function create_if_block_23$3(r){let o,a,i=r[0].svgs.bell+"",n,s,l,c,d=r[0].labels.pushNotification+"",p,u,g;return{c(){o=element("div"),a=element("button"),s=space(),l=element("div"),c=element("div"),p=text(d),attr(a,"id","mgPlayerJSProd_icon-show-push-notif-dropdown"),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_bell-btn mgPlayerJSProd_position-center"),attr(a,"aria-label",n=r[0].labels.pushNotification),attr(c,"class","mgPlayerJSProd_tooltip-title"),attr(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),attr(o,"class","mgPlayerJSProd_bell-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,s),append(o,l),append(l,c),append(c,p),u||(g=listen(a,"click",r[8]),u=!0)},p(e,t){1&t[0]&&i!==(i=e[0].svgs.bell+"")&&(a.innerHTML=i),1&t[0]&&n!==(n=e[0].labels.pushNotification)&&attr(a,"aria-label",n),1&t[0]&&d!==(d=e[0].labels.pushNotification+"")&&set_data(p,d)},d(e){e&&detach(o),u=!1,g()}}}function create_if_block_22$4(r){let o,a,i=r[0].svgs.navbar+"",n,s,l,c,d=r[0].labels.navigationMenu+"",p,u,g;return{c(){o=element("div"),a=element("button"),s=space(),l=element("div"),c=element("div"),p=text(d),attr(a,"id","mgPlayerJSProd_icon-open-navbar"),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_navigation-btn mgPlayerJSProd_position-center"),attr(a,"aria-label",n=r[0].labels.navigationMenu),attr(c,"class","mgPlayerJSProd_tooltip-title"),attr(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),attr(o,"class","mgPlayerJSProd_navigation-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_header-icon-micro-wrapper":""))},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,s),append(o,l),append(l,c),append(c,p),u||(g=listen(a,"click",r[7]),u=!0)},p(e,t){1&t[0]&&i!==(i=e[0].svgs.navbar+"")&&(a.innerHTML=i),1&t[0]&&n!==(n=e[0].labels.navigationMenu)&&attr(a,"aria-label",n),1&t[0]&&d!==(d=e[0].labels.navigationMenu+"")&&set_data(p,d)},d(e){e&&detach(o),u=!1,g()}}}function create_if_block$n(r){let o,F,a,O,i,n,H=0<=r[1].image_url.indexOf("guest_icon")||-1==r[1].image_url.indexOf("png"),R,N=-1==r[1].image_url.indexOf("guest_icon")&&0<=r[1].image_url.indexOf("png"),B,s,l,c=r[1].first_name+"",V,U,d=r[1].last_name+"",z,j,p,u,g=r[1].role+"",W,q,m,Z=!GmCXt.isPlayer(),K,Y,Q=!GmCXt.isPlayer(),ee,te,h,re=r[0].showLogoutBtn()&&!r[1].signedInWithSso,oe,_,f,y=r[0].labels.versionText+"",ae,ie,e=GmCXt.conf.version+"",ne,se,S,P,v,b=r[0].labels.availableOn+"",le,ce,C,w,k,de,x,T,pe,A,$,ue,ge,me,he,L=r[4]&&create_if_block_21$4(r),J=H&&create_if_block_20$4(r),G=N&&create_if_block_19$4(r),E=Z&&create_if_block_15$5(r),M=!r[0].maintenance&&create_if_block_9$c(r),I=Q&&create_if_block_3$f(r),X=r[0].jsonEditor&&create_if_block_2$i(r),D=re&&create_if_block_1$j(r);return{c(){o=element("div"),L&&L.c(),F=space(),a=element("button"),O=space(),i=element("div"),n=element("div"),J&&J.c(),R=space(),G&&G.c(),B=space(),s=element("div"),l=element("div"),V=text(c),U=text("Â "),z=text(d),j=space(),p=element("div"),u=element("div"),W=text(g),q=space(),m=element("div"),E&&E.c(),K=space(),M&&M.c(),Y=space(),I&&I.c(),ee=space(),X&&X.c(),te=space(),h=element("div"),D&&D.c(),oe=space(),_=element("div"),f=element("div"),ae=text(y),ie=space(),ne=text(e),se=space(),S=element("div"),P=element("div"),v=element("div"),le=text(b),ce=space(),C=element("div"),w=element("a"),k=element("div"),de=space(),x=element("a"),T=element("div"),pe=space(),A=element("a"),$=element("div"),ue=space(),ge=element("div"),attr(a,"id","mgPlayerJSProd_icon-close-navbar"),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_navbar-close mgPlayerJSProd_inline-block-vm mgPlayerJSProd_cursor-pointer"),attr(a,"aria-label","Close NavBar"),attr(n,"class","mgPlayerJSProd_profile-picture mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_inline-block-vm"),attr(l,"class","mgPlayerJSProd_user-name mgPlayerJSProd_text-capitalize mgPlayerJSProd_theme-color mgPlayerJSProd_font-size-16 mgPlayerJSProd_text-overflow-ellipsis"),attr(l,"tabindex","0"),attr(u,"class","mgPlayerJSProd_user-role mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-capitalize mgPlayerJSProd_float-left mgPlayerJSProd_text-overflow-ellipsis"),attr(u,"tabindex","0"),attr(p,"class","mgPlayerJSProd_user-role-wrapper mgPlayerJSProd_margin-tb-5"),attr(s,"class","mgPlayerJSProd_user-info-wrapper mgPlayerJSProd_inline-block-vm"),attr(i,"class","mgPlayerJSProd_manage-user-profile-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_primary-color mgPlayerJSProd_border-color"),attr(f,"class","mgPlayerJSProd_version-text mgPlayerJSProd_text-color-light"),attr(f,"tabindex","0"),attr(_,"class","mgPlayerJSProd_product-details-wrapper"),attr(h,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_logout-wrapper mgPlayerJSProd_width-100"),attr(m,"class","mgPlayerJSProd_player-nav-menu mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y"),attr(v,"class","mgPlayerJSProd_footer-text mgPlayerJSProd_font-weight-550"),attr(v,"tabindex","0"),attr(k,"class","mgPlayerJSProd_app-logo mgPlayerJSProd_position-relative mgPlayerJSProd_float-left mgPlayerJSProd_cursor-pointer"),attr(w,"id","mgPlayerJSProd_icon-apple"),attr(w,"class","mgPlayerJSProd_float-left"),attr(w,"href",GmCXt.conf.websiteUrl),attr(w,"target","_blank"),attr(w,"rel","noopener noreferrer"),attr(T,"class","mgPlayerJSProd_app-logo mgPlayerJSProd_position-relative mgPlayerJSProd_float-left mgPlayerJSProd_cursor-pointer"),attr(x,"id","mgPlayerJSProd_icon-play-store"),attr(x,"class","mgPlayerJSProd_float-left"),attr(x,"href",GmCXt.conf.websiteUrl),attr(x,"target","_blank"),attr(x,"rel","noopener noreferrer"),attr($,"class","mgPlayerJSProd_app-logo mgPlayerJSProd_position-relative mgPlayerJSProd_float-left mgPlayerJSProd_cursor-pointer"),attr(A,"id","mgPlayerJSProd_icon-desktop"),attr(A,"class","mgPlayerJSProd_float-left"),attr(A,"href",GmCXt.conf.websiteUrl),attr(A,"target","_blank"),attr(A,"rel","noopener noreferrer"),attr(ge,"class","mgPlayerJSProd_clear"),attr(C,"class","mgPlayerJSProd_app-logo-wrapper"),attr(P,"class","mgPlayerJSProd_download-apps-wrapper mgPlayerJSProd_width-100"),attr(S,"class","mgPlayerJSProd_footer-wrapper mgPlayerJSProd_width-100"),attr(o,"id","mgPlayerJSProd_side-navbar-container"),attr(o,"class","mgPlayerJSProd_side-navbar-container"),attr(o,"role","region"),attr(o,"aria-label","Menu")},m(e,t){insert(e,o,t),L&&L.m(o,null),append(o,F),append(o,a),a.innerHTML=NavBarIcon,append(o,O),append(o,i),append(i,n),J&&J.m(n,null),append(n,R),G&&G.m(n,null),append(i,B),append(i,s),append(s,l),append(l,V),append(l,U),append(l,z),append(s,j),append(s,p),append(p,u),append(u,W),append(o,q),append(o,m),E&&E.m(m,null),append(m,K),M&&M.m(m,null),append(m,Y),I&&I.m(m,null),append(m,ee),X&&X.m(m,null),append(m,te),append(m,h),D&&D.m(h,null),append(h,oe),append(h,_),append(_,f),append(f,ae),append(f,ie),append(f,ne),append(o,se),append(o,S),append(S,P),append(P,v),append(v,le),append(P,ce),append(P,C),append(C,w),append(w,k),k.innerHTML=AppleIcon,append(C,de),append(C,x),append(x,T),T.innerHTML=PlayStoreIcon,append(C,pe),append(C,A),append(A,$),$.innerHTML=DesktopIcon,append(C,ue),append(C,ge),me||(he=listen(a,"click",r[7]),me=!0)},p(e,t){e[4]?L?L.p(e,t):((L=create_if_block_21$4(e)).c(),L.m(o,F)):L&&(L.d(1),L=null),(H=2&t[0]?0<=e[1].image_url.indexOf("guest_icon")||-1==e[1].image_url.indexOf("png"):H)?J?J.p(e,t):((J=create_if_block_20$4(e)).c(),J.m(n,R)):J&&(J.d(1),J=null),(N=2&t[0]?-1==e[1].image_url.indexOf("guest_icon")&&0<=e[1].image_url.indexOf("png"):N)?G?G.p(e,t):((G=create_if_block_19$4(e)).c(),G.m(n,null)):G&&(G.d(1),G=null),2&t[0]&&c!==(c=e[1].first_name+"")&&set_data(V,c),2&t[0]&&d!==(d=e[1].last_name+"")&&set_data(z,d),2&t[0]&&g!==(g=e[1].role+"")&&set_data(W,g),Z&&E.p(e,t),e[0].maintenance?M&&(M.d(1),M=null):M?M.p(e,t):((M=create_if_block_9$c(e)).c(),M.m(m,Y)),Q&&I.p(e,t),e[0].jsonEditor?X?X.p(e,t):((X=create_if_block_2$i(e)).c(),X.m(m,te)):X&&(X.d(1),X=null),(re=3&t[0]?e[0].showLogoutBtn()&&!e[1].signedInWithSso:re)?D?D.p(e,t):((D=create_if_block_1$j(e)).c(),D.m(h,oe)):D&&(D.d(1),D=null),1&t[0]&&y!==(y=e[0].labels.versionText+"")&&set_data(ae,y),1&t[0]&&b!==(b=e[0].labels.availableOn+"")&&set_data(le,b)},d(e){e&&detach(o),L&&L.d(),J&&J.d(),G&&G.d(),E&&E.d(),M&&M.d(),I&&I.d(),X&&X.d(),D&&D.d(),me=!1,he()}}}function create_if_block_21$4(e){let r,o,a,i;return{c(){r=element("div"),o=element("div"),attr(a=element("img"),"class","mgPlayerJSProd_loader-image"),src_url_equal(a.src,i=e[0].loader())||attr(a,"src",i),attr(a,"alt","loader"),attr(o,"class","ege-loader-wrapper-spinner"),attr(r,"id","ege-spinner"),attr(r,"class","ege-loader-wrapper")},m(e,t){insert(e,r,t),append(r,o),append(o,a)},p(e,t){1&t[0]&&!src_url_equal(a.src,i=e[0].loader())&&attr(a,"src",i)},d(e){e&&detach(r)}}}function create_if_block_20$4(e){let r,t,o;return{c(){attr(r=element("img"),"class","mgPlayerJSProd_position-center mgPlayerJSProd_border-radius-50"),src_url_equal(r.src,t=GmCXt.conf.staticContentPath+"user_admin.png")||attr(r,"src",t),attr(r,"alt",o=e[1].first_name)},m(e,t){insert(e,r,t)},p(e,t){2&t[0]&&o!==(o=e[1].first_name)&&attr(r,"alt",o)},d(e){e&&detach(r)}}}function create_if_block_19$4(e){let r,o,a;return{c(){attr(r=element("img"),"class","mgPlayerJSProd_position-center mgPlayerJSProd_custom-image mgPlayerJSProd_border-radius-50"),src_url_equal(r.src,o=e[1].image_url+GmCXt.getCdnSign())||attr(r,"src",o),attr(r,"alt",a=e[1].first_name),attr(r,"tabindex","0")},m(e,t){insert(e,r,t)},p(e,t){2&t[0]&&!src_url_equal(r.src,o=e[1].image_url+GmCXt.getCdnSign())&&attr(r,"src",o),2&t[0]&&a!==(a=e[1].first_name)&&attr(r,"alt",a)},d(e){e&&detach(r)}}}function create_if_block_15$5(e){let r,o,a,i,n,s,l=e[0].labels.account+"",c,d,p=e[0].guideSegmentation&&e[0].isOwner()&&!e[0].isWestpac&&!e[0].hideMirrorAppCtrl(),u,g=e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl(),m,h=p&&create_if_block_18$4(e),_=g&&create_if_block_17$5(e),f=!e[0].FT.smbApp&&create_if_block_16$5(e);return{c(){r=element("div"),o=element("div"),a=element("div"),i=element("div"),n=space(),s=element("h4"),c=text(l),d=space(),h&&h.c(),u=space(),_&&_.c(),m=space(),f&&f.c(),attr(i,"class","mgPlayerJSProd_settings-section-header-icon"),attr(s,"class","mgPlayerJSProd_settings-section-header-title mgPlayerJSProd_no-margin"),attr(s,"tabindex","0"),attr(a,"class","mgPlayerJSProd_settings-section-header"),attr(o,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100"),attr(r,"class","mgPlayerJSProd_settings-outer-wrapper")},m(e,t){insert(e,r,t),append(r,o),append(o,a),append(a,i),i.innerHTML=manageAccount,append(a,n),append(a,s),append(s,c),append(o,d),h&&h.m(o,null),append(o,u),_&&_.m(o,null),append(o,m),f&&f.m(o,null)},p(e,t){1&t[0]&&l!==(l=e[0].labels.account+"")&&set_data(c,l),(p=1&t[0]?e[0].guideSegmentation&&e[0].isOwner()&&!e[0].isWestpac&&!e[0].hideMirrorAppCtrl():p)?h?h.p(e,t):((h=create_if_block_18$4(e)).c(),h.m(o,u)):h&&(h.d(1),h=null),(g=1&t[0]?e[0].isOwnerOrAppAdmin()&&!e[0].hideMirrorAppCtrl():g)?_?_.p(e,t):((_=create_if_block_17$5(e)).c(),_.m(o,m)):_&&(_.d(1),_=null),e[0].FT.smbApp?f&&(f.d(1),f=null):f?f.p(e,t):((f=create_if_block_16$5(e)).c(),f.m(o,null))},d(e){e&&detach(r),h&&h.d(),_&&_.d(),f&&f.d()}}}function create_if_block_18$4(r){let o,a,i=r[0].labels.manageSegments+"",n,s,l,c,d,p;return{c(){o=element("button"),a=element("div"),n=text(i),s=space(),l=element("div"),attr(a,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(l,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),attr(o,"id","mgPlayerJSProd_icon-change-pass"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(o,"aria-label",c=r[0].labels.manageSegments)},m(e,t){insert(e,o,t),append(o,a),append(a,n),append(o,s),append(o,l),l.innerHTML=externalLink,d||(p=listen(o,"click",function(){is_function(r[0].openManageSegments)&&r[0].openManageSegments.apply(this,arguments)}),d=!0)},p(e,t){r=e,1&t[0]&&i!==(i=r[0].labels.manageSegments+"")&&set_data(n,i),1&t[0]&&c!==(c=r[0].labels.manageSegments)&&attr(o,"aria-label",c)},d(e){e&&detach(o),d=!1,p()}}}function create_if_block_17$5(r){let o,a,i=r[0].labels.manageSurvey+"",n,s,l,c,d,p,u,g=r[0].labels.manageKeywords+"",m,h,_,f,y,S,P,v=r[0].labels.findAndReplace+"",b,C,w,k;return{c(){o=element("button"),a=element("div"),n=text(i),s=space(),l=element("div"),d=space(),p=element("button"),u=element("div"),m=text(g),h=space(),_=element("div"),y=space(),S=element("button"),P=element("div"),b=text(v),attr(a,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(l,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),attr(o,"id","mgPlayerJSProd_icon-change-pass"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(o,"aria-label",c=r[0].labels.manageSurvey),attr(u,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(_,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),attr(p,"id","mgPlayerJSProd_icon-change-pass"),attr(p,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(p,"aria-label",f=r[0].labels.manageKeywords),attr(P,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(S,"id","mgPlayerJSProd_icon-find-n-replace"),attr(S,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(S,"ng-click","performAction('findNReplace')"),attr(S,"aria-label",C=r[0].labels.findAndReplace)},m(e,t){insert(e,o,t),append(o,a),append(a,n),append(o,s),append(o,l),l.innerHTML=externalLink,insert(e,d,t),insert(e,p,t),append(p,u),append(u,m),append(p,h),append(p,_),_.innerHTML=externalLink,insert(e,y,t),insert(e,S,t),append(S,P),append(P,b),w||(k=[listen(o,"click",function(){is_function(r[0].openSurveyAnalyticsPortal)&&r[0].openSurveyAnalyticsPortal.apply(this,arguments)}),listen(p,"click",function(){is_function(r[0].openManageKeywords)&&r[0].openManageKeywords.apply(this,arguments)})],w=!0)},p(e,t){r=e,1&t[0]&&i!==(i=r[0].labels.manageSurvey+"")&&set_data(n,i),1&t[0]&&c!==(c=r[0].labels.manageSurvey)&&attr(o,"aria-label",c),1&t[0]&&g!==(g=r[0].labels.manageKeywords+"")&&set_data(m,g),1&t[0]&&f!==(f=r[0].labels.manageKeywords)&&attr(p,"aria-label",f),1&t[0]&&v!==(v=r[0].labels.findAndReplace+"")&&set_data(b,v),1&t[0]&&C!==(C=r[0].labels.findAndReplace)&&attr(S,"aria-label",C)},d(e){e&&(detach(o),detach(d),detach(p),detach(y),detach(S)),w=!1,run_all(k)}}}function create_if_block_16$5(r){let o,a,i=r[0].labels.changePassword+"",n,s,l,c;return{c(){o=element("button"),a=element("div"),n=text(i),attr(a,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(o,"aria-label",s=r[0].labels.changePassword)},m(e,t){insert(e,o,t),append(o,a),append(a,n),l||(c=listen(o,"click",r[15]),l=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.changePassword+"")&&set_data(n,i),1&t[0]&&s!==(s=e[0].labels.changePassword)&&attr(o,"aria-label",s)},d(e){e&&detach(o),l=!1,c()}}}function create_if_block_9$c(e){let r,o,a,i,n,s=e[0].labels.userPref+"",l,c,d=e[9](),p,u=d&&create_if_block_11$b(e),g=(GmCXt.FT.creatorApp||e[0].playerMode)&&create_if_block_10$c(e);return{c(){r=element("div"),o=element("div"),a=element("div"),i=space(),n=element("h4"),l=text(s),c=space(),u&&u.c(),p=space(),g&&g.c(),attr(a,"class","mgPlayerJSProd_settings-section-header-icon mgPlayerJSProd_settings-icon"),attr(n,"class","mgPlayerJSProd_settings-section-header-title mgPlayerJSProd_no-margin"),attr(n,"tabindex","0"),attr(o,"class","mgPlayerJSProd_settings-section-header"),attr(r,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){insert(e,r,t),append(r,o),append(o,a),a.innerHTML=SettIcon,append(o,i),append(o,n),append(n,l),append(r,c),u&&u.m(r,null),append(r,p),g&&g.m(r,null)},p(e,t){1&t[0]&&s!==(s=e[0].labels.userPref+"")&&set_data(l,s),d&&u.p(e,t),GmCXt.FT.creatorApp||e[0].playerMode?g?g.p(e,t):((g=create_if_block_10$c(e)).c(),g.m(r,null)):g&&(g.d(1),g=null)},d(e){e&&detach(r),u&&u.d(),g&&g.d()}}}function create_if_block_11$b(r){let o,a,i,e=r[0].selectedLanguage+"",n,s,l,c,d,p,u,g,m,h,_=r[0].browserLang+"",f,y,S,P=r[0].selectLanguage(),v,b,C,w,k,x=P&&create_if_block_14$5(),T=ensure_array_like(r[0].languages),A=[];for(let e=0;e<T.length;e+=1)A[e]=create_each_block$a(get_each_context$a(r,T,e));return{c(){o=element("div"),a=element("button"),i=element("div"),n=text(e),s=space(),l=element("div"),p=space(),u=element("div"),g=element("button"),m=element("div"),h=text("Browser Default ("),f=text(_),y=text(")"),S=space(),x&&x.c(),C=space();for(let e=0;e<A.length;e+=1)A[e].c();attr(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-overflow-ellipsis"),attr(l,"class",c="mgPlayerJSProd_dropdown-collapse-expand mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm "+r[5]),attr(a,"id","mgPlayerJSProd_label-navbar-lang-selection"),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_dropdown-item mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lang-selection"),attr(a,"aria-label",d=r[0].selectedLanguage),attr(m,"class","mgPlayerJSProd_lang-name mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-size-14"),attr(g,"id","mgPlayerJSProd_label-navbar-lang-dropdown"),attr(g,"class",v="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer lang-active mgPlayerJSProd_width-100 "+r[6]),attr(g,"aria-label",b="Browser Default ("+r[0].browserLang+")"),attr(u,"class","mgPlayerJSProd_lang-dropdown-wrapper mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max"),attr(o,"class","mgPlayerJSProd_manage-lang-setting-wrapper mgPlayerJSProd_position-relative")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(a,s),append(a,l),l.innerHTML=langExpand,append(o,p),append(o,u),append(u,g),append(g,m),append(m,h),append(m,f),append(m,y),append(g,S),x&&x.m(g,null),append(u,C);for(let e=0;e<A.length;e+=1)A[e]&&A[e].m(u,null);w||(k=[listen(a,"click",r[10]),listen(g,"click",r[11])],w=!0)},p(t,r){if(1&r[0]&&e!==(e=t[0].selectedLanguage+"")&&set_data(n,e),32&r[0]&&c!==(c="mgPlayerJSProd_dropdown-collapse-expand mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm "+t[5])&&attr(l,"class",c),1&r[0]&&d!==(d=t[0].selectedLanguage)&&attr(a,"aria-label",d),1&r[0]&&_!==(_=t[0].browserLang+"")&&set_data(f,_),(P=1&r[0]?t[0].selectLanguage():P)?x||((x=create_if_block_14$5()).c(),x.m(g,null)):x&&(x.d(1),x=null),64&r[0]&&v!==(v="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer lang-active mgPlayerJSProd_width-100 "+t[6])&&attr(g,"class",v),1&r[0]&&b!==(b="Browser Default ("+t[0].browserLang+")")&&attr(g,"aria-label",b),2049&r[0]){T=ensure_array_like(t[0].languages);let e;for(e=0;e<T.length;e+=1){var o=get_each_context$a(t,T,e);A[e]?A[e].p(o,r):(A[e]=create_each_block$a(o),A[e].c(),A[e].m(u,null))}for(;e<A.length;e+=1)A[e].d(1);A.length=T.length}},d(e){e&&detach(o),x&&x.d(),destroy_each(A,e),w=!1,run_all(k)}}}function create_if_block_14$5(e){let r;return{c(){attr(r=element("div"),"class","mgPlayerJSProd_lang-select mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=langSelect},d(e){e&&detach(r)}}}function create_if_block_12$9(r){let o,a,i=r[35].name+"",n,s,l,c,d,p,u,g=r[0].selectedLanguage==r[35].name&&r[0].userPrefLang&&create_if_block_13$6();return{c(){o=element("button"),a=element("div"),n=text(i),s=space(),g&&g.c(),l=space(),attr(a,"class","mgPlayerJSProd_lang-name mgPlayerJSProd_inline-block-vm"),attr(o,"id","mgPlayerJSProd_label-change-lang"),attr(o,"class",c="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer lang-active "+(r[0].selectedLanguage==r[35].name&&r[0].userPrefLang?"mgPlayerJSProd_lang-selected":"")),attr(o,"aria-label",d=r[35].name)},m(e,t){insert(e,o,t),append(o,a),append(a,n),append(o,s),g&&g.m(o,null),append(o,l),p||(u=listen(o,"click",function(){is_function(r[11](r[35]))&&r[11](r[35]).apply(this,arguments)}),p=!0)},p(e,t){r=e,1&t[0]&&i!==(i=r[35].name+"")&&set_data(n,i),r[0].selectedLanguage==r[35].name&&r[0].userPrefLang?g||((g=create_if_block_13$6()).c(),g.m(o,l)):g&&(g.d(1),g=null),1&t[0]&&c!==(c="mgPlayerJSProd_lbl-btn mgPlayerJSProd_lang-item mgPlayerJSProd_cursor-pointer lang-active "+(r[0].selectedLanguage==r[35].name&&r[0].userPrefLang?"mgPlayerJSProd_lang-selected":""))&&attr(o,"class",c),1&t[0]&&d!==(d=r[35].name)&&attr(o,"aria-label",d)},d(e){e&&detach(o),g&&g.d(),p=!1,u()}}}function create_if_block_13$6(e){let r;return{c(){attr(r=element("div"),"class","mgPlayerJSProd_lang-select mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm mgPlayerJSProd_margin-lr-10")},m(e,t){insert(e,r,t),r.innerHTML=langSelect},d(e){e&&detach(r)}}}function create_each_block$a(e){let r,o=0!=e[35].language.length&&create_if_block_12$9(e);return{c(){o&&o.c(),r=empty()},m(e,t){o&&o.m(e,t),insert(e,r,t)},p(e,t){0!=e[35].language.length?o?o.p(e,t):((o=create_if_block_12$9(e)).c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(e){e&&detach(r),o&&o.d(e)}}}function create_if_block_10$c(r){let o,a,i=r[0].labels.playerMode+"",n,s,l,c,d,p,u,g,m,h;return{c(){o=element("div"),a=element("div"),n=text(i),s=space(),l=element("div"),c=element("label"),d=element("input"),p=space(),u=element("button"),attr(a,"id","mgPlayerJSProd_label-player-mode"),attr(a,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_player-mode-setting mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-overflow-ellipsis"),attr(a,"tabindex","0"),attr(d,"class","mgPlayerJSProd_user-pref-scope"),attr(d,"type","checkbox"),attr(d,"aria-labelledby","mgPlayerJSProd_label-player-mode"),attr(u,"class","mgPlayerJSProd_custom-slider mgPlayerJSProd_user-pref-scope mgPlayerJSProd_lbl-btn"),attr(u,"aria-label",g=r[0].labels.playerMode),attr(c,"class","mgPlayerJSProd_custom-checkbox"),attr(l,"class","mgPlayerJSProd_option-checkbox"),attr(o,"class","mgPlayerJSProd_setting-item")},m(e,t){insert(e,o,t),append(o,a),append(a,n),append(o,s),append(o,l),append(l,c),append(c,d),d.checked=r[0].showPlayer,append(c,p),append(c,u),m||(h=[listen(d,"change",r[16]),listen(d,"change",r[17]),listen(u,"click",r[18])],m=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.playerMode+"")&&set_data(n,i),1&t[0]&&(d.checked=e[0].showPlayer),1&t[0]&&g!==(g=e[0].labels.playerMode)&&attr(u,"aria-label",g)},d(e){e&&detach(o),m=!1,run_all(h)}}}function create_if_block_3$f(e){let r,o,a,i,n,s=e[0].labels.more+"",l,c,d,p=e[0].hasCreatorAccess()&&e[0].FT.manageAccount&&!e[0].isCreator(),u,g=e[0].hasCreatorAccess()&&!e[0].isCreator(),m,h=(e[0].isOwnerOrAppAdmin()||e[0].isCreator())&&e[0].checkInsightEnabled()&&!e[0].FT.smbApp,_,f=e[0].hasCreatorAccess()&&!e[0].isCreator(),y=e[0].FT.taskStatus&&create_if_block_8$d(e),S=p&&create_if_block_7$e(e),P=g&&create_if_block_6$f(e),v=h&&create_if_block_5$f(e),b=f&&create_if_block_4$f(e);return{c(){r=element("div"),o=element("div"),a=element("div"),i=space(),n=element("h4"),l=text(s),c=space(),y&&y.c(),d=space(),S&&S.c(),u=space(),P&&P.c(),m=space(),v&&v.c(),_=space(),b&&b.c(),attr(a,"class","mgPlayerJSProd_settings-section-header-icon"),attr(n,"class","mgPlayerJSProd_settings-section-header-title mgPlayerJSProd_no-margin"),attr(n,"tabindex","0"),attr(o,"class","mgPlayerJSProd_settings-section-header"),attr(r,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){insert(e,r,t),append(r,o),append(o,a),a.innerHTML=iconMore,append(o,i),append(o,n),append(n,l),append(r,c),y&&y.m(r,null),append(r,d),S&&S.m(r,null),append(r,u),P&&P.m(r,null),append(r,m),v&&v.m(r,null),append(r,_),b&&b.m(r,null)},p(e,t){1&t[0]&&s!==(s=e[0].labels.more+"")&&set_data(l,s),e[0].FT.taskStatus?y?y.p(e,t):((y=create_if_block_8$d(e)).c(),y.m(r,d)):y&&(y.d(1),y=null),(p=1&t[0]?e[0].hasCreatorAccess()&&e[0].FT.manageAccount&&!e[0].isCreator():p)?S?S.p(e,t):((S=create_if_block_7$e(e)).c(),S.m(r,u)):S&&(S.d(1),S=null),(g=1&t[0]?e[0].hasCreatorAccess()&&!e[0].isCreator():g)?P?P.p(e,t):((P=create_if_block_6$f(e)).c(),P.m(r,m)):P&&(P.d(1),P=null),(h=1&t[0]?(e[0].isOwnerOrAppAdmin()||e[0].isCreator())&&e[0].checkInsightEnabled()&&!e[0].FT.smbApp:h)?v?v.p(e,t):((v=create_if_block_5$f(e)).c(),v.m(r,_)):v&&(v.d(1),v=null),(f=1&t[0]?e[0].hasCreatorAccess()&&!e[0].isCreator():f)?b?b.p(e,t):((b=create_if_block_4$f(e)).c(),b.m(r,null)):b&&(b.d(1),b=null)},d(e){e&&detach(r),y&&y.d(),S&&S.d(),P&&P.d(),v&&v.d(),b&&b.d()}}}function create_if_block_8$d(r){let o,a,i=r[0].labels.taskStatus+"",n,s,l,c;return{c(){o=element("button"),a=element("div"),n=text(i),attr(a,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(o,"id","mgPlayerJSProd_label-task-status"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(o,"aria-label",s=r[0].labels.taskStatus)},m(e,t){insert(e,o,t),append(o,a),append(a,n),l||(c=listen(o,"click",r[19]),l=!0)},p(e,t){1&t[0]&&i!==(i=e[0].labels.taskStatus+"")&&set_data(n,i),1&t[0]&&s!==(s=e[0].labels.taskStatus)&&attr(o,"aria-label",s)},d(e){e&&detach(o),l=!1,c()}}}function create_if_block_7$e(r){let o,a,i,n=r[0].labels.manageAccount+"",s,l,c,d,p,u;return{c(){o=element("div"),a=element("button"),i=element("div"),s=text(n),l=space(),c=element("div"),attr(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(c,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),attr(a,"id","mgPlayerJSProd_label-analytics-portal"),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(a,"aria-label",d=r[0].labels.manageAccount),attr(o,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,s),append(a,l),append(a,c),c.innerHTML=externalLink,p||(u=listen(a,"click",function(){is_function(r[0].openAdminPortal())&&r[0].openAdminPortal().apply(this,arguments)}),p=!0)},p(e,t){r=e,1&t[0]&&n!==(n=r[0].labels.manageAccount+"")&&set_data(s,n),1&t[0]&&d!==(d=r[0].labels.manageAccount)&&attr(a,"aria-label",d)},d(e){e&&detach(o),p=!1,u()}}}function create_if_block_6$f(r){let o,a,i,n=r[0].labels.customizationCenter+"",s,l,c,d,p,u;return{c(){o=element("div"),a=element("button"),i=element("div"),s=text(n),l=space(),c=element("div"),attr(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(c,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),attr(a,"id","mgPlayerJSProd_label-analytics-portal"),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(a,"aria-label",d=r[0].labels.customizationCenter),attr(o,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,s),append(a,l),append(a,c),c.innerHTML=externalLink,p||(u=listen(a,"click",function(){is_function(r[0].openCustCenter())&&r[0].openCustCenter().apply(this,arguments)}),p=!0)},p(e,t){r=e,1&t[0]&&n!==(n=r[0].labels.customizationCenter+"")&&set_data(s,n),1&t[0]&&d!==(d=r[0].labels.customizationCenter)&&attr(a,"aria-label",d)},d(e){e&&detach(o),p=!1,u()}}}function create_if_block_5$f(r){let o,a,i,n=r[0].labels.analyticsPortal+"",s,l,c,d,p,u;return{c(){o=element("div"),a=element("button"),i=element("div"),s=text(n),l=space(),c=element("div"),attr(i,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(c,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),attr(a,"id","mgPlayerJSProd_label-analytics-portal"),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(a,"aria-label",d=r[0].labels.analyticsPortal),attr(o,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,s),append(a,l),append(a,c),c.innerHTML=externalLink,p||(u=listen(a,"click",r[20]),p=!0)},p(e,t){1&t[0]&&n!==(n=e[0].labels.analyticsPortal+"")&&set_data(s,n),1&t[0]&&d!==(d=e[0].labels.analyticsPortal)&&attr(a,"aria-label",d)},d(e){e&&detach(o),p=!1,u()}}}function create_if_block_4$f(e){let r,o,a,i=e[0].labels.defaultMiniPlayerHelp+"",n,s,l,c;return{c(){r=element("div"),o=element("a"),a=element("div"),n=text(i),s=space(),l=element("div"),attr(a,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(l,"id","mgPlayerJSProd_icon-help-center"),attr(l,"aria-label",c=e[0].labels.defaultMiniPlayerHelp),attr(l,"class","mgPlayerJSProd_item-icon mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),attr(o,"class","mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer mgPlayerJSProd_text-decoration-none mgPlayerJSProd_box-sizing mgPlayerJSProd_border-box"),attr(o,"href",getHelpCenterUrl()),attr(o,"target","_blank"),attr(o,"rel","noopener noreferrer"),attr(r,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100")},m(e,t){insert(e,r,t),append(r,o),append(o,a),append(a,n),append(o,s),append(o,l),l.innerHTML=externalLink},p(e,t){1&t[0]&&i!==(i=e[0].labels.defaultMiniPlayerHelp+"")&&set_data(n,i),1&t[0]&&c!==(c=e[0].labels.defaultMiniPlayerHelp)&&attr(l,"aria-label",c)},d(e){e&&detach(r)}}}function create_if_block_2$i(r){let o,a,i,n,s,l,c;return{c(){o=element("div"),a=element("div"),i=element("div"),n=space(),(s=element("h4")).textContent="Edit Org JSON",attr(i,"class","mgPlayerJSProd_json-editor-icon mgPlayerJSProd_settings-section-header-icon"),attr(s,"class","mgPlayerJSProd_settings-section-header-title mgPlayerJSProd_no-margin"),attr(a,"class","mgPlayerJSProd_settings-section-header"),attr(o,"id","mgPlayerJSProd_icon-edit-org-json"),attr(o,"class","mgPlayerJSProd_manage-settings-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_cursor-pointer")},m(e,t){insert(e,o,t),append(o,a),append(a,i),i.innerHTML=EditIcon,append(a,n),append(a,s),l||(c=listen(o,"click",function(){is_function(r[0].editJson(r[2],"org"))&&r[0].editJson(r[2],"org").apply(this,arguments)}),l=!0)},p(e,t){r=e},d(e){e&&detach(o),l=!1,c()}}}function create_if_block_1$j(e){let r,o,a=e[0].labels.logoutBtn+"",i,n,s,l;return{c(){r=element("button"),o=element("div"),i=text(a),attr(o,"class","mgPlayerJSProd_item-label mgPlayerJSProd_text-color-light mgPlayerJSProd_inline-block-vm"),attr(r,"id","mgPlayerJSProd_label-logout-btn"),attr(r,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_setting-item mgPlayerJSProd_cursor-pointer"),attr(r,"aria-label",n=e[0].labels.logoutBtn)},m(e,t){insert(e,r,t),append(r,o),append(o,i),s||(l=listen(r,"click",logoutServ.logout),s=!0)},p(e,t){1&t[0]&&a!==(a=e[0].labels.logoutBtn+"")&&set_data(i,a),1&t[0]&&n!==(n=e[0].labels.logoutBtn)&&attr(r,"aria-label",n)},d(e){e&&detach(r),s=!1,l()}}}function create_fragment$r(r){let o,a="signin"!==get_store_value(Gm.activeView),i,n,s=GmCXt.isMyGuide(),l,c="signin"!==get_store_value(Gm.activeView)&&"forgotpwd"!==get_store_value(Gm.activeView)&&"chatbot"!==get_store_value(Gm.activeView)&&"taskList"!==get_store_value(Gm.activeView),d,p="signin"!==get_store_value(Gm.activeView)&&"forgotpwd"!==get_store_value(Gm.activeView),u,g="signin"!==get_store_value(Gm.activeView)&&"forgotpwd"!==get_store_value(Gm.activeView)&&GmCXt.isPlayer(),m,h="signin"!==get_store_value(Gm.activeView)&&"forgotpwd"!==get_store_value(Gm.activeView)&&!GmCXt.isLXP(),_,f,y,S=r[0].svgs.close_panel+"",P,v,b,C,w=r[0].labels.closePanel+"",k,x,T=r[0].navBarVisible&&"signin"!==get_store_value(Gm.activeView),A,$,L,J=a&&create_if_block_27$2(r),G=s&&create_if_block_26$2(r),E=c&&create_if_block_25$3(r),M=p&&create_if_block_24$3(r),I=g&&create_if_block_23$3(r),X=h&&create_if_block_22$4(r),D=T&&create_if_block$n(r);return{c(){o=element("div"),J&&J.c(),i=space(),n=element("div"),G&&G.c(),l=space(),E&&E.c(),d=space(),M&&M.c(),u=space(),I&&I.c(),m=space(),X&&X.c(),_=space(),f=element("div"),y=element("button"),v=space(),b=element("div"),C=element("div"),k=text(w),x=space(),D&&D.c(),A=empty(),attr(y,"id","mgPlayerJSProd_icon-close-app-panel"),attr(y,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_close-panel-btn mgPlayerJSProd_position-center"),attr(y,"aria-label",P=r[0].labels.closePanel),attr(y,"type","button"),attr(C,"class","mgPlayerJSProd_tooltip-title"),attr(b,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center mgPlayerJSProd_margin-tb-10"),attr(f,"class","mgPlayerJSProd_close-panel-btn-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer mgPlayerJSProd_show-text-tooltip "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_header-icon-micro-wrapper":"")),attr(n,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_float-right"),attr(o,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100")},m(e,t){insert(e,o,t),J&&J.m(o,null),append(o,i),append(o,n),G&&G.m(n,null),append(n,l),E&&E.m(n,null),append(n,d),M&&M.m(n,null),append(n,u),I&&I.m(n,null),append(n,m),X&&X.m(n,null),append(n,_),append(n,f),append(f,y),y.innerHTML=S,append(f,v),append(f,b),append(b,C),append(C,k),insert(e,x,t),D&&D.m(e,t),insert(e,A,t),$||(L=listen(y,"click",function(){is_function(r[0].closeAppPanel)&&r[0].closeAppPanel.apply(this,arguments)}),$=!0)},p(e,t){r=e,a&&J.p(r,t),s&&G.p(r,t),c&&E.p(r,t),p&&M.p(r,t),g&&I.p(r,t),h&&X.p(r,t),1&t[0]&&S!==(S=r[0].svgs.close_panel+"")&&(y.innerHTML=S),1&t[0]&&P!==(P=r[0].labels.closePanel)&&attr(y,"aria-label",P),1&t[0]&&w!==(w=r[0].labels.closePanel+"")&&set_data(k,w),(T=1&t[0]?r[0].navBarVisible&&"signin"!==get_store_value(Gm.activeView):T)?D?D.p(r,t):((D=create_if_block$n(r)).c(),D.m(A.parentNode,A)):D&&(D.d(1),D=null)},i:noop,o:noop,d(e){e&&(detach(o),detach(x),detach(A)),J&&J.d(),G&&G.d(),E&&E.d(),M&&M.d(),I&&I.d(),X&&X.d(),D&&D.d(e),$=!1,L()}}}function getHelpCenterUrl(){var e=GmCXt.getOrgSettings();let t;return(t=GmCXt.isEmpty(e)||GmCXt.isEmpty(e.helpUrl)?t:GmCXt.addHttpIfMissing(e.helpUrl))||GmCXt.model.organization.settings._obj.helpUrl._default}function instance$q(e,t,r){let o={},a=!1,i="",n=!1,{unique:s={}}=t,l=Gm.selectedLang.subscribe(e=>{});function c(){rootScope.navBarVisible&&mg$$1(".mgPlayerJSProd_player-nav-menu").css({height:window.innerHeight-mg$$1(".mgPlayerJSProd_manage-user-profile-wrapper").innerHeight()-mg$$1(".mgPlayerJSProd_logout-wrapper").innerHeight()-mg$$1(".mgPlayerJSProd_footer-wrapper").innerHeight()-30})}function d(){rootScope.addPanelOverlay(),r(0,rootScope.navBarVisible=mg$$1("#mgPlayerJSProd_side-navbar-container").is(":visible"),rootScope),rootScope.navBarVisible?(r(0,rootScope.navBarVisible=!1,rootScope),rootScope.hidePanelOverlay()):(r(0,rootScope.navBarVisible=!0,rootScope),rootScope.showPanelOverlay(),GmCXt.timeout(function(){c()},500))}Gm.lanDropDownVisible.subscribe(e=>{r(14,a=e)}),Gm.loading.subscribe(e=>{r(4,n=e)}),rootScope.setAccessibility=function(){r(0,rootScope.accessibility=!rootScope.accessibility,rootScope),Gm.accessibility.set(rootScope.accessibility),storage$1.accessibility.set(rootScope.accessibility)},rootScope.showLogoutBtn(),mg$$1(window).on("resize",c),onMount(()=>{get_store_value(Gm.activeView),r(2,o=rootScope.organization),l(),rootScope.language});t=rootScope.user;function p(e){var t=GmCXt.user;GmCXt.isEmpty(t)||(rootScope.checkAppList().then(function(){!GmCXt.isEmpty(rootScope.appList)&&rootScope.activeAppId&&r(0,rootScope.selectedApp=rootScope.appList["app:"+rootScope.activeAppId].title,rootScope)}),r(3,i=GmCXt.brandLogo()),r(3,i=rootScope.currBrandLogo||i))}onMount(p);let u="",g="";return e.$$set=e=>{"unique"in e&&r(13,s=e.unique)},e.$$.update=()=>{16384&e.$$.dirty[0]&&r(5,u=a?"mgPlayerJSProd_rotate-180":""),1&e.$$.dirty[0]&&r(6,g=rootScope.userPrefLang?"":"mgPlayerJSProd_lang-selected")},[rootScope,t,o,i,n,u,g,d,function(){new NotificationModal({target:document.body,props:{pushNotificationDropdown:!0}})},function(){return!!(rootScope.enableTranslation&&1<rootScope.languages.length)},function(e){e.stopPropagation(),a?(e.stopPropagation(),r(14,a=!1),mg$$1(".mgPlayerJSProd_lang-dropdown-wrapper").slideUp(100)):(r(14,a=!0),mg$$1(".mgPlayerJSProd_lang-dropdown-wrapper").slideDown(200)),e.stopPropagation(),mg$$1(".mgPlayerJSProd_setting-dropdown-userPref").slideUp(100)},t=>{r(0,rootScope.contextTours=[],rootScope),t?Gm.selectedLang.set(t.language):Gm.selectedLang.set("default"),t&&t.name?storage$1.userPrefLang.set(t.language):(t=rootScope.defaultLang,rootScope.languages.filter(function(e){e.language===rootScope.browserLang&&(t=e)}),storage$1.userPrefLang.set(!1)),r(0,rootScope.language=t.language,rootScope),storage$1.activeLang.set(t.language),storage$1.activeVoice.set(t.voice),r(0,rootScope.selectedLanguage=t.name,rootScope),rootScope.updateLabels(),rootScope.resetNotificationData(),rootScope.setNotifTours(),p(),r(14,a=!1),mg$$1(".mgPlayerJSProd_lang-dropdown-wrapper").slideUp(100),GmCXt.refreshView=!0,r(13,s={}),Gm.activeView.set("home"),rootScope.setCurrentPage("allguides"),rootScope.setCurrentPage("currentpage"),Gm.labels.set(rootScope.labels)},()=>{Gm.loading.set(!0),p(),rootScope.refreshAllData()},s,a,()=>{Gm.loading.set(!0),Gm.activeView.set("changePw"),d()},function(){rootScope.showPlayer=this.checked,r(0,rootScope)},()=>{Gm.loading.set(!0),rootScope.togglePlayerMode(),d()},()=>{Gm.loading.set(!0),r(0,rootScope.showPlayer=!rootScope.showPlayer,rootScope),rootScope.togglePlayerMode(),d()},()=>{Gm.loading.set(!0),Gm.activeView.set("taskStatus"),d()},()=>rootScope.isCreator()?rootScope.openSurveyAnalyticsPortal():rootScope.openAppAnalyticsPortal()]}class UserMenu extends SvelteComponent{constructor(e){super(),init(this,e,instance$q,create_fragment$r,safe_not_equal,{unique:13},null,[-1,-1])}}function create_if_block$m(r){let o,a,i,n,e;return{c(){o=element("div"),a=element("div"),i=space(),n=element("img"),attr(a,"class","mgPlayerJSProd_inline-block-vm"),attr(n,"id","mgPlayerJSProd_header-widget-icon"),attr(n,"class","mgPlayerJSProd_header-widget-icon"),attr(n,"alt","Cornerstone"),src_url_equal(n.src,e=rootScope.getBasePath("common/img/logo-admin.png"))||attr(n,"src",e),attr(o,"class","mgPlayerJSProd_header-banner-wrapper mgPlayerJSProd_position-relative")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=r[0],append(o,i),append(o,n)},p(e,t){1&t&&(a.innerHTML=e[0])},d(e){e&&detach(o)}}}function create_fragment$q(e){let r,o,a,i,n,s,l=(i=new UserMenu({}),("login-view"==rootScope.currentView||"forgot-password-view"==rootScope.currentView)&&create_if_block$m(e));return{c(){r=element("div"),o=element("div"),a=element("div"),create_component(i.$$.fragment),n=space(),l&&l.c(),attr(a,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),attr(o,"class","mgPlayerJSProd_panel-header-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),toggle_class(o,"mgPlayerJSProd_bg-white",GmCXt.getAppSetting("isMiniPlayer")),toggle_class(o,"mgPlayerJSProd_panel-header-micro-wrapper",GmCXt.getAppSetting("isMiniPlayer")),attr(r,"id","ege-header"),attr(r,"class","ege-panel-header")},m(e,t){insert(e,r,t),append(r,o),append(o,a),mount_component(i,a,null),append(r,n),l&&l.m(r,null),s=!0},p(e,[t]){(!s||0&t)&&toggle_class(o,"mgPlayerJSProd_bg-white",GmCXt.getAppSetting("isMiniPlayer")),(!s||0&t)&&toggle_class(o,"mgPlayerJSProd_panel-header-micro-wrapper",GmCXt.getAppSetting("isMiniPlayer")),"login-view"!=rootScope.currentView&&"forgot-password-view"!=rootScope.currentView||l.p(e,t)},i(e){s||(transition_in(i.$$.fragment,e),s=!0)},o(e){transition_out(i.$$.fragment,e),s=!1},d(e){e&&detach(r),destroy_component(i),l&&l.d()}}}function instance$p(e,t,r){let o="";return onMount(()=>{fetch(rootScope.getBasePath("common/img/login_header.svg")).then(e=>e.text()).then(e=>{r(0,o=e)})}),[o]}class Header extends SvelteComponent{constructor(e){super(),init(this,e,instance$p,create_fragment$q,safe_not_equal,{})}}function create_if_block$l(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.captchaError,attr(r,"id","mgPlayerJSProd_input-captcha-error"),attr(r,"class","error-input-wrapper captcha-error-wrapper active")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_fragment$p(r){let o,a,i,n,s,l,c=rootScope.svgs.refresh+"",d,p,u,g,m,h=r[1]&&create_if_block$l();return{c(){o=element("div"),a=element("div"),i=element("i"),n=text(r[3]),s=space(),l=element("button"),d=space(),p=element("input"),u=space(),h&&h.c(),attr(i,"id","mgPlayerJSProd_captcha-image"),attr(i,"selectable","False"),attr(l,"id","autorenew"),attr(l,"aria-label",rootScope.labels.refresh),attr(l,"class","mgPlayerJSProd_captcha-refresh-btn mgPlayerJSProd_lbl-btn mgPlayerJSProd_lbl-btn-refresh mgPlayerJSProd_refresh-btn"),attr(l,"type","button"),attr(p,"id","mgPlayerJSProd_input-captcha"),attr(p,"class","mgPlayerJSProd_input-captcha-text mgPlayerJSProd_font-size-16 ege-inline-block-vm"),attr(p,"placeholder",rootScope.labels.placeholderEnterCaptcha),attr(a,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),attr(o,"class","mgPlayerJSProd_input-captcha mgPlayerJSProd_margin-tb-10 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_flex-direction-column")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(a,s),append(a,l),l.innerHTML=c,append(a,d),append(a,p),set_input_value(p,r[2]),r[8](p),append(o,u),h&&h.m(o,null),g||(m=[listen(l,"click",r[4]),listen(p,"input",r[7]),listen(p,"change",r[5])],g=!0)},p(e,[t]){8&t&&set_data(n,e[3]),4&t&&p.value!==e[2]&&set_input_value(p,e[2]),e[1]?h||((h=create_if_block$l()).c(),h.m(o,null)):h&&(h.d(1),h=null)},i:noop,o:noop,d(e){e&&detach(o),r[8](null),h&&h.d(),g=!1,run_all(m)}}}function instance$o(e,t,o){let{captchaValid:a=!1}=t,r=t.showCaptchaError,i=t.inputCaptchaRef,n,s;function l(){o(2,n=""),o(6,a=!1),o(3,s="");let e="";for(var t="0123456789ABCDEFGHJKLMNOPQRSTUVWXYZabdfghijkmnopqrstuvwxyz",r=0;r<6;r++)e+=t.charAt(Math.random()*t.length);o(3,s=e)}return l(),e.$$set=e=>{"captchaValid"in e&&o(6,a=e.captchaValid),"showCaptchaError"in e&&o(1,r=e.showCaptchaError),"inputCaptchaRef"in e&&o(0,i=e.inputCaptchaRef)},[i,r,n,s,l,function(){o(6,a=!1),s===n&&(o(6,a=!0),Gm.loading.set(!1))},a,function(){n=this.value,o(2,n)},function(e){binding_callbacks[e?"unshift":"push"](()=>{i=e,o(0,i)})}]}class Captcha extends SvelteComponent{constructor(e){super(),init(this,e,instance$o,create_fragment$p,safe_not_equal,{captchaValid:6,showCaptchaError:1,inputCaptchaRef:0})}}function create_if_block_10$b(e){let r,o,a,i,n,s,l=(e[3]?.privacyPolicy||rootScope.labels.privacyPolicy)+"",c,d,p,u,g,m,h=(e[3]?.termsOfService||rootScope.labels.termsOfService)+"",_,f;return{c(){r=element("div"),(o=element("span")).textContent="Â© "+rootScope.brandName,a=space(),(i=element("span")).textContent="|",n=space(),s=element("a"),c=text(l),p=space(),(u=element("span")).textContent="|",g=space(),m=element("a"),_=text(h),attr(i,"class","footer-text-separator"),attr(s,"id","mgPlayerJSProd_footer-privacy-policy"),attr(s,"href",rootScope.config.privacyPolicyUrl),attr(s,"target","_blank"),attr(s,"aria-label",d=e[3]?.privacyPolicy||rootScope.labels.privacyPolicy),attr(s,"rel","noopener noreferrer"),attr(u,"class","footer-text-separator"),attr(m,"id","mgPlayerJSProd_footer-terms-of-service"),attr(m,"href",rootScope.config.termsURL),attr(m,"target","_blank"),attr(m,"aria-label",f=e[3]?.termsOfService||rootScope.labels.termsOfService),attr(m,"rel","noopener noreferrer"),attr(r,"class","footer-panel-copyright-text")},m(e,t){insert(e,r,t),append(r,o),append(r,a),append(r,i),append(r,n),append(r,s),append(s,c),append(r,p),append(r,u),append(r,g),append(r,m),append(m,_)},p(e,t){8&t&&l!==(l=(e[3]?.privacyPolicy||rootScope.labels.privacyPolicy)+"")&&set_data(c,l),8&t&&d!==(d=e[3]?.privacyPolicy||rootScope.labels.privacyPolicy)&&attr(s,"aria-label",d),8&t&&h!==(h=(e[3]?.termsOfService||rootScope.labels.termsOfService)+"")&&set_data(_,h),8&t&&f!==(f=e[3]?.termsOfService||rootScope.labels.termsOfService)&&attr(m,"aria-label",f)},d(e){e&&detach(r)}}}function create_if_block_6$e(e){let r;var t=!GmCXt.isMicroPlayer();let o,a=t&&create_if_block_9$b();function i(e){return"email"==e[0].feedback_type?create_if_block_7$d:"url"==e[0].feedback_type?create_if_block_8$c:void 0}let n=i(e),s=n&&n(e);return{c(){r=element("div"),a&&a.c(),o=space(),s&&s.c(),attr(r,"class","footer-panel-copyright-text mgPlayerJSProd_footer-send-feedback"),toggle_class(r,"mgPlayerJSProd_footer-send-feedback-mp",GmCXt.isMicroPlayer())},m(e,t){insert(e,r,t),a&&a.m(r,null),append(r,o),s&&s.m(r,null)},p(e,t){n===(n=i(e))&&s?s.p(e,t):(s&&s.d(1),(s=n&&n(e))&&(s.c(),s.m(r,null)))},d(e){e&&detach(r),a&&a.d(),s&&s.d()}}}function create_if_block_9$b(e){let r;return{c(){(r=element("span")).textContent="|",attr(r,"class","footer-text-separator")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_8$c(e){let r,o=(e[3]?.sendFeedback||rootScope.labels.sendFeedback)+"",a;return{c(){r=element("button"),a=text(o),attr(r,"href",e[1]),attr(r,"target","_blank"),attr(r,"rel","noopener noreferrer"),attr(r,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_cursor-pointer"),attr(r,"aria-label",rootScope.labels.sendFeedback)},m(e,t){insert(e,r,t),append(r,a)},p(e,t){8&t&&o!==(o=(e[3]?.sendFeedback||rootScope.labels.sendFeedback)+"")&&set_data(a,o),2&t&&attr(r,"href",e[1])},d(e){e&&detach(r)}}}function create_if_block_7$d(r){let o,a=(r[3]?.sendFeedback||rootScope.labels.sendFeedback)+"",i,n,s;return{c(){o=element("button"),i=text(a),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_cursor-pointer"),attr(o,"aria-label",rootScope.labels.sendFeedback)},m(e,t){insert(e,o,t),append(o,i),n||(s=listen(o,"click",r[4]),n=!0)},p(e,t){8&t&&a!==(a=(e[3]?.sendFeedback||rootScope.labels.sendFeedback)+"")&&set_data(i,a)},d(e){e&&detach(o),n=!1,s()}}}function create_if_block_2$h(e){let r,o,a,i=!rootScope.currentPageOnly&&create_if_block_5$e(),n=("currentpage"===e[2]||"currentPageSearchPage"===e[2])&&!rootScope.currentPageOnly&&create_if_block_4$e(e),s=("allguides"===e[2]||"allguidesSearchPage"===e[2])&&create_if_block_3$e(e);return{c(){r=element("div"),i&&i.c(),o=space(),n&&n.c(),a=space(),s&&s.c(),attr(r,"class","footer-panel-copyright-text")},m(e,t){insert(e,r,t),i&&i.m(r,null),append(r,o),n&&n.m(r,null),append(r,a),s&&s.m(r,null)},p(e,t){"currentpage"!==e[2]&&"currentPageSearchPage"!==e[2]||rootScope.currentPageOnly?n&&(n.d(1),n=null):n||((n=create_if_block_4$e(e)).c(),n.m(r,a)),"allguides"===e[2]||"allguidesSearchPage"===e[2]?s||((s=create_if_block_3$e(e)).c(),s.m(r,null)):s&&(s.d(1),s=null)},d(e){e&&detach(r),i&&i.d(),n&&n.d(),s&&s.d()}}}function create_if_block_5$e(e){let r;return{c(){(r=element("span")).textContent="|",attr(r,"class","footer-text-separator")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_4$e(r){let o,a,i;return{c(){(o=element("button")).textContent=""+rootScope.labels.allGuides,attr(o,"id","mgPlayerJSProd_go-to-all-guides"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_cursor-pointer"),attr(o,"aria-label",rootScope.labels.allGuides)},m(e,t){insert(e,o,t),a||(i=listen(o,"click",r[5]),a=!0)},d(e){e&&detach(o),a=!1,i()}}}function create_if_block_3$e(r){let o,a,i;return{c(){(o=element("button")).textContent=""+rootScope.labels.currentPage,attr(o,"id","mgPlayerJSProd_go-to-current-page"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_cursor-pointer"),attr(o,"aria-label",rootScope.labels.currentPage)},m(e,t){insert(e,o,t),a||(i=listen(o,"click",r[6]),a=!0)},d(e){e&&detach(o),a=!1,i()}}}function create_if_block_1$i(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.wbFooterText,attr(r,"class","footer-panel-copyright-text")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block$k(e){let r;return{c(){(r=element("div")).textContent=rootScope.labels.versionText+" "+rootScope.appVersion,attr(r,"class","footer-panel-copyright-text mgPlayerJSProd_float-right")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_fragment$o(e){let r,o=!GmCXt.isMicroPlayer()&&!GmCXt.isWB(),a,i=GmCXt.isPlayer()&&!GmCXt.isWB()&&enableSendFeedback()&&!GmCXt.isWBC(),n,s=GmCXt.isMicroPlayer()&&!GmCXt.isWBC(),l;var t=GmCXt.isWB();let c;var d=GmCXt.isWB();let p,u,g=o&&create_if_block_10$b(e),m=i&&create_if_block_6$e(e),h=s&&create_if_block_2$h(e),_=t&&create_if_block_1$i(),f=d&&create_if_block$k();return{c(){r=element("div"),g&&g.c(),a=space(),m&&m.c(),n=space(),h&&h.c(),l=space(),_&&_.c(),c=space(),f&&f.c(),p=space(),attr(u=element("div"),"class","ege-clear"),attr(r,"id","footer"),attr(r,"class","footer-panel "+(GmCXt.isMicroPlayer()?"mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max":"")+" "+(GmCXt.isWBMicroPlayer()?"mgPlayerJSProd_display-none":""))},m(e,t){insert(e,r,t),g&&g.m(r,null),append(r,a),m&&m.m(r,null),append(r,n),h&&h.m(r,null),append(r,l),_&&_.m(r,null),append(r,c),f&&f.m(r,null),append(r,p),append(r,u)},p(e,[t]){o&&g.p(e,t),i&&m.p(e,t),s&&h.p(e,t)},i:noop,o:noop,d(e){e&&detach(r),g&&g.d(),m&&m.d(),h&&h.d(),_&&_.d(),f&&f.d()}}}function enableSendFeedback(){return!!GmCXt.getAppSetting("enable_send_feedback")}function instance$n(e,t,r){let o={},a="",i=!1,n=get_store_value(Gm.labels);let s=Gm.labels.subscribe(e=>{r(3,n=e)}),l=Gm.CurrentPage.subscribe(e=>{r(2,i=e)});onMount(()=>{r(0,o=GmCXt.getBrandingSetting()),o.feedback_url&&-1===o.feedback_url.indexOf("http")?r(1,a="https://"+o.feedback_url):r(1,a=o.feedback_url)}),onDestroy(()=>{l(),s()});return[o,a,i,n,function(){var e={action:"mgPlayerJSProd_action:send_feedback",mgdata:{feedback_email:o.feedback_email}};GmCXt.sendToParentWindow(e)},()=>{rootScope.setCurrentPage("allguides"),Gm.breadCrumb.set([])},()=>{rootScope.setCurrentPage("currentpage"),Gm.breadCrumb.set([])}]}class Footer extends SvelteComponent{constructor(e){super(),init(this,e,instance$n,create_fragment$o,safe_not_equal,{})}}let modal={};function getGuideActiveEnvs(){var e=[];if(rootScope.guideEnvs&&rootScope.guideEnvs.length)for(var t=0;t<rootScope.guideEnvs.length;t++){var r=rootScope.guideEnvs[t];rootScope.appEnvs&&rootScope.appEnvs.includes(r)&&e.push(r)}return e}function reselectElem(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:reselect_edit_step_element,task:edit_step"})}function reselectBeacon(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:reselect_beacon_element"})}function close(){mg$$1(".mgPlayerJSProd_overlay-container").remove(),mg$$1(".ege-popup").remove(),mg$$1(".ege-popup-link-guide").remove(),mg$$1(".mgPlayerJSProd_category-delete-popup").remove()}function getDefaultScheduleOptions(){var e={},t=new Date,r=t.getMonth()+1,o=(r<10&&(r="0"+r),t.getDate(),t.getFullYear()),a=9<t.getDate()?t.getDate():"0"+t.getDate(),t=(9<t.getHours()?t.getHours():"0"+t.getHours())+":"+(9<t.getMinutes()?t.getMinutes():"0"+t.getMinutes());return e.default_date=o+"-"+r+"-"+a,e.default_time=t,e}function getSchedulePubHTML(){var e=getDefaultScheduleOptions();return"<div class='mgPlayerJSProd_pub-schedule-checkbox-container mgPlayerJSProd_process-msg mgPlayerJSProd_width-100 mgPlayerJSProd_text-align-center mgPlayerJSProd_padding-lr-15'><input id='mgPlayerJSProd_checkbox-tour-schedule-pub' class='mgPlayerJSProd_inline-block-vm mgPlayerJSProd_input-checkbox-custom' type='checkbox' name='pub-schedule-enable'><label class='mgPlayerJSProd_inline-block-vm'>"+rootScope.labels.schedulePublishCheckbox+"</label></div><div class='mgPlayerJSProd_pub-date-container'><div class='mgPlayerJSProd_pub-date-label'> "+rootScope.labels.date+"</div><div><input min='"+e.default_date+"' type='date' id='mgPlayerJSProd_pub-schedule-date' name='mgPlayerJSProd_pub-schedule-date' value='"+e.default_date+"'  class='mgPlayerJSProd_input-text mgPlayerJSProd_input-type-text'></div><div class='mgPlayerJSProd_pub-date-label'> "+rootScope.labels.timeLabel+"</div><div><input min='"+e.default_time+"' type='time' id='mgPlayerJSProd_pub-schedule-time' name='mgPlayerJSProd_pub-schedule-date' value='"+e.default_time+"'  class='mgPlayerJSProd_input-text mgPlayerJSProd_input-type-text'></div><div class='mgPlayerJSProd_invalid-pub-time error-input-wrapper'> "+rootScope.labels.invalidTimeLabel+" </div></div>"}function checkTimeValidity(){var e=mg$$1("#mgPlayerJSProd_pub-schedule-date").val()+"T"+mg$$1("#mgPlayerJSProd_pub-schedule-time").val();Date.parse(e)<Date.now()?mg$$1(".mgPlayerJSProd_invalid-pub-time").show():mg$$1(".mgPlayerJSProd_invalid-pub-time").hide()}function isPublishedOnTopEnv(){return!(!rootScope.guideEnvs||mg$$1(".mgPlayerJSProd_active-progress").length!==rootScope.guideEnvs.length)}function get_each_context$9(e,t,r){e=e.slice();return e[52]=t[r],e}function create_if_block_8$b(e){let r,o,a,i,n,s,l,c,d=e[17]&&create_if_block_12$8(e),p=1===e[0].appConfig.login.guideme&&create_if_block_10$a(e),u=1===e[0].appConfig.login.SSO&&create_if_block_9$a(e);return{c(){r=element("div"),d&&d.c(),o=space(),a=element("div"),i=element("form"),(n=element("h2")).textContent="Cornerstone Guide",s=space(),p&&p.c(),l=space(),u&&u.c(),attr(n,"class","mgPlayerJSProd_font-size-26 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-30"),attr(i,"name","form.signin"),attr(i,"method","post"),attr(a,"class","mgPlayerJSProd_signin-page-wrapper"),attr(r,"class","ege-panel-main-container mgPlayerJSProd_signin-page-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_no-padding")},m(e,t){insert(e,r,t),d&&d.m(r,null),append(r,o),append(r,a),append(a,i),append(i,n),append(i,s),p&&p.m(i,null),append(i,l),u&&u.m(i,null),c=!0},p(e,t){e[17]?d?d.p(e,t):((d=create_if_block_12$8(e)).c(),d.m(r,o)):d&&(d.d(1),d=null),1===e[0].appConfig.login.guideme?p?(p.p(e,t),1&t[0]&&transition_in(p,1)):((p=create_if_block_10$a(e)).c(),transition_in(p,1),p.m(i,l)):p&&(group_outros(),transition_out(p,1,1,()=>{p=null}),check_outros()),1===e[0].appConfig.login.SSO?u?u.p(e,t):((u=create_if_block_9$a(e)).c(),u.m(i,null)):u&&(u.d(1),u=null)},i(e){c||(transition_in(p),c=!0)},o(e){transition_out(p),c=!1},d(e){e&&detach(r),d&&d.d(),p&&p.d(),u&&u.d()}}}function create_if_block_12$8(e){let r,o,a=e[0].labels.invalidLoginCred+"",i;return{c(){r=element("div"),o=element("div"),i=text(a),attr(o,"class","mgPlayerJSProd_invalid-log-error-wrapper mgPlayerJSProd_font-size-14 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(r,"class","mgPlayerJSProd_width-100 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-tb-15")},m(e,t){insert(e,r,t),append(r,o),append(o,i)},p(e,t){1&t[0]&&a!==(a=e[0].labels.invalidLoginCred+"")&&set_data(i,a)},d(e){e&&detach(r)}}}function create_if_block_10$a(r){let o,a,i,n,s=r[0].labels.placeholderEmail+"",l,c,d,p,u,g,m=r[0].labels.emailError+"",h,F,_,f,y=r[0].labels.placeholderPassword+"",S,O,P,v,H,b,C=r[0].labels.passwordError+"",w,R,N,k,B,x,T,A=r[0].labels.loginTitle+"",$,V,L,J,G=r[0].labels.forgotPass+"",E,U,M,I,X,z,D=!r[0].config.hideCaptcha&&create_if_block_11$a(r);return{c(){o=element("div"),a=element("div"),i=element("div"),n=element("div"),l=text(s),c=space(),d=element("input"),u=space(),g=element("div"),h=text(m),F=space(),_=element("div"),f=element("div"),S=text(y),O=space(),P=element("input"),H=space(),b=element("div"),w=text(C),R=space(),D&&D.c(),N=space(),k=element("div"),B=space(),x=element("div"),T=element("button"),$=text(A),V=space(),L=element("div"),J=element("button"),E=text(G),U=space(),M=element("div"),attr(n,"id","mgPlayerJSProd_input-login-email-label"),attr(n,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),attr(d,"id","mgPlayerJSProd_input-login-email"),attr(d,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_font-size-16 mgPlayerJSProd_inline-block-vm"),attr(d,"maxlength","50"),attr(d,"spellcheck","true"),attr(d,"type","email"),attr(d,"placeholder",p=r[0].labels.placeholderEmail),attr(d,"aria-describedby","mgPlayerJSProd_input-login-email-err"),attr(d,"aria-labelledby","mgPlayerJSProd_input-login-email-label"),attr(d,"autocomplete","email"),attr(d,"aria-label","Email ID"),d.required=!0,attr(g,"id","mgPlayerJSProd_input-login-email-err"),attr(g,"class","error-input-wrapper emailid-error-wrapper"),toggle_class(g,"active",r[3]),attr(i,"class","mgPlayerJSProd_input-email-wrapper mgPlayerJSProd_margin-tb-10"),attr(f,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),attr(P,"id","mgPlayerJSProd_input-login-pass"),attr(P,"autocomplete","off"),attr(P,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_font-size-16 ege-inline-block-vm"),attr(P,"minlength","6"),attr(P,"maxlength","20"),attr(P,"spellcheck","true"),attr(P,"type","password"),attr(P,"placeholder",v=r[0].labels.placeholderPassword),attr(P,"name","password"),P.required=!0,attr(P,"aria-describedby","mgPlayerJSProd_input-login-pass-err"),attr(P,"aria-label","Password"),attr(b,"id","mgPlayerJSProd_input-login-pass-err"),attr(b,"class","error-input-wrapper password-error-wrapper"),toggle_class(b,"active",r[4]),attr(_,"class","mgPlayerJSProd_input-password-wrapper mgPlayerJSProd_margin-tb-10"),attr(a,"class","mgPlayerJSProd_signin-form-input"),attr(k,"class","mgPlayerJSProd_clear"),attr(T,"id","mgPlayerJSProd_btn-login-title"),attr(T,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_font-size-15"),attr(T,"aria-label","Login"),attr(T,"type","button"),attr(x,"class","mgPlayerJSProd_btn-login-wrapper mgPlayerJSProd_text-align-center"),attr(J,"id","mgPlayerJSProd_label-login-forgot-pass"),attr(J,"type","button"),attr(J,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_options-label mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-weight-550"),attr(L,"class","mgPlayerJSProd_float-right mgPlayerJSProd_options-wrapper mgPlayerJSProd_single-option-wrapper"),attr(M,"class","mgPlayerJSProd_clear"),attr(o,"class","mgPlayerJSProd_signin-form-container")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(n,l),append(i,c),append(i,d),set_input_value(d,r[1]),r[30](d),append(i,u),append(i,g),append(g,h),append(a,F),append(a,_),append(_,f),append(f,S),append(_,O),append(_,P),set_input_value(P,r[2]),r[32](P),append(_,H),append(_,b),append(b,w),append(a,R),D&&D.m(a,null),append(o,N),append(o,k),append(o,B),append(o,x),append(x,T),append(T,$),append(o,V),append(o,L),append(L,J),append(J,E),append(o,U),append(o,M),I=!0,X||(z=[listen(d,"input",r[29]),listen(P,"input",r[31]),listen(T,"click",r[22]),listen(J,"click",r[23])],X=!0)},p(e,t){(!I||1&t[0])&&s!==(s=e[0].labels.placeholderEmail+"")&&set_data(l,s),(!I||1&t[0]&&p!==(p=e[0].labels.placeholderEmail))&&attr(d,"placeholder",p),2&t[0]&&d.value!==e[1]&&set_input_value(d,e[1]),(!I||1&t[0])&&m!==(m=e[0].labels.emailError+"")&&set_data(h,m),(!I||8&t[0])&&toggle_class(g,"active",e[3]),(!I||1&t[0])&&y!==(y=e[0].labels.placeholderPassword+"")&&set_data(S,y),(!I||1&t[0]&&v!==(v=e[0].labels.placeholderPassword))&&attr(P,"placeholder",v),4&t[0]&&P.value!==e[2]&&set_input_value(P,e[2]),(!I||1&t[0])&&C!==(C=e[0].labels.passwordError+"")&&set_data(w,C),(!I||16&t[0])&&toggle_class(b,"active",e[4]),e[0].config.hideCaptcha?D&&(group_outros(),transition_out(D,1,1,()=>{D=null}),check_outros()):D?(D.p(e,t),1&t[0]&&transition_in(D,1)):((D=create_if_block_11$a(e)).c(),transition_in(D,1),D.m(a,null)),(!I||1&t[0])&&A!==(A=e[0].labels.loginTitle+"")&&set_data($,A),(!I||1&t[0])&&G!==(G=e[0].labels.forgotPass+"")&&set_data(E,G)},i(e){I||(transition_in(D),I=!0)},o(e){transition_out(D),I=!1},d(e){e&&detach(o),r[30](null),r[32](null),D&&D.d(),X=!1,run_all(z)}}}function create_if_block_11$a(t){let r,o,a=t[0].labels.captchaLbl+"",i,n,s,l,c,d,p;function e(e){t[33](e)}function u(e){t[34](e)}function g(e){t[35](e)}var m={};return void 0!==t[18]&&(m.captchaValid=t[18]),void 0!==t[19]&&(m.showCaptchaError=t[19]),void 0!==t[20]&&(m.inputCaptchaRef=t[20]),s=new Captcha({props:m}),binding_callbacks.push(()=>bind(s,"captchaValid",e)),binding_callbacks.push(()=>bind(s,"showCaptchaError",u)),binding_callbacks.push(()=>bind(s,"inputCaptchaRef",g)),{c(){r=element("div"),o=element("div"),i=text(a),n=space(),create_component(s.$$.fragment),attr(o,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),attr(r,"class","mgPlayerJSProd_margin-tb-10")},m(e,t){insert(e,r,t),append(r,o),append(o,i),append(r,n),mount_component(s,r,null),p=!0},p(e,t){(!p||1&t[0])&&a!==(a=e[0].labels.captchaLbl+"")&&set_data(i,a);var r={};!l&&262144&t[0]&&(l=!0,r.captchaValid=e[18],add_flush_callback(()=>l=!1)),!c&&524288&t[0]&&(c=!0,r.showCaptchaError=e[19],add_flush_callback(()=>c=!1)),!d&&1048576&t[0]&&(d=!0,r.inputCaptchaRef=e[20],add_flush_callback(()=>d=!1)),s.$set(r)},i(e){p||(transition_in(s.$$.fragment,e),p=!0)},o(e){transition_out(s.$$.fragment,e),p=!1},d(e){e&&detach(r),destroy_component(s)}}}function create_if_block_9$a(r){let o,a,i,n=r[0].labels.logInWithSSO+"",s,l,c;return{c(){o=element("div"),a=element("div"),i=element("button"),s=text(n),attr(i,"type","button"),attr(i,"id","mgPlayerJSProd_label-login-with-sso"),attr(i,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_font-size-16 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-t-50"),attr(a,"class","mgPlayerJSProd_margin-tb-20"),attr(o,"class","mgPlayerJSProd_signin-form-container")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,s),l||(c=listen(i,"click",r[26]),l=!0)},p(e,t){1&t[0]&&n!==(n=e[0].labels.logInWithSSO+"")&&set_data(s,n)},d(e){e&&detach(o),l=!1,c()}}}function create_if_block_3$d(e){let r,o,a,i,n=e[0].labels.loginOtpScreenTitle+"",s,l,c,d,p=1===e[0].appConfig.login.guideme&&create_if_block_4$d(e);return{c(){r=element("div"),o=element("div"),a=element("form"),i=element("h2"),s=text(n),l=space(),p&&p.c(),c=space(),d=element("div"),attr(i,"class","mgPlayerJSProd_font-size-24 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-25"),attr(d,"class","ege-clear"),attr(a,"name","form.verifyOtp"),attr(a,"autocomplete","off"),attr(o,"class","mgPlayerJSProd_signin-page-wrapper"),attr(r,"class","ege-panel-main-container mgPlayerJSProd_signin-page-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y")},m(e,t){insert(e,r,t),append(r,o),append(o,a),append(a,i),append(i,s),append(a,l),p&&p.m(a,null),append(a,c),append(a,d)},p(e,t){1&t[0]&&n!==(n=e[0].labels.loginOtpScreenTitle+"")&&set_data(s,n),1===e[0].appConfig.login.guideme?p?p.p(e,t):((p=create_if_block_4$d(e)).c(),p.m(a,c)):p&&(p.d(1),p=null)},d(e){e&&detach(r),p&&p.d()}}}function create_if_block_4$d(r){let o,a,i,n,s=r[0].labels.placeholderOtp+"",l,c,d,p,u,g,m=r[0].labels.otpError+"",h,_,f,y,S,P=r[0].labels.btnOtpVerify+"",v,b,C,w,k,x,T,A,$,L;function J(e){return e[9]?create_if_block_7$c:create_else_block$9}let G=J(r),E=G(r),M=r[10]&&create_if_block_6$d(r),I=r[12]&&create_if_block_5$d(r);return{c(){o=element("div"),a=element("div"),i=element("div"),n=element("div"),l=text(s),c=space(),d=element("input"),u=space(),g=element("div"),h=text(m),f=space(),y=element("div"),S=element("button"),v=text(P),k=space(),x=element("div"),E.c(),T=space(),M&&M.c(),A=space(),I&&I.c(),attr(n,"id","mgPlayerJSProd_input-otp-label"),attr(n,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),attr(d,"id","mgPlayerJSProd_input-otp"),attr(d,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_font-size-13 mgPlayerJSProd_inline-block-vm"),attr(d,"maxlength","6"),attr(d,"spellcheck","true"),attr(d,"type","text"),attr(d,"placeholder",p=r[0].labels.placeholderOtp),d.required=!0,attr(d,"name","otp"),attr(d,"pattern","^[0-9]*$"),attr(d,"aria-describedby","mgPlayerJSProd_input-otp-err"),attr(d,"aria-labelledby","mgPlayerJSProd_input-otp-label"),attr(g,"id","mgPlayerJSProd_input-otp-err"),attr(g,"class",_="error-input-wrapper emailid-error-wrapper "+(r[11].otpRequired?"active":"")),attr(i,"class","mgPlayerJSProd_input-email-wrapper mgPlayerJSProd_margin-tb-10"),attr(a,"class","mgPlayerJSProd_signin-form-input"),attr(S,"id","mgPlayerJSProd_btn-verify-otp"),attr(S,"class",b="mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_font-size-16 "+(r[11].otpRequired?"mgPlayerJSProd_disabled":"")),attr(S,"type","button"),attr(S,"aria-disabled",C=r[11].otpRequired),attr(S,"aria-label",w=r[0].labels.btnOtpVerify),attr(y,"class","mgPlayerJSProd_margin-tb-25 mgPlayerJSProd_text-align-center"),attr(x,"class","mgPlayerJSProd_options-wrapper"),attr(o,"class","mgPlayerJSProd_signin-form-container")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(n,l),append(i,c),append(i,d),set_input_value(d,r[8]),append(i,u),append(i,g),append(g,h),append(o,f),append(o,y),append(y,S),append(S,v),append(o,k),append(o,x),E.m(x,null),append(o,T),M&&M.m(o,null),append(o,A),I&&I.m(o,null),$||(L=[listen(d,"input",r[36]),listen(d,"focus",r[37]),listen(S,"click",r[21])],$=!0)},p(e,t){1&t[0]&&s!==(s=e[0].labels.placeholderOtp+"")&&set_data(l,s),1&t[0]&&p!==(p=e[0].labels.placeholderOtp)&&attr(d,"placeholder",p),256&t[0]&&d.value!==e[8]&&set_input_value(d,e[8]),1&t[0]&&m!==(m=e[0].labels.otpError+"")&&set_data(h,m),2048&t[0]&&_!==(_="error-input-wrapper emailid-error-wrapper "+(e[11].otpRequired?"active":""))&&attr(g,"class",_),1&t[0]&&P!==(P=e[0].labels.btnOtpVerify+"")&&set_data(v,P),2048&t[0]&&b!==(b="mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large mgPlayerJSProd_font-size-16 "+(e[11].otpRequired?"mgPlayerJSProd_disabled":""))&&attr(S,"class",b),2048&t[0]&&C!==(C=e[11].otpRequired)&&attr(S,"aria-disabled",C),1&t[0]&&w!==(w=e[0].labels.btnOtpVerify)&&attr(S,"aria-label",w),G===(G=J(e))&&E?E.p(e,t):(E.d(1),(E=G(e))&&(E.c(),E.m(x,null))),e[10]?M?M.p(e,t):((M=create_if_block_6$d(e)).c(),M.m(o,A)):M&&(M.d(1),M=null),e[12]?I?I.p(e,t):((I=create_if_block_5$d(e)).c(),I.m(o,null)):I&&(I.d(1),I=null)},d(e){e&&detach(o),E.d(),M&&M.d(),I&&I.d(),$=!1,run_all(L)}}}function create_else_block$9(r){let o,a=r[0].labels.resendOTP+"",i,n,s,l,c=r[0].labels.backToLogin+"",d,p,u,g;return{c(){o=element("button"),i=text(a),s=space(),l=element("button"),d=text(c),attr(o,"id","mgPlayerJSProd_label-resend-otp"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_options-label mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-15 mgPlayerJSProd_cursor-pointer"),attr(o,"type","button"),attr(o,"aria-label",n=r[0].labels.resendOTP),attr(l,"id","mgPlayerJSProd_label-back-to-login"),attr(l,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_options-label mgPlayerJSProd_text-align-center mgPlayerJSProd_back-to-login mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_font-size-15 mgPlayerJSProd_inline-block-vm"),attr(l,"aria-label",p=r[0].labels.backToLogin),attr(l,"type","button")},m(e,t){insert(e,o,t),append(o,i),insert(e,s,t),insert(e,l,t),append(l,d),u||(g=[listen(o,"click",r[25]),listen(l,"click",r[24])],u=!0)},p(e,t){1&t[0]&&a!==(a=e[0].labels.resendOTP+"")&&set_data(i,a),1&t[0]&&n!==(n=e[0].labels.resendOTP)&&attr(o,"aria-label",n),1&t[0]&&c!==(c=e[0].labels.backToLogin+"")&&set_data(d,c),1&t[0]&&p!==(p=e[0].labels.backToLogin)&&attr(l,"aria-label",p)},d(e){e&&(detach(o),detach(s),detach(l)),u=!1,run_all(g)}}}function create_if_block_7$c(e){let r,o=e[0].labels.otpTimer+"",a,i,n=e[0].labels.seconds+"",s;return{c(){r=element("div"),a=text(o),i=text(e[7]),s=text(n),attr(r,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13 mgPlayerJSProd_margin-tb-5 mgPlayerJSProd_theme-color")},m(e,t){insert(e,r,t),append(r,a),append(r,i),append(r,s)},p(e,t){1&t[0]&&o!==(o=e[0].labels.otpTimer+"")&&set_data(a,o),128&t[0]&&set_data(i,e[7]),1&t[0]&&n!==(n=e[0].labels.seconds+"")&&set_data(s,n)},d(e){e&&detach(r)}}}function create_if_block_6$d(e){let r,o=e[0].labels.otpSent+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13 mgPlayerJSProd_margin-tb-5 mgPlayerJSProd_theme-color")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t[0]&&o!==(o=e[0].labels.otpSent+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_5$d(e){let r,o=e[0].labels.limitWarning+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13 mgPlayerJSProd_margin-tb-5 mgPlayerJSProd_error-text-color")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t[0]&&o!==(o=e[0].labels.limitWarning+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block$j(e){let r,o,a=void 0!==e[0].labels.selectOrganization&&create_if_block_2$g(e),i=e[13]&&create_if_block_1$h(e);return{c(){r=element("div"),a&&a.c(),o=space(),i&&i.c(),attr(r,"class","mgPlayerJSProd_multiple-org-list-container mgPlayerJSProd_margin-tb-15")},m(e,t){insert(e,r,t),a&&a.m(r,null),append(r,o),i&&i.m(r,null)},p(e,t){void 0!==e[0].labels.selectOrganization?a?a.p(e,t):((a=create_if_block_2$g(e)).c(),a.m(r,o)):a&&(a.d(1),a=null),e[13]?i?i.p(e,t):((i=create_if_block_1$h(e)).c(),i.m(r,null)):i&&(i.d(1),i=null)},d(e){e&&detach(r),a&&a.d(),i&&i.d()}}}function create_if_block_2$g(e){let r,o=e[0].labels.selectOrganization+"",a;return{c(){r=element("h2"),a=text(o),attr(r,"class","mgPlayerJSProd_font-size-24 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-25")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t[0]&&o!==(o=e[0].labels.selectOrganization+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_1$h(t){let a,i=ensure_array_like(t[14]),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block$9(get_each_context$9(t,i,e));return{c(){a=element("div");for(let e=0;e<n.length;e+=1)n[e].c();attr(a,"class","mgPlayerJSProd_multiple-org-list-wrapper mgPlayerJSProd_margin-tb-15 mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_scrollbar-thin")},m(e,t){insert(e,a,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(a,null)},p(t,r){if(134234112&r[0]){i=ensure_array_like(t[14]);let e;for(e=0;e<i.length;e+=1){var o=get_each_context$9(t,i,e);n[e]?n[e].p(o,r):(n[e]=create_each_block$9(o),n[e].c(),n[e].m(a,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=i.length}},d(e){e&&detach(a),destroy_each(n,e)}}}function create_each_block$9(r){let o,a,i=r[52].name+"",n,s,l,c,d;function p(){return r[38](r[52])}return{c(){o=element("div"),a=element("button"),n=text(i),l=space(),attr(a,"class","mgPlayerJSProd_btn-default"),attr(a,"aria-label",s=r[52].name),attr(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_margin-tb-25")},m(e,t){insert(e,o,t),append(o,a),append(a,n),append(o,l),c||(d=listen(a,"click",p),c=!0)},p(e,t){r=e,16384&t[0]&&i!==(i=r[52].name+"")&&set_data(n,i),16384&t[0]&&s!==(s=r[52].name)&&attr(a,"aria-label",s)},d(e){e&&detach(o),c=!1,d()}}}function create_fragment$n(e){let r,o,a,i,n,s,l,c=(r=new Header({}),e[5]&&!e[13]&&create_if_block_8$b(e)),d=e[6]&&!e[13]&&create_if_block_3$d(e),p=e[13]&&create_if_block$j(e);return s=new Footer({}),{c(){create_component(r.$$.fragment),o=space(),c&&c.c(),a=space(),d&&d.c(),i=space(),p&&p.c(),n=space(),create_component(s.$$.fragment)},m(e,t){mount_component(r,e,t),insert(e,o,t),c&&c.m(e,t),insert(e,a,t),d&&d.m(e,t),insert(e,i,t),p&&p.m(e,t),insert(e,n,t),mount_component(s,e,t),l=!0},p(e,t){e[5]&&!e[13]?c?(c.p(e,t),8224&t[0]&&transition_in(c,1)):((c=create_if_block_8$b(e)).c(),transition_in(c,1),c.m(a.parentNode,a)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros()),e[6]&&!e[13]?d?d.p(e,t):((d=create_if_block_3$d(e)).c(),d.m(i.parentNode,i)):d&&(d.d(1),d=null),e[13]?p?p.p(e,t):((p=create_if_block$j(e)).c(),p.m(n.parentNode,n)):p&&(p.d(1),p=null)},i(e){l||(transition_in(r.$$.fragment,e),transition_in(c),transition_in(s.$$.fragment,e),l=!0)},o(e){transition_out(r.$$.fragment,e),transition_out(c),transition_out(s.$$.fragment,e),l=!1},d(e){e&&(detach(o),detach(a),detach(i),detach(n)),destroy_component(r,e),c&&c.d(e),d&&d.d(e),p&&p.d(e),destroy_component(s,e)}}}function getSignInUser(){}function isValidOtp(e){return""!==e&&6===e.length&&/^[0-9]*$/.test(e)}function instance$m(e,t,r){let a="",o="",i,n,s=!0,l=!1,c=30,d=0,p,u=!1,g=!1,m={otpRequired:!1},h=!1,_=[],f,y,S,P=!1,v;rootScope.currentView="login-view";let b,C;function w(t){if(_)for(let e=0;e<_.length;e++)if(_[e].email===t)if((new Date).getTime()<_[e].expiry)return _[e].token}get_store_value(Gm.appList),onMount(()=>{});let k=!1;function x(){r(17,k=!0),Gm.loading.set(!1)}async function T(e){if(Gm.loading.set(!1),"string"==typeof e)return E(e,a),modal.open(rootScope.labels.signInVerifyYourAccount,"success",function(){r(5,s=!1),r(6,l=!0),setTimeout(function(){mg$$1("#mgPlayerJSProd_input-otp").focus()},500)}),mg$$1("#mgPlayerJSProd_btn-ok-common-popup").focus(),!0;e&&e.orgs?(r(13,P=!0),r(14,v=e.orgs)):(mg$$1("#mgPlayerJSProd_btn-verify-otp").addClass("mgPlayerJSProd_disabled"),rootScope.onUserSignin(e,!1))}let A=!1,$=!1,L;function J(){return""!==a.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(a)}function G(){mg$$1(".mgPlayerJSProd_signin-page-container").css({height:window.innerHeight-mg$$1("#ege-header").innerHeight()-mg$$1("#footer").innerHeight()-50}),mg$$1(".mgPlayerJSProd_signin-page-container").innerHeight()<60?mg$$1(".mgPlayerJSProd_header-banner-wrapper").hide():mg$$1(".mgPlayerJSProd_header-banner-wrapper").removeAttr("style")}function E(t,r){let o=!0;for(let e=0;e<_.length;e++)if(_[e].email===r){f=t,_[e].token=t,_[e].expiry=(new Date).getTime()+rootScope.thirtyDaysInMSeconds,o=!1;break}var e;o&&((e={}).email=a,e.token=t,e.expiry=(new Date).getTime()+rootScope.thirtyDaysInMSeconds,_.push(e),f=t),storage$1.dual_auth_token.set(_,rootScope.thirtyDaysInSeconds)}function M(t){mgError$1.try(function(){var e={email_id:a,password:o,keep_login:1};t&&(e.org_id=t),(f=w(a))&&(e.token=f),api.userSignIn(e,T,x)},700)}mg$$1(window).off("resize").on("resize",G),onDestroy(()=>{clearTimeout(y),clearInterval(S)}),setTimeout(function(){G()},500);return[rootScope,a,o,!1,!1,s,l,c,p,u,g,m,h,P,v,b,C,k,A,$,L,function(){var e;Gm.loading.set(!0),isValidOtp(p)?(e={email:a,code:p,token:f},r(10,g=!1),api.verifyUser(e,T,x)):(Gm.loading.set(!1),r(11,m.otpRequired=!0,m))},function(){var e;Gm.loading.set(!0),r(3,i=!1),r(4,n=!1),A||GmCXt.conf.hideCaptcha||(r(19,$=!0),L?.focus(),Gm.loading.set(!1)),J()?((e=6<=o.length&&o.length<=20)||(r(4,!0),C?.focus(),Gm.loading.set(!1)),(A||GmCXt.conf.hideCaptcha)&&J()&&e&&(e={email_id:a,password:o,keep_login:1},(f=w(a))&&(e.token=f),api.userSignIn(e,T,x))):(r(3,!0),b?.focus(),Gm.loading.set(!1))},function(){Gm.activeView.set("forgotpwd")},function(){r(6,l=!1),r(5,s=!0),r(8,p=""),d=0,r(12,h=!1),G()},function(){var e;r(7,c=30),r(9,u=!0),3<(d+=1)?(r(9,u=!1),r(12,h=!0),setTimeout(function(){d=0,r(12,h=!1)},3e5)):(r(10,g=!0),(e={email:a}).token=f,api.resendOTP(e,function(e){E(e,a)}),S=setInterval(function(){r(7,c--,c),c<=0&&clearInterval(S)},1e3),y=setTimeout(()=>{r(9,u=!1),r(10,g=!1),clearInterval(S)},3e4))},function(){r(0,rootScope.ssoHitCount=0,rootScope),GmCXt.isMyGuide()?rootScope.getSsoId().then(function(e){rootScope.openSsoTab()}).catch(function(){}):rootScope.openSsoTab()},M,getSignInUser,function(){a=this.value,r(1,a)},function(e){binding_callbacks[e?"unshift":"push"](()=>{b=e,r(15,b)})},function(){o=this.value,r(2,o)},function(e){binding_callbacks[e?"unshift":"push"](()=>{C=e,r(16,C)})},function(e){A=e,r(18,A)},function(e){$=e,r(19,$)},function(e){L=e,r(20,L)},function(){p=this.value,r(8,p)},()=>{r(11,m.otpRequired=!1,m)},e=>M(e.organization_id)]}modal.addPublishActions=function(t){var o=modal,i=rootScope.appEnvs;function e(e){var r,o,t=i.indexOf(e.currentTarget.id);if(mg$$1("#mgPlayerJSProd_checkbox-tour-schedule-pub").prop("checked",!1),mg$$1(".mgPlayerJSProd_pub-date-container").hide(),mg$$1(e.currentTarget).hasClass("mgPlayerJSProd_active-progress")){mg$$1(e.currentTarget).removeClass("mgPlayerJSProd_active-progress"),mg$$1(".mgPlayerJSProd_pub-schedule-checkbox-container").hide(),0===t?mg$$1(".ege-publish").addClass("mgPlayerJSProd_disabled"):mg$$1(".ege-publish").removeClass("mgPlayerJSProd_disabled");for(var a=t+1;a<i.length;)mg$$1("#"+i[a]).removeClass("mgPlayerJSProd_active-progress"),a++}else{if(mg$$1(e.currentTarget).addClass("mgPlayerJSProd_active-progress"),mg$$1(".ege-publish").removeClass("mgPlayerJSProd_disabled"),0<t)for(a=0;a<t;)mg$$1("#"+i[a]).addClass("mgPlayerJSProd_active-progress"),a++;i[t]===i[i.length-1]&&mg$$1(".mgPlayerJSProd_pub-schedule-checkbox-container").show()}isPublishedOnTopEnv()&&mg$$1(".ege-publish").addClass("mgPlayerJSProd_disabled"),e=rootScope.labels.guideWillPubIn,r=!1,o="",mg$$1(".mgPlayerJSProd_active-progress").each(function(e,t){r=!0;t=mg$$1(t).text();o=o?o+", "+t:t}),isPublishedOnTopEnv()?mg$$1("#publishMsg").text(rootScope.labels.guideIsPubIn+o):r?mg$$1("#publishMsg").text(e+o):mg$$1("#publishMsg").text("")}for(var r=0;r<i.length;r++)mg$$1("#"+i[r]).on("click",e);mg$$1(".ege-publish").off("click").on("click",function(){var r=[],e=(mg$$1(".mgPlayerJSProd_active-progress").each(function(e,t){r.push(mg$$1(t).attr("id"))}),getGuideActiveEnvs());if(!rootScope.guideEnvs||r.length>e.length){if(!r.length&&"publish"===rootScope.publishStatus)return;t(r,"publish")}else{var e=r[r.length-1],e=rootScope.appEnvs.indexOf(e);0<=e&&(e=rootScope.appEnvs.slice(e+1)).length&&t(e,"unpublish")}o.close(),localStorage.setItem(GmCXt.prevEnv,r)}),mg$$1(".ege-cancel-btn").off("click").on("click",function(){o.close()}),mg$$1(".mgPlayerJSProd_popup-close").off("click").on("click",function(){o.close()})},modal.attachPopupActions=function(a,t,r){var i=modal;mg$$1(".mgPlayerJSProd_overlay-container").off("click").on("click",function(e){i.close(),t&&t()}),mg$$1(".ege-ok-btn").off("click").on("click",function(){var e=document.getElementById("mgPlayerJSProd_donot-show-cb");e&&storage$1.confirmLinkGuidePub.set(e.checked),i.close(),a&&a()}),mg$$1(".ege-ok-json-update").off("click").on("click",function(){a()}),mg$$1(".ege-ok-btn-radio").off("click").on("click",function(){var e="";(e=mg$$1(".env")?mg$$1(".env:checked").val():e)&&(a(e),i.close())}),mg$$1(".ege-option-btn").off("click").on("click",function(){r&&r(),i.close()}),mg$$1(".ege-cancel-btn").off("click").on("click",function(){t&&t(),i.close()}),mg$$1(".ege-popup-close").off("click").on("click",function(){t&&t(),i.close()}),mg$$1("#mgPlayerJSProd_resusme-guide-close-button").off("click").on("click",function(){i.close()}),mg$$1(".ege-update-btn").off("click").on("click",function(){var e=mg$$1("#audio-text-area").val();if(!(e=e.trim()).length)return mg$$1("#audio-text-area").addClass("empty-textarea"),!0;a&&a(e),i.close()}),mg$$1(".ege-email-submit-btn").off("click").on("click",function(){var e=mg$$1(".ege-popup-email-input").val().trim();if(!e.length)return mg$$1(".ege-popup-error-msg").show(),!0;a&&a(e),i.close()}),mg$$1(".ege-otp-submit-btn").off("click").on("click",function(){var e=mg$$1(".ege-popup-email-input-confirm").val().trim(),t=mg$$1(".ege-popup-confirm-otp").val().trim();if(!t.length)return mg$$1(".ege-popup-error-msg").show(),!0;a&&a(e,t),i.close()}),mg$$1("#audio-text-area").length&&mg$$1("#audio-text-area").on("focus",function(e){mg$$1(e.target).removeClass("empty-textarea")}),mg$$1("#preview-link").length&&mg$$1("#preview-link").off("click").on("click",function(){var e=(e=mg$$1("#audio-text-area").val()).trim();r&&e.length&&r(e)}),mg$$1(".ege-link-guide").off("click").on("click",function(){if(!mg$$1("#ruleTypeGuide").val().trim().length)return mg$$1(".ege-popup-error-msg").show(),!0;rootScope.step.step_screen=mg$$1("#ruleTypeGuide option:selected").attr("data-image"),rootScope.step.step_description=mg$$1("#ruleTypeGuide option:selected").attr("data-description"),rootScope.step.step_screen||(rootScope.step.step_screen="1"),rootScope.step.step_description||(rootScope.step.step_description=" "),rootScope.step.step_title=mg$$1("#ruleTypeGuide option:selected").text(),rootScope.step.step_settings="{'tour_id' :"+mg$$1("#ruleTypeGuide").val()+"}";var e={};e.tour_id=mg$$1("#ruleTypeGuide").val(),rootScope.step.step_settings=JSON.stringify(e);Object.assign({},rootScope.step).step_screen=rootScope.step.step_screen,rootScope.step.step_order}),mg$$1(".mgPlayerJSProd_modal-view-more").off("click").on("click",function(){mg$$1(".mgPlayerJSProd_info-msg").show(),mg$$1(".mgPlayerJSProd_modal-view-more").hide()}),mg$$1(".ege-csv-ok-btn").off("click").on("click",function(){var e,t=mg$$1("#mgPlayerJSProd_input-csv")[0].files,o=[];t&&t[0]?(t=t[0],(e=new FileReader).onload=function(e){for(var t=e.target.result.split("\n"),r=0;r<t.length;r++)""!==t[r]&&o.push(t[r].split(","));a(o)},e.readAsBinaryString(t)):a(),i.close()})},modal.createStep=function(o,a){var i=modal;api$1.stepCreate(rootScope.step,function(e){var t=e.data.data,r=(i.close(),Gm.loading.set(!1),{});r.stepIndex=rootScope.step.step_order-1,r.step=t.step,o.createStepCompleted(r),a&&a(e.data.data)})},modal.editStepOptions=function(e){var t=rootScope.labels.lblNotFoundInPage,r="",o="",a=rootScope.labels.ok,i=rootScope.svgs.popupWarning,n="<div class='mgPlayerJSProd_popup-btn-close ege-cancel-btn'>"+rootScope.svgs.popupClose+"</div>",e=("Reselect element"===e?(t=rootScope.labels.lblReselectElem,o="<div id='mgPlayerJSProd_btn-ok-edit-step-popup' class='ege-ok-btn mgPlayerJSProd_btn-default ege-inline-block-vt ege-redirect-btn'>"+e+"</div>",r=reselectElem,a=rootScope.labels.btnCancel):"Reselect beacon"===e&&(t=rootScope.labels.lblReselectBeacon,o="<div id='mgPlayerJSProd_btn-ok-edit-step-popup' class='ege-ok-btn mgPlayerJSProd_btn-default ege-inline-block-vt ege-redirect-btn'>"+e+"</div>",r=reselectBeacon,a=rootScope.labels.btnCancel),"<div class='mgPlayerJSProd_overlay-container'></div> \t<div class='ege-popup mgPlayerJSProd_popup-warning'>        <div class='mgPlayerJSProd_popup-header-wrapper'>\t"+n+"\t\t       <div class='mgPlayerJSProd_popup-header-icon-wrapper'><div class='mgPlayerJSProd_popup-header-icon'>"+i+"</div></div>       </div>\t\t<div style='display:none;' class='ege-popup-title-wrapper'>\t\t{{data.title}}</div>\t\t<div class='ege-popup-content-wrapper mgPlayerJSProd_font-size-17'>"+t+"</div>\t\t<div class='ege-popup-btn-wrapper'>"+o+"\t\t\t<div id='mgPlayerJSProd_btn-cancel-edit-step-popup' class='mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large ege-ok-btn ege-inline-block-vt'>"+a+"\t\t</div>\t</div> </div> ");mg$$1(".ege-panel").append(e),modal.attachPopupActions(r,!1)},modal.open=function(e,t,r,o,a,i,n){"string"!=typeof e&&(e="Unknown error!");var s="",l=rootScope.labels.ok,c=rootScope.labels.btnCancel,d="",p="",u="",g="",m="<div class='mgPlayerJSProd_popup-btn-close ege-cancel-btn'>"+rootScope.svgs.popupClose+"</div>",h="",_="",a=(a&&(u="<span class='mgPlayerJSProd_info-msg-container'><span class='mgPlayerJSProd_modal-view-more'>"+rootScope.labels.viewMore+"</span><br><label class='mgPlayerJSProd_info-msg'>"+a+"</label></span>"),rootScope.labels.guidePublishWarning===e&&(h="<div class= 'mgPlayerJSProd_donot-show-popup'><input id='mgPlayerJSProd_donot-show-cb' type= 'checkbox' class='mgPlayerJSProd_input-checkbox-custom' /><label class='mgPlayerJSProd_info-msg-donot-show-popup'>Do not show this pop up again</label></div>"),"yesno"===t&&(l="Yes",c="No"),"tourPlay"===t&&(l=rootScope.labels.startOver,c=rootScope.labels.yesResume,m="<button id='mgPlayerJSProd_resusme-guide-close-button' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_popup-upload-close ege-popup-close mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_display-flex mgPlayerJSProd_justify-content-flex-end mgPlayerJSProd_padding-15' aria-label='Close' >"+rootScope.svgs.popupClose+"</button>"),"tourPlay"!==t&&"info"!==t&&""!==t||(d="mgPlayerJSProd_popup-info",p=rootScope.svgs.popupInfo),"alert"===t&&(d="mgPlayerJSProd_popup-error",p=rootScope.svgs.popupError),"success"===t&&(d="mgPlayerJSProd_popup-success",p=rootScope.svgs.popupSuccess),"warning"===t&&(d="mgPlayerJSProd_popup-warning",p=rootScope.svgs.popupWarning),"confirm"!==t&&"copy"!==t&&"yesno"!==t&&"domain"!==t||(d="mgPlayerJSProd_popup-warning",p=rootScope.svgs.popupWarning),"tourPlay"===t&&(s="<button id='mgPlayerJSProd_btn-cancel-tour-play-popup' class='ege-cancel-btn mgPlayerJSProd_btn-default ege-inline-block-vt' aria-label='"+c+"' >"+c+"</button>"),"<button id='mgPlayerJSProd_btn-ok-common-popup' class='ege-ok-btn mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large ege-inline-block-vt' aria-label='"+l+"' >"+l+"</button>");if("domain"===t){var f=[],y=GmCXt.getActiveAppSetting().app_env||rootScope.defaultAppEnv;for(v in y)y[v].checked&&f.push(v);if(f.length){for(var S,P=[],v=0;v<f.length;v++)S=rootScope.highestEnv===f[v]?"checked":"",P.push('<div class="mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_padding-5"><input type="radio" name="env" value='+f[v]+' class="env ege-popup-radio mgPlayerJSProd_inline-block-vt mgPlayerJSProd_input-radio-custom"'+S+'/><span class="ege-popup-radio-text">'+rootScope.updateEnvNames(f[v])+"</span></div>");g='<br><div class="ege-inline-block-vm mgPlayerJSProd_display-flex mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-wrap mgPlayerJSProd_padding-lr-15">'+P.join("")+" </div><br>",a="<button class='ege-ok-btn-radio mgPlayerJSProd_btn-default ege-inline-block-vt' aria-label='"+l+"' >"+l+"</button>"}}"copy"===t&&(l=rootScope.labels.copy);c="",rootScope.categoryIsUnPublished&&(c="<div class='mgPlayerJSProd_popup-content-info'>"+(e===(t=rootScope.labels).tourpublishMsg2?t.tooltipPublishWarningMessage:t.guidePublishWarningMessage)+"</div>",rootScope.categoryIsUnPublished=!1),l=" <div class='mgPlayerJSProd_overlay-container'></div> <div class='ege-popup "+d+"'>    <div class='mgPlayerJSProd_popup-header-wrapper'>\t"+m+"\t\t   <div class='mgPlayerJSProd_popup-header-icon-wrapper'><div class='mgPlayerJSProd_popup-header-icon'>"+p+"</div></div>   </div>"+(_=GmCXt.isDefined(n)?"<div class='ege-popup-title-wrapper'>"+n+"</div>":_)+"\t<div class='ege-popup-content-wrapper mgPlayerJSProd_font-size-17'>"+e+u+"</div> "+c+" "+g+h+"\t<div class='ege-popup-btn-wrapper'>"+a+s+"\t</div> </div> ";(rootScope.isAutoConfigPanelOpen?mg$$1(".ege-panel-auto"):mg$$1(".ege-panel")).append(l),modal.attachPopupActions(r,o,!1),setTimeout(function(){mg$$1("#mgPlayerJSProd_btn-ok-common-popup").focus()},500),i&&setTimeout(function(){mg$$1(".mgPlayerJSProd_overlay-container").remove(),mg$$1(".ege-popup").remove()},i)},modal.openCategoryDelete=function(e,t,r){var o=rootScope.svgs.popupWarning,o=" <div class='mgPlayerJSProd_overlay-container'></div> <div class='ege-popup mgPlayerJSProd_popup-warning'>    <div class='mgPlayerJSProd_popup-header-wrapper'>\t"+("<div id='mgPlayerJSProd_btn-cancel-cat-del-popup' class='mgPlayerJSProd_popup-btn-close ege-cancel-btn'>"+rootScope.svgs.popupClose+"</div>")+"\t\t   <div class='mgPlayerJSProd_popup-header-icon-wrapper'><div class='mgPlayerJSProd_popup-header-icon'>"+o+"</div></div>   </div>\t<div class='ege-popup-content-wrapper mgPlayerJSProd_font-size-17'>"+rootScope.labels.deleteFolder+": <b>"+e.name+"</b></div>   <div class='mgPlayerJSProd_popup-content-info'>"+e.msg+"</div>\t<div class='ege-popup-btn-wrapper'>\t\t<div id='mgPlayerJSProd_btn-ok-cat-del-popup' class='ege-ok-btn mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large ege-inline-block-vt'>OK</div>\t</div> </div> ";mg$$1(".ege-panel").append(o),modal.attachPopupActions(t,r,!1)},modal.openJsonEdit=function(e,t,r,o){mg$$1(".ege-panel").append("<div class='ege-popup mgPlayerJSProd_popup-warning'> \t<pre id='mgPlayerJSProd_json-editor'></pre>\t<div class='ege-popup-btn-wrapper'>\t\t<div id='mgPlayerJSProd_btn-ok-json-edit-popup' class='ege-ok-json-update mgPlayerJSProd_btn-default ege-inline-block-vt'>Save</div>       <div id='mgPlayerJSProd_btn-cancel-json-edit-popup' class='ege-cancel-btn mgPlayerJSProd_btn-default ege-inline-block-vt'>Cancel</div>\t</div> </div> "),modal.attachPopupActions(r,o,!1)},modal.openGuideLink=function(e,t,o,a){rootScope.step={};var i=e.data,e=(Gm.loading.set(!0),{tour_id:i.tour.tour_id,step_title:"",step_description:"",step_type:"guide",step_target_type:"na",step_target_name:"na",step_settings:"na",step_image:"0",step_screen:"0",step_url:"na",step_audio_text:"na",step_video_id:"0",step_audio:"0",step_order:parseInt(i.order)}),n=(rootScope.step=e,modal),e=(setTimeout(function(){Gm.loading.set(!1)},200),{category_id:i.tour.category_id,limit:100,offset:0}),s=" <div class='mgPlayerJSProd_overlay-container'></div>";api$1.getTourList(e,function(e){var r="";e.forEach(function(e,t){e.tour_id!==i.tour.tour_id&&0<parseInt(e.step_count)&&e.tour_type===i.tour_type&&(r+='<option value="'+e.tour_id+'" data-category_id="'+e.category_id+'"  data-description="'+e.tour_description+'" data-image="'+e.tour_image+'" data-screenImage="'+e.tour_image+'">'+e.tour_title+"</option>")}),s+=" <div class='ege-popup-link-guide'> \t<div class='ege-popup-header'>"+rootScope.labels.guideLinkMessage+'</div>\t<div class=\'ege-popup-close\'><svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M46,4C44.9,3,43.2,3,42.1,4L25,21.2L7.9,4C6.8,3,5.1,3,4,4S3,6.8,4,7.9L21.2,25L4,42.1C3,43.2,3,44.9,4,46c0.5,0.5,1.2,0.8,1.9,0.8s1.4-0.3,1.9-0.8L25,28.8L42.1,46c0.5,0.5,1.2,0.8,1.9,0.8c0.7,0,1.4-0.3,1.9-0.8c1.1-1.1,1.1-2.8,0-3.8L28.8,25L46,7.9C47,6.8,47,5.1,46,4z"/></g></g></svg>\t</div>\t<div class=\'selectbox-wrapper\'>      \t<select class=\'create-step-selectbox-select\' id=\'ruleTypeGuide\'>      \t\t<option value=\'\'>'+rootScope.labels.select+"</option>     \t\t"+r+"      \t</select>\t</div>\t<div class='ege-popup-error-msg'>"+rootScope.labels.selectGuideBeforeSubmit+"</div>\t<div class='ege-popup-btn-wrapper'>       <div class='mgPlayerJSProd_btn-default ege-inline-block-vt'>"+rootScope.labels.btnLink+"</div>       <div class='mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral ege-inline-block-vt'>"+rootScope.labels.btnCancel+"</div>\t</div> </div> ",mg$$1(".ege-panel").append(s),n.attachPopupActions(o,"",a)})},modal.openDoItPopup=function(e,t){var r="<div class='mgPlayerJSProd_popup-btn-close ege-cancel-btn'>"+rootScope.svgs.popupClose+"</div>",o="",t=(GmCXt.isDefined(t)&&(o="<div class='ege-popup-title-wrapper'>"+t+"</div>")," <div class='mgPlayerJSProd_overlay-container'></div>\t<div class='ege-popup mgPlayerJSProd_popup-info'>    \t<div class='mgPlayerJSProd_popup-header-wrapper'>\t\t"+r+"\t\t  \t \t<div class='mgPlayerJSProd_popup-header-icon-wrapper'><div class='mgPlayerJSProd_popup-header-icon'>"+rootScope.svgs.popupInfo+"</div></div>   \t</div>"+o+"\t\t<div class='mgPlayerJSProd_image-file-input-wrapper'>\t\t\t<input id='mgPlayerJSProd_input-csv' title='Upload CSV' type='file' tabindex='-1' name='inputData' accept='.csv'>\t\t</div> \t\t<div class='ege-popup-btn-wrapper'>\t\t\t<div id='mgPlayerJSProd_btn-ok-doit-popup' class='ege-csv-ok-btn mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large ege-inline-block-vt'>"+rootScope.labels.ok+"</div>\t\t</div> \t</div> ");mg$$1(".ege-panel").append(t),modal.attachPopupActions(e)},modal.close=function(){close()},modal.publishNoEnv=function(e,t,r){rootScope.guideEnvs=e.tour_settings.app_publish_env,rootScope.guideEnvs,void 0===rootScope.guideEnvs&&e.is_published&&rootScope.appEnvs,e.is_published||localStorage.getItem(GmCXt.prevEnv),rootScope.appEnvs;var e="<div class='mgPlayerJSProd_popup-btn-close ege-cancel-btn'>"+rootScope.svgs.popupClose+"</div>",o="",r=(GmCXt.isDefined(r)&&(o="<div class='ege-popup-title-wrapper'>"+r+"</div>")," <div class='mgPlayerJSProd_overlay-container'></div> <div class='ege-popup mgPlayerJSProd_popup-info'>    <div class='mgPlayerJSProd_popup-header-wrapper'>\t"+e+"\t\t   <div class='mgPlayerJSProd_popup-header-icon-wrapper'><div class='mgPlayerJSProd_popup-header-icon'>"+rootScope.svgs.popupInfo+"</div></div>   </div>"+o+getSchedulePubHTML()+"<div class='ege-popup-btn-wrapper'><button id='mgPlayerJSProd_btn-ok-publish-popup' class='ege-publish mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large ege-inline-block-vt'>"+rootScope.labels.publish+"</button></div></div> ");mg$$1(".ege-panel").append(r),mg$$1(".mgPlayerJSProd_pub-schedule-checkbox-container").show(),mg$$1("#mgPlayerJSProd_pub-schedule-date").change(function(e){checkTimeValidity()}),mg$$1("#mgPlayerJSProd_pub-schedule-time").change(function(e){checkTimeValidity()}),mg$$1("#mgPlayerJSProd_checkbox-tour-schedule-pub").off("click").on("click",function(){mg$$1("#mgPlayerJSProd_checkbox-tour-schedule-pub").is(":checked")?mg$$1(".mgPlayerJSProd_pub-date-container").show():mg$$1(".mgPlayerJSProd_pub-date-container").hide()}),mg$$1("#mgPlayerJSProd_btn-ok-publish-popup").off("click").on("click",function(){t(),close()}),mg$$1(".mgPlayerJSProd_popup-btn-close").off("click").on("click",function(e){close()}),Gm.loading.set(!1)},modal.publish=function(e,t,r){rootScope.guideEnvs=e.tour_settings.app_publish_env;var o=rootScope.guideEnvs||[],a=(void 0===rootScope.guideEnvs&&e.is_published&&(o=rootScope.appEnvs),e.is_published||(o=localStorage.getItem(GmCXt.prevEnv)),rootScope.appEnvs),i=[],e="<div class='mgPlayerJSProd_popup-btn-close ege-cancel-btn'>"+rootScope.svgs.popupClose+"</div>";for(i.push('<div class="mgPlayerJSProd_guide-progress-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end"><div id='+a[0]+' class="mgPlayerJSProd_guide-progress-val"><div class="mgPlayerJSProd_guide-progress-label mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13">'+rootScope.updateEnvNames(a[0])+"</div></div></div> "),l=1;l<a.length;l++)i.push("<div class='mgPlayerJSProd_hr'></div><div class=\"mgPlayerJSProd_guide-progress-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end mgPlayerJSProd_ele-width\"><div id="+a[l]+' class="mgPlayerJSProd_guide-progress-val"><div class="mgPlayerJSProd_guide-progress-label mgPlayerJSProd_text-align-center mgPlayerJSProd_font-size-13">'+rootScope.updateEnvNames(a[l])+"</div></div></div> ");var n="",s="",r=(GmCXt.isDefined(r)&&(s="<div class='ege-popup-title-wrapper'>"+r+"</div>")," <div class='mgPlayerJSProd_overlay-container'></div> <div class='ege-popup mgPlayerJSProd_popup-info'>    <div class='mgPlayerJSProd_popup-header-wrapper'>\t"+e+"\t\t   <div class='mgPlayerJSProd_popup-header-icon-wrapper'><div class='mgPlayerJSProd_popup-header-icon'>"+rootScope.svgs.popupInfo+"</div></div>   </div>"+s+"<div class='mgPlayerJSProd_guide-progress-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-start mgPlayerJSProd_justify-content-center'>"+i.join("")+"</div><div class='mgPlayerJSProd_process-msg mgPlayerJSProd_width-100 mgPlayerJSProd_text-align-center mgPlayerJSProd_padding-lr-15' id='publishMsg'>"+n+"</div>"+getSchedulePubHTML()+"<div class='ege-popup-btn-wrapper'><button id='mgPlayerJSProd_btn-ok-publish-popup' class='ege-publish mgPlayerJSProd_btn-default mgPlayerJSProd_btn-large ege-inline-block-vt mgPlayerJSProd_disabled'>"+rootScope.labels.publish+"</button></div></div> ");mg$$1(".ege-panel").append(r);for(var l=0;l<a.length;l++)if(-1!==o.indexOf(a[l])){mg$$1(".ege-publish").removeClass("mgPlayerJSProd_disabled"),mg$$1("#"+a[l]).addClass("mgPlayerJSProd_active-progress");for(var c=l-1;0<=c;c--)mg$$1(".ege-publish").removeClass("mgPlayerJSProd_disabled"),mg$$1("#"+a[c]).addClass("mgPlayerJSProd_active-progress")}for(var d,l=0;l<o.length;l++)-1!==rootScope.appEnvs.indexOf(o[l])&&(d=rootScope.updateEnvNames(o[l]),n?n+=", "+d:n=rootScope.labels.guideIsPubIn+d);n&&mg$$1("#publishMsg").text(n);e=o;(e="string"==typeof o?o.split(","):e).length===a.length?mg$$1(".mgPlayerJSProd_pub-schedule-checkbox-container").show():mg$$1(".mgPlayerJSProd_pub-schedule-checkbox-container").hide(),mg$$1("#mgPlayerJSProd_pub-schedule-date").change(function(e){checkTimeValidity()}),mg$$1("#mgPlayerJSProd_pub-schedule-time").change(function(e){checkTimeValidity()}),mg$$1("#mgPlayerJSProd_checkbox-tour-schedule-pub").off("click").on("click",function(){mg$$1("#mgPlayerJSProd_checkbox-tour-schedule-pub").is(":checked")?mg$$1(".mgPlayerJSProd_pub-date-container").show():mg$$1(".mgPlayerJSProd_pub-date-container").hide()}),Gm.loading.set(!1),isPublishedOnTopEnv()&&mg$$1(".ege-publish").addClass("mgPlayerJSProd_disabled"),modal.addPublishActions(t)},modal.scheduled=function(t,e,r){rootScope.guideEnvs=t.tour_settings.app_publish_env,rootScope.guideEnvs,void 0===rootScope.guideEnvs&&t.is_published&&rootScope.appEnvs,t.is_published||localStorage.getItem(GmCXt.prevEnv);var o=rootScope.appEnvs,a="<div class='mgPlayerJSProd_popup-btn-close ege-cancel-btn'>"+rootScope.svgs.popupClose+"</div>",i=new Date(t.tour_settings.visibilitytimestamp),n=i.getMonth()+1,s=(n<10&&(n="0"+n),i.getDate()),l=i.getFullYear(),s=(i.getHours(),i.getHours(),i.getMinutes(),i.getMinutes(),s+"/"+n+"/"+l),n=i.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),l="",i=(GmCXt.isDefined(r)&&(l="<div class='ege-popup-title-wrapper'>"+r+"</div>")," <div class='mgPlayerJSProd_overlay-container'></div><div class='ege-popup mgPlayerJSProd_popup-info'> <div class='mgPlayerJSProd_popup-header-wrapper'>"+a+"<div class='mgPlayerJSProd_popup-header-icon-wrapper'><div class='mgPlayerJSProd_popup-header-icon'>"+rootScope.svgs.popupInfo+"</div></div></div>"+l+"<div class='mgPlayerJSProd_schedule-popup-container'><div class='mgPlayerJSProd_schedule-popup-container-inner'><div class='mgPlayerJSProd_schedule-popup-header-title'>"+rootScope.updateEnvNames(o[o.length-1])+"</div><div class='mgPlayerJSProd_padding-10'><div class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block'>"+rootScope.labels.scheduleDateLabel+"</div><div class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block mgPlayerJSProd_float-right'>"+s+"</div></div><div class='mgPlayerJSProd_hr'></div><div class='mgPlayerJSProd_padding-10'><div class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block'>"+rootScope.labels.scheduleTimeLabel+"</div><div class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block mgPlayerJSProd_float-right'>"+n+"</div></div><div class='mgPlayerJSProd_hr'></div><div class='mgPlayerJSProd_padding-10'><div class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block'>"+rootScope.labels.status+"</div><div class='mgPlayerJSProd_padding-5 mgPlayerJSProd_display-inline-block mgPlayerJSProd_float-right'> "+rootScope.labels.scheduleLabel+"</div></div><div class='mgPlayerJSProd_hr'></div><div class='mgPlayerJSProd_cancel-schedule'><button type='button' class='mgPlayerJSProd_cancel-schedule-btn mgPlayerJSProd_lbl-btn'>"+rootScope.labels.cancelSchedule+"</button></div></div></div></div>"),r=(mg$$1(".ege-panel").append(i),mg$$1(".mgPlayerJSProd_cancel-schedule-btn").off("click").on("click",function(e){rootScope.changeStatus(t,"unpublish"),close()}),mg$$1(".mgPlayerJSProd_popup-btn-close").off("click").on("click",function(e){close()}),Gm.loading.set(!1),rootScope.getPageScope());"tour-view"!==rootScope.currentView||r.$$phase||r.$apply()};class SignIn extends SvelteComponent{constructor(e){super(),init(this,e,instance$m,create_fragment$n,safe_not_equal,{getSignInUser:28},null,[-1,-1])}get getSignInUser(){return getSignInUser}}class Empty extends SvelteComponent{constructor(e){super(),init(this,e,null,null,safe_not_equal,{})}}function create_fragment$m(r){let o,a,i=r[1].svgs.search+"",n,s,l,c,d,p,u=r[1].svgs.search_close+"",g,m,h;return{c(){o=element("div"),a=element("div"),n=space(),s=element("input"),d=space(),p=element("button"),attr(a,"class","mgPlayerJSProd_search-icon mgPlayerJSProd_inline-block-vm"),attr(s,"id","search-text-input"),attr(s,"class","mgPlayerJSProd_search-input mgPlayerJSProd_inline-block-vm mgPlayerJSProd_height-100 ng-pristine ng-untouched ng-valid ng-empty ng-valid-maxlength "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_width-100 mgPlayerJSProd_no-trans":"")),attr(s,"maxlength","100"),attr(s,"placeholder",l=r[4]?.currentPageSearchPlaceholder||r[1].labels.currentPageSearchPlaceholder),attr(s,"autocomplete","off"),attr(s,"aria-label",c=r[4]?.currentPageSearchPlaceholder||r[1].labels.currentPageSearchPlaceholder),toggle_class(s,"mgPlayerJSProd_search-input-wd-task",r[1].FT.isPlayer&&r[3]),toggle_class(s,"mgPlayerJSProd_search-input-player",r[1].FT.isPlayer&&!r[3]),toggle_class(s,"mgPlayerJSProd_search-input-active",r[1].FT.isPlayer&&(r[1].currentPageOnly||r[2])),attr(p,"id","mgPlayerJSProd_icon-search-close-current-page"),attr(p,"class",g="mgPlayerJSProd_search-close-icon mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn "+(0<r[0].length?"mgPlayerJSProd_active":"")),attr(o,"class","mgPlayerJSProd_search-input-wrapper mgPlayerJSProd_position-relative "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_width-100":""))},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),set_input_value(s,r[0]),append(o,d),append(o,p),p.innerHTML=u,m||(h=[listen(s,"input",r[7]),listen(s,"input",r[6]),listen(p,"click",r[5])],m=!0)},p(e,t){2&t[0]&&i!==(i=e[1].svgs.search+"")&&(a.innerHTML=i),18&t[0]&&l!==(l=e[4]?.currentPageSearchPlaceholder||e[1].labels.currentPageSearchPlaceholder)&&attr(s,"placeholder",l),18&t[0]&&c!==(c=e[4]?.currentPageSearchPlaceholder||e[1].labels.currentPageSearchPlaceholder)&&attr(s,"aria-label",c),1&t[0]&&s.value!==e[0]&&set_input_value(s,e[0]),10&t[0]&&toggle_class(s,"mgPlayerJSProd_search-input-wd-task",e[1].FT.isPlayer&&e[3]),10&t[0]&&toggle_class(s,"mgPlayerJSProd_search-input-player",e[1].FT.isPlayer&&!e[3]),6&t[0]&&toggle_class(s,"mgPlayerJSProd_search-input-active",e[1].FT.isPlayer&&(e[1].currentPageOnly||e[2])),2&t[0]&&u!==(u=e[1].svgs.search_close+"")&&(p.innerHTML=u),1&t[0]&&g!==(g="mgPlayerJSProd_search-close-icon mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn "+(0<e[0].length?"mgPlayerJSProd_active":""))&&attr(p,"class",g)},i:noop,o:noop,d(e){e&&detach(o),m=!1,run_all(h)}}}let limit$3=50,offset=0;function debounce(t,r){let o;return function(...e){clearTimeout(o),o=setTimeout(()=>{t.apply(this,e)},r)}}function instance$l(e,t,r){let o,a,i,n,s,l,c=!1,d,p=[],u,g=[],m=[],h=0,_=Gm.CurrentPageTours.subscribe(e=>{n=e}),f=get_store_value(Gm.labels),y=Gm.labels.subscribe(e=>{r(4,f=e)}),S=Gm.filters.subscribe(e=>{C()}),P=Gm.breadCrumb.subscribe(e=>{s=e}),v=Gm.CurrentPage.subscribe(e=>{i=e});let b=function(e){if(0===a.length&&rootScope.setCurrentPage("allguides"),1<a.length){Gm.searchTours.set([]),"allguidesSearchPage"!==get_store_value(Gm.CurrentPage)&&rootScope.setCurrentPage("allguidesSearchPage");let e="",t=(0<s.length&&s[s.length-1].has_tour&&(e=s[s.length-1].category_id),mg$$1("#search-text-input").focus(),"tour_id");var r;(d=rootScope.sortByProperty?rootScope.sortByProperty:d)===rootScope.labels.name&&(t="tour_title"),r={limit:limit$3,offset:offset,search_text:o,sort_by:t},rootScope.myGuidesFilter&&(r.my_guides=rootScope.user.user_id),rootScope.currentUserFilter&&0!==rootScope.currentUserFilter.user_id&&(r.creator_id=rootScope.currentUserFilter.user_id),rootScope.filterByPublishedGuides===rootScope.labels.published?r.is_published="1":rootScope.filterByPublishedGuides===rootScope.labels.unpublished&&(r.is_published="0"),rootScope.currentAssigneeFilter&&0!==rootScope.currentAssigneeFilter.user_id&&(r.locked_user_id=rootScope.currentAssigneeFilter.user_id),rootScope.FT.publishedGuides&&(r.is_published="1"),e&&(r.category_id=e),GmCXt.inPlayer||GmCXt.onPrem()?api.searchTours(r,function(e){w(e,a)}):api.getTourList(r,function(e){w(e,a)})}};function C(e){var t;"allguides"===i||"allguidesSearchPage"===i||"myguides"===i?b():"currentpage"!==i&&"currentPageSearchPage"!==i||(0===a.length&&rootScope.setCurrentPage("currentpage"),0<n.length&&1<a.length&&("currentPageSearchPage"!==get_store_value(Gm.CurrentPage)&&rootScope.setCurrentPage("currentPageSearchPage"),t=n.filter(e=>e.tour_title.toLowerCase().includes(o)),Gm.searchTours.set(t),w(t,o)))}function w(e,t){p=[],e=e.filter(function(e){if(GmCXt.isGuide(e)||rootScope.isOnboarding(e))return e}),u=(new Date).getTime(),(g=e.length)&&(m=mg$$1.merge(m,e),m=GmCXt.removeDuplicateGuides(m),rootScope.notDefaultLang()&&(m=rootScope.getTranslatedTours(m)),rootScope.FT.isPlayer&&(m=m.filter(function(e){if(rootScope.isGuide(e)||rootScope.isOnboarding(e))return e})).length,h)&&!rootScope.trackSearch.filters&&5e3<=u-h&&rootScope.trackSearchEvent(!1),r(1,rootScope.trackSearch={keyword:t,results_returned:g,track:!0,startTime:(new Date).getTime()},rootScope),m.length||g||rootScope.trackSearchEvent(!1),rootScope.trackSearch.filters||(h=u),rootScope.guideSegmentation&&rootScope.FT.isPlayer?(Gm.loading.set(!0),GmCXt.checkGuidesBasedOnSegment(e,k,"searchSeg")):(Gm.loading.set(!1),Gm.searchTours.set(e))}function k(e){GmCXt.isEmpty(e)||p.push(e),p=GmCXt.removeDuplicateGuides(p),Gm.loading.set(!1),Gm.searchTours.set(p)}var x=debounce(C,1e3);let T=Gm.isTaskListVisible.subscribe(e=>{r(3,c=e)});return onDestroy(()=>{T(),_(),y(),S(),P(),v()}),e.$$.update=()=>{1&e.$$.dirty[0]&&(o=a.toLowerCase()),1&e.$$.dirty[0]&&(0<a.trim().length?r(2,l=!0):r(2,l=!1))},r(0,a=""),[a,rootScope,l,c,f,()=>{r(0,a=""),r(1,rootScope.currentUserFilter="",rootScope),r(1,rootScope.filterByPublishedGuides="",rootScope),r(1,rootScope.currentAssigneeFilter="",rootScope),r(1,rootScope.sortByProperty="",rootScope),"allguidesSearchPage"===i?rootScope.setCurrentPage("allguides"):"currentPageSearchPage"===i&&rootScope.setCurrentPage("currentpage")},x,function(){a=this.value,r(0,a)}]}class Search extends SvelteComponent{constructor(e){super(),init(this,e,instance$l,create_fragment$m,safe_not_equal,{},null,[-1,-1])}}function get_each_context$8(e,t,r){e=e.slice();return e[53]=t[r],e}function get_each_context_1$4(e,t,r){e=e.slice();return e[53]=t[r],e}function create_if_block_12$7(r){let o,a,i=r[0].taskListCount+"",n,s,l,c=r[0].svgs.iconTaskList+"",d,p;return{c(){o=element("div"),a=element("div"),n=text(i),s=space(),l=element("button"),attr(a,"class","mgPlayerJSProd_task-list-count mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(l,"class","mgPlayerJSProd_task-list-icon mgPlayerJSProd_lbl-btn mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_position-relative"),attr(o,"class","mgPlayerJSProd_task-list-icon-container mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_position-relative"),toggle_class(o,"mgPlayerJSProd_task-list-icon-mplayer",r[0]?.isMicroPlayer)},m(e,t){insert(e,o,t),append(o,a),append(a,n),append(o,s),append(o,l),l.innerHTML=c,d||(p=listen(l,"click",r[25]),d=!0)},p(e,t){1&t[0]&&i!==(i=e[0].taskListCount+"")&&set_data(n,i),1&t[0]&&c!==(c=e[0].svgs.iconTaskList+"")&&(l.innerHTML=c),1&t[0]&&toggle_class(o,"mgPlayerJSProd_task-list-icon-mplayer",e[0]?.isMicroPlayer)},d(e){e&&detach(o),d=!1,p()}}}function create_if_block_10$9(r){let o,a,i=r[0].svgs.filter_mplayer+"",n,s,l,c,d,p=(r[11]?.recent||r[0].labels.recent)+"",u,g,m,h,_=(r[11]?.older||r[0].labels.older)+"",f,y,S,P,v,b=(r[11]?.clear||r[0].labels.clear)+"",C,w,k,x,T=(!r[0].enableTranslation||r[0].defaultLang.language===r[0].language)&&create_if_block_11$9(r);return{c(){o=element("div"),a=element("button"),n=space(),s=element("div"),l=element("div"),T&&T.c(),c=space(),d=element("button"),u=text(p),m=space(),h=element("button"),f=text(_),S=space(),P=element("div"),v=element("button"),C=text(b),attr(a,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-sort-icon mgPlayerJSProd_position-relative mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),attr(a,"aria-label","Sort By"),attr(a,"aria-expanded","false"),attr(d,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-dropdown-item mgPlayerJSProd_padding-tb-10 mgPlayerJSProd_padding-lr-25 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),attr(d,"aria-label",g=r[11]?.recent||r[0].labels.recent),toggle_class(d,"mgPlayerJSProd_active-sort-filter","recent"===r[6]),attr(h,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-dropdown-item mgPlayerJSProd_padding-tb-10 mgPlayerJSProd_padding-lr-25 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),attr(h,"aria-label",y=r[11]?.older||r[0].labels.older),toggle_class(h,"mgPlayerJSProd_active-sort-filter","older"===r[6]),attr(l,"class","mgPlayerJSProd_padding-tb-5"),attr(v,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-common-btn mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_text-color-white mgPlayerJSProd_theme-background mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_no-border mgPlayerJSProd_no-border-all mgPlayerJSProd_disabled"),attr(v,"aria-label",w=r[11]?.clear||r[0].labels.clear),attr(v,"aria-disabled","true"),toggle_class(v,"mgPlayerJSProd_disabled",!r[6]),attr(P,"class","mgPlayerJSProd_filter-btn-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(s,"class","mgPlayerJSProd_filter-sorting-dropdown-wrapper mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max"),attr(s,"role","region"),attr(s,"aria-label","Sort"),toggle_class(s,"mgPlayerJSProd_display-block",r[7]),attr(o,"class","mgPlayerJSProd_filter-sorting-wrapper mgPlayerJSProd_position-relative")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,l),T&&T.m(l,null),append(l,c),append(l,d),append(d,u),append(l,m),append(l,h),append(h,f),append(s,S),append(s,P),append(P,v),append(v,C),k||(x=[listen(a,"click",r[12]),listen(d,"click",r[28]),listen(h,"click",r[29]),listen(v,"click",r[30])],k=!0)},p(e,t){1&t[0]&&i!==(i=e[0].svgs.filter_mplayer+"")&&(a.innerHTML=i),e[0].enableTranslation&&e[0].defaultLang.language!==e[0].language?T&&(T.d(1),T=null):T?T.p(e,t):((T=create_if_block_11$9(e)).c(),T.m(l,c)),2049&t[0]&&p!==(p=(e[11]?.recent||e[0].labels.recent)+"")&&set_data(u,p),2049&t[0]&&g!==(g=e[11]?.recent||e[0].labels.recent)&&attr(d,"aria-label",g),64&t[0]&&toggle_class(d,"mgPlayerJSProd_active-sort-filter","recent"===e[6]),2049&t[0]&&_!==(_=(e[11]?.older||e[0].labels.older)+"")&&set_data(f,_),2049&t[0]&&y!==(y=e[11]?.older||e[0].labels.older)&&attr(h,"aria-label",y),64&t[0]&&toggle_class(h,"mgPlayerJSProd_active-sort-filter","older"===e[6]),2049&t[0]&&b!==(b=(e[11]?.clear||e[0].labels.clear)+"")&&set_data(C,b),2049&t[0]&&w!==(w=e[11]?.clear||e[0].labels.clear)&&attr(v,"aria-label",w),64&t[0]&&toggle_class(v,"mgPlayerJSProd_disabled",!e[6]),128&t[0]&&toggle_class(s,"mgPlayerJSProd_display-block",e[7])},d(e){e&&detach(o),T&&T.d(),k=!1,run_all(x)}}}function create_if_block_11$9(r){let o,a=r[0].labels.atoz+"",i,n,s,l,c=r[0].labels.ztoa+"",d,p,u,g;return{c(){o=element("button"),i=text(a),s=space(),l=element("button"),d=text(c),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-dropdown-item mgPlayerJSProd_padding-tb-10 mgPlayerJSProd_padding-lr-25 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),attr(o,"aria-label",n=r[0].labels.atoz),toggle_class(o,"mgPlayerJSProd_active-sort-filter","atoz"===r[6]),attr(l,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-dropdown-item mgPlayerJSProd_padding-tb-10 mgPlayerJSProd_padding-lr-25 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer"),attr(l,"aria-label",p=r[0].labels.ztoa),toggle_class(l,"mgPlayerJSProd_active-sort-filter","ztoa"===r[6])},m(e,t){insert(e,o,t),append(o,i),insert(e,s,t),insert(e,l,t),append(l,d),u||(g=[listen(o,"click",r[26]),listen(l,"click",r[27])],u=!0)},p(e,t){1&t[0]&&a!==(a=e[0].labels.atoz+"")&&set_data(i,a),1&t[0]&&n!==(n=e[0].labels.atoz)&&attr(o,"aria-label",n),64&t[0]&&toggle_class(o,"mgPlayerJSProd_active-sort-filter","atoz"===e[6]),1&t[0]&&c!==(c=e[0].labels.ztoa+"")&&set_data(d,c),1&t[0]&&p!==(p=e[0].labels.ztoa)&&attr(l,"aria-label",p),64&t[0]&&toggle_class(l,"mgPlayerJSProd_active-sort-filter","ztoa"===e[6])},d(e){e&&(detach(o),detach(s),detach(l)),u=!1,run_all(g)}}}function create_if_block_8$a(r){let o,a,i,n=(r[11]?.currentPage||r[0].labels.currentPage)+"",s,l,c,d;function p(e){return e[0].FT.isPlayer?create_if_block_9$9:create_else_block$8}let u=p(r),g=u(r);return{c(){o=element("div"),a=element("div"),i=element("button"),s=text(n),l=space(),g.c(),attr(i,"id","mgPlayerJSProd_filter-tab-current-page"),attr(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-tab mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis"),attr(a,"class","mgPlayerJSProd_library-filter-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_margin-lr-10"),attr(o,"class","ege-inline-block-div all-guides-filters-tab mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,s),append(a,l),g.m(a,null),c||(d=listen(i,"click",r[14]),c=!0)},p(e,t){2049&t[0]&&n!==(n=(e[11]?.currentPage||e[0].labels.currentPage)+"")&&set_data(s,n),u===(u=p(e))&&g?g.p(e,t):(g.d(1),(g=u(e))&&(g.c(),g.m(a,null)))},d(e){e&&detach(o),g.d(),c=!1,d()}}}function create_else_block$8(r){let o,a=(r[11]?.myGuides||r[0].labels.myGuides)+"",i,n,s;return{c(){o=element("button"),i=text(a),attr(o,"id","mgPlayerJSProd_filter-tab-go-to-lib"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-tab mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis")},m(e,t){insert(e,o,t),append(o,i),n||(s=listen(o,"click",r[15]),n=!0)},p(e,t){2049&t[0]&&a!==(a=(e[11]?.myGuides||e[0].labels.myGuides)+"")&&set_data(i,a)},d(e){e&&detach(o),n=!1,s()}}}function create_if_block_9$9(r){let o,a=(r[11]?.allGuides||r[0].labels.allGuides)+"",i,n,s;return{c(){o=element("button"),i=text(a),attr(o,"id","mgPlayerJSProd_filter-tab-go-to-lib"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_filter-tab mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis")},m(e,t){insert(e,o,t),append(o,i),n||(s=listen(o,"click",r[24]),n=!0)},p(e,t){2049&t[0]&&a!==(a=(e[11]?.allGuides||e[0].labels.allGuides)+"")&&set_data(i,a)},d(e){e&&detach(o),n=!1,s()}}}function create_if_block$i(e){let r,o,a,i,n=e[0].labels.searchResult+"",s,l=!e[0].isMicroPlayer&&e[0].FT.creatorApp&&create_if_block_1$g(e);return{c(){r=element("div"),o=space(),l&&l.c(),a=space(),i=element("div"),s=text(n),attr(r,"class","ege-clear"),attr(i,"class","mgPlayerJSProd_search-result-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_font-size-15 mgPlayerJSProd_padding-lr-20")},m(e,t){insert(e,r,t),insert(e,o,t),l&&l.m(e,t),insert(e,a,t),insert(e,i,t),append(i,s)},p(e,t){!e[0].isMicroPlayer&&e[0].FT.creatorApp?l?l.p(e,t):((l=create_if_block_1$g(e)).c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null),1&t[0]&&n!==(n=e[0].labels.searchResult+"")&&set_data(s,n)},d(e){e&&(detach(r),detach(o),detach(a),detach(i)),l&&l.d(e)}}}function create_if_block_1$g(e){let r,o,a,i,n="allguidesSearchPage"===e[1]&&create_if_block_6$c(e),s="allguidesSearchPage"===e[1]&&create_if_block_5$c(e),l="allguidesSearchPage"===e[1]&&create_if_block_3$c(e),c="allguidesSearchPage"===e[1]&&create_if_block_2$f(e);return{c(){r=element("div"),n&&n.c(),o=space(),s&&s.c(),a=space(),l&&l.c(),i=space(),c&&c.c(),attr(r,"class","ege-inline-block-div all-guides-filters-tab mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center")},m(e,t){insert(e,r,t),n&&n.m(r,null),append(r,o),s&&s.m(r,null),append(r,a),l&&l.m(r,null),append(r,i),c&&c.m(r,null)},p(e,t){"allguidesSearchPage"===e[1]?n?n.p(e,t):((n=create_if_block_6$c(e)).c(),n.m(r,o)):n&&(n.d(1),n=null),"allguidesSearchPage"===e[1]?s?s.p(e,t):((s=create_if_block_5$c(e)).c(),s.m(r,a)):s&&(s.d(1),s=null),"allguidesSearchPage"===e[1]?l?l.p(e,t):((l=create_if_block_3$c(e)).c(),l.m(r,i)):l&&(l.d(1),l=null),"allguidesSearchPage"===e[1]?c?c.p(e,t):((c=create_if_block_2$f(e)).c(),c.m(r,null)):c&&(c.d(1),c=null)},d(e){e&&detach(r),n&&n.d(),s&&s.d(),l&&l.d(),c&&c.d()}}}function create_if_block_6$c(r){let o,a=r[0].labels.creator+":",i,n,s=r[3]?.first_name+"",l,c,d,p=r[0].svgs.down_arrow_icon+"",u,g,m,h=r[0].labels.currentUser+"",_,f,y,S=r[0].labels.allUser+"",P,v,b,C,w,k,x=0<r[10].length&&create_if_block_7$b(r);return{c(){o=element("div"),i=text(a),n=element("span"),l=text(s),c=space(),d=element("div"),u=space(),g=element("div"),m=element("div"),_=text(h),f=space(),y=element("div"),P=text(S),v=space(),b=element("div"),C=space(),x&&x.c(),attr(n,"class","mgPlayerJSProd_all-guides-search-filters-label"),attr(d,"class","mgPlayerJSProd_all-guides-search-filters-icon ege-inline-block-vt"),attr(m,"id","mgPlayerJSProd_filter-search-by-current-user"),attr(m,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),attr(y,"id","mgPlayerJSProd_filter-search-by-all-user"),attr(y,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),attr(b,"class","horizontal-line margin-none"),attr(g,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-user"),attr(o,"id","mgPlayerJSProd_filter-search-by"),attr(o,"class","ege-inline-block-div mgPlayerJSProd_all-guides-search-filters")},m(e,t){insert(e,o,t),append(o,i),append(o,n),append(n,l),append(o,c),append(o,d),d.innerHTML=p,append(o,u),append(o,g),append(g,m),append(m,_),append(g,f),append(g,y),append(y,P),append(g,v),append(g,b),append(g,C),x&&x.m(g,null),w||(k=[listen(m,"click",r[31]),listen(y,"click",r[32]),listen(o,"click",r[34])],w=!0)},p(e,t){1&t[0]&&a!==(a=e[0].labels.creator+":")&&set_data(i,a),8&t[0]&&s!==(s=e[3]?.first_name+"")&&set_data(l,s),1&t[0]&&p!==(p=e[0].svgs.down_arrow_icon+"")&&(d.innerHTML=p),1&t[0]&&h!==(h=e[0].labels.currentUser+"")&&set_data(_,h),1&t[0]&&S!==(S=e[0].labels.allUser+"")&&set_data(P,S),0<e[10].length?x?x.p(e,t):((x=create_if_block_7$b(e)).c(),x.m(g,null)):x&&(x.d(1),x=null)},d(e){e&&detach(o),x&&x.d(),w=!1,run_all(k)}}}function create_if_block_7$b(t){let o=[],r=new Map,a,i=ensure_array_like(t[10].sort(func)),n=e=>e[53].user_id;for(let e=0;e<i.length;e+=1){var s=get_each_context_1$4(t,i,e),l=n(s);r.set(l,o[e]=create_each_block_1$4(l,s))}return{c(){for(let e=0;e<o.length;e+=1)o[e].c();a=empty()},m(t,r){for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,r);insert(t,a,r)},p(e,t){132104&t[0]&&(i=ensure_array_like(e[10].sort(func)),o=update_keyed_each(o,t,n,1,e,i,r,a.parentNode,destroy_block,create_each_block_1$4,a,get_each_context_1$4))},d(t){t&&detach(a);for(let e=0;e<o.length;e+=1)o[e].d(t)}}}function create_each_block_1$4(e,r){let o,a=r[53].first_name+" "+r[53].last_name,i,n,s,l,c;function d(){return r[33](r[53])}return{key:e,first:null,c(){o=element("div"),i=text(a),n=space(),attr(o,"id",s="mgPlayerJSProd_filter-search-by-user-"+r[53].user_id),attr(o,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),toggle_class(o,"mgPlayerJSProd_selected-filter-dropdown-item",r[3].user_id===r[53].user_id),this.first=o},m(e,t){insert(e,o,t),append(o,i),append(o,n),l||(c=listen(o,"click",d),l=!0)},p(e,t){r=e,1024&t[0]&&a!==(a=r[53].first_name+" "+r[53].last_name)&&set_data(i,a),1024&t[0]&&s!==(s="mgPlayerJSProd_filter-search-by-user-"+r[53].user_id)&&attr(o,"id",s),1032&t[0]&&toggle_class(o,"mgPlayerJSProd_selected-filter-dropdown-item",r[3].user_id===r[53].user_id)},d(e){e&&detach(o),l=!1,c()}}}function create_if_block_5$c(r){let o,a=r[0].labels.status+":",i,n,s,l,c,d=r[0].svgs.down_arrow_icon+"",p,u,g,m=r[0].labels.all+"",h,_,f,y=r[0].labels.published+"",S,P,v,b=r[0].labels.unpublished+"",C,w,k,x;return{c(){o=element("div"),i=text(a),n=element("span"),s=text(r[5]),l=space(),c=element("div"),p=space(),u=element("div"),g=element("div"),h=text(m),_=space(),f=element("div"),S=text(y),P=space(),v=element("div"),C=text(b),attr(n,"class","mgPlayerJSProd_all-guides-search-filters-label"),attr(c,"class","mgPlayerJSProd_all-guides-search-filters-icon ege-inline-block-vt"),attr(g,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),attr(f,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),attr(v,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),attr(u,"class",w="mgPlayerJSProd_all-guides-search-filters-dropdown-published mgPlayerJSProd_all-guides-search-filters-dropdown-"+r[0].labels.published),attr(o,"id","mgPlayerJSProd_filter-search-by-status"),attr(o,"class","ege-inline-block-div mgPlayerJSProd_all-guides-search-filters")},m(e,t){insert(e,o,t),append(o,i),append(o,n),append(n,s),append(o,l),append(o,c),c.innerHTML=d,append(o,p),append(o,u),append(u,g),append(g,h),append(u,_),append(u,f),append(f,S),append(u,P),append(u,v),append(v,C),k||(x=[listen(g,"click",r[21]),listen(f,"click",r[22]),listen(v,"click",r[23]),listen(o,"click",r[35])],k=!0)},p(e,t){1&t[0]&&a!==(a=e[0].labels.status+":")&&set_data(i,a),32&t[0]&&set_data(s,e[5]),1&t[0]&&d!==(d=e[0].svgs.down_arrow_icon+"")&&(c.innerHTML=d),1&t[0]&&m!==(m=e[0].labels.all+"")&&set_data(h,m),1&t[0]&&y!==(y=e[0].labels.published+"")&&set_data(S,y),1&t[0]&&b!==(b=e[0].labels.unpublished+"")&&set_data(C,b),1&t[0]&&w!==(w="mgPlayerJSProd_all-guides-search-filters-dropdown-published mgPlayerJSProd_all-guides-search-filters-dropdown-"+e[0].labels.published)&&attr(u,"class",w)},d(e){e&&detach(o),k=!1,run_all(x)}}}function create_if_block_3$c(r){let o,a=r[0].labels.assignee+":",i,n,s=r[4].first_name+"",l,c,d,p=r[0].svgs.down_arrow_icon+"",u,g,m,h=r[0].labels.currentUser+"",_,f,y,S=r[0].labels.allUser+"",P,v,b,C,w,k,x=0<r[10].length&&create_if_block_4$c(r);return{c(){o=element("div"),i=text(a),n=element("span"),l=text(s),c=space(),d=element("div"),u=space(),g=element("div"),m=element("div"),_=text(h),f=space(),y=element("div"),P=text(S),v=space(),b=element("div"),C=space(),x&&x.c(),attr(n,"class","mgPlayerJSProd_all-guides-search-filters-label"),attr(d,"class","mgPlayerJSProd_all-guides-search-filters-icon ege-inline-block-vt"),attr(m,"id","mgPlayerJSProd_filter-search-locked-by-current-user"),attr(m,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),attr(y,"id","mgPlayerJSProd_filter-search-locked-by-all-user"),attr(y,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),attr(b,"class","horizontal-line margin-none"),attr(g,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-assignee"),attr(o,"id","mgPlayerJSProd_filter-search-by-assignee"),attr(o,"class","ege-inline-block-div mgPlayerJSProd_all-guides-search-filters")},m(e,t){insert(e,o,t),append(o,i),append(o,n),append(n,l),append(o,c),append(o,d),d.innerHTML=p,append(o,u),append(o,g),append(g,m),append(m,_),append(g,f),append(g,y),append(y,P),append(g,v),append(g,b),append(g,C),x&&x.m(g,null),w||(k=[listen(m,"click",r[36]),listen(y,"click",r[37]),listen(o,"click",r[39])],w=!0)},p(e,t){1&t[0]&&a!==(a=e[0].labels.assignee+":")&&set_data(i,a),16&t[0]&&s!==(s=e[4].first_name+"")&&set_data(l,s),1&t[0]&&p!==(p=e[0].svgs.down_arrow_icon+"")&&(d.innerHTML=p),1&t[0]&&h!==(h=e[0].labels.currentUser+"")&&set_data(_,h),1&t[0]&&S!==(S=e[0].labels.allUser+"")&&set_data(P,S),0<e[10].length?x?x.p(e,t):((x=create_if_block_4$c(e)).c(),x.m(g,null)):x&&(x.d(1),x=null)},d(e){e&&detach(o),x&&x.d(),w=!1,run_all(k)}}}function create_if_block_4$c(t){let a,i=ensure_array_like(t[10].sort(func_1)),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block$8(get_each_context$8(t,i,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();a=empty()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);insert(t,a,r)},p(t,r){if(263176&r[0]){i=ensure_array_like(t[10].sort(func_1));let e;for(e=0;e<i.length;e+=1){var o=get_each_context$8(t,i,e);n[e]?n[e].p(o,r):(n[e]=create_each_block$8(o),n[e].c(),n[e].m(a.parentNode,a))}for(;e<n.length;e+=1)n[e].d(1);n.length=i.length}},d(e){e&&detach(a),destroy_each(n,e)}}}function create_each_block$8(r){let o,a=r[53].first_name+" "+r[53].last_name,i,n,s,l,c,d;function p(){return r[38](r[53])}return{c(){o=element("div"),i=text(a),n=space(),attr(o,"id",s="mgPlayerJSProd_filter-search-locked-by-user-"+r[53].user_id),attr(o,"class",l="mgPlayerJSProd_all-guides-search-filters-dropdown-item "+(r[3].user_id===r[53].user_id?"mgPlayerJSProd_selected-filter-dropdown-item":""))},m(e,t){insert(e,o,t),append(o,i),append(o,n),c||(d=listen(o,"click",p),c=!0)},p(e,t){r=e,1024&t[0]&&a!==(a=r[53].first_name+" "+r[53].last_name)&&set_data(i,a),1024&t[0]&&s!==(s="mgPlayerJSProd_filter-search-locked-by-user-"+r[53].user_id)&&attr(o,"id",s),1032&t[0]&&l!==(l="mgPlayerJSProd_all-guides-search-filters-dropdown-item "+(r[3].user_id===r[53].user_id?"mgPlayerJSProd_selected-filter-dropdown-item":""))&&attr(o,"class",l)},d(e){e&&detach(o),c=!1,d()}}}function create_if_block_2$f(r){let o,a=r[0].labels.sortBy+":",i,n,s,l,c,d=r[0].svgs.down_arrow_icon+"",p,u,g,m=r[0].labels.latest+"",h,_,f,y=r[0].labels.name+"",S,P,v;return{c(){o=element("div"),i=text(a),n=element("span"),s=text(r[9]),l=space(),c=element("div"),p=space(),u=element("div"),g=element("div"),h=text(m),_=space(),f=element("div"),S=text(y),attr(n,"class","mgPlayerJSProd_all-guides-search-filters-label"),attr(c,"class","mgPlayerJSProd_all-guides-search-filters-icon ege-inline-block-vt"),attr(g,"id","mgPlayerJSProd_filter-search-by-sort-latest"),attr(g,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),attr(f,"id","mgPlayerJSProd_filter-search-by-sort-name"),attr(f,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-item"),attr(u,"class","mgPlayerJSProd_all-guides-search-filters-dropdown-sort"),attr(o,"id","mgPlayerJSProd_filter-search-by-sort"),attr(o,"class","ege-inline-block-div mgPlayerJSProd_all-guides-search-filters")},m(e,t){insert(e,o,t),append(o,i),append(o,n),append(n,s),append(o,l),append(o,c),c.innerHTML=d,append(o,p),append(o,u),append(u,g),append(g,h),append(u,_),append(u,f),append(f,S),P||(v=[listen(g,"click",r[19]),listen(f,"click",r[20]),listen(o,"click",r[40])],P=!0)},p(e,t){1&t[0]&&a!==(a=e[0].labels.sortBy+":")&&set_data(i,a),512&t[0]&&set_data(s,e[9]),1&t[0]&&d!==(d=e[0].svgs.down_arrow_icon+"")&&(c.innerHTML=d),1&t[0]&&m!==(m=e[0].labels.latest+"")&&set_data(h,m),1&t[0]&&y!==(y=e[0].labels.name+"")&&set_data(S,y)},d(e){e&&detach(o),P=!1,run_all(v)}}}function create_fragment$l(e){let r,o,a,i,n,s,l,c=!GmCXt.getAppSetting("isMiniPlayer"),d,p,u=e[0].FT.isPlayer&&e[8]&&create_if_block_12$7(e),g=(n=new Search({}),e[0].FT.isPlayer&&create_if_block_10$9(e)),m=c&&create_if_block_8$a(e),h="allguidesSearchPage"===e[1]&&create_if_block$i(e);return{c(){r=element("div"),o=element("div"),a=element("div"),u&&u.c(),i=space(),create_component(n.$$.fragment),s=space(),g&&g.c(),l=space(),m&&m.c(),d=space(),h&&h.c(),attr(a,"class","mgPlayerJSProd_search-bar-container mgPlayerJSProd_display-flex "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_bg-white mgPlayerJSProd_mplayer-search-view":"")+" "+(GmCXt.getAppSetting("isMiniPlayer")?"":"mgPlayerJSProd_search-bar-collapse")),attr(o,"class","list-page-header-wrapper mgPlayerJSProd_no-padding mgPlayerJSProd_position-relative"),attr(r,"class","list-page-header")},m(e,t){insert(e,r,t),append(r,o),append(o,a),u&&u.m(a,null),append(a,i),mount_component(n,a,null),append(a,s),g&&g.m(a,null),append(o,l),m&&m.m(o,null),append(o,d),h&&h.m(o,null),p=!0},p(e,t){e[0].FT.isPlayer&&e[8]?u?u.p(e,t):((u=create_if_block_12$7(e)).c(),u.m(a,i)):u&&(u.d(1),u=null),e[0].FT.isPlayer?g?g.p(e,t):((g=create_if_block_10$9(e)).c(),g.m(a,null)):g&&(g.d(1),g=null),c&&m.p(e,t),"allguidesSearchPage"===e[1]?h?h.p(e,t):((h=create_if_block$i(e)).c(),h.m(o,null)):h&&(h.d(1),h=null)},i(e){p||(transition_in(n.$$.fragment,e),p=!0)},o(e){transition_out(n.$$.fragment,e),p=!1},d(e){e&&detach(r),u&&u.d(),destroy_component(n),g&&g.d(),m&&m.d(),h&&h.d()}}}let func=(e,t)=>e.first_name.localeCompare(t.first_name),func_1=(e,t)=>e.first_name.localeCompare(t.first_name);function instance$k(e,t,r){let o,a,i,n,s,l,c="",d=!1,p=!1,u=rootScope.labels.latest,g=[],m=Gm.CurrentPage.subscribe(e=>{r(1,o=e)}),h=get_store_value(Gm.labels);Gm.activeSortFilterStore.subscribe(e=>{r(6,c=e)}),Gm.isTaskListVisible.subscribe(e=>{r(8,p=e)});function _(){r(7,d=!1),r(7,d=!1),Gm.activeSortFilterStore.set(c),rootScope.hidePanelOverlay(),mg$$1(".mgPlayerJSProd_filter-sort-icon").removeClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max"),mg$$1(".mgPlayerJSProd_filter-sort-icon").removeClass("mgPlayerJSProd_filter-active-state")}function f(e){r(7,d=!1),r(6,c=e),Gm.activeSortFilterStore.set(c),storage$1.activeSortFilter.set(c),_()}function y(e){rootScope.hideFiltersDropdown();e=mg$$1(".mgPlayerJSProd_all-guides-search-filters-dropdown-"+e);e&&!e.is(":visible")&&e.slideDown(200)}function S(){rootScope.getUserList(function(e){0<e.length&&(r(10,g=e),rootScope.currentUserFilter||r(3,i=a),rootScope.currentAssigneeFilter||r(4,n=a))})}function P(){var e;(rootScope.currentUserFilter||rootScope.filterByPublishedGuides||rootScope.currentAssigneeFilter||rootScope.sortByProperty)&&(e={currentUserFilter:rootScope.currentUserFilter,filterByPublishedGuides:rootScope.filterByPublishedGuides,currentAssigneeFilter:rootScope.currentAssigneeFilter,sortByProperty:rootScope.sortByProperty},Gm.filters.set(e))}function v(e){r(3,i=e),r(0,rootScope.currentUserFilter=e,rootScope),P()}function b(e){r(4,n=e),r(0,rootScope.currentAssigneeFilter=e,rootScope),P()}!rootScope.isUserRole()&&GmCXt.FT.quickFilters&&(i=rootScope.myGuidesFilter?{...rootScope.user}:rootScope.currentUserFilter||a,s=rootScope.filterByPublishedGuides||rootScope.labels.all,n=rootScope.currentAssigneeFilter||a,a={user_id:0,first_name:rootScope.labels.all});let C=Gm.labels.subscribe(e=>{r(11,h=e)});onMount(()=>{rootScope.FT.creatorApp&&S()}),onDestroy(()=>{m(),C()});return[rootScope,o,a,i,n,s,c,d,p,u,g,h,function(){d?_():(r(7,d=!d),r(7,d=!0),rootScope.addPanelOverlay(),rootScope.showPanelOverlay(),mg$$1(".mgPlayerJSProd_theme-mplayer-header").append("<div class='ege-panel-overlay'></div>"),mg$$1(".mgPlayerJSProd_filter-sort-icon").addClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max"),mg$$1(".mgPlayerJSProd_filter-sort-icon").addClass("mgPlayerJSProd_filter-active-state"))},f,function(){"allguides"===o||"myguides"===o?(Gm.loading.set(!0),rootScope.setCurrentPage("currentpage"),Gm.breadCrumb.set([]),mg$$1("#mgPlayerJSProd_filter-tab-current-page").addClass("mgPlayerJSProd_filter-active-tab")):(Gm.loading.set(!0),rootScope.setCurrentPage("allguides"),Gm.breadCrumb.set([]),mg$$1("#mgPlayerJSProd_filter-tab-current-page").removeClass("mgPlayerJSProd_filter-active-tab")),mg$$1("#mgPlayerJSProd_filter-tab-go-to-lib").removeClass("mgPlayerJSProd_filter-active-tab")},function(){("allguides"===o||"currentpage"===o?(Gm.loading.set(!0),rootScope.setCurrentPage("myguides"),l=!0,Gm.breadCrumb.set([]),mg$$1("#mgPlayerJSProd_filter-tab-go-to-lib").addClass("mgPlayerJSProd_filter-active-tab"),mg$$1("#mgPlayerJSProd_filter-tab-current-page")):(Gm.loading.set(!0),rootScope.setCurrentPage("allguides"),l=!1,Gm.breadCrumb.set([]),mg$$1("#mgPlayerJSProd_filter-tab-current-page").removeClass("mgPlayerJSProd_filter-active-tab"),mg$$1("#mgPlayerJSProd_filter-tab-go-to-lib"))).removeClass("mgPlayerJSProd_filter-active-tab"),r(0,rootScope.myGuidesFilter=!!l,rootScope)},y,v,b,function(){r(9,u=rootScope.labels.latest),r(0,rootScope.sortByProperty=rootScope.labels.latest,rootScope),P()},function(){r(9,u=rootScope.labels.name),r(0,rootScope.sortByProperty=rootScope.labels.name,rootScope),P()},function(){r(0,rootScope.filterByPublishedGuides=rootScope.labels.all,rootScope),r(5,s=rootScope.labels.all),P()},function(){r(5,s=rootScope.labels.published),r(0,rootScope.filterByPublishedGuides=rootScope.labels.published,rootScope),P()},function(){r(0,rootScope.filterByPublishedGuides=rootScope.labels.unpublished,rootScope),r(5,s=rootScope.labels.unpublished),P()},function(){Gm.loading.set(!0),rootScope.setCurrentPage("allguides"),Gm.breadCrumb.set([]),mg$$1("#mgPlayerJSProd_filter-tab-go-to-lib").addClass("mgPlayerJSProd_filter-active-tab"),mg$$1("#mgPlayerJSProd_filter-tab-current-page").removeClass("mgPlayerJSProd_filter-active-tab")},()=>rootScope.openTaskList(),()=>f("atoz"),()=>f("ztoa"),()=>f("recent"),()=>f("older"),()=>f(""),()=>v(rootScope.user),()=>v(a),e=>v(e),e=>y("user"),e=>y(rootScope.labels.published),()=>b(rootScope.user),()=>b(a),e=>b(e),e=>y("assignee"),e=>y("sort")]}class Filter extends SvelteComponent{constructor(e){super(),init(this,e,instance$k,create_fragment$l,safe_not_equal,{},null,[-1,-1])}}var HelpIcon='<svg width="40" height="40" viewBox="0 0 40 40" fill="none">\r\n\t<rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"/>\r\n\t<rect x="13.8" y="10.8" width="12.4" height="20.4" rx="1.2" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.6"/>\r\n\t<rect x="14" y="25" width="12" height="0.5" fill="#ACADC1" stroke="#ACADC1"/>\r\n\t<circle class="mgPlayerJSProd_mobile-circle" cx="20" cy="28.5" r="1" fill="#ACADC1"/>\r\n</svg>',InsightIcon='<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">\r\n    <defs>\r\n        <style>\r\n        .cls-1 {\r\n            fill: #ffffff;\r\n            stroke: #ACADC1;\r\n            stroke-miterlimit: 10;\r\n            stroke-width: 1.4;\r\n        }\r\n\r\n        .cls-2 {\r\n            fill: #8e8fa6;\r\n            stroke-width: 0;\r\n        }\r\n        </style>\r\n    </defs>\r\n    <circle class="cls-1" cx="24" cy="24" r="22.75"/>\r\n    <path class="cls-2" d="M31.15,14.74a9.73,9.73,0,0,1,1.35,5.18c0,2.13-.82,3.72-2.65,5.95-.16.19-.32.37-.54.59l-.47.48a3.21,3.21,0,0,0-.5.62,6.39,6.39,0,0,0-.41.91,10.62,10.62,0,0,0-.41,1.62c0-.08-.16,1-.21,1.11a.62.62,0,0,1-.1.22.67.67,0,0,1-.6.33h-5a.68.68,0,0,1-.66-.5h0v0l0-.11-.11-.38c-.13-.41-.26-.83-.39-1.23a12,12,0,0,0-.81-2.09,13,13,0,0,0-1.46-1.77l-.38-.43c-.2-.23-.37-.44-.54-.66a7.67,7.67,0,0,1-1.68-5.61,9,9,0,0,1,2.19-5.24A7.8,7.8,0,0,1,23.77,11a9,9,0,0,1,5.62,1.76l-1.05,1a7.77,7.77,0,0,0-4.57-1.31,6.43,6.43,0,0,0-5,2.22A7.57,7.57,0,0,0,16.91,19a6.29,6.29,0,0,0,1.39,4.64c.15.2.3.38.48.59l.36.4a14.73,14.73,0,0,1,1.58,1.92,11.66,11.66,0,0,1,1,2.46c.14.41.27.84.4,1.25v.05h3.95l.09-.51A12.19,12.19,0,0,1,26.63,28a9,9,0,0,1,.51-1.13,5.24,5.24,0,0,1,.71-.9l.49-.5a6,6,0,0,0,.45-.49c1.64-2,2.33-3.33,2.33-5a8.5,8.5,0,0,0-1-4.22Zm-7.89-1.62.26.93a5.64,5.64,0,0,0-2.14.61l-.63-.72A6.4,6.4,0,0,1,23.26,13.12Zm.95,0a7.39,7.39,0,0,1,2.64.59l-.36.87a6.74,6.74,0,0,0-2-.5ZM20,14.47l.62.7-.35.29a5.82,5.82,0,0,0-1.48,2l-.86-.32a6.46,6.46,0,0,1,1.73-2.41C19.74,14.66,19.85,14.56,20,14.47Zm-2.36,3.6.87.32A6.13,6.13,0,0,0,18.36,20l-.92,0a6.81,6.81,0,0,1,.17-2Zm3.5,15h6a.79.79,0,0,1,0,1.57h-6a.79.79,0,0,1,0-1.57Zm.47,2.36H26.8v.31A1.24,1.24,0,0,1,25.57,37H22.81a1.24,1.24,0,0,1-1.23-1.26ZM24.29,18.6h.07q.41,0,7.23-6.88l-6.37,7.74a1.12,1.12,0,0,1,0,.32,1.15,1.15,0,1,1-1.15-1.18Z"/>\r\n</svg>',WBIcon='<svg width="30px" height="30px" viewBox="0 0 30 30" version="1.1">\r\n    <g class="All-layouts" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r\n        <g class="Snooze-push-notification-Copy" transform="translate(-537.000000, -266.000000)">\r\n            <g class="desktop-monitor-(1)" transform="translate(537.000000, 266.000000)">\r\n                <rect style="stroke: transparent !important;fill: transparent !important;" class="Rectangle" x="0" y="0" width="30" height="30"></rect>\r\n                <path style="fill: #7AAA16 !important;stroke: transparent !important;" d="M27.8741391,3.67452958 C27.4246035,3.22499396 26.8844069,3 26.2528458,3 L3.29572239,3 C2.66441255,3 2.12411546,3.22499396 1.67427831,3.67452958 C1.22469243,4.12421597 1,4.66446281 1,5.2958229 L1,20.9068457 C1,21.5383566 1.22469243,22.0785531 1.67427831,22.52834 C2.12411546,22.9778757 2.66441255,23.2024676 3.29572239,23.2024676 L11.1013092,23.2024676 C11.1013092,23.5658652 11.0247198,23.9392638 10.8716415,24.3216078 C10.7186637,24.7042533 10.5655853,25.0389048 10.412507,25.3257633 C10.2596297,25.6129736 10.1830906,25.8231422 10.1830906,25.9569726 C10.1830906,26.2056369 10.2739023,26.4213336 10.4556765,26.6026053 C10.6373502,26.7845805 10.8525946,26.875744 11.1013092,26.875744 L18.4476108,26.875744 C18.6963253,26.875744 18.91162,26.7846308 19.0932937,26.6026053 C19.2752187,26.4213839 19.3660304,26.2056872 19.3660304,25.9569726 C19.3660304,25.832942 19.2893405,25.6247334 19.1363124,25.3330503 C18.9832341,25.0415181 18.8301558,24.7015395 18.6772785,24.3145217 C18.5242002,23.9270517 18.447661,23.5564172 18.447661,23.2024676 L26.2532478,23.2024676 C26.8844571,23.2024676 27.4246537,22.9778757 27.8741893,22.52834 C28.323926,22.0786034 28.5487189,21.5384068 28.5487189,20.9068457 L28.5487189,5.2958229 C28.5488697,4.66446281 28.3238757,4.12421597 27.8741391,3.67452958 Z M26.7120807,17.2336195 C26.7120807,17.3580019 26.6667,17.4654482 26.575838,17.556461 C26.4848755,17.6471219 26.3772282,17.6925027 26.2528458,17.6925027 L3.29572239,17.6925027 C3.17144049,17.6925027 3.06379317,17.6471219 2.97293119,17.556461 C2.88211946,17.4651467 2.83663822,17.3580019 2.83663822,17.2336195 L2.83663822,5.2958229 C2.83663822,5.17144049 2.8819687,5.06389368 2.97293119,4.9730317 C3.06384342,4.88232049 3.17149074,4.83673873 3.29572239,4.83673873 L26.2531976,4.83673873 C26.3773789,4.83673873 26.4852273,4.88216972 26.575838,4.9730317 C26.6667,5.06394393 26.7120807,5.17149074 26.7120807,5.2958229 L26.7120807,17.2336195 L26.7120807,17.2336195 Z" class="shape" fill="#7AAA15" fill-rule="nonzero"></path>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>',TooltipIcon='<svg width="40" height="40" viewBox="0 0 40 40" fill="none">\r\n    <rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"/>\r\n    <path d="M21.625 30.75C21.625 31.6475 20.8975 32.375 20 32.375C19.1025 32.375 18.375 31.6475 18.375 30.75C18.375 29.8525 19.1025 29.125 20 29.125C20.8975 29.125 21.625 29.8525 21.625 30.75Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.5"/>\r\n    <path d="M21.4375 23.5681L21.25 23.6165V23.8102V26.25C21.25 26.9404 20.6904 27.5 20 27.5C19.3096 27.5 18.75 26.9404 18.75 26.25V22.5C18.75 21.8096 19.3096 21.25 20 21.25C21.7923 21.25 23.25 19.7923 23.25 18C23.25 16.2077 21.7923 14.75 20 14.75C18.2077 14.75 16.75 16.2077 16.75 18C16.75 18.6904 16.1904 19.25 15.5 19.25C14.8096 19.25 14.25 18.6904 14.25 18C14.25 14.8297 16.8297 12.25 20 12.25C23.1703 12.25 25.75 14.8297 25.75 18C25.75 20.6737 23.915 22.9281 21.4375 23.5681Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.5"/>\r\n</svg>',GuidePlayIcon$1='<svg class="mgPlayerJSProd_position-center" width="16" height="16" viewBox="0 0 16 16" fill="none">\r\n    <path d="M0 15.555C0 15.555 8.838 12.372 10.606 10.606C12.374 8.838 15.555 0 15.555 0C15.555 0 6.717 3.183 4.95 4.95C3.183 6.717 0 15.555 0 15.555ZM6.364 6.364L9.192 9.192C9.899 9.899 2.829 12.727 2.829 12.727C2.829 12.727 5.657 5.657 6.364 6.364Z" fill="#6f708b"/>\r\n</svg>',DoItForMeIcon='<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 16 18">\r\n    <path d="M3.84412 13.4972C2.48336 13.4972 1.38026 14.652 1.38026 16.0765V18H2.64522V16.6678C2.64522 15.5993 3.47256 14.7332 4.49312 14.7332H11.5081C12.5287 14.7332 13.356 15.5993 13.356 16.6678V18H14.6211V16.0765C14.6211 14.652 13.518 13.4972 12.1573 13.4972H3.84412Z" fill="#005BF0"/>\r\n    <path d="M0 7.81355C0 7.10651 0.547505 6.53333 1.22289 6.53333H1.68674V9.09377H1.22289C0.547505 9.09377 0 8.5206 0 7.81355Z" fill="#005BF0"/>\r\n    <path d="M16 7.81355C16 7.10651 15.4525 6.53333 14.7771 6.53333H14.3133V9.09377H14.7771C15.4525 9.09377 16 8.5206 16 7.81355Z" fill="#005BF0"/>\r\n    <path d="M7.78874 7.81355C7.78874 8.5206 7.24124 9.09377 6.56586 9.09377C5.89048 9.09377 5.34297 8.5206 5.34297 7.81355C5.34297 7.10651 5.89048 6.53333 6.56586 6.53333C7.24124 6.53333 7.78874 7.10651 7.78874 7.81355Z" fill="#005BF0"/>\r\n    <path d="M10.7414 7.81355C10.7414 8.5206 10.1939 9.09377 9.51855 9.09377C8.84317 9.09377 8.29567 8.5206 8.29567 7.81355C8.29567 7.10651 8.84317 6.53333 9.51855 6.53333C10.1939 6.53333 10.7414 7.10651 10.7414 7.81355Z" fill="#005BF0"/>\r\n    <path d="M7.494 2.16064C7.494 2.08941 7.54915 2.03167 7.61719 2.03167H8.72019C8.78823 2.03167 8.84339 2.08941 8.84339 2.16064V4.6804H7.494V2.16064Z" fill="#005BF0"/>\r\n    <path d="M6.49483 3.61979H5.279C3.91825 3.61979 2.81514 4.77462 2.81514 6.19917V9.51635C2.81514 10.9409 3.91825 12.0957 5.279 12.0957H10.7247C12.0855 12.0957 13.1886 10.9409 13.1886 9.51635V6.19917C13.1886 4.77462 12.0855 3.61979 10.7247 3.61979H9.84475V4.592H10.2026C11.2232 4.592 12.0505 5.45812 12.0505 6.52654V9.191C12.0505 10.2594 11.2232 11.1255 10.2026 11.1255H5.80204C4.78148 11.1255 3.95415 10.2594 3.95415 9.191V6.52653C3.95415 5.45812 4.78148 4.592 5.80204 4.592H6.49483V3.61979Z" fill="#005BF0"/>\r\n    <path d="M8.84339 0.706328C8.84339 1.09642 8.54131 1.41266 8.16869 1.41266C7.79607 1.41266 7.494 1.09642 7.494 0.706328C7.494 0.316234 7.79607 0 8.16869 0C8.54131 0 8.84339 0.316234 8.84339 0.706328Z" fill="#005BF0"/>\r\n</svg>';function add_css$2(e){append_styles(e,"svelte-dxvvbl","dialog.svelte-dxvvbl::backdrop{background:rgba(0, 0, 0, 0.3)}dialog[open].svelte-dxvvbl{animation:svelte-dxvvbl-zoom 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)}@keyframes svelte-dxvvbl-zoom{from{transform:scale(0.95)}to{transform:scale(1)}}dialog[open].svelte-dxvvbl::backdrop{animation:svelte-dxvvbl-fade 0.2s ease-out}@keyframes svelte-dxvvbl-fade{from{opacity:0}to{opacity:1}}button.svelte-dxvvbl{display:block}")}function create_if_block$h(r){let o,a,i,n,s,l,c,d,F=rootScope.svgs.iconSearchClose+"",O,p,u,H,g,m,h,_,R,f=r[1].tour_title+"",y,N,S,P,v,e=rootScope.labels.firstStep+"",B,V,b,C=r[4][0].step_title+"",U,w,k,x,z,T,A,t=rootScope.labels.lastStep+"",j,W,$,L=r[4][r[6]-1].step_title+"",q,J,G,E,Z,M,I,K,X,D,Y;return{c(){o=element("dialog"),a=element("div"),i=element("div"),n=element("div"),s=text(r[3]),l=space(),c=element("button"),d=element("div"),O=space(),p=element("div"),(u=element("div")).textContent=""+rootScope.labels.close,H=space(),g=element("div"),m=element("div"),h=element("div"),(_=element("div")).innerHTML='<svg width="24px" height="30px" viewBox="0 0 24 30" version="1.1"><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="clipboard" fill-rule="nonzero"><path d="M21.0913898,3.4972619 L18.2461695,3.4972619 L18.2461695,2.99767857 C18.2461695,2.44809524 17.7340339,1.99845238 17.1080678,1.99845238 L15.4009492,1.99845238 L15.4009492,1.49880952 C15.4009492,0.699404762 14.6612203,0 13.6938305,0 L10.2795254,0 C9.31213559,0 8.57240678,0.649464286 8.57240678,1.49880952 L8.57240678,1.99839286 L6.86528814,1.99839286 C6.23932203,1.99839286 5.72718644,2.44803571 5.72718644,2.99761905 L5.72718644,3.49720238 L2.8819661,3.49720238 C1.28861017,3.49720238 0.0367457627,4.59636905 0.0367457627,5.9952381 L0.0367457627,27.4784524 C0.0367457627,28.877381 1.28867797,29.9764881 2.8819661,29.9764881 L21.0914576,29.9764881 C22.6848136,29.9764881 23.936678,28.8773214 23.936678,27.4784524 L23.936678,5.99529762 C23.936678,4.64636905 22.6847458,3.4972619 21.0913898,3.4972619 Z M6.86522034,3.99690476 L6.86522034,2.99767857 L9.14142373,2.99767857 C9.48284746,2.99767857 9.71044068,2.79785714 9.71044068,2.49809524 L9.71044068,1.49880952 C9.71044068,1.19904762 9.9380339,0.99922619 10.2794576,0.99922619 L13.6937627,0.99922619 C14.0351864,0.99922619 14.2627797,1.19904762 14.2627797,1.49880952 L14.2627797,2.49803571 C14.2627797,2.79779762 14.4903729,2.99761905 14.8317966,2.99761905 L17.108,2.99761905 L17.108,6.49488095 L6.86522034,6.49488095 L6.86522034,3.99690476 Z M18.2461695,25.480119 L5.72711864,25.480119 C5.38569492,25.480119 5.15810169,25.2802976 5.15810169,24.9805357 C5.15810169,24.6807738 5.38569492,24.4809524 5.72711864,24.4809524 L18.2461695,24.4809524 C18.5875932,24.4809524 18.8151864,24.6807738 18.8151864,24.9805357 C18.8151864,25.2802976 18.5875932,25.480119 18.2461695,25.480119 Z M18.2461695,20.983631 L5.72711864,20.983631 C5.38569492,20.983631 5.15810169,20.7838095 5.15810169,20.4840476 C5.15810169,20.1842857 5.38569492,19.9844643 5.72711864,19.9844643 L18.2461695,19.9844643 C18.5875932,19.9844643 18.8151864,20.1842857 18.8151864,20.4840476 C18.8152542,20.78375 18.5875932,20.983631 18.2461695,20.983631 Z M18.2461695,16.4871429 L5.72711864,16.4871429 C5.38569492,16.4871429 5.15810169,16.2873214 5.15810169,15.9875595 C5.15810169,15.6877976 5.38569492,15.4879762 5.72711864,15.4879762 L18.2461695,15.4879762 C18.5875932,15.4879762 18.8151864,15.6877976 18.8151864,15.9875595 C18.8151864,16.2873214 18.5875932,16.4871429 18.2461695,16.4871429 Z M18.2461695,11.9906548 L5.72711864,11.9906548 C5.38569492,11.9906548 5.15810169,11.7908333 5.15810169,11.4910714 C5.15810169,11.1913095 5.38569492,10.9914881 5.72711864,10.9914881 L18.2461695,10.9914881 C18.5875932,10.9914881 18.8151864,11.1913095 18.8151864,11.4910714 C18.8151864,11.7908333 18.5875932,11.9906548 18.2461695,11.9906548 Z" class="shape"></path></g></g></svg>',R=space(),y=text(f),N=space(),S=element("div"),P=element("div"),v=element("div"),B=text(e),V=text(": "),b=new HtmlTag(!1),U=space(),w=element("div"),k=element("img"),z=space(),T=element("div"),A=element("div"),j=text(t),W=text(": "),$=new HtmlTag(!1),q=space(),J=element("div"),G=element("img"),Z=space(),M=element("div"),(I=element("button")).textContent=""+rootScope.labels.startTest,K=space(),(X=element("button")).textContent=""+rootScope.labels.close,attr(n,"class","popup-test-me-title"),attr(d,"class","ege-inline-block-vt"),attr(u,"class","mgPlayerJSProd_tooltip-title"),attr(p,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),attr(c,"class","mgPlayerJSProd_lbl-btn popup-test-me-close svelte-dxvvbl"),attr(i,"class","popup-test-me-header"),attr(_,"class","tour-play-icon-test-me ege-inline-block-vm"),attr(h,"class","tour-title-wrapper ege-inline-block-vt"),set_style(h,"padding","20px"),attr(m,"class","tour-details-container"),b.a=null,attr(v,"class","preview-step-first-title"),attr(k,"class","step-image mgPlayerJSProd_custom-image"),src_url_equal(k.src,x=r[4][0].screen_url+GmCXt.getCdnSign())||attr(k,"src",x),attr(k,"alt","test"),attr(w,"class","image-preview-step-first"),attr(P,"class","preview-step-first-wrapper"),$.a=null,attr(A,"class","preview-step-last-title"),attr(G,"class","step-image mgPlayerJSProd_custom-image"),src_url_equal(G.src,E=r[4][r[6]-1].screen_url+GmCXt.getCdnSign())||attr(G,"src",E),attr(G,"alt","test"),attr(J,"class","image-preview-step-last"),attr(T,"class","preview-step-last-wrapper"),attr(S,"class","step-preview-container"),attr(I,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_inline-block-vt svelte-dxvvbl"),attr(X,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral mgPlayerJSProd_inline-block-vt svelte-dxvvbl"),attr(M,"class","test-me-btn-action"),set_style(M,"display","flex"),set_style(M,"justify-content","center"),set_style(M,"padding","15px 0px"),attr(g,"class","popup-test-me-container"),attr(a,"class","popup-test-me-preview"),toggle_class(a,"mgPlayerJSProd_accessibility-theme",rootScope.accessibility),attr(o,"id","svelte-notification-modal"),attr(o,"class","svelte-dxvvbl")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(n,s),append(i,l),append(i,c),append(c,d),d.innerHTML=F,append(c,O),append(c,p),append(p,u),append(a,H),append(a,g),append(g,m),append(m,h),append(h,_),append(h,R),append(h,y),append(g,N),append(g,S),append(S,P),append(P,v),append(v,B),append(v,V),b.m(C,v),append(P,U),append(P,w),append(w,k),append(S,z),append(S,T),append(T,A),append(A,j),append(A,W),$.m(L,A),append(T,q),append(T,J),append(J,G),append(g,Z),append(g,M),append(M,I),append(M,K),append(M,X),r[11](o),D||(Y=[listen(c,"click",r[9]),listen(I,"click",r[10]),listen(X,"click",r[8]),listen(o,"close",r[12])],D=!0)},p(e,t){8&t&&set_data(s,e[3]),2&t&&f!==(f=e[1].tour_title+"")&&set_data(y,f),16&t&&C!==(C=e[4][0].step_title+"")&&b.p(C),16&t&&!src_url_equal(k.src,x=e[4][0].screen_url+GmCXt.getCdnSign())&&attr(k,"src",x),16&t&&L!==(L=e[4][e[6]-1].step_title+"")&&$.p(L),16&t&&!src_url_equal(G.src,E=e[4][e[6]-1].screen_url+GmCXt.getCdnSign())&&attr(G,"src",E)},d(e){e&&detach(o),r[11](null),D=!1,run_all(Y)}}}function create_fragment$k(e){let r,o=e[0]&&create_if_block$h(e);return{c(){o&&o.c(),r=empty()},m(e,t){o&&o.m(e,t),insert(e,r,t)},p(e,[t]){e[0]?o?o.p(e,t):((o=create_if_block$h(e)).c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i:noop,o:noop,d(e){e&&detach(r),o&&o.d(e)}}}function instance$j(e,t,r){let o=t.showTestMe,a=t.tour,i,n;var t=a.steps.filter(function(e){return"inline"===e.step_type}),s=t.length;t[0].step_title=mg$$1("<span />").html(t[0].step_title).text(),t[s-1].step_title=mg$$1("<span />").html(t[s-1].step_title).text();let l={};l.tour=a;var c=GmCXt.getAppSetting();n=c&&c.userLabels&&c.userLabels.testMe?c.userLabels.testMe:"TestMe";function d(e){rootScope.closeAppPopup(),r(0,o=!1),GmCXt.isMicroPlayer()&&(mg$$1(".ege-panel").removeAttr("style"),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:reset_micro_player_position"})),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:start_tool;testMe",data:e})}GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:increase_side_panel_width"});return e.$$set=e=>{"showTestMe"in e&&r(0,o=e.showTestMe),"tour"in e&&r(1,a=e.tour)},e.$$.update=()=>{5&e.$$.dirty&&i&&o&&i.showModal()},[o,a,i,n,t,l,s,d,function(){r(0,o=!1),i.close()},()=>i.close(),()=>d(l),function(e){binding_callbacks[e?"unshift":"push"](()=>{i=e,r(2,i)})},()=>r(0,o=!1)]}class TestMeWidget extends SvelteComponent{constructor(e){super(),init(this,e,instance$j,create_fragment$k,safe_not_equal,{showTestMe:0,tour:1},add_css$2)}}function create_if_block$g(r){let o,a,i=r[1].svgs.guide_view_download+"",n,s,l,c=r[0].media_files&&r[0].media_files.length&&create_if_block_1$f(r);return{c(){o=element("button"),a=element("div"),n=space(),c&&c.c(),attr(a,"class","mgPlayerJSProd_download-icon mgPlayerJSProd_inline-block-vm"),attr(o,"id","mgPlayerJSProd_icon-tour-download"),attr(o,"class","mgPlayerJSProd_lbl-btn header-detail-view-tour-download-wrapper mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center "),attr(o,"aria-label","tour download dropdown"),toggle_class(o,"disabled",!r[0].is_published)},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),c&&c.m(o,null),s||(l=listen(o,"click",stop_propagation(r[4])),s=!0)},p(e,t){2&t&&i!==(i=e[1].svgs.guide_view_download+"")&&(a.innerHTML=i),e[0].media_files&&e[0].media_files.length?c?c.p(e,t):((c=create_if_block_1$f(e)).c(),c.m(o,null)):c&&(c.d(1),c=null),1&t&&toggle_class(o,"disabled",!e[0].is_published)},d(e){e&&detach(o),c&&c.d(),s=!1,l()}}}function create_if_block_1$f(e){let r,o,a=e[0].media_files[0].video&&e[0].tour_settings.downloadGuideFiles.video_file&&e[2](e[0])&&!e[1].isOnboarding(e[0]),i,n,s,l,c,d,p=e[0].media_files[0].gify&&e[0].tour_settings.downloadGuideFiles.gif_file&&e[2](e[0])&&!e[1].isOnboarding(e[0]),u,g,m=e[0].media_files[0].doc&&e[0].tour_settings.downloadGuideFiles.word_file&&e[2](e[0]),h,_,f=e[0].media_files[0].blog&&e[0].tour_settings.downloadGuideFiles.blog_file&&e[2](e[0])&&!e[1].isOnboarding(e[0]),y,S,P=e[0].media_files[0].text&&e[0].tour_settings.downloadGuideFiles.text_file&&e[2](e[0])&&!e[1].isOnboarding(e[0]),v=(!e[0].media_files[0].video||"0"==e[0].media_files[0].video)&&(!e[0].media_files[0].pdf||"0"==e[0].media_files[0].pdf)&&(!e[0].media_files[0].pdf||"0"==e[0].media_files[0].pdf)&&(!e[0].media_files[0].ppt||"0"==e[0].media_files[0].ppt)&&(!e[0].media_files[0].gify||"0"==e[0].media_files[0].gify)&&(!e[0].media_files[0].doc||"0"==e[0].media_files[0].doc)&&(!e[0].media_files[0].blog||"0"==e[0].media_files[0].blog)&&(!e[0].media_files[0].text||"0"==e[0].media_files[0].text)&&create_if_block_22$3(e),b=a&&create_if_block_20$3(e),C=e[0].tour_settings.downloadGuideFiles.video_file&&create_if_block_19$3(),w=e[0].media_files[0].pdf&&e[0].tour_settings.downloadGuideFiles.pdf_file&&create_if_block_17$4(e),k=e[0].tour_settings.downloadGuideFiles.pdf_file&&create_if_block_16$4(),x=e[0].media_files[0].ppt&&e[0].tour_settings.downloadGuideFiles.pptx_file&&create_if_block_14$4(e),T=e[0].tour_settings.downloadGuideFiles.pptx_file&&create_if_block_13$5(),A=p&&create_if_block_11$8(e),$=e[0].tour_settings.downloadGuideFiles.gif_file&&create_if_block_10$8(),L=m&&create_if_block_8$9(e),J=e[0].tour_settings.downloadGuideFiles.word_file&&create_if_block_7$a(),G=f&&create_if_block_5$b(e),E=e[0].tour_settings.downloadGuideFiles.blog_fil&&create_if_block_4$b(),M=P&&create_if_block_2$e(e);return{c(){r=element("div"),v&&v.c(),o=space(),b&&b.c(),i=space(),C&&C.c(),n=space(),w&&w.c(),s=space(),k&&k.c(),l=space(),x&&x.c(),c=space(),T&&T.c(),d=space(),A&&A.c(),u=space(),$&&$.c(),g=space(),L&&L.c(),h=space(),J&&J.c(),_=space(),G&&G.c(),y=space(),E&&E.c(),S=space(),M&&M.c(),attr(r,"id","detail-view-download-options"),attr(r,"class","detail-download-action-options-dropdown")},m(e,t){insert(e,r,t),v&&v.m(r,null),append(r,o),b&&b.m(r,null),append(r,i),C&&C.m(r,null),append(r,n),w&&w.m(r,null),append(r,s),k&&k.m(r,null),append(r,l),x&&x.m(r,null),append(r,c),T&&T.m(r,null),append(r,d),A&&A.m(r,null),append(r,u),$&&$.m(r,null),append(r,g),L&&L.m(r,null),append(r,h),J&&J.m(r,null),append(r,_),G&&G.m(r,null),append(r,y),E&&E.m(r,null),append(r,S),M&&M.m(r,null)},p(e,t){e[0].media_files[0].video&&"0"!=e[0].media_files[0].video||e[0].media_files[0].pdf&&"0"!=e[0].media_files[0].pdf||e[0].media_files[0].pdf&&"0"!=e[0].media_files[0].pdf||e[0].media_files[0].ppt&&"0"!=e[0].media_files[0].ppt||e[0].media_files[0].gify&&"0"!=e[0].media_files[0].gify||e[0].media_files[0].doc&&"0"!=e[0].media_files[0].doc||e[0].media_files[0].blog&&"0"!=e[0].media_files[0].blog||e[0].media_files[0].text&&"0"!=e[0].media_files[0].text?v&&(v.d(1),v=null):v?v.p(e,t):((v=create_if_block_22$3(e)).c(),v.m(r,o)),(a=3&t?e[0].media_files[0].video&&e[0].tour_settings.downloadGuideFiles.video_file&&e[2](e[0])&&!e[1].isOnboarding(e[0]):a)?b?b.p(e,t):((b=create_if_block_20$3(e)).c(),b.m(r,i)):b&&(b.d(1),b=null),e[0].tour_settings.downloadGuideFiles.video_file?C||((C=create_if_block_19$3()).c(),C.m(r,n)):C&&(C.d(1),C=null),e[0].media_files[0].pdf&&e[0].tour_settings.downloadGuideFiles.pdf_file?w?w.p(e,t):((w=create_if_block_17$4(e)).c(),w.m(r,s)):w&&(w.d(1),w=null),e[0].tour_settings.downloadGuideFiles.pdf_file?k||((k=create_if_block_16$4()).c(),k.m(r,l)):k&&(k.d(1),k=null),e[0].media_files[0].ppt&&e[0].tour_settings.downloadGuideFiles.pptx_file?x?x.p(e,t):((x=create_if_block_14$4(e)).c(),x.m(r,c)):x&&(x.d(1),x=null),e[0].tour_settings.downloadGuideFiles.pptx_file?T||((T=create_if_block_13$5()).c(),T.m(r,d)):T&&(T.d(1),T=null),(p=3&t?e[0].media_files[0].gify&&e[0].tour_settings.downloadGuideFiles.gif_file&&e[2](e[0])&&!e[1].isOnboarding(e[0]):p)?A?A.p(e,t):((A=create_if_block_11$8(e)).c(),A.m(r,u)):A&&(A.d(1),A=null),e[0].tour_settings.downloadGuideFiles.gif_file?$||(($=create_if_block_10$8()).c(),$.m(r,g)):$&&($.d(1),$=null),(m=1&t?e[0].media_files[0].doc&&e[0].tour_settings.downloadGuideFiles.word_file&&e[2](e[0]):m)?L?L.p(e,t):((L=create_if_block_8$9(e)).c(),L.m(r,h)):L&&(L.d(1),L=null),e[0].tour_settings.downloadGuideFiles.word_file?J||((J=create_if_block_7$a()).c(),J.m(r,_)):J&&(J.d(1),J=null),(f=3&t?e[0].media_files[0].blog&&e[0].tour_settings.downloadGuideFiles.blog_file&&e[2](e[0])&&!e[1].isOnboarding(e[0]):f)?G?G.p(e,t):((G=create_if_block_5$b(e)).c(),G.m(r,y)):G&&(G.d(1),G=null),e[0].tour_settings.downloadGuideFiles.blog_fil?E||((E=create_if_block_4$b()).c(),E.m(r,S)):E&&(E.d(1),E=null),(P=3&t?e[0].media_files[0].text&&e[0].tour_settings.downloadGuideFiles.text_file&&e[2](e[0])&&!e[1].isOnboarding(e[0]):P)?M?M.p(e,t):((M=create_if_block_2$e(e)).c(),M.m(r,null)):M&&(M.d(1),M=null)},d(e){e&&detach(r),v&&v.d(),b&&b.d(),C&&C.d(),w&&w.d(),k&&k.d(),x&&x.d(),T&&T.d(),A&&A.d(),$&&$.d(),L&&L.d(),J&&J.d(),G&&G.d(),E&&E.d(),M&&M.d()}}}function create_if_block_22$3(r){let o,a,i,n,s,l,c,d=r[1].labels.pleaseWait+"",p,u,g,m=r[1].labels.mediaDownloadMsg+"",h,_,f,y,S;return{c(){o=element("div"),a=element("div"),i=element("div"),n=element("img"),l=space(),c=element("div"),p=text(d),u=space(),g=element("div"),h=text(m),_=space(),(f=element("a")).textContent="Close",attr(n,"class","mgPlayerJSProd_max-width-height-100"),src_url_equal(n.src,s=r[1].staticContentPath+"loader_hourglass.gif")||attr(n,"src",s),attr(i,"class","mgPlayerJSProd_media-progress-loader-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),attr(c,"class","mgPlayerJSProd_font-size-18 mgPlayerJSProd_margin-tb-20"),attr(g,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_text-align-center"),attr(a,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column mgPlayerJSProd_margin-tb-15"),attr(f,"class","mgPlayerJSProd_lbl-link mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral"),attr(o,"class","mgPlayerJSProd_media-progress-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_flex-direction-column mgPlayerJSProd_width-100 mgPlayerJSProd_height-100 mgPlayerJSProd_position-absolute mgPlayerJSProd_bg-white mgPlayerJSProd_z-index mgPlayerJSProd_z-index-2 mgPlayerJSProd_padding-15")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(a,l),append(a,c),append(c,p),append(a,u),append(a,g),append(g,h),append(o,_),append(o,f),y||(S=listen(f,"click",stop_propagation(r[5])),y=!0)},p(e,t){2&t&&!src_url_equal(n.src,s=e[1].staticContentPath+"loader_hourglass.gif")&&attr(n,"src",s),2&t&&d!==(d=e[1].labels.pleaseWait+"")&&set_data(p,d),2&t&&m!==(m=e[1].labels.mediaDownloadMsg+"")&&set_data(h,m)},d(e){e&&detach(o),y=!1,S()}}}function create_if_block_20$3(r){let o,a,i,n,s,l,c=(!r[0].media_files[0].video||"0"==r[0].media_files[0].video)&&create_if_block_21$3(r);return{c(){o=element("div"),a=element("input"),n=space(),c&&c.c(),attr(a,"type","button"),attr(a,"class","mgPlayerJSProd_lbl-btn detail-download-action-options-dropdown-item download-link ege-inline-block-div mgPlayerJSProd_width-100"),a.value=i=r[1].labels.video+" (.mp4)",attr(o,"id","mgPlayerJSProd_tour-download-video"),attr(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){insert(e,o,t),append(o,a),append(o,n),c&&c.m(o,null),s||(l=listen(a,"click",stop_propagation(function(){is_function(r[3]("tour_video_download",r[0].media_files[0].video,r[0]))&&r[3]("tour_video_download",r[0].media_files[0].video,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&i!==(i=r[1].labels.video+" (.mp4)")&&(a.value=i),r[0].media_files[0].video&&"0"!=r[0].media_files[0].video?c&&(c.d(1),c=null):c?c.p(r,t):((c=create_if_block_21$3(r)).c(),c.m(o,null))},d(e){e&&detach(o),c&&c.d(),s=!1,l()}}}function create_if_block_21$3(e){let r,o,a;return{c(){r=element("div"),attr(o=element("img"),"class","mgPlayerJSProd_max-width-height-100"),src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")||attr(o,"src",a),attr(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){insert(e,r,t),append(r,o)},p(e,t){2&t&&!src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")&&attr(o,"src",a)},d(e){e&&detach(r)}}}function create_if_block_19$3(e){let r;return{c(){(r=element("div")).innerHTML="",attr(r,"class","horizontal-line")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_17$4(r){let o,a,i,n,s,l,c=(!r[0].media_files[0].pdf||"0"==r[0].media_files[0].pdf)&&create_if_block_18$3(r);return{c(){o=element("div"),a=element("input"),n=space(),c&&c.c(),attr(a,"type","button"),attr(a,"class","mgPlayerJSProd_lbl-btn detail-download-action-options-dropdown-item download-link ege-inline-block-div mgPlayerJSProd_width-100"),a.value=i=r[1].labels.pdf+" (.pdf)",attr(o,"id","mgPlayerJSProd_tour-download-pdf"),attr(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){insert(e,o,t),append(o,a),append(o,n),c&&c.m(o,null),s||(l=listen(a,"click",stop_propagation(function(){is_function(r[3]("tour_pdf_download",r[0].media_files[0].pdf,r[0]))&&r[3]("tour_pdf_download",r[0].media_files[0].pdf,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&i!==(i=r[1].labels.pdf+" (.pdf)")&&(a.value=i),r[0].media_files[0].pdf&&"0"!=r[0].media_files[0].pdf?c&&(c.d(1),c=null):c?c.p(r,t):((c=create_if_block_18$3(r)).c(),c.m(o,null))},d(e){e&&detach(o),c&&c.d(),s=!1,l()}}}function create_if_block_18$3(e){let r,o,a;return{c(){r=element("div"),attr(o=element("img"),"class","mgPlayerJSProd_max-width-height-100"),src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")||attr(o,"src",a),attr(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){insert(e,r,t),append(r,o)},p(e,t){2&t&&!src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")&&attr(o,"src",a)},d(e){e&&detach(r)}}}function create_if_block_16$4(e){let r;return{c(){(r=element("div")).innerHTML="",attr(r,"class","horizontal-line")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_14$4(r){let o,a,i,n,s,l,c=(!r[0].media_files[0].ppt||"0"==r[0].media_files[0].ppt)&&create_if_block_15$4(r);return{c(){o=element("div"),a=element("input"),n=space(),c&&c.c(),attr(a,"type","button"),attr(a,"class","mgPlayerJSProd_lbl-btn detail-download-action-options-dropdown-item download-link ege-inline-block-div mgPlayerJSProd_width-100"),a.value=i=r[1].labels.downloadPptx+" (.pptx)",attr(o,"id","mgPlayerJSProd_tour-download-pptx"),attr(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){insert(e,o,t),append(o,a),append(o,n),c&&c.m(o,null),s||(l=listen(a,"click",stop_propagation(function(){is_function(r[3]("tour_ppt_download",r[0].media_files[0].ppt,r[0]))&&r[3]("tour_ppt_download",r[0].media_files[0].ppt,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&i!==(i=r[1].labels.downloadPptx+" (.pptx)")&&(a.value=i),r[0].media_files[0].ppt&&"0"!=r[0].media_files[0].ppt?c&&(c.d(1),c=null):c?c.p(r,t):((c=create_if_block_15$4(r)).c(),c.m(o,null))},d(e){e&&detach(o),c&&c.d(),s=!1,l()}}}function create_if_block_15$4(e){let r,o,a;return{c(){r=element("div"),attr(o=element("img"),"class","mgPlayerJSProd_max-width-height-100"),src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")||attr(o,"src",a),attr(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){insert(e,r,t),append(r,o)},p(e,t){2&t&&!src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")&&attr(o,"src",a)},d(e){e&&detach(r)}}}function create_if_block_13$5(e){let r;return{c(){(r=element("div")).innerHTML="",attr(r,"class","horizontal-line")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_11$8(r){let o,a,i,n,s,l,c=(!r[0].media_files[0].gify||"0"==r[0].media_files[0].gify)&&create_if_block_12$6(r);return{c(){o=element("div"),a=element("input"),n=space(),c&&c.c(),attr(a,"type","button"),attr(a,"class","mgPlayerJSProd_lbl-btn detail-download-action-options-dropdown-item download-link ege-inline-block-div mgPlayerJSProd_width-100"),a.value=i=r[1].labels.giphy+" (.gif)",attr(o,"id","mgPlayerJSProd_tour-download-gif"),attr(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){insert(e,o,t),append(o,a),append(o,n),c&&c.m(o,null),s||(l=listen(a,"click",stop_propagation(function(){is_function(r[3]("tour_gif_download",r[0].media_files[0].gify,r[0]))&&r[3]("tour_gif_download",r[0].media_files[0].gify,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&i!==(i=r[1].labels.giphy+" (.gif)")&&(a.value=i),r[0].media_files[0].gify&&"0"!=r[0].media_files[0].gify?c&&(c.d(1),c=null):c?c.p(r,t):((c=create_if_block_12$6(r)).c(),c.m(o,null))},d(e){e&&detach(o),c&&c.d(),s=!1,l()}}}function create_if_block_12$6(e){let r,o,a;return{c(){r=element("div"),attr(o=element("img"),"class","mgPlayerJSProd_max-width-height-100"),src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")||attr(o,"src",a),attr(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){insert(e,r,t),append(r,o)},p(e,t){2&t&&!src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")&&attr(o,"src",a)},d(e){e&&detach(r)}}}function create_if_block_10$8(e){let r;return{c(){(r=element("div")).innerHTML="",attr(r,"class","horizontal-line")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_8$9(r){let o,a,i,n,s,l,c=(!r[0].media_files[0].doc||"0"==r[0].media_files[0].doc)&&create_if_block_9$8(r);return{c(){o=element("div"),a=element("input"),n=space(),c&&c.c(),attr(a,"type","button"),attr(a,"class","mgPlayerJSProd_lbl-btn detail-download-action-options-dropdown-item download-link ege-inline-block-div mgPlayerJSProd_width-100"),a.value=i=r[1].labels.downloadWord+" (.docx)",attr(o,"id","mgPlayerJSProd_tour-download-docx"),attr(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){insert(e,o,t),append(o,a),append(o,n),c&&c.m(o,null),s||(l=listen(a,"click",stop_propagation(function(){is_function(r[3]("tour_word_download",r[0].media_files[0].doc,r[0]))&&r[3]("tour_word_download",r[0].media_files[0].doc,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&i!==(i=r[1].labels.downloadWord+" (.docx)")&&(a.value=i),r[0].media_files[0].doc&&"0"!=r[0].media_files[0].doc?c&&(c.d(1),c=null):c?c.p(r,t):((c=create_if_block_9$8(r)).c(),c.m(o,null))},d(e){e&&detach(o),c&&c.d(),s=!1,l()}}}function create_if_block_9$8(e){let r,o,a;return{c(){r=element("div"),attr(o=element("img"),"class","mgPlayerJSProd_max-width-height-100"),src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")||attr(o,"src",a),attr(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){insert(e,r,t),append(r,o)},p(e,t){2&t&&!src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")&&attr(o,"src",a)},d(e){e&&detach(r)}}}function create_if_block_7$a(e){let r;return{c(){(r=element("div")).innerHTML="",attr(r,"class","horizontal-line")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_5$b(r){let o,a,i,n,s,l,c=(!r[0].media_files[0].blog||"0"==r[0].media_files[0].blog)&&create_if_block_6$b(r);return{c(){o=element("div"),a=element("input"),n=space(),c&&c.c(),attr(a,"type","button"),attr(a,"class","mgPlayerJSProd_lbl-btn detail-download-action-options-dropdown-item download-link ege-inline-block-div mgPlayerJSProd_width-100"),a.value=i=r[1].labels.downloadBlog+" (.html)",attr(o,"id","mgPlayerJSProd_tour-download-html"),attr(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){insert(e,o,t),append(o,a),append(o,n),c&&c.m(o,null),s||(l=listen(a,"click",stop_propagation(function(){is_function(r[3]("tour_blog_download",r[0].media_files[0].blog,r[0]))&&r[3]("tour_blog_download",r[0].media_files[0].blog,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&i!==(i=r[1].labels.downloadBlog+" (.html)")&&(a.value=i),r[0].media_files[0].blog&&"0"!=r[0].media_files[0].blog?c&&(c.d(1),c=null):c?c.p(r,t):((c=create_if_block_6$b(r)).c(),c.m(o,null))},d(e){e&&detach(o),c&&c.d(),s=!1,l()}}}function create_if_block_6$b(e){let r,o,a;return{c(){r=element("div"),attr(o=element("img"),"class","mgPlayerJSProd_max-width-height-100"),src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")||attr(o,"src",a),attr(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){insert(e,r,t),append(r,o)},p(e,t){2&t&&!src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")&&attr(o,"src",a)},d(e){e&&detach(r)}}}function create_if_block_4$b(e){let r;return{c(){(r=element("div")).innerHTML="",attr(r,"class","horizontal-line")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_2$e(r){let o,a,i,n,s,l,c=(!r[0].media_files[0].text||"0"==r[0].media_files[0].text)&&create_if_block_3$b(r);return{c(){o=element("div"),a=element("input"),n=space(),c&&c.c(),attr(a,"type","button"),attr(a,"class","mgPlayerJSProd_lbl-btn detail-download-action-options-dropdown-item download-link ege-inline-block-div mgPlayerJSProd_width-100"),a.value=i=r[1].labels.downloadTxt+" (.txt)",attr(o,"id","mgPlayerJSProd_tour-download-txt"),attr(o,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){insert(e,o,t),append(o,a),append(o,n),c&&c.m(o,null),s||(l=listen(a,"click",stop_propagation(function(){is_function(r[3]("",r[0].media_files[0].text,r[0]))&&r[3]("",r[0].media_files[0].text,r[0]).apply(this,arguments)})),s=!0)},p(e,t){r=e,2&t&&i!==(i=r[1].labels.downloadTxt+" (.txt)")&&(a.value=i),r[0].media_files[0].text&&"0"!=r[0].media_files[0].text?c&&(c.d(1),c=null):c?c.p(r,t):((c=create_if_block_3$b(r)).c(),c.m(o,null))},d(e){e&&detach(o),c&&c.d(),s=!1,l()}}}function create_if_block_3$b(e){let r,o,a;return{c(){r=element("div"),attr(o=element("img"),"class","mgPlayerJSProd_max-width-height-100"),src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")||attr(o,"src",a),attr(r,"class","mgPlayerJSProd_media-progress-loader mgPlayerJSProd_margin-r-20")},m(e,t){insert(e,r,t),append(r,o)},p(e,t){2&t&&!src_url_equal(o.src,a=e[1].staticContentPath+"loader_hourglass.gif")&&attr(o,"src",a)},d(e){e&&detach(r)}}}function create_fragment$j(e){let r,o=e[6](e[0]),a=o&&create_if_block$g(e);return{c(){r=element("div"),a&&a.c()},m(e,t){insert(e,r,t),a&&a.m(r,null)},p(e,[t]){(o=1&t?e[6](e[0]):o)?a?a.p(e,t):((a=create_if_block$g(e)).c(),a.m(r,null)):a&&(a.d(1),a=null)},i:noop,o:noop,d(e){e&&detach(r),a&&a.d()}}}function instance$i(e,t,r){let o=t.tour;let n=function(e){switch(e){case"tour_video_download":GmCXt.trackerV1.trackGuideDownload(o,"video");break;case"tour_pdf_download":GmCXt.trackerV1.trackGuideDownload(o,"pdf");break;case"tour_ppt_download":GmCXt.trackerV1.trackGuideDownload(o,"ppt");break;case"tour_gif_download":GmCXt.trackerV1.trackGuideDownload(o,"gif");break;case"tour_word_download":GmCXt.trackerV1.trackGuideDownload(o,"docx");break;case"tour_blog_download":GmCXt.trackerV1.trackGuideDownload(o,"html");break;default:GmCXt.trackerV1.trackGuideDownload(o,"txt")}};function a(){mg$$1(".detail-download-action-options-dropdown").slideUp(200),mg$$1(".tour-item").removeClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-10"),mg$$1(".header-detail-view-tour-download-wrapper").removeClass("mgPlayerJSProd_dropdown-active")}function i(e){mg$$1(e.target).closest(".detail-download-action-options-dropdown").length||(mg$$1(".detail-download-action-options-dropdown").slideUp(200),r(1,rootScope.isMediaFileDropdown=!1,rootScope),document.removeEventListener("click",i))}return onMount(()=>{document.addEventListener("click",i)}),onDestroy(()=>{document.removeEventListener("click",i)}),e.$$set=e=>{"tour"in e&&r(0,o=e.tour)},[o,rootScope,function(e){if(!e)return!1;let t=!0;return t=GmCXt.branchStepExist(e)?!1:t},function(a,i,e){function t(r){r&&(i=r);{var o=a;r=i;let t=document.createElement("a");t.setAttribute("href",r),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t);let e;document&&document.createEvent&&window?(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null):e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}),t.addEventListener("click",function(e){e.stopPropagation(),document.body.removeChild(t),n(o)},!1),t.dispatchEvent(e)}}var r=GmCXt.getUrlWithLang(i);i+=GmCXt.getCdnSign(),e&&!e.tour_settings.translationEnable?GmCXt.checkAssetUrl(i,i,t):GmCXt.checkAssetUrl(r,i,t)},function(e){r(1,rootScope.isMediaFileDropdown=!1,rootScope),mg$$1(".detail-view-action-options-dropdown").slideUp(200),mg$$1(".step-action-menu-options-dropdown").slideUp(200),rootScope.hideTourActionDropdown(),a(),r(1,rootScope.isMediaFileDropdown=mg$$1(e.target).children(".detail-download-action-options-dropdown").is(":visible"),rootScope),rootScope.isMediaFileDropdown?(mg$$1(e.target).children(".detail-download-action-options-dropdown").slideUp(200),r(1,rootScope.isMediaFileDropdown=!1,rootScope)):(mg$$1(e.target).children(".detail-download-action-options-dropdown").slideDown(200),r(1,rootScope.isMediaFileDropdown=!0,rootScope),mg$$1(e.target).addClass("mgPlayerJSProd_dropdown-active"),mg$$1(e.target).parents(".tour-item").addClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-10")),document.addEventListener("click",i)},a,function(e){return(rootScope.isGuide(e)||rootScope.isTooltip(e)&&rootScope.createTooltipMediaFile||rootScope.isCADGuide(e)||rootScope.isOnboarding(e)&&"tutorial"===e.tour_settings.tutorial_tour_type)&&(e=e,!(rootScope.FT.isPlayer&&"humana"===rootScope.appConfig.customer||GmCXt.isFalseObj(e.tour_settings.downloadGuideFiles)))&&rootScope.mediafileCreation&&!(rootScope.accessibility&&rootScope.FT.isPlayer)}]}class DownloadMedia extends SvelteComponent{constructor(e){super(),init(this,e,instance$i,create_fragment$j,safe_not_equal,{tour:0})}}function create_if_block$f(r){let o,a,i,n,s,l,c,d=r[0].tour_title+"",p,F,u,g,m=r[0].tour_description+"",h,_,O,f,H,R="allguidesSearchPage"===get_store_value(GmCXt.CurrentPage),N,y,B,V,U,S,P,v=0<r[21].length&&rootScope.isOwnerOrAppAdmin()&&rootScope.FT.creatorApp&&!rootScope.automationSelectionMode&&!rootScope.hideMirrorAppCtrl()&&!rootScope.isDesktopApp(),b,C=0<r[21].length&&rootScope.isOwnerOrAppAdmin()&&rootScope.FT.creatorApp&&!rootScope.automationSelectionMode&&!rootScope.hideMirrorAppCtrl()&&r[0].pin,w,z=!rootScope.FT.isPlayer&&!rootScope.isDesktopApp(),k,x,T,A,j,$=!r[2]&&create_if_block_16$3(r),L=r[2]&&create_if_block_15$3(r),J=(0<r[0].tour_title.length||0<r[0].tour_description.length)&&create_if_block_14$3(r),G=R&&create_if_block_13$4(r),E=rootScope.FT.isPlayer&&create_if_block_6$a(r),M=r[0].media_files[0]&&rootScope.isMicroPlayer&&create_if_block_5$a(r),I=v&&create_if_block_4$a(r),X=C&&create_if_block_3$a(r),D=z&&create_if_block_1$e(r);return{c(){o=element("div"),a=element("div"),$&&$.c(),i=space(),L&&L.c(),n=space(),s=element("div"),l=element("div"),c=element("button"),p=text(d),F=space(),u=element("div"),g=element("div"),h=text(m),O=space(),J&&J.c(),H=space(),G&&G.c(),N=space(),y=element("div"),B=element("div"),V=space(),E&&E.c(),U=space(),M&&M.c(),P=space(),I&&I.c(),b=space(),X&&X.c(),w=space(),D&&D.c(),k=space(),x=element("div"),attr(c,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-title mgPlayerJSProd_text-overflow-ellipsis"),attr(g,"class","mgPlayerJSProd_tour-desc"),attr(u,"id",_="mgPlayerJSProd_tour-desc-"+r[0].tour_id),attr(u,"class","mgPlayerJSProd_guide-desc-wrapper mgPlayerJSProd_text-overflow-ellipsis"),attr(u,"tabindex","0"),attr(l,"id",f="mgPlayerJSProd_tour-title-"+r[0].tour_id),attr(l,"class","mgPlayerJSProd_guide-title-wrapper ege-inline-block-vm"),attr(s,"class","mgPlayerJSProd_guide-details-wrapper ege-inline-block-vm"),attr(y,"id",S="mgPlayerJSProd_guide-row-action-wrapper_"+r[0].tour_id),attr(y,"class","mgPlayerJSProd_guide-row-action-wrapper"),attr(o,"class","ege-inline-block-vm tour-title-description-wrapper"),attr(x,"class","ege-clear")},m(e,t){insert(e,o,t),append(o,a),$&&$.m(a,null),append(a,i),L&&L.m(a,null),append(a,n),append(a,s),append(s,l),append(l,c),append(c,p),append(l,F),append(l,u),append(u,g),append(g,h),append(l,O),J&&J.m(l,null),append(s,H),G&&G.m(s,null),append(o,N),append(o,y),append(y,B),append(y,V),E&&E.m(y,null),append(y,U),M&&M.m(y,null),insert(e,P,t),I&&I.m(e,t),insert(e,b,t),X&&X.m(e,t),insert(e,w,t),D&&D.m(e,t),insert(e,k,t),insert(e,x,t),T=!0,A||(j=listen(l,"click",stop_propagation(function(){is_function("manage-keywords"==rootScope.currentView?"":r[29](r[0]))&&("manage-keywords"==rootScope.currentView?"":r[29](r[0])).apply(this,arguments)})),A=!0)},p(e,t){(r=e)[2]?$&&($.d(1),$=null):$?$.p(r,t):(($=create_if_block_16$3(r)).c(),$.m(a,i)),r[2]?L?L.p(r,t):((L=create_if_block_15$3(r)).c(),L.m(a,n)):L&&(L.d(1),L=null),(!T||1&t[0])&&d!==(d=r[0].tour_title+"")&&set_data(p,d),(!T||1&t[0])&&m!==(m=r[0].tour_description+"")&&set_data(h,m),(!T||1&t[0]&&_!==(_="mgPlayerJSProd_tour-desc-"+r[0].tour_id))&&attr(u,"id",_),0<r[0].tour_title.length||0<r[0].tour_description.length?J?J.p(r,t):((J=create_if_block_14$3(r)).c(),J.m(l,null)):J&&(J.d(1),J=null),(!T||1&t[0]&&f!==(f="mgPlayerJSProd_tour-title-"+r[0].tour_id))&&attr(l,"id",f),R&&G.p(r,t),rootScope.FT.isPlayer&&E.p(r,t),r[0].media_files[0]&&rootScope.isMicroPlayer?M?(M.p(r,t),1&t[0]&&transition_in(M,1)):((M=create_if_block_5$a(r)).c(),transition_in(M,1),M.m(y,null)):M&&(group_outros(),transition_out(M,1,1,()=>{M=null}),check_outros()),(!T||1&t[0]&&S!==(S="mgPlayerJSProd_guide-row-action-wrapper_"+r[0].tour_id))&&attr(y,"id",S),(v=2097152&t[0]?0<r[21].length&&rootScope.isOwnerOrAppAdmin()&&rootScope.FT.creatorApp&&!rootScope.automationSelectionMode&&!rootScope.hideMirrorAppCtrl()&&!rootScope.isDesktopApp():v)?I?I.p(r,t):((I=create_if_block_4$a(r)).c(),I.m(b.parentNode,b)):I&&(I.d(1),I=null),(C=2097153&t[0]?0<r[21].length&&rootScope.isOwnerOrAppAdmin()&&rootScope.FT.creatorApp&&!rootScope.automationSelectionMode&&!rootScope.hideMirrorAppCtrl()&&r[0].pin:C)?X?X.p(r,t):((X=create_if_block_3$a(r)).c(),X.m(w.parentNode,w)):X&&(X.d(1),X=null),z&&D.p(r,t)},i(e){T||(transition_in(M),transition_in(D),T=!0)},o(e){transition_out(M),transition_out(D),T=!1},d(e){e&&(detach(o),detach(P),detach(b),detach(w),detach(k),detach(x)),$&&$.d(),L&&L.d(),J&&J.d(),G&&G.d(),E&&E.d(),M&&M.d(),I&&I.d(e),X&&X.d(e),D&&D.d(e),A=!1,j()}}}function create_if_block_16$3(r){let o,a,i,n,s,l,c,d,p,u,g,m=!r[4]&&!r[5]&&!r[6]&&create_if_block_29$1(r),h=(r[10]||r[11]||r[3]||r[4]||r[12])&&!r[5]&&create_if_block_22$2(r),_=(r[10]||r[11])&&r[5]&&create_if_block_21$2(),f=r[9]&&create_if_block_18$2(r),y=-1!==r[15]&&create_if_block_17$3();return{c(){o=element("div"),m&&m.c(),a=space(),i=element("div"),h&&h.c(),n=space(),_&&_.c(),s=space(),f&&f.c(),l=space(),y&&y.c(),attr(i,"id",c="mgPlayerJSProd_icon-tour-play-"+r[0].tour_id),attr(i,"class",d="ege-inline-block-vm tour-play-icon playTourBtn active "+(r[0].is_published?"published-tour-icon":"")),attr(o,"class",p="tour-play-action-wrapper ege-inline-block-vm mgPlayerJSProd_position-relative "+(r[0].is_published?"activePublishedTourPlay":""))},m(e,t){insert(e,o,t),m&&m.m(o,null),append(o,a),append(o,i),h&&h.m(i,null),append(i,n),_&&_.m(i,null),append(i,s),f&&f.m(i,null),append(i,l),y&&y.m(i,null),u||(g=listen(i,"click",r[32]),u=!0)},p(e,t){e[4]||e[5]||e[6]?m&&(m.d(1),m=null):m?m.p(e,t):((m=create_if_block_29$1(e)).c(),m.m(o,a)),(e[10]||e[11]||e[3]||e[4]||e[12])&&!e[5]?h?h.p(e,t):((h=create_if_block_22$2(e)).c(),h.m(i,n)):h&&(h.d(1),h=null),(e[10]||e[11])&&e[5]?_||((_=create_if_block_21$2()).c(),_.m(i,s)):_&&(_.d(1),_=null),e[9]?f?f.p(e,t):((f=create_if_block_18$2(e)).c(),f.m(i,l)):f&&(f.d(1),f=null),-1!==e[15]?y||((y=create_if_block_17$3()).c(),y.m(i,null)):y&&(y.d(1),y=null),1&t[0]&&c!==(c="mgPlayerJSProd_icon-tour-play-"+e[0].tour_id)&&attr(i,"id",c),1&t[0]&&d!==(d="ege-inline-block-vm tour-play-icon playTourBtn active "+(e[0].is_published?"published-tour-icon":""))&&attr(i,"class",d),1&t[0]&&p!==(p="tour-play-action-wrapper ege-inline-block-vm mgPlayerJSProd_position-relative "+(e[0].is_published?"activePublishedTourPlay":""))&&attr(o,"class",p)},d(e){e&&detach(o),m&&m.d(),h&&h.d(),_&&_.d(),f&&f.d(),y&&y.d(),u=!1,g()}}}function create_if_block_29$1(r){let o,a,i,n,s,l,c,d=(r[7]===rootScope.playGuideMe||"Default"===r[0].tour_settings.defaultPlayAction&&r[1]===rootScope.playGuideMe)&&!r[8]&&!r[9]&&create_if_block_33$1(),p=(r[7]===rootScope.playSlideshow||"Default"===r[0].tour_settings.defaultPlayAction&&r[1]===rootScope.playSlideshow||r[8]||r[9])&&create_if_block_32$1(),u=(r[7]===rootScope.playVLab||"Default"===r[0].tour_settings.defaultPlayAction&&r[1]===rootScope.playVLab)&&!r[8]&&!r[9]&&create_if_block_31$1(),g=(r[7]===rootScope.playAuto||"Default"===r[0].tour_settings.defaultPlayAction&&r[1]===rootScope.playAuto)&&!r[8]&&!r[9]&&create_if_block_30$1();return{c(){o=element("div"),d&&d.c(),a=space(),p&&p.c(),i=space(),u&&u.c(),n=space(),g&&g.c(),attr(o,"id",s="mgPlayerJSProd_title-tooltip-wrapper-"+r[0].tour_id),attr(o,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right")},m(e,t){insert(e,o,t),d&&d.m(o,null),append(o,a),p&&p.m(o,null),append(o,i),u&&u.m(o,null),append(o,n),g&&g.m(o,null),l||(c=listen(o,"click",r[31]),l=!0)},p(e,t){e[7]!==rootScope.playGuideMe&&("Default"!==e[0].tour_settings.defaultPlayAction||e[1]!==rootScope.playGuideMe)||e[8]||e[9]?d&&(d.d(1),d=null):d||((d=create_if_block_33$1()).c(),d.m(o,a)),e[7]===rootScope.playSlideshow||"Default"===e[0].tour_settings.defaultPlayAction&&e[1]===rootScope.playSlideshow||e[8]||e[9]?p||((p=create_if_block_32$1()).c(),p.m(o,i)):p&&(p.d(1),p=null),e[7]!==rootScope.playVLab&&("Default"!==e[0].tour_settings.defaultPlayAction||e[1]!==rootScope.playVLab)||e[8]||e[9]?u&&(u.d(1),u=null):u||((u=create_if_block_31$1()).c(),u.m(o,n)),e[7]!==rootScope.playAuto&&("Default"!==e[0].tour_settings.defaultPlayAction||e[1]!==rootScope.playAuto)||e[8]||e[9]?g&&(g.d(1),g=null):g||((g=create_if_block_30$1()).c(),g.m(o,null)),1&t[0]&&s!==(s="mgPlayerJSProd_title-tooltip-wrapper-"+e[0].tour_id)&&attr(o,"id",s)},d(e){e&&detach(o),d&&d.d(),p&&p.d(),u&&u.d(),g&&g.d(),l=!1,c()}}}function create_if_block_33$1(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.guideMe,attr(r,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_32$1(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.showMe,attr(r,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_31$1(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.vLab,attr(r,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_30$1(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.doItForMe,attr(r,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_22$2(e){let r,o=!e[4]&&!e[3]&&0<=e[0].image_url.indexOf("default_icon")&&!e[12],a,i=e[13]&&0<=e[0].image_url.indexOf("default_icon"),n,s=e[4]&&0<=e[0].image_url.indexOf("default_icon"),l,c=e[12]&&0<=e[0].image_url.indexOf("default_icon"),d,p,u=e[0].image_url&&-1===e[0].image_url.indexOf("default_icon"),g=o&&create_if_block_28$1(e),m=i&&create_if_block_27$1(e),h=s&&create_if_block_26$1(),_=c&&create_if_block_25$2(),f=e[3]&&create_if_block_24$2(),y=u&&create_if_block_23$2(e);return{c(){r=element("button"),g&&g.c(),a=space(),m&&m.c(),n=space(),h&&h.c(),l=space(),_&&_.c(),d=space(),f&&f.c(),p=space(),y&&y.c(),attr(r,"class","mgPlayerJSProd_guide-icon-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn")},m(e,t){insert(e,r,t),g&&g.m(r,null),append(r,a),m&&m.m(r,null),append(r,n),h&&h.m(r,null),append(r,l),_&&_.m(r,null),append(r,d),f&&f.m(r,null),append(r,p),y&&y.m(r,null)},p(e,t){(o=4121&t[0]?!e[4]&&!e[3]&&0<=e[0].image_url.indexOf("default_icon")&&!e[12]:o)?g?g.p(e,t):((g=create_if_block_28$1(e)).c(),g.m(r,a)):g&&(g.d(1),g=null),(i=8193&t[0]?e[13]&&0<=e[0].image_url.indexOf("default_icon"):i)?m?m.p(e,t):((m=create_if_block_27$1(e)).c(),m.m(r,n)):m&&(m.d(1),m=null),(s=17&t[0]?e[4]&&0<=e[0].image_url.indexOf("default_icon"):s)?h||((h=create_if_block_26$1()).c(),h.m(r,l)):h&&(h.d(1),h=null),(c=4097&t[0]?e[12]&&0<=e[0].image_url.indexOf("default_icon"):c)?_||((_=create_if_block_25$2()).c(),_.m(r,d)):_&&(_.d(1),_=null),e[3]?f||((f=create_if_block_24$2()).c(),f.m(r,p)):f&&(f.d(1),f=null),(u=1&t[0]?e[0].image_url&&-1===e[0].image_url.indexOf("default_icon"):u)?y?y.p(e,t):((y=create_if_block_23$2(e)).c(),y.m(r,null)):y&&(y.d(1),y=null)},d(e){e&&detach(r),g&&g.d(),m&&m.d(),h&&h.d(),_&&_.d(),f&&f.d(),y&&y.d()}}}function create_if_block_28$1(e){let r,o,a=e[30]()+"";return{c(){r=element("div"),attr(o=svg_element("svg"),"width","40"),attr(o,"height","40"),attr(o,"viewBox","0 0 40 40"),attr(o,"fill","none"),attr(r,"class","mgPlayerJSProd_inline-block-vm")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=a},p:noop,d(e){e&&detach(r)}}}function create_if_block_27$1(r){let o;return{c(){attr(o=element("div"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){insert(e,o,t),o.innerHTML=r[13]},p(e,t){8192&t[0]&&(o.innerHTML=e[13])},d(e){e&&detach(o)}}}function create_if_block_26$1(e){let r;return{c(){attr(r=element("div"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=HelpIcon},d(e){e&&detach(r)}}}function create_if_block_25$2(e){let r;return{c(){attr(r=element("div"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=InsightIcon},d(e){e&&detach(r)}}}function create_if_block_24$2(e){let r,o=rootScope.svgs.guide_bot_icon+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_23$2(e){let r,o,a;return{c(){r=element("div"),attr(o=element("img"),"class","mgPlayerJSProd_guide-upld-img mgPlayerJSProd_custom-image mgPlayerJSProd_width-height-100 mgPlayerJSProd_position-center mgPlayerJSProd_border-radius-50"),src_url_equal(o.src,a=e[0].image_url+e[22])||attr(o,"src",a),attr(o,"err-src",e[14]),attr(r,"class","mgPlayerJSProd_guide-upld-img-wrapper mgPlayerJSProd_guide-pub-img-border mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50")},m(e,t){insert(e,r,t),append(r,o)},p(e,t){4194305&t[0]&&!src_url_equal(o.src,a=e[0].image_url+e[22])&&attr(o,"src",a),16384&t[0]&&attr(o,"err-src",e[14])},d(e){e&&detach(r)}}}function create_if_block_21$2(e){let r;return{c(){attr(r=element("div"),"class","ege-inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=WBIcon},d(e){e&&detach(r)}}}function create_if_block_18$2(e){let r,o=0<=e[0].image_url.indexOf("default_icon"),a,i=e[0].image_url&&-1==e[0].image_url.indexOf("default_icon"),n=o&&create_if_block_20$2(),s=i&&create_if_block_19$2(e);return{c(){r=element("div"),n&&n.c(),a=space(),s&&s.c(),attr(r,"class","mgPlayerJSProd_guide-icon-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm")},m(e,t){insert(e,r,t),n&&n.m(r,null),append(r,a),s&&s.m(r,null)},p(e,t){(o=1&t[0]?0<=e[0].image_url.indexOf("default_icon"):o)?n||((n=create_if_block_20$2()).c(),n.m(r,a)):n&&(n.d(1),n=null),(i=1&t[0]?e[0].image_url&&-1==e[0].image_url.indexOf("default_icon"):i)?s?s.p(e,t):((s=create_if_block_19$2(e)).c(),s.m(r,null)):s&&(s.d(1),s=null)},d(e){e&&detach(r),n&&n.d(),s&&s.d()}}}function create_if_block_20$2(e){let r,o=rootScope.svgs.guide_onboarding+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_19$2(e){let r,o,a;return{c(){r=element("div"),attr(o=element("img"),"class","mgPlayerJSProd_guide-upld-img mgPlayerJSProd_custom-image mgPlayerJSProd_width-height-100 mgPlayerJSProd_position-center mgPlayerJSProd_border-radius-50"),src_url_equal(o.src,a=e[0].image_url+e[22])||attr(o,"src",a),attr(o,"err-src",e[14]),attr(r,"class","mgPlayerJSProd_guide-upld-img-wrapper mgPlayerJSProd_guide-pub-img-border mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50")},m(e,t){insert(e,r,t),append(r,o)},p(e,t){4194305&t[0]&&!src_url_equal(o.src,a=e[0].image_url+e[22])&&attr(o,"src",a),16384&t[0]&&attr(o,"err-src",e[14])},d(e){e&&detach(r)}}}function create_if_block_17$3(e){let r,o=rootScope.svgs.guide_beacon+"";return{c(){attr(r=element("div"),"class","guide-beacon")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_15$3(e){let r,o,a;return{c(){r=element("div"),attr(o=element("div"),"class",a="mgPlayerJSProd_inline-block-vt tour-play-icon active "+(e[0].is_published?"published-tour":"")),attr(r,"class","mgPlayerJSProd_guide-icon-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=TooltipIcon},p(e,t){1&t[0]&&a!==(a="mgPlayerJSProd_inline-block-vt tour-play-icon active "+(e[0].is_published?"published-tour":""))&&attr(o,"class",a)},d(e){e&&detach(r)}}}function create_if_block_14$3(e){let r,o,a=e[0].tour_title+"",i,n,s,l=e[0].tour_description+"",c;return{c(){r=element("div"),o=element("div"),i=text(a),n=space(),s=element("div"),c=text(l),attr(o,"class","mgPlayerJSProd_tooltip-title"),attr(s,"class","mgPlayerJSProd_tooltip-title"),attr(r,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y")},m(e,t){insert(e,r,t),append(r,o),append(o,i),append(r,n),append(r,s),append(s,c)},p(e,t){1&t[0]&&a!==(a=e[0].tour_title+"")&&set_data(i,a),1&t[0]&&l!==(l=e[0].tour_description+"")&&set_data(c,l)},d(e){e&&detach(r)}}}function create_if_block_13$4(e){let r,o,a,i,n=e[0].category_title+"",s;return{c(){r=element("div"),(o=element("button")).innerHTML="",a=space(),i=element("div"),s=text(n),attr(o,"class","mgPlayerJSProd_guide-category-title-icon mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn"),attr(i,"class","mgPlayerJSProd_guide-category-title mgPlayerJSProd_inline-block-vm"),attr(r,"class","mgPlayerJSProd_guide-description-wrapper")},m(e,t){insert(e,r,t),append(r,o),append(r,a),append(r,i),append(i,s)},p(e,t){1&t[0]&&n!==(n=e[0].category_title+"")&&set_data(s,n)},d(e){e&&detach(r)}}}function create_if_block_6$a(e){let r,o=e[25]()||e[26](),a,i,n,s,l,c=o&&create_if_block_12$5(e),d=e[16]&&create_if_block_11$7(e),p=e[17]&&create_if_block_10$7(e),u=e[18]&&create_if_block_9$7(e),g=e[19]&&create_if_block_8$8(e),m=e[20]&&create_if_block_7$9(e);return{c(){r=element("div"),c&&c.c(),a=space(),d&&d.c(),i=space(),p&&p.c(),n=space(),u&&u.c(),s=space(),g&&g.c(),l=space(),m&&m.c(),attr(r,"class","mgPlayerJSProd_guide-play-action-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end mgPlayerJSProd_float-right mgPlayerJSProd_border-radius mgPlayerJSProd_border-radius-4px mgPlayerJSProd_border-rounded "+(rootScope.isMicroPlayer?"mgPlayerJSProd_no-margin mgPlayerJSProd_border-rounded-left":""))},m(e,t){insert(e,r,t),c&&c.m(r,null),append(r,a),d&&d.m(r,null),append(r,i),p&&p.m(r,null),append(r,n),u&&u.m(r,null),append(r,s),g&&g.m(r,null),append(r,l),m&&m.m(r,null)},p(e,t){o&&c.p(e,t),e[16]?d?d.p(e,t):((d=create_if_block_11$7(e)).c(),d.m(r,i)):d&&(d.d(1),d=null),e[17]?p?p.p(e,t):((p=create_if_block_10$7(e)).c(),p.m(r,n)):p&&(p.d(1),p=null),e[18]?u?u.p(e,t):((u=create_if_block_9$7(e)).c(),u.m(r,s)):u&&(u.d(1),u=null),e[19]?g?g.p(e,t):((g=create_if_block_8$8(e)).c(),g.m(r,l)):g&&(g.d(1),g=null),e[20]?m?m.p(e,t):((m=create_if_block_7$9(e)).c(),m.m(r,null)):m&&(m.d(1),m=null)},d(e){e&&detach(r),c&&c.d(),d&&d.d(),p&&p.d(),u&&u.d(),g&&g.d(),m&&m.d()}}}function create_if_block_12$5(r){let o,a,i=(r[25]()?rootScope.svgs.replay_guide:rootScope.svgs.resume_guide)+"",n,s,l,c=(r[25]()?rootScope.labels.replay:rootScope.labels.yesResume)+"",d,p;return{c(){o=element("button"),a=element("div"),n=space(),s=element("div"),l=element("div"),attr(a,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center "+(r[25]()?"mgPlayerJSProd_action-icon-replay":"mgPlayerJSProd_action-icon-resume")),attr(l,"class","mgPlayerJSProd_tooltip-title"),attr(s,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),attr(o,"id","mgPlayerJSProd_guide-replay-resume-wrapper"),attr(o,"class","mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,l),l.innerHTML=c,d||(p=listen(o,"click",function(){is_function(r[25]?rootScope.play(r[0],!1):rootScope.play(r[0],!0))&&(r[25]?rootScope.play(r[0],!1):rootScope.play(r[0],!0)).apply(this,arguments)}),d=!0)},p(e,t){r=e},d(e){e&&detach(o),d=!1,p()}}}function create_if_block_11$7(r){let o,a,i,n,s,l,c;return{c(){o=element("button"),a=element("div"),i=space(),n=element("div"),(s=element("div")).textContent=""+rootScope.labels.guideMe,attr(a,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center"),attr(s,"class","mgPlayerJSProd_tooltip-title"),attr(n,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),attr(o,"id","mgPlayerJSProd_icon-guide-action-guideme"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=GuidePlayIcon$1,append(o,i),append(o,n),append(n,s),l||(c=listen(o,"click",function(){is_function(rootScope.guideAction(rootScope.playGuideMe,null,r[0],rootScope.currentView))&&rootScope.guideAction(rootScope.playGuideMe,null,r[0],rootScope.currentView).apply(this,arguments)}),l=!0)},p(e,t){r=e},d(e){e&&detach(o),l=!1,c()}}}function create_if_block_10$7(r){let o,a,i=rootScope.svgs.play_showme+"",n,s,l,c,d;return{c(){o=element("button"),a=element("div"),n=space(),s=element("div"),(l=element("div")).textContent=""+rootScope.labels.showMe,attr(a,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center"),attr(l,"class","mgPlayerJSProd_tooltip-title"),attr(s,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),attr(o,"id","mgPlayerJSProd_icon-guide-action-showme"),attr(o,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,l),c||(d=listen(o,"click",function(){is_function(rootScope.guideAction(rootScope.playSlideshow,null,r[0],rootScope.currentView))&&rootScope.guideAction(rootScope.playSlideshow,null,r[0],rootScope.currentView).apply(this,arguments)}),c=!0)},p(e,t){r=e},d(e){e&&detach(o),c=!1,d()}}}function create_if_block_9$7(r){let o,a,i=rootScope.svgs.play_testme+"",n,s,l,c,d;return{c(){o=element("button"),a=element("div"),n=space(),s=element("div"),(l=element("div")).textContent=""+rootScope.labels.testMe,attr(a,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center"),attr(l,"class","mgPlayerJSProd_tooltip-title"),attr(s,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),attr(o,"id","mgPlayerJSProd_icon-guide-action-testMe"),attr(o,"class","mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,l),c||(d=listen(o,"click",function(){is_function(r[28](r[0]))&&r[28](r[0]).apply(this,arguments)}),c=!0)},p(e,t){r=e},d(e){e&&detach(o),c=!1,d()}}}function create_if_block_8$8(r){let o,a,i=rootScope.svgs.play_teachme+"",n,s,l,c,d;return{c(){o=element("button"),a=element("div"),n=space(),s=element("div"),(l=element("div")).textContent=""+rootScope.labels.vLab,attr(a,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center"),attr(l,"class","mgPlayerJSProd_tooltip-title"),attr(s,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),attr(o,"id","mgPlayerJSProd_icon-guide-action-vlab"),attr(o,"class","mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,l),c||(d=listen(o,"click",function(){is_function(rootScope.guideAction(rootScope.playVLab,null,r[0],rootScope.currentView))&&rootScope.guideAction(rootScope.playVLab,null,r[0],rootScope.currentView).apply(this,arguments)}),c=!0)},p(e,t){r=e},d(e){e&&detach(o),c=!1,d()}}}function create_if_block_7$9(r){let o,a,i,n,s,l,c;return{c(){o=element("button"),a=element("div"),i=space(),n=element("div"),(s=element("div")).textContent=""+rootScope.labels.doItForMe,attr(a,"class","mgPlayerJSProd_action-icon mgPlayerJSProd_position-center"),attr(s,"class","mgPlayerJSProd_tooltip-title"),attr(n,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left mgPlayerJSProd_margin-tb-15"),attr(o,"id","mgPlayerJSProd_icon-guide-action-doitforme"),attr(o,"class","mgPlayerJSProd_guide-action-icon-wrapper mgPlayerJSProd_float-left mgPlayerJSProd_position-relative mgPlayerJSProd_border-radius-50 mgPlayerJSProd_cursor mgPlayerJSProd_cursor-pointer mgPlayerJSProd_lbl-btn")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=DoItForMeIcon,append(o,i),append(o,n),append(n,s),l||(c=listen(o,"click",function(){is_function(rootScope.guideAction(rootScope.playAuto,null,r[0],rootScope.currentView))&&rootScope.guideAction(rootScope.playAuto,null,r[0],rootScope.currentView).apply(this,arguments)}),l=!0)},p(e,t){r=e},d(e){e&&detach(o),l=!1,c()}}}function create_if_block_5$a(e){let r,o,a;return o=new DownloadMedia({props:{tour:e[0]}}),{c(){r=element("div"),create_component(o.$$.fragment),attr(r,"class","mgPlayerJSProd_guide-row-download-wrapper mgPlayerJSProd_float-right mgPlayerJSProd_border-radius mgPlayerJSProd_border-radius-4px mgPlayerJSProd_border-rounded mgPlayerJSProd_border-rounded-right")},m(e,t){insert(e,r,t),mount_component(o,r,null),a=!0},p(e,t){var r={};1&t[0]&&(r.tour=e[0]),o.$set(r)},i(e){a||(transition_in(o.$$.fragment,e),a=!0)},o(e){transition_out(o.$$.fragment,e),a=!1},d(e){e&&detach(r),destroy_component(o)}}}function create_if_block_4$a(r){let o,a,i=rootScope.svgs.pin+"",n,s,l,c,d;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),(l=element("div")).textContent=""+rootScope.labels.btnPin,attr(l,"class","mgPlayerJSProd_info-hover-text"),attr(s,"class","mgPlayerJSProd_info-hover"),attr(o,"class","mgPlayerJSProd_pin-guide-icon-wrapper mgPlayerJSProd_icon-unpin-guide mgPlayerJSProd_border-radius-50")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,l),c||(d=listen(o,"click",r[33]),c=!0)},p:noop,d(e){e&&detach(o),c=!1,d()}}}function create_if_block_3$a(r){let o,a,i=rootScope.svgs.pin_filled+"",n,s,l,c,d;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),(l=element("div")).textContent=""+rootScope.labels.btnUnpin,attr(l,"class","mgPlayerJSProd_info-hover-text"),attr(s,"class","mgPlayerJSProd_info-hover"),attr(o,"class","mgPlayerJSProd_pin-guide-icon-wrapper mgPlayerJSProd_icon-pin-guide mgPlayerJSProd_border-radius-50")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,l),c||(d=listen(o,"click",r[34]),c=!0)},p:noop,d(e){e&&detach(o),c=!1,d()}}}function create_if_block_1$e(e){let r,o=rootScope.FT.creatorApp&&!rootScope.automationSelectionMode&&(rootScope.hasTourAccess(e[0])||!e[0].is_published||rootScope.isOwnerOrAppAdmin())&&!rootScope.isUserRole(),a,i=o&&create_if_block_2$d(e);return{c(){r=element("div"),i&&i.c(),attr(r,"class","mgPlayerJSProd_guide-user-action-wrapper")},m(e,t){insert(e,r,t),i&&i.m(r,null),a=!0},p(e,t){(o=1&t[0]?rootScope.FT.creatorApp&&!rootScope.automationSelectionMode&&(rootScope.hasTourAccess(e[0])||!e[0].is_published||rootScope.isOwnerOrAppAdmin())&&!rootScope.isUserRole():o)?i?(i.p(e,t),1&t[0]&&transition_in(i,1)):((i=create_if_block_2$d(e)).c(),transition_in(i,1),i.m(r,null)):i&&(group_outros(),transition_out(i,1,1,()=>{i=null}),check_outros())},i(e){a||(transition_in(i),a=!0)},o(e){transition_out(i),a=!1},d(e){e&&detach(r),i&&i.d()}}}function create_if_block_2$d(e){let o,a,i,n,s;return i=new Empty({props:{tour:e[0]}}),{c(){o=element("div"),a=element("div"),create_component(i.$$.fragment),attr(a,"class","mgPlayerJSProd_add-step-wrapper tour-action-dropdown-wrapper"),toggle_class(a,"published-tour",e[0].is_published),attr(o,"id",n=`tour-pencil-icon-${e[0].tour_id} `+(e[0].is_published?"":"tour-pencil-icon-unpublish")),attr(o,"class","ege-inline-block-div tour-pencil-icon")},m(e,t){insert(e,o,t),append(o,a),mount_component(i,a,null),s=!0},p(e,t){var r={};1&t[0]&&(r.tour=e[0]),i.$set(r),(!s||1&t[0])&&toggle_class(a,"published-tour",e[0].is_published),(!s||1&t[0]&&n!==(n=`tour-pencil-icon-${e[0].tour_id} `+(e[0].is_published?"":"tour-pencil-icon-unpublish")))&&attr(o,"id",n)},i(e){s||(transition_in(i.$$.fragment,e),s=!0)},o(e){transition_out(i.$$.fragment,e),s=!1},d(e){e&&detach(o),destroy_component(i)}}}function create_fragment$i(e){let r,o,a=e[23]&&create_if_block$f(e);return{c(){a&&a.c(),r=empty()},m(e,t){a&&a.m(e,t),insert(e,r,t),o=!0},p(e,t){e[23]?a?(a.p(e,t),8388608&t[0]&&transition_in(a,1)):((a=create_if_block$f(e)).c(),transition_in(a,1),a.m(r.parentNode,r)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(e){o||(transition_in(a),o=!0)},o(e){transition_out(a),o=!1},d(e){e&&detach(r),a&&a.d(e)}}}function getCircle(e,t,r,o,a){t=parseInt(t),r=parseInt(r),o=parseInt(o);var i,n,s,l,c=3,d=19*Math.PI*2,p=(d-(c=d-10*t<1?d/t/1.2:c)*t)/t;return`<circle class="${e}" cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4" stroke-dashoffset="${d/4-c/2+o*(c+p)}" stroke-dasharray="${1!==t?(i=r,n=p,s=d,l=c,new Array(i).fill(void 0).map(function(e,t){return"".concat(n," ").concat(t===i-1?s-i*(l+n)+l:l)}).join(" ")):void 0}"></circle>`}function instance$h(e,t,r){let o=t.tour,a=rootScope.isTooltip(o),i=rootScope.isBotGuide(o),n=rootScope.isHelpArticle(o),s=GmCXt.isWBC(),l=GmCXt.getAppSetting("defaultPlayAction"),c=GmCXt.isFalse(l),d=rootScope.getDefaultPlayAction(o),p=rootScope.isDesktopApp(),u=rootScope.isOnboarding(o),g=GmCXt.isGuide(o),m=rootScope.isCADGuide(o),h=rootScope.isTrackingGuide(o),_=rootScope.isMobileGuide(o),f=GmCXt.getDefaultGuideIcon(),y=o.tour_type.indexOf("beacon_tour"),S=rootScope.showPlayOption(rootScope.playGuideMe,o),P=rootScope.showPlayOption(rootScope.playSlideshow,o),v=rootScope.showPlayOption(rootScope.playTestMe,o)&&!GmCXt.branchStepExist(o),b=rootScope.showPlayOption(rootScope.playVLab,o)&&!rootScope.isOnboarding(o)&&!GmCXt.branchStepExist(o),C=rootScope.showPlayOption(rootScope.playAuto,o)&&!rootScope.isOnboarding(o),w=createEventDispatcher(),k,x=[],T=GmCXt.getCdnSign(),A,$=(Gm.isSidePanelOpen.subscribe(e=>{r(23,A=e)}),Gm.breadCrumb.subscribe(e=>{r(21,x=e)}));function L(e,t,r){"pin"===t?rootScope.pinTourToTop(e,t,(e,t)=>{w("updatePinnedTours",{tour:e,action:t})}):rootScope.pinTourToTop(e,t,(e,t)=>{w("updatePinnedTours",{tour:e,action:t})})}function J(e){var t=GmCXt.tourActivity["t:"+e.tour_id],r=e.tour_settings.play_structure||GmCXt.getGuidePlayStructure(e),t=GmCXt.getTail(t,r,null,e);return rootScope.getStepFromTour(t,e)}onDestroy(()=>()=>{$()});function G(e){return rootScope.isOnlySurveyGuide(o)||rootScope.isBotGuide(o)||c?"":void rootScope.play(o,!1)}let E=()=>{console.error("Error Occured in Tour api call")};let M=e=>{Gm.loading.set(!1),Gm.currentTour.set(e),rootScope.setCurrentPage("stepview")};return e.$$set=e=>{"tour"in e&&r(0,o=e.tour)},e.$$.update=()=>{3&e.$$.dirty[0]&&(r(2,a=rootScope.isTooltip(o)),r(3,i=rootScope.isBotGuide(o)),r(4,n=rootScope.isHelpArticle(o)),r(5,s=GmCXt.isWBC()),r(1,l=GmCXt.getAppSetting("defaultPlayAction")),r(6,c=GmCXt.isFalse(l)),r(7,d=rootScope.getDefaultPlayAction(o)),r(8,p=rootScope.isDesktopApp()),r(9,u=rootScope.isOnboarding(o)),r(10,g=GmCXt.isGuide(o)),r(11,m=rootScope.isCADGuide(o)),r(12,h=rootScope.isTrackingGuide(o)),r(13,_=rootScope.isMobileGuide(o)),r(14,f=GmCXt.getDefaultGuideIcon()),r(15,y=o.tour_type.indexOf("beacon_tour")),r(22,T=GmCXt.getCdnSign()),r(16,S=rootScope.showPlayOption(rootScope.playGuideMe,o)),r(17,P=rootScope.showPlayOption(rootScope.playSlideshow,o)),r(18,v=rootScope.showPlayOption(rootScope.playTestMe,o)&&!GmCXt.branchStepExist(o)),r(19,b=rootScope.showPlayOption(rootScope.playVLab,o)&&!rootScope.isOnboarding(o)&&!GmCXt.branchStepExist(o)),r(20,C=rootScope.showPlayOption(rootScope.playAuto,o)&&!rootScope.isOnboarding(o)))},[o,l,a,i,n,s,c,d,p,u,g,m,h,_,f,y,S,P,v,b,C,x,T,A,L,()=>{if(rootScope.isPlayedTour(o.tour_id)&&!1===J(o))return!0},()=>{if(!1!==J(o)&&rootScope.getDefaultPlayAction(o)===rootScope.playGuideMe)return!0},G,e=>{e.steps.filter(function(e){return"inline"===e.step_type}).length?new TestMeWidget({target:document.body,props:{showTestMe:!0,tour:e}}):rootScope.showPopup(rootScope.labels.noInappStepInGuide)},async e=>{var e=JSON.parse(JSON.stringify(e));"bot"===e.tour_type||rootScope.automationSelectionMode||("help_article"===e.tour_type?window.open(e.tour_settings.articleUrl,"_blank"):rootScope.isMicroPlayer||rootScope.isWBMicroPlayer?rootScope.play(e):(rootScope.trackSearchActivity(!0),rootScope.clearSearchInput(),rootScope.getBreadcrumsCategories(e),Gm.loading.set(!0),e={tour_id:e.tour_id,category_id:e.category_id},await api.getTour(e,M,E,!0)))},function(){var e,t="";if(GmCXt.FT.isPlayer){if(GmCXt.branchStepExist(o)?t+='<circle cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>':(e=parseInt(o.step_count),k=rootScope.playedSteps?rootScope.getPlayedStepCount(o):0,e&&!k&&(t=getCircle("mgPlayerJSProd_dashes-green",e,e,e),1===e)&&(t='<circle class="mgPlayerJSProd_dashes-green" cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>'),e&&k&&(k===e&&(t=getCircle("mgPlayerJSProd_dashes-gray",k,k,k),1===k)&&(t='<circle class="mgPlayerJSProd_dashes-gray" cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>'),k!==e)&&(t=(t+=getCircle("mgPlayerJSProd_dashes-green",e,e-k,e-k))+getCircle("mgPlayerJSProd_dashes-gray",e,k,e))),d===rootScope.playSlideshow||"Default"===o.tour_settings.defaultPlayAction&&l===rootScope.playSlideshow||p)return t+'<path d="M25.1375 15.9427H23.1482C22.5161 15.359 21.3251 15 19.9999 15C18.6747 15 17.4837 15.359 16.8516 15.9427H14.8623C12.1812 15.9427 10 18.1985 10 20.9713C10 23.7441 12.1812 26 14.8623 26C17.5434 26 19.7246 23.7441 19.7246 20.9713C19.7246 20.9346 19.7242 20.8979 19.7235 20.8611H20.2764C20.2756 20.8979 20.2753 20.9346 20.2753 20.9713C20.2753 23.7441 22.4566 26 25.1377 26C27.8188 26 30 23.7441 30 20.9713C29.9999 18.1985 27.8186 15.9427 25.1375 15.9427ZM14.8623 23.9552C13.2715 23.9552 11.9772 22.6166 11.9772 20.9713C11.9772 19.3261 13.2715 17.9875 14.8623 17.9875C16.4532 17.9875 17.7475 19.3261 17.7475 20.9713C17.7475 22.6166 16.4532 23.9552 14.8623 23.9552ZM21.3065 17.89H18.6926C18.3824 17.89 18.1303 17.6286 18.1303 17.3077C18.1303 16.9869 18.3824 16.7254 18.6926 16.7254H21.3065C21.6173 16.7254 21.8695 16.9869 21.8695 17.3077C21.8695 17.6285 21.6173 17.89 21.3065 17.89ZM25.1375 23.9552C23.5466 23.9552 22.2523 22.6166 22.2523 20.9713C22.2523 19.3261 23.5466 17.9875 25.1375 17.9875C26.7282 17.9875 28.0226 19.3261 28.0226 20.9713C28.0226 22.6166 26.7283 23.9552 25.1375 23.9552Z" fill="#ACADC1" stroke-width="0" />';if(d===rootScope.playAuto||"Default"===o.tour_settings.defaultPlayAction&&l===rootScope.playAuto&&!p)return t+'<path d="M15.8441 24.4972C14.4834 24.4972 13.3803 25.652 13.3803 27.0765V29H14.6452V27.6678C14.6452 26.5993 15.4726 25.7332 16.4931 25.7332H23.5081C24.5287 25.7332 25.356 26.5993 25.356 27.6678V29H26.6211V27.0765C26.6211 25.652 25.518 24.4972 24.1573 24.4972H15.8441Z" fill="#ACADC1" stroke-width="0" /><path d="M12 18.8136C12 18.1065 12.5475 17.5333 13.2229 17.5333H13.6867V20.0938H13.2229C12.5475 20.0938 12 19.5206 12 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M28 18.8136C28 18.1065 27.4525 17.5333 26.7771 17.5333H26.3133V20.0938H26.7771C27.4525 20.0938 28 19.5206 28 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.7887 18.8136C19.7887 19.5206 19.2412 20.0938 18.5659 20.0938C17.8905 20.0938 17.343 19.5206 17.343 18.8136C17.343 18.1065 17.8905 17.5333 18.5659 17.5333C19.2412 17.5333 19.7887 18.1065 19.7887 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M22.7414 18.8136C22.7414 19.5206 22.1939 20.0938 21.5186 20.0938C20.8432 20.0938 20.2957 19.5206 20.2957 18.8136C20.2957 18.1065 20.8432 17.5333 21.5186 17.5333C22.1939 17.5333 22.7414 18.1065 22.7414 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.494 13.1606C19.494 13.0894 19.5492 13.0317 19.6172 13.0317H20.7202C20.7882 13.0317 20.8434 13.0894 20.8434 13.1606V15.6804H19.494V13.1606Z" fill="#ACADC1" stroke-width="0" /><path d="M18.4948 14.6198H17.279C15.9182 14.6198 14.8151 15.7746 14.8151 17.1992V20.5163C14.8151 21.9409 15.9182 23.0957 17.279 23.0957H22.7247C24.0855 23.0957 25.1886 21.9409 25.1886 20.5163V17.1992C25.1886 15.7746 24.0855 14.6198 22.7247 14.6198H21.8448V15.592H22.2026C23.2232 15.592 24.0505 16.4581 24.0505 17.5265V20.191C24.0505 21.2594 23.2232 22.1255 22.2026 22.1255H17.802C16.7815 22.1255 15.9541 21.2594 15.9541 20.191V17.5265C15.9541 16.4581 16.7815 15.592 17.802 15.592H18.4948V14.6198Z" fill="#ACADC1" stroke-width="0" /><path d="M20.8434 11.7063C20.8434 12.0964 20.5413 12.4127 20.1687 12.4127C19.7961 12.4127 19.494 12.0964 19.494 11.7063C19.494 11.3162 19.7961 11 20.1687 11C20.5413 11 20.8434 11.3162 20.8434 11.7063Z" fill="#ACADC1" stroke-width="0" />';if(!GmCXt.branchStepExist(o)&&d===rootScope.playVLab||"Default"===o.tour_settings.defaultPlayAction&&l===rootScope.playVLab&&!p)return t+'<path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" fill="#ACADC1" stroke-width="0.2" /><path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" fill="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" fill="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" stroke="#ACADC1" stroke-width="0.2" />'}else t+='<circle cx="20" cy="20" r="19" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></circle>';return t+='<path d="M12 27.555C12 27.555 20.838 24.372 22.606 22.606C24.374 20.838 27.555 12 27.555 12C27.555 12 18.717 15.183 16.95 16.95C15.183 18.717 12 27.555 12 27.555ZM18.364 18.364L21.192 21.192C21.899 21.899 14.829 24.727 14.829 24.727C14.829 24.727 17.657 17.657 18.364 18.364Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0" />'},()=>G(),()=>G(rootScope.FT.isPlayer),e=>L(o,"pin"),e=>L(o,"unpin")]}class TourView extends SvelteComponent{constructor(e){super(),init(this,e,instance$h,create_fragment$i,safe_not_equal,{tour:0},null,[-1,-1])}}function get_each_context$7(e,t,r){e=e.slice();return e[36]=t[r],e}function create_else_block$7(t){let a,o,i=ensure_array_like(t[0].sortDataByActiveFilter(t[1],"tour_title",t[3])),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block$7(get_each_context$7(t,i,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();a=empty()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);insert(t,a,r),o=!0},p(t,r){if(11&r[0]){i=ensure_array_like(t[0].sortDataByActiveFilter(t[1],"tour_title",t[3]));let e;for(e=0;e<i.length;e+=1){var o=get_each_context$7(t,i,e);n[e]?(n[e].p(o,r),transition_in(n[e],1)):(n[e]=create_each_block$7(o),n[e].c(),transition_in(n[e],1),n[e].m(a.parentNode,a))}for(group_outros(),e=i.length;e<n.length;e+=1)(e=>transition_out(n[e],1,1,()=>{n[e]=null}))(e);check_outros()}},i(e){if(!o){for(let e=0;e<i.length;e+=1)transition_in(n[e]);o=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)transition_out(n[e]);o=!1},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block$e(e){let r,o,a,i=e[0].svgs.no_guides_image+"",n,s,l=!e[0].search&&create_if_block_2$c(e),c=e[0].search&&create_if_block_1$d(e);return{c(){r=element("div"),o=element("div"),a=element("div"),n=space(),l&&l.c(),s=space(),c&&c.c(),attr(a,"class","mgPlayerJSProd_no-guide-image-cartoon"),attr(o,"class","mgPlayerJSProd_no-guide-image-wrapper mgPlayerJSProd_no-margin"),attr(r,"class","no-tour-message-wrapper mgPlayerJSProd_position-center"),toggle_class(r,"mgPlayerJSProd_margin-t-50",!GmCXt.getAppSetting("isMiniPlayer"))},m(e,t){insert(e,r,t),append(r,o),append(o,a),a.innerHTML=i,append(r,n),l&&l.m(r,null),append(r,s),c&&c.m(r,null)},p(e,t){1&t[0]&&i!==(i=e[0].svgs.no_guides_image+"")&&(a.innerHTML=i),e[0].search?l&&(l.d(1),l=null):l?l.p(e,t):((l=create_if_block_2$c(e)).c(),l.m(r,s)),e[0].search?c?c.p(e,t):((c=create_if_block_1$d(e)).c(),c.m(r,null)):c&&(c.d(1),c=null)},i:noop,o:noop,d(e){e&&detach(r),l&&l.d(),c&&c.d()}}}function create_each_block$7(e){let o,a,r,i,n;return a=new TourView({props:{tour:e[36]}}),{c(){o=element("div"),create_component(a.$$.fragment),r=space(),attr(o,"class",i="tour-item mgPlayerJSProd_guide-list-view "+(e[0].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":""))},m(e,t){insert(e,o,t),mount_component(a,o,null),append(o,r),n=!0},p(e,t){var r={};11&t[0]&&(r.tour=e[36]),a.$set(r),(!n||1&t[0]&&i!==(i="tour-item mgPlayerJSProd_guide-list-view "+(e[0].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")))&&attr(o,"class",i)},i(e){n||(transition_in(a.$$.fragment,e),n=!0)},o(e){transition_out(a.$$.fragment,e),n=!1},d(e){e&&detach(o),destroy_component(a)}}}function create_if_block_2$c(e){let r,o,a=e[0].labels.noGuidesOnThisPage+"",i;return{c(){r=element("div"),o=element("div"),i=text(a),attr(o,"class","mgPlayerJSProd_no-guide-msg"),attr(o,"tabindex","0"),attr(r,"class","mgPlayerJSProd_no-guide-text-wrapper")},m(e,t){insert(e,r,t),append(r,o),append(o,i)},p(e,t){1&t[0]&&a!==(a=e[0].labels.noGuidesOnThisPage+"")&&set_data(i,a)},d(e){e&&detach(r)}}}function create_if_block_1$d(e){let r,o,a=e[0].labels.noGuideAvailableFor+"",i,n,s,l=e[0].labels.tryModifyingYourSearch+"",c;return{c(){r=element("div"),o=element("div"),i=text(a),n=space(),s=element("div"),c=text(l),attr(o,"class","mgPlayerJSProd_no-guide-msg"),attr(o,"tabindex","0"),attr(s,"class","mgPlayerJSProd_instruction-add-category"),attr(s,"tabindex","0"),attr(r,"class","mgPlayerJSProd_no-guide-text-wrapper mgPlayerJSProd_no-guide-text-search-wrapper")},m(e,t){insert(e,r,t),append(r,o),append(o,i),append(r,n),append(r,s),append(s,c)},p(e,t){1&t[0]&&a!==(a=e[0].labels.noGuideAvailableFor+"")&&set_data(i,a),1&t[0]&&l!==(l=e[0].labels.tryModifyingYourSearch+"")&&set_data(c,l)},d(e){e&&detach(r)}}}function create_fragment$h(e){let o,a,i,r,n=[create_if_block$e,create_else_block$7],s=[];function l(e){return e[2]&&e[1].length<1&&e[4]?0:1}return a=l(e),i=s[a]=n[a](e),{c(){o=element("div"),i.c(),attr(o,"class","category-list")},m(e,t){insert(e,o,t),s[a].m(o,null),r=!0},p(e,t){let r=a;(a=l(e))===r?s[a].p(e,t):(group_outros(),transition_out(s[r],1,1,()=>{s[r]=null}),check_outros(),(i=s[a])?i.p(e,t):(i=s[a]=n[a](e)).c(),transition_in(i,1),i.m(o,null))},i(e){r||(transition_in(i),r=!0)},o(e){transition_out(i),r=!1},d(e){e&&detach(o),s[a].d()}}}let limit$2=50;function instance$g(e,t,r){let o=[],a,i=[],n=[],s,l="",c,d=!1,p=!1,u=!1,g=writable(!1),m,h=Gm.CurrentPageTours.subscribe(e=>{r(1,i=e)});function _(){var e=mg$$1("#ege-header").innerHeight()||0,t=mg$$1("#footer").innerHeight()||0,r=mg$$1(".list-page-header").innerHeight()||0,t=window.innerHeight-t-e-r+5;mg$$1(".category-list").css({height:t})}function f(e){if(e=GmCXt.removeDuplicateGuides(e),g.set(!0),e.length?(Gm.showNoTour.set(!1),e=rootScope.getTranslatedTours(e),r(1,i=e),_(),Gm.CurrentPageTours.set(i),u||(rootScope.showCurrentPageGuidesIndicator(!0),u=!0),rootScope.getBotGuideCount(i),rootScope.displayChatIcon()):p||(Gm.showNoTour.set(!0),v()),rootScope.search&&0<rootScope.search.length){let t=[];i.filter(function(e){(checkValueExist(e.tour_title)||e.tour_id===rootScope.search||checkValueExist(e.keywords)||checkValueExist(e.tour_description))&&t.push(e)}),Gm.CurrentPageTours.set(i),t.length&&scope.setHeight()}}function y(e){GmCXt.isEmpty(e)||(i.push(e),Gm.CurrentPageTours.set(i),rootScope.cTours.push(e.tour_id)),f(i)}function S(e){var t=e.tour;a!==t.timestamp?GmCXt.log(30,"REJECT, having old timestamp"):(e.valid&&n.push(t),rootScope.guideSegmentation&&GmCXt.isPlayer()?e.valid?GmCXt.checkGuidesBasedOnSegment([t],y,"currPageSeg"):y():setTimeout(function(){f(n)},0))}function P(){try{var t=o.length;e=GmCXt.t.currentPageSpinner+1e3,setTimeout(()=>{0===i.length&&GmCXt.log(30,"NO GUIDE rules matched")},e);for(let e=0;e<t;e++){var r=o[c];c++,o.length>=c&&rootScope.queueRuleForCP(r,c,S,l,"currentPage")}}catch(e){802===e.code?console.error("Error with code 802 occurred:",e):console.error("An unexpected error occurred:",e)}var e}function v(){GmCXt.log(30,"NO GUIDES on this page"),rootScope.hideCurrentPageGuidesIndicator(),r(1,i=[]),Gm.CurrentPageTours.set(i),rootScope.getBotGuideCount(i),rootScope.displayChatIcon()}function b(t){if(GmCXt.log(30,"FETCHED tours",t),a=Date.now(),r(1,i=[]),Gm.CurrentPageTours.set(i),n=[],s=t.length,(t=GmCXt.inPlayer&&!GmCXt.isWestpac()?GmCXt.sortToursByModifcationDate(t):t).length){Gm.loading.set(!1),Gm.showNoTour.set(!1);for(let e=0;e<t.length;e++)t[e].tour_sequence=e,t[e].timestamp=a;o=[...t],c=0,P()}else Gm.loading.set(!1),g.set(!0),Gm.showNoTour.set(!0),v()}function C(e){let t=GmCXt.parseMsg(e);if(t&&t.action&&0===t.action.indexOf("mgPlayerJSProd_action:")){if("mgPlayerJSProd_action:get_page_url_response"===(t=GmCXt.convertMgdata(t)).action){rootScope.updatePageUrl(t.data);{let t={url:rootScope.pageUrl};GmCXt.getLXPLang()&&(t.language=GmCXt.getLXPLang()),GmCXt.isDomainInActiveApp()?(e=rootScope.readLocalCT(t.url,GmCXt.pageTitle))&&e.length&&!d?(GmCXt.log(30,"FETCHED tours from CACHE"),b(rootScope.filterCurrentPageTourTypes(e))):api.getContextualTour(t,function(e){d=!1;e=rootScope.processContextualGuide(e,t.url);b(rootScope.filterCurrentPageTourTypes(e))}):(GmCXt.log(30,"INVALID domain, NOT present in Org"),b([]))}window.removeEventListener("message",C)}return!0}}function w(e){"page_click"===e?l="page_click":(l="",r(0,rootScope.cTours=[],rootScope)),o=[],Gm.showNoTour.set(!1),u=!1;var t=GmCXt.user;if(t||GmCXt.isEmpty(t)||!rootScope.noLogin())e=e||null,GmCXt.log(30,"REFRESH current page. Event: "+e),window.addEventListener("message",C),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:get_page_url"}),_();else{GmCXt.log(30,"SHOWING Box Player guides");let e=0;rootScope.publishedTours||(e=1e3),setTimeout(function(){let e=rootScope.filterCurrentPageTourTypes(rootScope.publishedTours);GmCXt.isPlayer()&&(e=GmCXt.filterScheduleTours(e)),b(e=rootScope.validateAllRulesExceptSelectEl(e).tours)},e)}}return onDestroy(()=>()=>{h()}),Gm.showNoTour.subscribe(e=>{r(2,p=e)}),Gm.selectedLang.subscribe(e=>{w()}),Gm.activeSortFilterStore.subscribe(e=>{r(3,m=e)}),mg$$1(window).off("resize").on("resize",_),mg$$1(".category-list").off("scroll").on("scroll",function(){if(!isPreviousEventComplete)return!0;mg$$1(this).scrollTop()+mg$$1(this).innerHeight()>=mg$$1(this)[0].scrollHeight-20&&mg$$1(this)[0].scrollHeight+20>mg$$1(this).innerHeight()&&(isPreviousEventComplete=!1,s===limit$2)&&w()}),w(),onMount(()=>{mg$$1("#mgPlayerJSProd_filter-tab-current-page").addClass("mgPlayerJSProd_filter-active-tab"),mg$$1("#mgPlayerJSProd_filter-tab-go-to-lib").removeClass("mgPlayerJSProd_filter-active-tab")}),[rootScope,i,p,m,g]}class CurrentPage extends SvelteComponent{constructor(e){super(),init(this,e,instance$g,create_fragment$h,safe_not_equal,{},null,[-1,-1])}}function create_if_block_25$1(e){let r,o=rootScope.svgs.drag_dots+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_drag-guide-icon-wrapper mgPlayerJSProd_icon-update-margin ege-inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_22$1(e){let r=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),o,a=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default"),i,n=r&&create_if_block_24$1(),s=a&&create_if_block_23$1(e);return{c(){n&&n.c(),o=space(),s&&s.c(),i=empty()},m(e,t){n&&n.m(e,t),insert(e,o,t),s&&s.m(e,t),insert(e,i,t)},p(e,t){(r=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):r)?n||((n=create_if_block_24$1()).c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null),(a=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default"):a)?s?s.p(e,t):((s=create_if_block_23$1(e)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(e){e&&(detach(o),detach(i)),n&&n.d(e),s&&s.d(e)}}}function create_if_block_24$1(e){let r,o=rootScope.svgs.folder+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_category-icon")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_23$1(e){let r,o,a,i;return{c(){attr(r=element("img"),"class","category-image mgPlayerJSProd_custom-image mgPlayerJSProd_category-uploaded-img-view mgPlayerJSProd_published-category"),src_url_equal(r.src,o=e[0]?.image_url+e[4])||attr(r,"src",o)},m(e,t){insert(e,r,t),a||(i=listen(r,"error",handleImageError),a=!0)},p(e,t){1&t&&!src_url_equal(r.src,o=e[0]?.image_url+e[4])&&attr(r,"src",o)},d(e){e&&detach(r),a=!1,i()}}}function create_if_block_19$1(e){let r=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),o,a=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default"),i,n=r&&create_if_block_21$1(),s=a&&create_if_block_20$1(e);return{c(){n&&n.c(),o=space(),s&&s.c(),i=empty()},m(e,t){n&&n.m(e,t),insert(e,o,t),s&&s.m(e,t),insert(e,i,t)},p(e,t){(r=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):r)?n||((n=create_if_block_21$1()).c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null),(a=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default"):a)?s?s.p(e,t):((s=create_if_block_20$1(e)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(e){e&&(detach(o),detach(i)),n&&n.d(e),s&&s.d(e)}}}function create_if_block_21$1(e){let r,o=rootScope.svgs.subfolder+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_category-icon")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_20$1(r){let o,a,i,n;return{c(){attr(o=element("img"),"class","category-image mgPlayerJSProd_custom-image mgPlayerJSProd_category-uploaded-img-view mgPlayerJSProd_published-category"),src_url_equal(o.src,a=r[0]?.image_url+r[4])||attr(o,"src",a)},m(e,t){insert(e,o,t),i||(n=listen(o,"error",r[8]),i=!0)},p(e,t){1&t&&!src_url_equal(o.src,a=e[0]?.image_url+e[4])&&attr(o,"src",a)},d(e){e&&detach(o),i=!1,n()}}}function create_if_block_16$2(e){let r=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),o,a=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default"),i,n=r&&create_if_block_18$1(),s=a&&create_if_block_17$2(e);return{c(){n&&n.c(),o=space(),s&&s.c(),i=empty()},m(e,t){n&&n.m(e,t),insert(e,o,t),s&&s.m(e,t),insert(e,i,t)},p(e,t){(r=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):r)?n||((n=create_if_block_18$1()).c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null),(a=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default"):a)?s?s.p(e,t):((s=create_if_block_17$2(e)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(e){e&&(detach(o),detach(i)),n&&n.d(e),s&&s.d(e)}}}function create_if_block_18$1(e){let r,o=rootScope.svgs.folder+"";return{c(){r=element("div")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_17$2(e){let r,o;return{c(){attr(r=element("img"),"class","category-image mgPlayerJSProd_custom-image mgPlayerJSProd_category-uploaded-img-view"),src_url_equal(r.src,o=e[0]?.image_url+e[4])||attr(r,"src",o)},m(e,t){insert(e,r,t)},p(e,t){1&t&&!src_url_equal(r.src,o=e[0]?.image_url+e[4])&&attr(r,"src",o)},d(e){e&&detach(r)}}}function create_if_block_13$3(e){let r=!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"),o,a=e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default"),i,n=r&&create_if_block_15$2(),s=a&&create_if_block_14$2(e);return{c(){n&&n.c(),o=space(),s&&s.c(),i=empty()},m(e,t){n&&n.m(e,t),insert(e,o,t),s&&s.m(e,t),insert(e,i,t)},p(e,t){(r=1&t?!e[0]?.image_url||0<=e[0]?.image_url.indexOf("default"):r)?n||((n=create_if_block_15$2()).c(),n.m(o.parentNode,o)):n&&(n.d(1),n=null),(a=1&t?e[0]?.image_url&&-1==e[0]?.image_url.indexOf("default"):a)?s?s.p(e,t):((s=create_if_block_14$2(e)).c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(e){e&&(detach(o),detach(i)),n&&n.d(e),s&&s.d(e)}}}function create_if_block_15$2(e){let r,o=rootScope.svgs.subfolder+"";return{c(){r=element("div")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_14$2(e){let r,o;return{c(){attr(r=element("img"),"class","category-image mgPlayerJSProd_custom-image mgPlayerJSProd_category-uploaded-img-view"),src_url_equal(r.src,o=e[0]?.image_url+e[4])||attr(r,"src",o)},m(e,t){insert(e,r,t)},p(e,t){1&t&&!src_url_equal(r.src,o=e[0]?.image_url+e[4])&&attr(r,"src",o)},d(e){e&&detach(r)}}}function create_if_block_12$4(e){let r,o=rootScope.svgs.folder+"";return{c(){r=element("div")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_4$9(e){let r,o,a,i,n,s,t=rootScope.labels.unpublishedGuides+"",l,c,d=e[0]?.total_unpublish_tour+"",p,u,g,m,h,_,f=rootScope.labels.publishedGuides+"",y,S,P=e[0]?.total_publish_tour+"",v,b=rootScope.automationSelectionMode&&create_if_block_9$6(e),C=e[0]?.total_unpublish_tour<=rootScope.countLimit&&create_if_block_8$7(e),w=e[0]?.total_unpublish_tour>rootScope.countLimit&&create_if_block_7$8(),k=e[0]?.total_publish_tour<=rootScope.countLimit&&create_if_block_6$9(e),x=e[0]?.total_publish_tour>rootScope.countLimit&&create_if_block_5$9();return{c(){r=element("div"),b&&b.c(),o=space(),a=element("div"),C&&C.c(),i=space(),w&&w.c(),n=space(),s=element("div"),l=text(t),c=space(),p=text(d),u=space(),g=element("div"),k&&k.c(),m=space(),x&&x.c(),h=space(),_=element("div"),y=text(f),S=space(),v=text(P),attr(s,"class","tour-count-tooltip"),attr(a,"class","ege-inline-block-div unpublish-tour-count"),attr(_,"class","tour-count-tooltip"),attr(g,"class","ege-inline-block-div publish-tour-count"),attr(r,"class","tour-count-wrapper")},m(e,t){insert(e,r,t),b&&b.m(r,null),append(r,o),append(r,a),C&&C.m(a,null),append(a,i),w&&w.m(a,null),append(a,n),append(a,s),append(s,l),append(s,c),append(s,p),append(r,u),append(r,g),k&&k.m(g,null),append(g,m),x&&x.m(g,null),append(g,h),append(g,_),append(_,y),append(_,S),append(_,v)},p(e,t){rootScope.automationSelectionMode&&b.p(e,t),e[0]?.total_unpublish_tour<=rootScope.countLimit?C?C.p(e,t):((C=create_if_block_8$7(e)).c(),C.m(a,i)):C&&(C.d(1),C=null),e[0]?.total_unpublish_tour>rootScope.countLimit?w||((w=create_if_block_7$8()).c(),w.m(a,n)):w&&(w.d(1),w=null),1&t&&d!==(d=e[0]?.total_unpublish_tour+"")&&set_data(p,d),e[0]?.total_publish_tour<=rootScope.countLimit?k?k.p(e,t):((k=create_if_block_6$9(e)).c(),k.m(g,m)):k&&(k.d(1),k=null),e[0]?.total_publish_tour>rootScope.countLimit?x||((x=create_if_block_5$9()).c(),x.m(g,h)):x&&(x.d(1),x=null),1&t&&P!==(P=e[0]?.total_publish_tour+"")&&set_data(v,P)},d(e){e&&detach(r),b&&b.d(),C&&C.d(),w&&w.d(),k&&k.d(),x&&x.d()}}}function create_if_block_9$6(e){let r,o,a,i,t=rootScope.labels.selectGuideForAuto+"",n,s,l=e[0]?.automationTours+"",c,d=e[0]?.total_publish_tour<=rootScope.countLimit&&rootScope.automationSelectionMode&&create_if_block_11$6(e),p=e[0]?.total_publish_tour>rootScope.countLimit&&rootScope.automationSelectionMode&&create_if_block_10$6();return{c(){r=element("div"),d&&d.c(),o=space(),p&&p.c(),a=space(),i=element("div"),n=text(t),s=space(),c=text(l),attr(i,"class","tour-count-tooltip"),attr(r,"class","ege-inline-block-div automation-tour-count")},m(e,t){insert(e,r,t),d&&d.m(r,null),append(r,o),p&&p.m(r,null),append(r,a),append(r,i),append(i,n),append(i,s),append(i,c)},p(e,t){e[0]?.total_publish_tour<=rootScope.countLimit&&rootScope.automationSelectionMode?d?d.p(e,t):((d=create_if_block_11$6(e)).c(),d.m(r,o)):d&&(d.d(1),d=null),e[0]?.total_publish_tour>rootScope.countLimit&&rootScope.automationSelectionMode?p||((p=create_if_block_10$6()).c(),p.m(r,a)):p&&(p.d(1),p=null),1&t&&l!==(l=e[0]?.automationTours+"")&&set_data(c,l)},d(e){e&&detach(r),d&&d.d(),p&&p.d()}}}function create_if_block_11$6(e){let r,o=e[0]?.automationTours+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","mgPlayerJSProd_automation-count-label")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0]?.automationTours+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_10$6(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.countLimit,attr(r,"class","mgPlayerJSProd_automation-count-label")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_8$7(e){let r,o=e[0]?.total_unpublish_tour+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","mgPlayerJSProd_unpublish-count-label")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0]?.total_unpublish_tour+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_7$8(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.countLimit,attr(r,"class","mgPlayerJSProd_unpublish-count-label")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_6$9(e){let r,o=e[0]?.total_publish_tour+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","mgPlayerJSProd_publish-count-label")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0]?.total_publish_tour+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_5$9(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.countLimit,attr(r,"class","mgPlayerJSProd_publish-count-label")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block_1$c(e){let r,o,a=rootScope.svgs.guide_category_title+"",i,n,s,l,c,d,p,u=e[0]?.total_sub_category+"",g,m=e[0]?.total_sub_category<=rootScope.countLimit&&create_if_block_3$9(e),h=e[0]?.total_sub_category>rootScope.countLimit&&create_if_block_2$b();return{c(){r=element("div"),o=element("div"),n=space(),s=element("div"),m&&m.c(),l=space(),h&&h.c(),c=space(),d=element("div"),p=text("Sub Folders: "),g=text(u),attr(o,"class",i="sub-cat-count-icon ege-inline-block-div "+(e[0]?.is_published?"mgPlayerJSProd_published-category":"")),attr(d,"class","tour-count-tooltip"),attr(s,"class","sub-cat-count ege-inline-block-div"),attr(r,"class","sub-cat-count-wrapper")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=a,append(r,n),append(r,s),m&&m.m(s,null),append(s,l),h&&h.m(s,null),append(s,c),append(s,d),append(d,p),append(d,g)},p(e,t){1&t&&i!==(i="sub-cat-count-icon ege-inline-block-div "+(e[0]?.is_published?"mgPlayerJSProd_published-category":""))&&attr(o,"class",i),e[0]?.total_sub_category<=rootScope.countLimit?m?m.p(e,t):((m=create_if_block_3$9(e)).c(),m.m(s,l)):m&&(m.d(1),m=null),e[0]?.total_sub_category>rootScope.countLimit?h||((h=create_if_block_2$b()).c(),h.m(s,c)):h&&(h.d(1),h=null),1&t&&u!==(u=e[0]?.total_sub_category+"")&&set_data(g,u)},d(e){e&&detach(r),m&&m.d(),h&&h.d()}}}function create_if_block_3$9(e){let r,o=e[0]?.total_sub_category+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","mgPlayerJSProd_sub-cat-count-label")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0]?.total_sub_category+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_2$b(e){let r;return{c(){(r=element("div")).textContent=""+rootScope.labels.countLimit,attr(r,"class","mgPlayerJSProd_sub-cat-count-label")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_if_block$d(e){let o,r;return o=new Empty({props:{category:e[0]}}),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};1&t&&(r.category=e[0]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_fragment$g(r){let o,a=!r[1]&&rootScope.isOwnerOrAppAdmin()&&rootScope.FT.creatorApp&&!rootScope.isPublicApp&&!rootScope.automationSelectionMode&&!rootScope.isDesktopApp()&&!rootScope.hideMirrorAppCtrl(),i,n,s,l,c,d,p,u,F,g,m,h,_=(r[0]?.category_title||"")+"",f,O,y,S,P=(r[0]?.category_title||"")+"",H,R,v,b,C=(r[0]?.category_description||"")+"",N,B,w,k,x=(r[0]?.category_description||"")+"",V,U,z,j,T,A,W,q,$=a&&create_if_block_25$1(),L=r[0]?.is_published&&!r[0]?.has_child&&create_if_block_22$1(r),J=r[0]?.is_published&&r[0]?.has_child&&create_if_block_19$1(r),G=!r[0]?.is_published&&!r[0]?.has_child&&r[0]?.image_url&&create_if_block_16$2(r),E=!r[0]?.is_published&&r[0]?.has_child&&r[0]?.image_url&&create_if_block_13$3(r),M=!r[0]?.image_url&&!r[0]?.is_published&&create_if_block_12$4(),I=!r[0]?.has_child&&rootScope.FT.creatorApp&&create_if_block_4$9(r),X=r[0]?.has_child&&rootScope.FT.creatorApp&&create_if_block_1$c(r),D=r[3]&&create_if_block$d(r);return{c(){o=element("div"),$&&$.c(),i=space(),n=element("dnd-nodrag"),s=element("div"),l=element("div"),L&&L.c(),c=space(),J&&J.c(),d=space(),G&&G.c(),p=space(),E&&E.c(),u=space(),M&&M.c(),F=space(),g=element("div"),m=element("div"),h=element("button"),f=text(_),O=space(),y=element("div"),S=element("div"),H=text(P),R=space(),v=element("div"),b=element("div"),N=text(C),B=space(),w=element("div"),k=element("div"),V=text(x),U=space(),I&&I.c(),z=space(),X&&X.c(),j=space(),D&&D.c(),attr(l,"class","category-image-wrapper ege-inline-block-vm"),attr(h,"class","category-title-wrapper mgPlayerJSProd_lbl-btn"),attr(S,"class","mgPlayerJSProd_tooltip-title"),attr(y,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y"),attr(m,"class","mgPlayerJSProd_category-title-container mgPlayerJSProd_text-overflow-ellipsis"),attr(b,"class","category-description-wrapper"),attr(k,"class","mgPlayerJSProd_tooltip-title"),attr(w,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y"),attr(v,"class","mgPlayerJSProd_category-desc-container mgPlayerJSProd_text-overflow-ellipsis"),attr(g,"class","category-title-description-wrapper ege-inline-block-vm mgPlayerJSProd_position-relative"),attr(s,"class","category-list-item-wrapper"),attr(o,"class",T="category-list-item "+(r[1]?"active":"")+" "+(r[2]?"sub-category-list-item":"")+" "+(rootScope.isMicroPlayer&&r[1]?"mgPlayerJSProd_no-margin":""))},m(e,t){insert(e,o,t),$&&$.m(o,null),append(o,i),append(o,n),append(n,s),append(s,l),L&&L.m(l,null),append(l,c),J&&J.m(l,null),append(l,d),G&&G.m(l,null),append(l,p),E&&E.m(l,null),append(l,u),M&&M.m(l,null),append(s,F),append(s,g),append(g,m),append(m,h),append(h,f),append(m,O),append(m,y),append(y,S),append(S,H),append(g,R),append(g,v),append(v,b),append(b,N),append(v,B),append(v,w),append(w,k),append(k,V),append(n,U),I&&I.m(n,null),append(n,z),X&&X.m(n,null),append(o,j),D&&D.m(o,null),A=!0,W||(q=[listen(o,"click",prevent_default(r[9])),listen(o,"mouseenter",r[6]),listen(o,"mouseleave",r[7])],W=!0)},p(e,[t]){(a=2&t?!e[1]&&rootScope.isOwnerOrAppAdmin()&&rootScope.FT.creatorApp&&!rootScope.isPublicApp&&!rootScope.automationSelectionMode&&!rootScope.isDesktopApp()&&!rootScope.hideMirrorAppCtrl():a)?$||(($=create_if_block_25$1()).c(),$.m(o,i)):$&&($.d(1),$=null),e[0]?.is_published&&!e[0]?.has_child?L?L.p(e,t):((L=create_if_block_22$1(e)).c(),L.m(l,c)):L&&(L.d(1),L=null),e[0]?.is_published&&e[0]?.has_child?J?J.p(e,t):((J=create_if_block_19$1(e)).c(),J.m(l,d)):J&&(J.d(1),J=null),e[0]?.is_published||e[0]?.has_child||!e[0]?.image_url?G&&(G.d(1),G=null):G?G.p(e,t):((G=create_if_block_16$2(e)).c(),G.m(l,p)),!e[0]?.is_published&&e[0]?.has_child&&e[0]?.image_url?E?E.p(e,t):((E=create_if_block_13$3(e)).c(),E.m(l,u)):E&&(E.d(1),E=null),e[0]?.image_url||e[0]?.is_published?M&&(M.d(1),M=null):M||((M=create_if_block_12$4()).c(),M.m(l,null)),(!A||1&t)&&_!==(_=(e[0]?.category_title||"")+"")&&set_data(f,_),(!A||1&t)&&P!==(P=(e[0]?.category_title||"")+"")&&set_data(H,P),(!A||1&t)&&C!==(C=(e[0]?.category_description||"")+"")&&set_data(N,C),(!A||1&t)&&x!==(x=(e[0]?.category_description||"")+"")&&set_data(V,x),!e[0]?.has_child&&rootScope.FT.creatorApp?I?I.p(e,t):((I=create_if_block_4$9(e)).c(),I.m(n,z)):I&&(I.d(1),I=null),e[0]?.has_child&&rootScope.FT.creatorApp?X?X.p(e,t):((X=create_if_block_1$c(e)).c(),X.m(n,null)):X&&(X.d(1),X=null),e[3]?D?(D.p(e,t),8&t&&transition_in(D,1)):((D=create_if_block$d(e)).c(),transition_in(D,1),D.m(o,null)):D&&(group_outros(),transition_out(D,1,1,()=>{D=null}),check_outros()),(!A||6&t&&T!==(T="category-list-item "+(e[1]?"active":"")+" "+(e[2]?"sub-category-list-item":"")+" "+(rootScope.isMicroPlayer&&e[1]?"mgPlayerJSProd_no-margin":"")))&&attr(o,"class",T)},i(e){A||(transition_in(D),A=!0)},o(e){transition_out(D),A=!1},d(e){e&&detach(o),$&&$.d(),L&&L.d(),J&&J.d(),G&&G.d(),E&&E.d(),M&&M.d(),I&&I.d(),X&&X.d(),D&&D.d(),W=!1,run_all(q)}}}function handleImageError(e){e.target.src=GmCXt.conf.staticContentPath+"folder_green.png"}function instance$f(e,t,r){let o=t.category,a=t.parent,i=t.subCategory,n=createEventDispatcher(),s;t=GmCXt.getCdnSign();let l=!1,c=async(e,t)=>{s=t&&t?.has_tour?{parent:t,hasTour:!0}:{parent:t,hasTour:t.has_tour,hasChild:t.has_child},n("forwardTraversal",s)};return e.$$set=e=>{"category"in e&&r(0,o=e.category),"parent"in e&&r(1,a=e.parent),"subCategory"in e&&r(2,i=e.subCategory)},[o,a,i,l,t,c,function(){r(3,l=!0)},function(){r(3,l=!1)},()=>GmCXt.conf.staticContentPath+"subfolder_green.png",e=>!a&&c(0,o)]}class FolderView extends SvelteComponent{constructor(e){super(),init(this,e,instance$f,create_fragment$g,safe_not_equal,{category:0,parent:1,subCategory:2})}}let svgConst={iconBack:'<svg class="mgPlayerJSProd_position-center" width="8" height="14" viewBox="0 0 8 14" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.233044 7.05301C0.233044 7.03801 0.236044 7.02501 0.237044 7.01001C0.245778 6.81309 0.327814 6.62654 0.467044 6.48701L0.469044 6.48401L6.11604 0.837007C6.19033 0.762217 6.27864 0.702806 6.37591 0.662173C6.47318 0.62154 6.57751 0.600484 6.68292 0.600205C6.78834 0.599927 6.89277 0.620432 6.99026 0.66055C7.08774 0.700668 7.17636 0.75961 7.25104 0.834006L7.53304 1.11701C7.68312 1.26767 7.76722 1.47177 7.76684 1.68442C7.76647 1.89708 7.68165 2.10088 7.53104 2.25101L2.72904 7.05201L7.52904 11.853C7.6039 11.9272 7.66339 12.0155 7.70411 12.1127C7.74482 12.21 7.76598 12.3143 7.76635 12.4197C7.76672 12.5251 7.7463 12.6295 7.70627 12.7271C7.66624 12.8246 7.60737 12.9133 7.53304 12.988L7.25004 13.271C7.09912 13.4208 6.89487 13.5046 6.68222 13.5038C6.46956 13.5031 6.26591 13.4179 6.11604 13.267L0.749043 7.90101L0.466043 7.61801C0.316043 7.46801 0.240044 7.27301 0.235044 7.07501L0.233044 7.05301Z" fill="#555555"/></svg>',iconSearch:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><path d="M35.9,6.7c-3.9-3.9-9.1-6-14.6-6s-10.7,2.1-14.6,6c-3.9,3.9-6,9.1-6,14.6c0,5.5,2.1,10.7,6,14.6c3.9,3.9,9.1,6,14.6,6s10.7-2.1,14.6-6c3.9-3.9,6-9.1,6-14.6C41.9,15.8,39.7,10.6,35.9,6.7z M21.3,38c-9.2,0-16.7-7.5-16.7-16.7S12.1,4.6,21.3,4.6S38,12.1,38,21.3S30.5,38,21.3,38z"/></g></g><g><g><path d="M48.8,46L35.8,33.1c-0.8-0.8-2-0.8-2.8,0c-0.8,0.8-0.8,2,0,2.8L46,48.8c0.4,0.4,0.9,0.6,1.4,0.6c0.5,0,1-0.2,1.4-0.6C49.5,48,49.5,46.8,48.8,46z"/></g></g></g></svg>',iconLang:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><g><g id="Page-1"><g id="mgPlayerJSProd_testme-and-Showme-04-Copy" fill="#757575" transform="translate(-1372.000000, -209.000000)"><g id="Group-16" transform="translate(937.000000, 191.000000)"><g id="translate" transform="translate(435.000000, 18.000000)"><path class="shape" class="st0" d="M10.2,13.8c-1.7,0-3.3,0-4.9,0c-0.9,0-1.9,0-2.8,0c-1.3,0-2.3-0.9-2.3-2.2c0-3,0-6,0-9c0-1.3,1-2.3,2.3-2.3c3,0,5.9,0,8.9,0c1.3,0,2.3,1,2.3,2.3c0,2.3,0,4.6,0,6.9c0,0.2,0,0.5,0,0.7c0.2,0,0.5,0,0.7,0c2.3,0,4.5,0,6.8,0c1.6,0,2.5,0.9,2.5,2.5c0,2.8,0,5.7,0,8.5c0,1.6-0.9,2.5-2.5,2.5c-2.9,0-5.7,0-8.6,0c-1.5,0-2.4-0.9-2.4-2.4c0-2.3,0-4.5,0-6.8C10.2,14.3,10.2,14.1,10.2,13.8z M11.3,17L11.3,17c0,0.7,0,1.4,0,2.1c0,0.7,0,1.5,0,2.2c0,0.9,0.5,1.4,1.4,1.4c2.9,0,5.8,0,8.6,0c0.9,0,1.4-0.5,1.4-1.4c0-2.9,0-5.8,0-8.6c0-0.9-0.5-1.4-1.4-1.4c-2.9,0-5.8,0-8.7,0c-0.9,0-1.4,0.4-1.4,1.4C11.3,14.1,11.3,15.5,11.3,17z M10.5,11.3c-1.1,0.1-2.2-0.2-3.1-0.8c-0.2-0.2-0.4-0.2-0.6,0c-0.9,0.5-1.8,0.8-2.9,0.8c-0.3,0-0.5-0.2-0.5-0.5c0-0.3,0.2-0.5,0.5-0.5c0.1,0,0.2,0,0.4,0c0.7-0.1,1.4-0.3,2-0.7c-0.9-1-1.4-2.1-1.5-3.4c-0.3,0-0.6,0-0.8,0C3.6,6.2,3.3,6,3.3,5.7c0-0.3,0.2-0.5,0.5-0.5c0.3,0,0.6,0,0.9,0c0.6,0,1.2,0,1.9,0c0-0.6,0-1.2,0-1.7c0-0.3,0.1-0.6,0.5-0.6c0.4,0,0.5,0.3,0.5,0.7c0,0.5,0,1.1,0,1.7c0.2,0,0.3,0,0.5,0c0.7,0,1.4,0,2.1,0c0.3,0,0.6,0.1,0.6,0.5c0,0.4-0.2,0.5-0.6,0.5c-0.1,0-0.2,0-0.4,0c-0.3,0-0.4,0.1-0.4,0.4c-0.1,0.5-0.2,1-0.5,1.5c-0.3,0.5-0.6,1-1,1.5c0.6,0.4,1.3,0.6,2,0.6c0.5,0,0.8,0.1,0.8,0.8c0.6-0.6,1.2-0.8,2-0.8c0-0.2,0-0.3,0-0.5c0-2.4,0-4.7,0-7.1c0-0.9-0.5-1.4-1.4-1.4c-2.9,0-5.8,0-8.6,0c-0.9,0-1.4,0.5-1.4,1.4c0,2.9,0,5.8,0,8.7c0,0.9,0.5,1.3,1.4,1.3c2.3,0,4.7,0,7,0c0.2,0,0.3,0,0.4,0C10.3,12.2,10.4,11.7,10.5,11.3z M5.8,6.2c0,0.9,0.5,2.1,1.3,2.7c0.7-0.8,1.2-1.6,1.3-2.7C7.5,6.2,6.6,6.2,5.8,6.2z"/><path id="Shape_1_" class="st0" d="M22.7,7.6c-0.2-3.5-2.9-6.1-6.3-6.3c-0.1,0-0.1,0-0.2,0c-0.4,0-0.7-0.1-0.6-0.5c0-0.4,0.3-0.5,0.7-0.5c3.7,0,7,3.1,7.4,6.8c0,0.3,0.1,0.6,0.1,0.9c0,0.5-0.2,0.6-0.6,0.7c-0.7,0-1.3,0-2,0c-0.3,0-0.6-0.2-0.6-0.5c0-0.4,0.2-0.5,0.6-0.5C21.6,7.6,22.1,7.6,22.7,7.6z"/><path id="Shape_2_" class="st0" d="M1.4,16.4c0.2,3.5,2.9,6.1,6.3,6.3c0.1,0,0.2,0,0.3,0c0.3,0,0.5,0.2,0.5,0.5c0,0.3-0.2,0.5-0.5,0.5c-0.8-0.1-1.6-0.2-2.3-0.4c-3.2-1-5.3-3.9-5.3-7.2c0-0.5,0.2-0.7,0.6-0.7c0.6,0,1.3,0,1.9,0c0.3,0,0.6,0.1,0.6,0.5c0,0.4-0.3,0.5-0.6,0.5C2.4,16.4,1.9,16.4,1.4,16.4z"/><path id="Shape_3_" class="st0" d="M17,18.9c-0.5,0-1-0.2-1.3,0c-0.3,0.2-0.4,0.8-0.5,1.2c0,0.1-0.1,0.2-0.1,0.3c-0.1,0.3-0.4,0.4-0.7,0.3c-0.3-0.1-0.4-0.4-0.3-0.7c0.4-1,0.7-2,1.1-3c0.4-1.1,0.8-2.2,1.2-3.3c0.1-0.2,0.3-0.5,0.5-0.5c0.3-0.1,0.5,0.2,0.6,0.5c0.8,2.1,1.6,4.2,2.4,6.3c0.2,0.5,0,0.8-0.3,0.8c-0.3,0-0.5-0.1-0.6-0.4c-0.2-0.4-0.3-0.8-0.5-1.2c-0.1-0.2-0.2-0.3-0.4-0.3C17.7,18.9,17.3,18.9,17,18.9C17,18.9,17,18.9,17,18.9z M18,17.8c-0.3-0.9-0.6-1.8-1-2.6c0,0-0.1,0-0.1,0c-0.3,0.9-0.6,1.7-0.9,2.6C16.6,17.8,17.3,17.8,18,17.8z"/></g></g></g></g></g></svg>',add_step_plus:'<svg fill="none" viewBox="0 0 19 19" height="25" width="25"><path d="M14.1785 9.69787H11.2351V6.75443C11.2351 6.34823 10.9061 6.01855 10.4992 6.01855C10.0922 6.01855 9.7633 6.34823 9.7633 6.75443V9.69787H6.81986C6.41292 9.69787 6.08398 10.0276 6.08398 10.4338C6.08398 10.84 6.41292 11.1696 6.81986 11.1696H9.7633V14.1131C9.7633 14.5193 10.0922 14.849 10.4992 14.849C10.9061 14.849 11.2351 14.5193 11.2351 14.1131V11.1696H14.1785C14.5854 11.1696 14.9144 10.84 14.9144 10.4338C14.9144 10.0276 14.5854 9.69787 14.1785 9.69787Z" fill="#005BF0"/><rect x="0.9" y="0.9" width="19.2" height="19.2" stroke="white" stroke-width="0.2"/></svg>',iconAddSubCategory:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M3.1,10.4h43.8c1.1,0,1.8-0.7,1.8-1.8S48,6.7,46.9,6.7H3.1C2,6.7,1.3,7.5,1.3,8.6S2,10.4,3.1,10.4z"/><path d="M46.9,23.2H3.1c-1.1,0-1.8,0.7-1.8,1.8s0.7,1.8,1.8,1.8h43.8c1.1,0,1.8-0.7,1.8-1.8S48,23.2,46.9,23.2z"/><path d="M46.9,39.6H3.1c-1.1,0-1.8,0.7-1.8,1.8s0.7,1.8,1.8,1.8h43.8c1.1,0,1.8-0.7,1.8-1.8S48,39.6,46.9,39.6z"/></g></g></svg>',errorValidation:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 20 20" fill="none" ><path d="M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20Z" fill="#DE350B" /><path d="M9.49981 17C8.67146 17 8 16.3285 8 15.5C8 14.6715 8.67146 14 9.49981 14H9.50056C10.3289 14 11 14.6715 11 15.5C11 16.3285 10.3282 17 9.49981 17Z" fill="white" /><path d="M8 11.2499V5.75011C8 4.78351 8.67154 4 9.5 4C10.3285 4 11 4.78351 11 5.75011V11.2499C11 12.2165 10.3285 13 9.5 13C8.67154 13 8 12.2165 8 11.2499Z" fill="white" /></svg>',errorValidation:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 20 20" fill="none" ><path d="M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20Z" fill="#DE350B" /><path d="M9.49981 17C8.67146 17 8 16.3285 8 15.5C8 14.6715 8.67146 14 9.49981 14H9.50056C10.3289 14 11 14.6715 11 15.5C11 16.3285 10.3282 17 9.49981 17Z" fill="white" /><path d="M8 11.2499V5.75011C8 4.78351 8.67154 4 9.5 4C10.3285 4 11 4.78351 11 5.75011V11.2499C11 12.2165 10.3285 13 9.5 13C8.67154 13 8 12.2165 8 11.2499Z" fill="white" /></svg>',iconSearchClose:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M46,4C44.9,3,43.2,3,42.1,4L25,21.2L7.9,4C6.8,3,5.1,3,4,4S3,6.8,4,7.9L21.2,25L4,42.1C3,43.2,3,44.9,4,46c0.5,0.5,1.2,0.8,1.9,0.8s1.4-0.3,1.9-0.8L25,28.8L42.1,46c0.5,0.5,1.2,0.8,1.9,0.8c0.7,0,1.4-0.3,1.9-0.8c1.1-1.1,1.1-2.8,0-3.8L28.8,25L46,7.9C47,6.8,47,5.1,46,4z"/></g></g></svg>',iconPlusAddGuide:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><path d="M43.5,27.2H28v16.3c0,1.7-1.3,3-3,3c-1.7,0-3-1.3-3-3V27.2H6.5c-1.7,0-3-1.3-3-3s1.3-3,3-3H22V6.4c0-1.7,1.3-3,3-3c1.7,0,3,1.3,3,3v14.9h15.5c1.7,0,3,1.3,3,3S45.1,27.2,43.5,27.2z"/></svg>',iconTourPlay:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><g id="Page-1"><g id="mgPlayerJSProd_testme-and-Showme-05-Copy-2" transform="translate(-966.000000, -208.000000)"><g id="Group-16" transform="translate(937.000000, 191.000000)"><g id="Group-22" transform="translate(22.000000, 9.000000)"><g id="Group-3" transform="translate(0.000000, 1.000000)"><g id="Group-8" transform="translate(7.000000, 6.000000)"><g id="Icon-24px"><path class="shape" class="st0" d="M12,1.2C5.5,1.2,0.2,6.5,0.2,13S5.5,24.8,12,24.8S23.8,19.5,23.8,13S18.5,1.2,12,1.2L12,1.2z"/><g id="Path"><g class="st1"><polygon id="path-1_2_" points="9.6,18.3 16.7,13 9.6,7.7"/></g><g><polygon id="path-1_1_" fill="#fff" class="st2" points="9.6,18.3 16.7,13 9.6,7.7"/></g></g></g></g></g></g></g></g></g></svg>',iconEmail:'<svg width="13px" height="9px"viewBox="0 0 13 9" version="1.1"  ><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="New-Namvigation-bar-sample1_003" transform="translate(-1096.000000, -296.000000)" fill-rule="nonzero" fill="#757575"><g id="Group-9" transform="translate(1035.000000, 186.000000)"><g id="guideme-login" transform="translate(52.000000, 98.000000)"><g id="Group-14" transform="translate(1.000000, 0.000000)"><path d="M21,19.4999588 C21,19.763028 20.9198369,20.0069056 20.7914206,20.2214763 L16.6867878,15.9822455 L20.7469184,12.7032409 C20.9048599,12.9346044 21,13.2063791 21,13.500066 L21,19.4999588 Z M14.5000134,16.7519648 L20.1495535,12.1889983 C19.9177183,12.0718451 19.6566525,12 19.3750368,12 L9.62498995,12 C9.34302602,12 9.08187984,12.0718451 8.85098236,12.1889983 L14.5000134,16.7519648 Z M16.0750622,16.4759115 L14.7673486,17.5327885 C14.6908561,17.5942958 14.5956089,17.6250124 14.5000134,17.6250124 C14.4043643,17.6250124 14.3091171,17.5942958 14.2326246,17.5327885 L12.9246163,16.475862 L8.76805967,20.7692796 C9.01720283,20.9135633 9.30918714,21 9.62496316,21 L19.3750368,21 C19.6907593,21 19.9828776,20.9135633 20.2319403,20.7692796 L16.0750622,16.4759115 Z M8.25313523,12.7032162 C8.09522043,12.9345796 8,13.2063544 8,13.500066 L8,19.4999835 C8,19.7630527 8.07978797,20.0069303 8.20868653,20.221501 L12.3128371,15.9815283 L8.25313523,12.7032162 Z" class="shape"></path></g></g></g></g></g></svg>',iconPassword:'<svg width="13px" height="12px" viewBox="0 0 13 13" version="1.1"  ><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="New-Namvigation-bar-sample1_003" transform="translate(-1097.000000, -335.000000)" fill-rule="nonzero" fill="#757575"><g id="Group-9" transform="translate(1035.000000, 186.000000)"><g id="guideme-login" transform="translate(52.000000, 98.000000)"><g id="password" transform="translate(1.000000, 42.000000)"><g id="key" transform="translate(9.000000, 9.000000)"><path d="M6.58125,5.6875 C6.41875,5.60625 6.25625,5.525 6.09375,5.44375 L12.1875,0 L10.5625,0 L4.875,4.95625 C4.63125,4.875 4.3875,4.875 4.0625,4.875 C1.7875,4.875 0,6.6625 0,8.9375 C0,11.2125 1.86875,13 4.0625,13 C6.25625,13 8.125,11.2125 8.125,8.9375 C8.125,8.45 8.04375,7.9625 7.88125,7.55625 L8.9375,6.5 L8.9375,4.875 L10.5625,4.875 L10.5625,3.25 L12.1875,3.25 L13,2.4375 L13,0 L6.58125,5.6875 Z M3.25,10.725 C2.68125,10.725 2.275,10.2375 2.275,9.75 C2.275,9.2625 2.7625,8.775 3.25,8.775 C3.7375,8.775 4.225,9.2625 4.225,9.75 C4.225,10.2375 3.81875,10.725 3.25,10.725 Z" class="shape"></path></g></g></g></g></g></g></svg>',iconUser:'<svg width="10px" height="12px" viewBox="0 0 10 13" version="1.1"  ><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Sign-Up-GuideMe" transform="translate(-1115.000000, -305.000000)" fill-rule="nonzero" fill="#757575"><g id="Group-9" transform="translate(1051.000000, 198.000000)"><g id="guideme-login" transform="translate(52.000000, 98.000000)"><g id="Group-14" transform="translate(1.000000, 0.000000)"><g id="user-(1)" transform="translate(11.000000, 9.000000)"><path d="M8.79411765,3.82352941 C8.79411765,2.76747059 8.36588235,1.81158824 7.67458824,1.12029412 C6.98252941,0.428235294 6.02664706,0 4.97058824,0 C3.91452941,0 2.95864706,0.428235294 2.26658824,1.12029412 C1.57529412,1.81158824 1.14705882,2.76747059 1.14705882,3.82352941 C1.14705882,4.87958824 1.57529412,5.83547059 2.26658824,6.52676471 C2.95864706,7.21882353 3.91452941,7.64705882 4.97058824,7.64705882 C6.02664706,7.64705882 6.98252941,7.21882353 7.67458824,6.52676471 C8.36588235,5.83547059 8.79411765,4.87958824 8.79411765,3.82352941 Z" class="shape"></path><path d="M0.382352941,11.4705882 C0.382352941,12.2352941 2.10294118,13 4.97058824,13 C7.66082353,13 9.55882353,12.2352941 9.55882353,11.4705882 C9.55882353,9.94117647 7.75870588,8.41176471 4.97058824,8.41176471 C2.10294118,8.41176471 0.382352941,9.94117647 0.382352941,11.4705882 Z" class="shape"></path></g></g></g></g></g></g></svg>',iconShowMe:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 24 12.8" style="enable-background:new 0 0 24 12.8;" xml:space="preserve"><g><g id="Page-1"><g id="mgPlayerJSProd_testme-and-Showme-05-Copy-2" transform="translate(-996.000000, -208.000000)"><g id="Group-16" transform="translate(937.000000, 191.000000)"><g id="Group-22" transform="translate(22.000000, 9.000000)"><g id="Group-3" transform="translate(0.000000, 1.000000)"><g id="Group-9" transform="translate(36.000000, 7.000000)"><g id="binoculars" transform="translate(1.000000, 0.000000)"><path class="shape" class="st0" d="M16.5,2c-0.5-0.1-1.6-0.3-1.6-0.3S13.3,0.4,12,0.4c-1.3,0-2.9,1.2-2.9,1.2S8,1.9,7.5,2c2.1,0.8,3.6,2.8,3.6,5.1c0,1-0.3,1.9-0.7,2.7H12h0h1.6c-0.4-0.8-0.7-1.7-0.7-2.7C12.9,4.7,14.4,2.7,16.5,2z"/><g class="Group" transform="translate(0.000000, 1.120265)"><path id="Shape_1_" class="st0" d="M5.4,1.1c-2.8,0-5.1,2.3-5.1,5.1s2.3,5.1,5.1,5.1s5.1-2.3,5.1-5.1C10.5,3.4,8.2,1.1,5.4,1.1z M5.4,9.4C3.6,9.4,2.2,8,2.2,6.2S3.6,3,5.4,3c1.8,0,3.2,1.4,3.2,3.2C8.6,8,7.1,9.4,5.4,9.4z"/><path id="Shape_2_" class="st0" d="M3.3,4.6c-0.7,0.9-0.6,2.1,0.1,3C3.1,6.7,3.3,5.7,3.9,5c0.6-0.8,1.5-1.1,2.4-1.1C5.2,3.4,4,3.7,3.3,4.6z"/><path id="Shape_3_" class="st0" d="M18.6,1.1c-2.8,0-5.1,2.3-5.1,5.1s2.3,5.1,5.1,5.1s5.1-2.3,5.1-5.1C23.7,3.4,21.4,1.1,18.6,1.1z M18.6,9.4c-1.8,0-3.2-1.4-3.2-3.2S16.9,3,18.6,3s3.2,1.4,3.2,3.2C21.8,8,20.4,9.4,18.6,9.4z"/><path id="Shape_4_" class="st0" d="M17.8,3.9c0.9,0,1.8,0.3,2.4,1.1c0.6,0.8,0.7,1.7,0.5,2.6c0.7-0.8,0.8-2.1,0.1-3C20,3.7,18.8,3.4,17.8,3.9z"/></g></g></g></g></g></g></g></g></g></svg>',iconTestMe:'<svg width="24px" height="30px" viewBox="0 0 24 30" version="1.1"  ><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="clipboard" fill-rule="nonzero"><path d="M21.0913898,3.4972619 L18.2461695,3.4972619 L18.2461695,2.99767857 C18.2461695,2.44809524 17.7340339,1.99845238 17.1080678,1.99845238 L15.4009492,1.99845238 L15.4009492,1.49880952 C15.4009492,0.699404762 14.6612203,0 13.6938305,0 L10.2795254,0 C9.31213559,0 8.57240678,0.649464286 8.57240678,1.49880952 L8.57240678,1.99839286 L6.86528814,1.99839286 C6.23932203,1.99839286 5.72718644,2.44803571 5.72718644,2.99761905 L5.72718644,3.49720238 L2.8819661,3.49720238 C1.28861017,3.49720238 0.0367457627,4.59636905 0.0367457627,5.9952381 L0.0367457627,27.4784524 C0.0367457627,28.877381 1.28867797,29.9764881 2.8819661,29.9764881 L21.0914576,29.9764881 C22.6848136,29.9764881 23.936678,28.8773214 23.936678,27.4784524 L23.936678,5.99529762 C23.936678,4.64636905 22.6847458,3.4972619 21.0913898,3.4972619 Z M6.86522034,3.99690476 L6.86522034,2.99767857 L9.14142373,2.99767857 C9.48284746,2.99767857 9.71044068,2.79785714 9.71044068,2.49809524 L9.71044068,1.49880952 C9.71044068,1.19904762 9.9380339,0.99922619 10.2794576,0.99922619 L13.6937627,0.99922619 C14.0351864,0.99922619 14.2627797,1.19904762 14.2627797,1.49880952 L14.2627797,2.49803571 C14.2627797,2.79779762 14.4903729,2.99761905 14.8317966,2.99761905 L17.108,2.99761905 L17.108,6.49488095 L6.86522034,6.49488095 L6.86522034,3.99690476 Z M18.2461695,25.480119 L5.72711864,25.480119 C5.38569492,25.480119 5.15810169,25.2802976 5.15810169,24.9805357 C5.15810169,24.6807738 5.38569492,24.4809524 5.72711864,24.4809524 L18.2461695,24.4809524 C18.5875932,24.4809524 18.8151864,24.6807738 18.8151864,24.9805357 C18.8151864,25.2802976 18.5875932,25.480119 18.2461695,25.480119 Z M18.2461695,20.983631 L5.72711864,20.983631 C5.38569492,20.983631 5.15810169,20.7838095 5.15810169,20.4840476 C5.15810169,20.1842857 5.38569492,19.9844643 5.72711864,19.9844643 L18.2461695,19.9844643 C18.5875932,19.9844643 18.8151864,20.1842857 18.8151864,20.4840476 C18.8152542,20.78375 18.5875932,20.983631 18.2461695,20.983631 Z M18.2461695,16.4871429 L5.72711864,16.4871429 C5.38569492,16.4871429 5.15810169,16.2873214 5.15810169,15.9875595 C5.15810169,15.6877976 5.38569492,15.4879762 5.72711864,15.4879762 L18.2461695,15.4879762 C18.5875932,15.4879762 18.8151864,15.6877976 18.8151864,15.9875595 C18.8151864,16.2873214 18.5875932,16.4871429 18.2461695,16.4871429 Z M18.2461695,11.9906548 L5.72711864,11.9906548 C5.38569492,11.9906548 5.15810169,11.7908333 5.15810169,11.4910714 C5.15810169,11.1913095 5.38569492,10.9914881 5.72711864,10.9914881 L18.2461695,10.9914881 C18.5875932,10.9914881 18.8151864,11.1913095 18.8151864,11.4910714 C18.8151864,11.7908333 18.5875932,11.9906548 18.2461695,11.9906548 Z" class="shape"></path></g></g></svg>',iconVLab:'<svg version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"> <g><path class="st0" d="M14.5,9.3v4.5c0,0,2.3,0,4.5-1.1V8.3C19,8.3,16.8,9.3,14.5,9.3z"/><path class="st0" d="M1,12.8c2.3,1.1,4.5,1.1,4.5,1.1V9.3C3.2,9.3,1,8.3,1,8.3V12.8z"/><path class="st0" d="M18.8,7.9c-1-1.3-4.5-2.3-8.8-2.3s-7.8,1-8.8,2.3c0.4,0.2,2.3,1,4.3,1H6v0.5v1.8c1.2-0.2,2.6-0.3,4-0.3 c1.5,0,2.8,0.1,4,0.3V9.3V8.9h0.5C16.4,8.9,18.4,8,18.8,7.9z M7.5,10l2.2-2.7l0.5,2.2l1.1-1.1l1.1,1.6H7.5z"/><polygon class="st0" points="7,13.9 6.5,12.2 6,12.2 6.6,14.4 7.2,14.4 7.9,12.2 7.4,12.2 \t"/><polygon class="st0" points="8.8,11.5 8.3,11.5 8.3,14.4 9.7,14.4 9.7,13.9 8.8,13.9 \t"/><path class="st0" d="M11.6,13.9v-0.8c0-0.3-0.1-0.6-0.2-0.7c-0.1-0.1-0.3-0.2-0.6-0.2c-0.1,0-0.2,0-0.3,0c-0.1,0-0.2,0.1-0.3,0.1 l0,0.4c0.1-0.1,0.2-0.1,0.3-0.2c0.1,0,0.2-0.1,0.3-0.1c0.1,0,0.2,0,0.3,0.1c0.1,0.1,0.1,0.2,0.1,0.3V13c0,0-0.1,0-0.1,0 c0,0-0.1,0-0.1,0c-0.3,0-0.6,0.1-0.7,0.2c-0.2,0.1-0.3,0.3-0.3,0.5c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.3,0.2,0.5,0.2 c0.1,0,0.2,0,0.3-0.1c0.1-0.1,0.2-0.1,0.3-0.2l0,0.3h0.5c0-0.1,0-0.1,0-0.2C11.6,14.1,11.6,14,11.6,13.9z M11.1,13.5 c0,0.2,0,0.3-0.1,0.4c-0.1,0.1-0.2,0.1-0.3,0.1c-0.1,0-0.2,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2c0-0.1,0-0.2,0.1-0.3 c0.1-0.1,0.2-0.1,0.4-0.1c0,0,0.1,0,0.1,0c0,0,0,0,0,0V13.5z"/><path class="st0" d="M13.2,12.2c-0.1,0-0.2,0-0.3,0.1c-0.1,0.1-0.2,0.1-0.2,0.3v-1.3h-0.5v3.1h0.5c0-0.1,0-0.1,0-0.2 c0,0,0-0.1,0-0.1c0.1,0.1,0.1,0.2,0.2,0.3c0.1,0.1,0.2,0.1,0.3,0.1c0.2,0,0.4-0.1,0.6-0.3c0.1-0.2,0.2-0.5,0.2-0.8 c0-0.4-0.1-0.6-0.2-0.8C13.6,12.3,13.4,12.2,13.2,12.2z M13.3,13.8C13.3,14,13.2,14,13,14c-0.1,0-0.2-0.1-0.3-0.2 c-0.1-0.1-0.1-0.3-0.1-0.5v-0.2c0-0.2,0-0.3,0.1-0.5c0.1-0.1,0.2-0.2,0.3-0.2c0.1,0,0.2,0.1,0.3,0.2c0.1,0.1,0.1,0.3,0.1,0.5 S13.4,13.7,13.3,13.8z"/></g></svg>',no_guides_image:'<svg viewBox="0 0 101 124" fill="none"><path d="M98.809 22.612L78.174 1.824C77.024 0.664999 75.428 0 73.795 0H6.57C3.169 0 0.401001 2.768 0.401001 6.169V117.83C0.401001 121.232 3.169 124 6.57 124H94.429C97.831 124 100.599 121.232 100.599 117.83V26.958C100.599 25.319 99.963 23.776 98.809 22.612ZM76.754 3.232L97.389 24.02C97.928 24.563 98.286 25.233 98.464 25.958H77.727C76.618 25.958 75.574 25.527 74.787 24.744C73.995 23.955 73.558 22.905 73.558 21.788V2H73.795C74.915 2 75.966 2.438 76.754 3.232ZM94.429 122H6.57C4.271 122 2.401 120.129 2.401 117.83V6.169C2.401 3.87 4.271 2 6.57 2H71.558V21.788C71.558 23.441 72.204 24.995 73.375 26.161C74.54 27.32 76.084 27.958 77.722 27.958H98.599V117.83C98.599 120.129 96.728 122 94.429 122Z" fill="#8D8D8D"/></svg>',add_guide:'<svg width="11" height="15" viewBox="0 0 11 15" fill="none" ><path class="mgPlayerJSProd_icon-path" d="M0.8 14.1723V0.827986L9.94822 7.47499L9.98205 7.49957L9.98274 7.49997L9.98244 7.50014L9.9482 7.52502L0.8 14.1723Z" fill="white" stroke="#757575" stroke-width="1.6" /></svg>',add_onboarding_guide:'<svg width="21" height="14" viewBox="0 0 21 14" fill="none"><path d="M4.60538 0.000854492C4.60488 0.000854492 4.60433 0.000854492 4.60384 0.000854492C4.43052 0.000854492 4.26751 0.0684164 4.14441 0.1912C4.01997 0.315341 3.95142 0.480637 3.95142 0.656606V10.4895C3.95142 10.8501 4.24591 11.1441 4.60797 11.1451C6.13431 11.1487 8.69155 11.4668 10.4557 13.313V3.02257C10.4557 2.90034 10.4245 2.78552 10.3655 2.6905C8.91762 0.358717 6.13518 0.00443311 4.60538 0.000854492Z" fill="#757575" stroke-width="0" /><path d="M17.9786 10.4887V0.655752C17.9786 0.479782 17.91 0.314487 17.7856 0.190346C17.6625 0.0675619 17.4993 0 17.3262 0C17.3257 0 17.3251 0 17.3246 0C15.7949 0.00364032 13.0124 0.357924 11.5644 2.6897C11.5055 2.78472 11.4744 2.89955 11.4744 3.02178V13.3121C13.2385 11.466 15.7957 11.1478 17.3221 11.1442C17.6841 11.1433 17.9786 10.8492 17.9786 10.4887Z" fill="#757575" stroke-width="0" /><path d="M20.3442 0.522385H19.8687V10.4886C19.8687 11.4093 19.1186 12.16 18.1966 12.1623C16.9019 12.1653 14.7672 12.4185 13.2554 13.8494C15.8701 13.2092 18.6265 13.6254 20.1974 13.9833C20.3935 14.028 20.5962 13.9819 20.7534 13.8566C20.91 13.7317 20.9998 13.5449 20.9998 13.3444V1.17801C20.9999 0.81651 20.7057 0.522385 20.3442 0.522385Z" fill="#757575" stroke-width="0" /><path d="M2.06078 10.4886V0.522385H1.58532C1.22387 0.522385 0.929688 0.81651 0.929688 1.17801V13.3443C0.929688 13.5448 1.01952 13.7315 1.17612 13.8564C1.33315 13.9816 1.53565 14.028 1.7321 13.9832C3.30299 13.6251 6.05946 13.209 8.67407 13.8492C7.16229 12.4184 5.02758 12.1653 3.73292 12.1622C2.81093 12.16 2.06078 11.4093 2.06078 10.4886Z" fill="#757575" stroke-width="0" /></svg>',add_tooltip:'<svg width="12" height="21" viewBox="0 0 12 21" fill="none" ><path d="M7.575 18.75C7.575 19.6198 6.86985 20.325 6 20.325C5.13015 20.325 4.425 19.6198 4.425 18.75C4.425 17.8802 5.13015 17.175 6 17.175C6.86985 17.175 7.575 17.8802 7.575 18.75Z" fill="#757575" stroke="white" stroke-width="0.6" /><path d="M7.42497 11.5197L7.2 11.5778V11.8102V14.25C7.2 14.9128 6.66277 15.45 6 15.45C5.33724 15.45 4.8 14.9128 4.8 14.25V10.5C4.8 9.83724 5.33724 9.3 6 9.3C7.81989 9.3 9.3 7.81989 9.3 6C9.3 4.18011 7.81989 2.7 6 2.7C4.18012 2.7 2.7 4.18011 2.7 6C2.7 6.66276 2.16276 7.2 1.5 7.2C0.837235 7.2 0.3 6.66276 0.3 6C0.3 2.85729 2.85729 0.3 6 0.3C9.14271 0.3 11.7 2.85729 11.7 6C11.7 8.6503 9.88098 10.8853 7.42497 11.5197Z" fill="#757575" stroke="white" stroke-width="0" /></svg>',add_insights_guide:'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="visible" preserveAspectRatio="none" viewBox="0 0 16.999995193303935 26.000029999999995" width="16.999995193303935" height="26.000029999999995"><g transform="translate(0, 0)"><g transform="translate(-0.000004806696064889315, 0.00002999999999708791) rotate(0)"><path d="M15.65237,3.73554c0.87194,1.40549 1.34763,3.16115 1.34763,5.18619c0,2.1285 -0.81533,3.71964 -2.65122,5.95104c-0.15482,0.18818 -0.31886,0.36619 -0.53422,0.58544c-0.02151,0.0219 -0.37957,0.38147 -0.47442,0.48032c-0.24414,0.25442 -0.39765,0.44414 -0.50071,0.62493c-0.15391,0.26999 -0.28929,0.57292 -0.40771,0.90571c-0.1753,0.49262 -0.30343,1.01497 -0.41234,1.61743c0.01428,-0.07897 -0.15708,0.9616 -0.20801,1.11826c-0.02411,0.07416 -0.05281,0.14114 -0.09832,0.21215c-0.12161,0.1897 -0.31015,0.33578 -0.59928,0.33578h-2.75775h-1.5602h-0.68593c-0.3058,0 -0.5753,-0.20561 -0.66285,-0.50604l-0.00048,-0.00164l-0.00201,-0.00686l-0.0081,-0.02759c-0.00899,-0.03058 -0.01954,-0.06627 -0.03155,-0.10671c-0.03442,-0.11588 -0.07359,-0.24626 -0.11677,-0.38815c-0.12336,-0.40535 -0.25391,-0.82105 -0.38563,-1.22288c-0.35355,-1.07856 -0.66338,-1.88572 -0.81041,-2.09772c-0.43227,-0.62329 -0.66257,-0.89366 -1.46172,-1.76741c-0.15842,-0.17321 -0.27165,-0.29906 -0.3853,-0.42939c-0.19594,-0.2247 -0.36991,-0.4372 -0.53924,-0.6616c-1.31404,-1.74132 -1.83327,-3.40878 -1.67972,-5.60419c0.12886,-1.84243 0.90827,-3.77737 2.19035,-5.24244c1.49779,-1.71156 3.56943,-2.6902 6.05753,-2.6902c2.24905,0 4.15897,0.62725 5.6133,1.76328l-1.04996,0.96788c-1.19389,-0.85352 -2.73777,-1.31507 -4.56333,-1.31507c-2.0886,0 -3.78793,0.80276 -5.02732,2.21904c-1.07416,1.22747 -1.73361,2.8646 -1.8409,4.39864c-0.1287,1.84012 0.28403,3.16554 1.39465,4.6373c0.14799,0.19611 0.30122,0.38328 0.47648,0.58427c0.10495,0.12035 0.21156,0.23884 0.36314,0.40457c0.8408,0.91929 1.10014,1.22375 1.57988,1.91549c0.2618,0.37749 0.58479,1.21894 0.9939,2.467c0.13521,0.41249 0.26876,0.83769 0.3949,1.25219c0.00431,0.01415 0.00857,0.02819 0.0128,0.04212h3.4226c0.24887,0 0.40927,0 0.52926,0c0.03712,-0.21948 0.07604,-0.45324 0.0859,-0.50782c0.12173,-0.67332 0.26742,-1.26728 0.4728,-1.84445c0.14532,-0.40839 0.3147,-0.7874 0.51271,-1.13476c0.17228,-0.30222 0.39109,-0.57262 0.70862,-0.90354c0.10554,-0.10998 0.47231,-0.47831 0.4858,-0.49204c0.18899,-0.1924 0.32742,-0.34263 0.45164,-0.49361c1.64372,-1.99783 2.32594,-3.3292 2.32594,-5.03875c0,-1.64836 -0.35229,-3.07184 -1.00982,-4.22253zM7.75975,2.1215l0.25902,0.92478c-0.73685,0.06128 -1.46135,0.26253 -2.13457,0.616l-0.63581,-0.72293c0.78886,-0.45457 1.64208,-0.72179 2.51136,-0.81785zM8.70846,2.08373c0.89838,0.02654 1.79526,0.22751 2.63832,0.58537l-0.35319,0.87207c-0.64752,-0.27487 -1.32989,-0.44377 -2.01611,-0.49694zM4.47095,3.46626l0.61927,0.70413c-0.12014,0.09215 -0.23781,0.19012 -0.35271,0.29398c-0.66965,0.60527 -1.15997,1.27948 -1.47309,2.02738l-0.86766,-0.32331c0.36545,-0.89444 0.943,-1.70004 1.73045,-2.41179c0.11245,-0.10164 0.22709,-0.19841 0.34374,-0.2904zM2.10842,7.06565l0.87257,0.32514c-0.11145,0.5082 -0.15269,1.04646 -0.12423,1.61599l-0.92093,0.04823c-0.03497,-0.6999 0.02277,-1.3635 0.17259,-1.98935zM5.61445,22.0664h5.99385c0.4244,0 0.76844,0.35223 0.76844,0.78672c0,0.43449 -0.34404,0.78672 -0.76844,0.78672h-5.99385c-0.4244,0 -0.76844,-0.35223 -0.76844,-0.78672c0,-0.43449 0.34404,-0.78672 0.76844,-0.78672zM6.07552,24.42656h5.22541v0.31469c0,0.69519 -0.55047,1.25875 -1.22951,1.25875h-2.76639c-0.67904,0 -1.22951,-0.56356 -1.22951,-1.25875zM8.7903,7.6049c0.01805,-0.00942 0.0422,-0.01413 0.07247,-0.01413c0.26935,0 2.67979,-2.29424 7.23131,-6.88272l-6.37323,7.7417c0.02813,0.10209 0.04319,0.2098 0.04319,0.3211c0,0.65174 -0.51606,1.18008 -1.15266,1.18008c-0.6366,0 -1.15266,-0.52834 -1.15266,-1.18008c0,-0.65174 0.51606,-1.18008 1.15266,-1.18008c0.06086,0 0.12062,0.00483 0.17893,0.01413z" style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter;" vector-effect="non-scaling-stroke" /></g><defs><path id="path-165218118370987" d="M15.65237,3.73554c0.87194,1.40549 1.34763,3.16115 1.34763,5.18619c0,2.1285 -0.81533,3.71964 -2.65122,5.95104c-0.15482,0.18818 -0.31886,0.36619 -0.53422,0.58544c-0.02151,0.0219 -0.37957,0.38147 -0.47442,0.48032c-0.24414,0.25442 -0.39765,0.44414 -0.50071,0.62493c-0.15391,0.26999 -0.28929,0.57292 -0.40771,0.90571c-0.1753,0.49262 -0.30343,1.01497 -0.41234,1.61743c0.01428,-0.07897 -0.15708,0.9616 -0.20801,1.11826c-0.02411,0.07416 -0.05281,0.14114 -0.09832,0.21215c-0.12161,0.1897 -0.31015,0.33578 -0.59928,0.33578h-2.75775h-1.5602h-0.68593c-0.3058,0 -0.5753,-0.20561 -0.66285,-0.50604l-0.00048,-0.00164l-0.00201,-0.00686l-0.0081,-0.02759c-0.00899,-0.03058 -0.01954,-0.06627 -0.03155,-0.10671c-0.03442,-0.11588 -0.07359,-0.24626 -0.11677,-0.38815c-0.12336,-0.40535 -0.25391,-0.82105 -0.38563,-1.22288c-0.35355,-1.07856 -0.66338,-1.88572 -0.81041,-2.09772c-0.43227,-0.62329 -0.66257,-0.89366 -1.46172,-1.76741c-0.15842,-0.17321 -0.27165,-0.29906 -0.3853,-0.42939c-0.19594,-0.2247 -0.36991,-0.4372 -0.53924,-0.6616c-1.31404,-1.74132 -1.83327,-3.40878 -1.67972,-5.60419c0.12886,-1.84243 0.90827,-3.77737 2.19035,-5.24244c1.49779,-1.71156 3.56943,-2.6902 6.05753,-2.6902c2.24905,0 4.15897,0.62725 5.6133,1.76328l-1.04996,0.96788c-1.19389,-0.85352 -2.73777,-1.31507 -4.56333,-1.31507c-2.0886,0 -3.78793,0.80276 -5.02732,2.21904c-1.07416,1.22747 -1.73361,2.8646 -1.8409,4.39864c-0.1287,1.84012 0.28403,3.16554 1.39465,4.6373c0.14799,0.19611 0.30122,0.38328 0.47648,0.58427c0.10495,0.12035 0.21156,0.23884 0.36314,0.40457c0.8408,0.91929 1.10014,1.22375 1.57988,1.91549c0.2618,0.37749 0.58479,1.21894 0.9939,2.467c0.13521,0.41249 0.26876,0.83769 0.3949,1.25219c0.00431,0.01415 0.00857,0.02819 0.0128,0.04212h3.4226c0.24887,0 0.40927,0 0.52926,0c0.03712,-0.21948 0.07604,-0.45324 0.0859,-0.50782c0.12173,-0.67332 0.26742,-1.26728 0.4728,-1.84445c0.14532,-0.40839 0.3147,-0.7874 0.51271,-1.13476c0.17228,-0.30222 0.39109,-0.57262 0.70862,-0.90354c0.10554,-0.10998 0.47231,-0.47831 0.4858,-0.49204c0.18899,-0.1924 0.32742,-0.34263 0.45164,-0.49361c1.64372,-1.99783 2.32594,-3.3292 2.32594,-5.03875c0,-1.64836 -0.35229,-3.07184 -1.00982,-4.22253zM7.75975,2.1215l0.25902,0.92478c-0.73685,0.06128 -1.46135,0.26253 -2.13457,0.616l-0.63581,-0.72293c0.78886,-0.45457 1.64208,-0.72179 2.51136,-0.81785zM8.70846,2.08373c0.89838,0.02654 1.79526,0.22751 2.63832,0.58537l-0.35319,0.87207c-0.64752,-0.27487 -1.32989,-0.44377 -2.01611,-0.49694zM4.47095,3.46626l0.61927,0.70413c-0.12014,0.09215 -0.23781,0.19012 -0.35271,0.29398c-0.66965,0.60527 -1.15997,1.27948 -1.47309,2.02738l-0.86766,-0.32331c0.36545,-0.89444 0.943,-1.70004 1.73045,-2.41179c0.11245,-0.10164 0.22709,-0.19841 0.34374,-0.2904zM2.10842,7.06565l0.87257,0.32514c-0.11145,0.5082 -0.15269,1.04646 -0.12423,1.61599l-0.92093,0.04823c-0.03497,-0.6999 0.02277,-1.3635 0.17259,-1.98935zM5.61445,22.0664h5.99385c0.4244,0 0.76844,0.35223 0.76844,0.78672c0,0.43449 -0.34404,0.78672 -0.76844,0.78672h-5.99385c-0.4244,0 -0.76844,-0.35223 -0.76844,-0.78672c0,-0.43449 0.34404,-0.78672 0.76844,-0.78672zM6.07552,24.42656h5.22541v0.31469c0,0.69519 -0.55047,1.25875 -1.22951,1.25875h-2.76639c-0.67904,0 -1.22951,-0.56356 -1.22951,-1.25875zM8.7903,7.6049c0.01805,-0.00942 0.0422,-0.01413 0.07247,-0.01413c0.26935,0 2.67979,-2.29424 7.23131,-6.88272l-6.37323,7.7417c0.02813,0.10209 0.04319,0.2098 0.04319,0.3211c0,0.65174 -0.51606,1.18008 -1.15266,1.18008c-0.6366,0 -1.15266,-0.52834 -1.15266,-1.18008c0,-0.65174 0.51606,-1.18008 1.15266,-1.18008c0.06086,0 0.12062,0.00483 0.17893,0.01413z" vector-effect="non-scaling-stroke" /></defs></g></svg>',guide_bot:'<svg width="24" height="23" viewBox="0 0 24 23" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.8 16.8H8.7L6.4 18.7V16.8H4C2.8 16.8 1.8 15.8 1.8 14.6V4C1.8 2.8 2.8 1.7 4 1.7H14.5C15.7 1.7 16.7 2.7 16.7 4V6H18.4V4C18.4 1.8 16.6 0 14.4 0H4C1.8 0 0 1.8 0 4V14.5C0 16.7 1.8 18.5 4 18.4H4.7V22.1L7 20.3L9.3 18.5H10.2C10 18 9.9 17.5 9.9 17V16.8H9.8Z" fill="#454560"/><path d="M20.8004 7.09961H13.6004C12.1004 7.09961 10.9004 8.29961 10.9004 9.79961V16.9996C10.9004 18.4996 12.1004 19.6996 13.6004 19.6996H17.2004L18.7004 20.8996L20.3004 22.1996V19.6996H20.8004C22.3004 19.6996 23.5004 18.4996 23.5004 16.9996V9.79961C23.4004 8.29961 22.2004 7.09961 20.8004 7.09961Z" fill="#454560"/></svg>',import:'<svg  width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M6.73098 9.26951C7.00079 9.53934 7.43781 9.53933 7.70761 9.26949L14.8481 2.12904C14.8481 2.12903 14.8481 2.12903 14.8481 2.12902C15.118 1.85941 15.1179 1.42198 14.8481 1.15237C14.7134 1.01748 14.5365 0.950015 14.3598 0.950015C14.1833 0.950015 14.0064 1.0175 13.8714 1.15238L13.9068 1.18774L13.8714 1.15239L6.73098 8.29284C6.46112 8.56245 6.46112 8.9999 6.73098 9.26951Z" fill="#6F708B" stroke="#6F708B" stroke-width="0.1"/><path d="M7.2187 9.47188L11.853 9.47188C12.2345 9.47188 12.5437 9.16269 12.5437 8.78117C12.5437 8.39968 12.2345 8.0905 11.853 8.0905H7.90937L7.90937 4.14689C7.90937 3.7654 7.60018 3.45621 7.2187 3.45621C6.83721 3.45621 6.52799 3.7654 6.52799 4.14689L6.52799 8.78117C6.52799 9.16269 6.83718 9.47188 7.2187 9.47188Z" fill="#6F708B" stroke="#6F708B" stroke-width="0.1"/><path d="M15.1806 6.9153C14.7991 6.9153 14.4899 7.22449 14.4899 7.60598V13.6676H2.33138V1.50911H8.39302C8.77451 1.50911 9.0837 1.19992 9.0837 0.81844C9.0837 0.436958 8.77451 0.127734 8.39302 0.127734H1.64071C1.25919 0.127734 0.95 0.436922 0.95 0.81844V14.3583C0.95 14.7398 1.25919 15.049 1.64071 15.049H15.1806C15.5623 15.049 15.8713 14.7398 15.8713 14.3583V7.60598C15.8713 7.22449 15.5621 6.9153 15.1806 6.9153Z" fill="#6F708B" stroke="#6F708B" stroke-width="0.1"/></svg>',iconPasteTour:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><g><path d="M34.2,48.5H9c-1.9,0-3.4-1.5-3.4-3.4V12.2c0-1.9,1.5-3.4,3.4-3.4h3.2c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H9c-1.1,0-2,0.9-2,2v32.9c0,1.1,0.9,2,2,2h25.3c1.1,0,2-0.9,2-2v-3.2c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v3.2C37.6,47,36.1,48.5,34.2,48.5z"/><path d="M34.2,48.9H9c-2.1,0-3.8-1.7-3.8-3.8V12.2c0-2.1,1.7-3.8,3.8-3.8h3.2c0.6,0,1.1,0.5,1.1,1.1c0,0.6-0.5,1.1-1.1,1.1H9c-0.9,0-1.7,0.7-1.7,1.7v32.9c0,0.9,0.7,1.7,1.7,1.7h25.3c0.9,0,1.7-0.7,1.7-1.7v-3.2c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1v3.2C38,47.2,36.3,48.9,34.2,48.9z M9,9.2c-1.7,0-3,1.4-3,3v32.9c0,1.7,1.4,3,3,3h25.3c1.7,0,3-1.4,3-3v-3.2c0-0.2-0.1-0.3-0.3-0.3c-0.2,0-0.3,0.1-0.3,0.3v3.2c0,1.3-1.1,2.4-2.4,2.4H9c-1.3,0-2.4-1.1-2.4-2.4V12.2c0-1.3,1.1-2.4,2.4-2.4h3.2c0.2,0,0.3-0.1,0.3-0.3c0-0.2-0.1-0.3-0.3-0.3H9z"/></g></g></g><g><g><g><path d="M41,41.2H15.8c-1.9,0-3.4-1.5-3.4-3.4V4.9c0-1.9,1.5-3.4,3.4-3.4h18.5c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H15.8c-1.1,0-2,0.9-2,2v32.9c0,1.1,0.9,2,2,2H41c1.1,0,2-0.9,2-2V11.9c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v25.9C44.4,39.7,42.9,41.2,41,41.2z"/><path d="M41,41.6H15.8c-2.1,0-3.8-1.7-3.8-3.8V4.9c0-2.1,1.7-3.8,3.8-3.8h18.5c0.6,0,1.1,0.5,1.1,1.1s-0.5,1.1-1.1,1.1H15.8c-0.9,0-1.7,0.7-1.7,1.7v32.9c0,0.9,0.7,1.7,1.7,1.7H41c0.9,0,1.7-0.7,1.7-1.7V11.9c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1v25.9C44.8,39.9,43.1,41.6,41,41.6z M15.8,1.9c-1.7,0-3,1.4-3,3v32.9c0,1.7,1.4,3,3,3H41c1.7,0,3-1.4,3-3V11.9c0-0.2-0.1-0.3-0.3-0.3s-0.3,0.1-0.3,0.3v25.9c0,1.3-1.1,2.4-2.4,2.4H15.8c-1.3,0-2.4-1.1-2.4-2.4V4.9c0-1.3,1.1-2.4,2.4-2.4h18.5c0.2,0,0.3-0.1,0.3-0.3s-0.1-0.3-0.3-0.3H15.8z"/></g><g><path d="M43.7,12.6h-9.5c-0.4,0-0.7-0.3-0.7-0.7V2.4c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v8.8h8.8c0.4,0,0.7,0.3,0.7,0.7C44.4,12.3,44.1,12.6,43.7,12.6z"/><path d="M43.7,13h-9.5c-0.6,0-1.1-0.5-1.1-1.1V2.4c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1v8.4h8.4c0.6,0,1.1,0.5,1.1,1.1S44.3,13,43.7,13z M34.3,2.1c-0.2,0-0.3,0.1-0.3,0.3v9.5c0,0.2,0.1,0.3,0.3,0.3h9.5c0.2,0,0.3-0.1,0.3-0.3s-0.1-0.3-0.3-0.3h-9.2V2.4C34.6,2.3,34.4,2.1,34.3,2.1z"/></g><g><path d="M43.7,12.6c-0.2,0-0.4-0.1-0.5-0.2l-9.5-9.7c-0.3-0.3-0.3-0.7,0-1c0.3-0.3,0.7-0.3,1,0l9.5,9.7c0.3,0.3,0.3,0.7,0,1C44.1,12.5,43.9,12.6,43.7,12.6z"/><path d="M43.7,13c-0.3,0-0.6-0.1-0.8-0.3l-9.5-9.7c-0.4-0.4-0.4-1.1,0-1.5C34,1,34.6,1,35,1.5l9.5,9.7c0.4,0.4,0.4,1.1,0,1.5C44.3,12.9,44,13,43.7,13z M34.3,1.9c-0.1,0-0.2,0-0.2,0.1c-0.1,0.1-0.1,0.3,0,0.4l9.5,9.7c0.1,0.1,0.3,0.1,0.4,0c0.1-0.1,0.1-0.3,0-0.4L34.5,2C34.4,1.9,34.4,1.9,34.3,1.9z"/></g></g></g></g></svg>',iconEdit:'<svg version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 50 50" xml:space="preserve" width="16" height="16"><g><g><g><path d="M43.1,29c-1.1,0-2,0.9-2,2v12.1c0,1.4-1.1,2.5-2.5,2.5H6.9c-1.4,0-2.5-1.1-2.5-2.5V11.5c0-1.4,1.1-2.5,2.5-2.5H19c1.1,0,2-0.9,2-2s-0.9-2-2-2H6.9c-3.6,0-6.5,2.9-6.5,6.5v31.6c0,3.6,2.9,6.5,6.5,6.5h31.6c3.6,0,6.5-2.9,6.5-6.5V31C45.1,29.9,44.2,29,43.1,29z" fill="#6F708B"></path></g></g><g><g><path d="M49,10l-9-9c-0.8-0.8-2-0.8-2.8,0L14.6,23.6C14.2,24,14,24.5,14,25v9c0,1.1,0.9,2,2,2h9c0.5,0,1-0.2,1.4-0.6L49,12.9c0.4-0.4,0.6-0.9,0.6-1.4C49.6,10.9,49.4,10.4,49,10z M24.2,32H18v-6.2L38.5,5.2l6.2,6.2L24.2,32z" fill="#6F708B"></path></g></g></g></svg>',export:'<svg  width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M10.7072 8.26949L10.7072 8.26949L16.8476 2.12903C16.8476 2.12903 16.8476 2.12902 16.8476 2.12902C17.1175 1.8594 17.1175 1.42197 16.8476 1.15236C16.5778 0.882539 16.1408 0.882546 15.871 1.15238L9.73052 7.29284C9.73052 7.29284 9.73051 7.29285 9.7305 7.29285C9.46066 7.56246 9.46067 7.9999 9.73052 8.2695C9.86522 8.4044 10.0421 8.47186 10.2188 8.47186C10.3954 8.47186 10.5723 8.40437 10.7072 8.26949Z" fill="#6F708B" stroke="#6F708B" stroke-width="0.1"/><path d="M16.3599 0.95L11.7256 0.95C11.3441 0.95 11.035 1.25919 11.035 1.64071C11.035 2.02219 11.3441 2.33138 11.7256 2.33138H15.6692V6.27499C15.6692 6.65647 15.9784 6.96566 16.3599 6.96566C16.7414 6.96566 17.0506 6.65648 17.0506 6.27499V1.64071C17.0506 1.25919 16.7414 0.95 16.3599 0.95Z" fill="#6F708B" stroke="#6F708B" stroke-width="0.1"/><path d="M15.1806 8.9153C14.7991 8.9153 14.4899 9.22449 14.4899 9.60598V15.6676H2.33138V3.50911H8.39302C8.77451 3.50911 9.0837 3.19992 9.0837 2.81844C9.0837 2.43696 8.77451 2.12773 8.39302 2.12773H1.64071C1.25919 2.12773 0.95 2.43692 0.95 2.81844V16.3583C0.95 16.7398 1.25919 17.049 1.64071 17.049H15.1806C15.5623 17.049 15.8713 16.7398 15.8713 16.3583V9.60598C15.8713 9.22449 15.5621 8.9153 15.1806 8.9153Z" fill="#6F708B" stroke="#6F708B" stroke-width="0.1"/></svg>',unlocked_guide:'<svg width="12px" height="16px" viewBox="0 0 12 16" version="1.1"  ><g class="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="UI-Icon/unlocked/$ui-05" fill="#5A6872" fill-rule="nonzero"><path d="M2.5,7 L2.5,3.5 C2.5,1.56700338 4.06700338,3.88578059e-16 6,0 C7.93299662,-3.23815049e-16 9.5,1.56700338 9.5,3.5 L9.5,4 L8.5,4 L8.5,3.5 C8.5,2.11928813 7.38071187,1 6,1 C4.61928813,1 3.5,2.11928813 3.5,3.5 L3.5,7 L10.5,7 C11.3284271,7 12,7.67157288 12,8.5 L12,14.5 C12,15.3284271 11.3284271,16 10.5,16 L1.5,16 C0.671572875,16 0,15.3284271 0,14.5 L0,8.5 C0,7.67157288 0.671572875,7 1.5,7 L2.5,7 Z M1.5,8 C1.22385763,8 1,8.22385763 1,8.5 L1,14.5 C1,14.7761424 1.22385763,15 1.5,15 L10.5,15 C10.7761424,15 11,14.7761424 11,14.5 L11,8.5 C11,8.22385763 10.7761424,8 10.5,8 L1.5,8 Z" class="combined-shape"></path></g></g></svg>',iconEmbedGuide:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="15" height="15"><g><path d="M31,7.3l-1.6-0.5c-0.2-0.1-0.4,0-0.6,0.1c-0.2,0.1-0.3,0.3-0.4,0.5l-9.9,34.3c-0.1,0.2,0,0.4,0.1,0.7c0.1,0.2,0.3,0.3,0.5,0.4l1.6,0.5c0.2,0.1,0.4,0,0.6-0.1c0.2-0.1,0.3-0.3,0.4-0.5l9.9-34.3c0.1-0.2,0-0.4-0.1-0.7C31.4,7.5,31.2,7.3,31,7.3z" fill="#757575"/><path d="M16.2,13.9c0-0.2-0.1-0.4-0.3-0.6L14.6,12c-0.2-0.2-0.4-0.3-0.6-0.3c-0.2,0-0.4,0.1-0.6,0.3L1,24.4c-0.2,0.2-0.3,0.4-0.3,0.6c0,0.2,0.1,0.4,0.3,0.6L13.3,38c0.2,0.2,0.4,0.3,0.6,0.3s0.4-0.1,0.6-0.3l1.3-1.3c0.2-0.2,0.3-0.4,0.3-0.6c0-0.2-0.1-0.4-0.3-0.6L5.4,25l10.4-10.4C16.1,14.4,16.2,14.2,16.2,13.9z" fill="#757575"/><path d="M49,24.4L36.7,12c-0.2-0.2-0.4-0.3-0.6-0.3c-0.2,0-0.4,0.1-0.6,0.3l-1.3,1.3c-0.2,0.2-0.3,0.4-0.3,0.6c0,0.2,0.1,0.4,0.3,0.6L44.6,25L34.1,35.4c-0.2,0.2-0.3,0.4-0.3,0.6c0,0.2,0.1,0.4,0.3,0.6l1.3,1.3c0.2,0.2,0.4,0.3,0.6,0.3c0.2,0,0.4-0.1,0.6-0.3L49,25.6c0.2-0.2,0.3-0.4,0.3-0.6C49.3,24.8,49.2,24.6,49,24.4z" fill="#757575"/></g></svg>',copyGuide:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 450 514" width="14" height="16"><g transform="translate(1, 1)"><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z" vector-effect="non-scaling-stroke" /></g></svg>',history:'<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1"  ><g class="3.-Style" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="UI-Icons" transform="translate(-571.000000, -535.000000)" fill="#4D4D4D"><g class="Group" transform="translate(571.000000, 535.000000)"><path d="M7.66676667,0 C4.76476667,0 2.06576667,1.60966667 0.666766667,4.13233333 L0.666766667,0.666666667 C0.666766667,0.482333333 0.517766667,0.333333333 0.333433333,0.333333333 C0.1491,0.333333333 0.0001,0.482333333 0.0001,0.666666667 L0.0001,5 C0.0001,5.18433333 0.1491,5.33333333 0.333433333,5.33333333 L4.66676667,5.33333333 C4.8511,5.33333333 5.0001,5.18433333 5.0001,5 C5.0001,4.81566667 4.8511,4.66666667 4.66676667,4.66666667 L1.1381,4.66666667 C2.3841,2.23266667 4.92643333,0.666666667 7.66676667,0.666666667 C11.7104333,0.666666667 15.0001,3.95633333 15.0001,8 C15.0001,12.0436667 11.7104333,15.3333333 7.66676667,15.3333333 C4.57776667,15.3333333 1.6281,13.009 0.652433333,9.80666667 C0.598766667,9.63066667 0.4131,9.53133333 0.236433333,9.58466667 C0.0604333333,9.63833333 -0.0389,9.82466667 0.0144333333,10.0006667 C1.07376667,13.477 4.29176667,16 7.66676667,16 C12.0777667,16 15.6667667,12.411 15.6667667,8 C15.6667667,3.589 12.0777667,0 7.66676667,0" class="Fill-6"></path><path d="M7.64922281,2.33333333 C7.47459123,2.33333333 7.33343333,2.47449123 7.33343333,2.64912281 L7.33343333,8.01754386 C7.33343333,8.19217544 7.47459123,8.33333333 7.64922281,8.33333333 L11.4386965,8.33333333 C11.6133281,8.33333333 11.754486,8.19217544 11.754486,8.01754386 C11.754486,7.84291228 11.6133281,7.70175439 11.4386965,7.70175439 L7.96501228,7.70175439 L7.96501228,2.64912281 C7.96501228,2.47449123 7.82385439,2.33333333 7.64922281,2.33333333" class="Fill-8"></path></g></g></g></svg>',analytics:'<svg class="mgPlayerJSProd_width-height-100" viewBox="0 0 16 15" fill="none"><rect x="13" width="1.3" height="15" rx="0.9" fill="#666666" /><rect y="15" width="1.3" height="16" rx="0.9" transform="rotate(-90 0 15)" fill="#666666" /><rect x="9" y="4" width="1.3" height="11" rx="0.9" fill="#666666" /><rect x="5" y="8" width="1.3" height="7" rx="0.9" fill="#666666" /><rect x="1" y="6" width="1.3" height="9" rx="0.9" fill="#666666" /></svg>',start_guide_automation_icon:'<svg height="16" overflow="visible" viewBox="0 0 15.999990000000025 16" width="15.999990000000025"><g><defs><path id="path-16859622317613276" d="M14.92308,6h-1.46154c-0.07692,0 -0.23077,-0.07692 -0.23077,-0.15385c0,-0.07692 0,-0.23077 0.07692,-0.30769l1,-1c0.38462,-0.46154 0.38462,-1.07692 0,-1.53846l-1.30769,-1.30769c-0.46154,-0.38462 -1.07692,-0.38462 -1.53846,0l-1,1c-0.07692,0.07692 -0.15385,0.07692 -0.30769,0.07692c-0.07692,0 -0.15385,-0.15385 -0.15385,-0.23077v-1.46154c0,-0.61538 -0.53846,-1.07692 -1.07692,-1.07692h-1.84615c-0.61538,0 -1.07692,0.46154 -1.07692,1.07692v1.46154c0,0.07692 -0.07692,0.23077 -0.15385,0.23077c-0.07692,0 -0.23077,0 -0.30769,-0.07692l-1,-1c-0.46154,-0.38462 -1.07692,-0.38462 -1.53846,0l-1.30769,1.30769c-0.38462,0.46154 -0.38462,1.07692 0,1.53846l1,1c0.07692,0.07692 0.07692,0.15385 0.07692,0.30769c0,0.07692 -0.15385,0.15385 -0.23077,0.15385h-1.46154c-0.61538,0 -1.07692,0.53846 -1.07692,1.15385v1.84615c0,0.61538 0.46154,1.07692 1.07692,1.07692h1.46154c0.07692,0 0.23077,0.07692 0.23077,0.15385c0,0.07692 0,0.23077 -0.07692,0.30769l-1,1c-0.38462,0.46154 -0.38462,1.07692 0,1.53846l1.30769,1.30769c0.46154,0.38462 1.07692,0.38462 1.53846,0l1,-1c0.07692,-0.07692 0.15385,-0.07692 0.30769,-0.07692c0.07692,0 0.15385,0.15385 0.15385,0.23077v1.38462c0,0.61538 0.46154,1.07692 1.07692,1.07692v0h1.84615c0.61538,0 1.07692,-0.46154 1.07692,-1.07692v0v-1.46154c0,-0.07692 0.07692,-0.23077 0.15385,-0.23077c0.07692,0 0.23077,0 0.30769,0.07692l1,1c0.46154,0.38462 1.07692,0.38462 1.53846,0l1.30769,-1.30769c0.38462,-0.46154 0.38462,-1.07692 0,-1.53846l-1,-1c-0.07692,-0.07692 -0.07692,-0.15385 -0.07692,-0.30769c0,-0.07692 0.15385,-0.15385 0.23077,-0.15385h1.46154c0.61538,0 1.07692,-0.46154 1.07692,-1.07692v0v-1.84615c0,-0.61538 -0.46154,-1.07692 -1.07692,-1.07692zM12.15385,9.69231c-0.23077,0.53846 -0.07692,1.15385 0.30769,1.53846l0.92308,1l-1.15385,1.15385l-0.92308,-0.92308c-0.38462,-0.38462 -1,-0.53846 -1.53846,-0.30769c-0.53846,0.23077 -0.92308,0.76923 -0.84615,1.30769v1.38462h-1.69231v-1.30769c0,-0.61538 -0.30769,-1.07692 -0.84615,-1.30769c-0.53846,-0.23077 -1.15385,-0.07692 -1.53846,0.30769l-1.07692,0.84615l-1.15385,-1.15385l0.92308,-0.92308c0.53846,-0.53846 0.53846,-1.46154 0,-2c-0.30769,-0.30769 -0.61538,-0.38462 -1,-0.38462h-1.38462v-1.69231h1.38462c0.61538,0 1.07692,-0.30769 1.30769,-0.84615c0.23077,-0.53846 0.07692,-1.15385 -0.30769,-1.53846l-0.92308,-1.07692l1.15385,-1.15385l0.92308,0.92308c0.53846,0.53846 1.46154,0.53846 2,0c0.30769,-0.30769 0.46154,-0.61538 0.38462,-1.07692v-1.30769h1.69231v1.38462c0,0.61538 0.30769,1.07692 0.84615,1.30769c0.53846,0.23077 1.15385,0.07692 1.53846,-0.30769l1.07692,-0.92308l1.15385,1.15385l-0.92308,0.92308c-0.53846,0.53846 -0.53846,1.46154 0,2c0.23077,0.23077 0.61538,0.38462 1,0.38462h1.38462v1.69231h-1.30769c-0.69231,0.07692 -1.15385,0.38462 -1.38462,0.92308z" vector-effect="non-scaling-stroke" /></defs><path d="M14.92308,6h-1.46154c-0.07692,0 -0.23077,-0.07692 -0.23077,-0.15385c0,-0.07692 0,-0.23077 0.07692,-0.30769l1,-1c0.38462,-0.46154 0.38462,-1.07692 0,-1.53846l-1.30769,-1.30769c-0.46154,-0.38462 -1.07692,-0.38462 -1.53846,0l-1,1c-0.07692,0.07692 -0.15385,0.07692 -0.30769,0.07692c-0.07692,0 -0.15385,-0.15385 -0.15385,-0.23077v-1.46154c0,-0.61538 -0.53846,-1.07692 -1.07692,-1.07692h-1.84615c-0.61538,0 -1.07692,0.46154 -1.07692,1.07692v1.46154c0,0.07692 -0.07692,0.23077 -0.15385,0.23077c-0.07692,0 -0.23077,0 -0.30769,-0.07692l-1,-1c-0.46154,-0.38462 -1.07692,-0.38462 -1.53846,0l-1.30769,1.30769c-0.38462,0.46154 -0.38462,1.07692 0,1.53846l1,1c0.07692,0.07692 0.07692,0.15385 0.07692,0.30769c0,0.07692 -0.15385,0.15385 -0.23077,0.15385h-1.46154c-0.61538,0 -1.07692,0.53846 -1.07692,1.15385v1.84615c0,0.61538 0.46154,1.07692 1.07692,1.07692h1.46154c0.07692,0 0.23077,0.07692 0.23077,0.15385c0,0.07692 0,0.23077 -0.07692,0.30769l-1,1c-0.38462,0.46154 -0.38462,1.07692 0,1.53846l1.30769,1.30769c0.46154,0.38462 1.07692,0.38462 1.53846,0l1,-1c0.07692,-0.07692 0.15385,-0.07692 0.30769,-0.07692c0.07692,0 0.15385,0.15385 0.15385,0.23077v1.38462c0,0.61538 0.46154,1.07692 1.07692,1.07692v0h1.84615c0.61538,0 1.07692,-0.46154 1.07692,-1.07692v0v-1.46154c0,-0.07692 0.07692,-0.23077 0.15385,-0.23077c0.07692,0 0.23077,0 0.30769,0.07692l1,1c0.46154,0.38462 1.07692,0.38462 1.53846,0l1.30769,-1.30769c0.38462,-0.46154 0.38462,-1.07692 0,-1.53846l-1,-1c-0.07692,-0.07692 -0.07692,-0.15385 -0.07692,-0.30769c0,-0.07692 0.15385,-0.15385 0.23077,-0.15385h1.46154c0.61538,0 1.07692,-0.46154 1.07692,-1.07692v0v-1.84615c0,-0.61538 -0.46154,-1.07692 -1.07692,-1.07692zM12.15385,9.69231c-0.23077,0.53846 -0.07692,1.15385 0.30769,1.53846l0.92308,1l-1.15385,1.15385l-0.92308,-0.92308c-0.38462,-0.38462 -1,-0.53846 -1.53846,-0.30769c-0.53846,0.23077 -0.92308,0.76923 -0.84615,1.30769v1.38462h-1.69231v-1.30769c0,-0.61538 -0.30769,-1.07692 -0.84615,-1.30769c-0.53846,-0.23077 -1.15385,-0.07692 -1.53846,0.30769l-1.07692,0.84615l-1.15385,-1.15385l0.92308,-0.92308c0.53846,-0.53846 0.53846,-1.46154 0,-2c-0.30769,-0.30769 -0.61538,-0.38462 -1,-0.38462h-1.38462v-1.69231h1.38462c0.61538,0 1.07692,-0.30769 1.30769,-0.84615c0.23077,-0.53846 0.07692,-1.15385 -0.30769,-1.53846l-0.92308,-1.07692l1.15385,-1.15385l0.92308,0.92308c0.53846,0.53846 1.46154,0.53846 2,0c0.30769,-0.30769 0.46154,-0.61538 0.38462,-1.07692v-1.30769h1.69231v1.38462c0,0.61538 0.30769,1.07692 0.84615,1.30769c0.53846,0.23077 1.15385,0.07692 1.53846,-0.30769l1.07692,-0.92308l1.15385,1.15385l-0.92308,0.92308c-0.53846,0.53846 -0.53846,1.46154 0,2c0.23077,0.23077 0.61538,0.38462 1,0.38462h1.38462v1.69231h-1.30769c-0.69231,0.07692 -1.15385,0.38462 -1.38462,0.92308z" style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter;" transform="translate(-0.000009999999974752427, 0) rotate(0)" vector-effect="non-scaling-stroke" /></g><g><defs><path id="path-16859622317613274" d="M10.372986632509104 8.610908775063042 C10.296149694490518 8.533333020332742 10.142475818453347 8.533333020332742 10.065638880434761 8.610908775063042 C9.988801942416176 8.688484529793337 9.91196500439759 8.766060284523634 9.91196500439759 8.921211793984233 C9.91196500439759 8.921211793984233 9.91196500439759 14.506666134565663 9.91196500439759 14.506666134565663 C9.91196500439759 14.584241889295962 9.988801942416176 14.739393398756558 10.065638880434761 14.816969153486848 C10.142475818453347 14.89454490821715 10.296149694490518 14.89454490821715 10.372986632509104 14.816969153486848 C10.372986632509104 14.816969153486848 13.676974967308304 12.024241983196136 13.676974967308304 12.024241983196136 C13.830648843345474 11.94666622846584 13.830648843345474 11.713938964274945 13.75381190532689 11.558787454814352 C13.75381190532689 11.558787454814352 13.676974967308304 11.481211700084055 13.676974967308304 11.481211700084055 C13.676974967308304 11.481211700084055 10.372986632509104 8.610908775063042 10.372986632509104 8.610908775063042 Z" vector-effect="non-scaling-stroke" /></defs><path d="M6.838477483653378 5.042424057469276 C6.7616405456349185 4.964848302738972 6.607966669597545 4.964848302738972 6.531129731579085 5.042424057469276 C6.454292793560398 5.119999812199552 6.377455855541939 5.1975755669298564 6.377455855541939 5.352727076390465 C6.377455855541939 5.352727076390465 6.377455855541939 10.938181416971872 6.377455855541939 10.938181416971872 C6.377455855541939 11.015757171702205 6.454292793560398 11.170908681162757 6.531129731579085 11.24848443589309 C6.607966669597545 11.326060190623366 6.7616405456349185 11.326060190623366 6.838477483653378 11.24848443589309 C6.838477483653378 11.24848443589309 10.142465818452592 8.455757265602358 10.142465818452592 8.455757265602358 C10.296139694489739 8.378181510872054 10.296139694489739 8.145454246681169 10.21930275647128 7.990302737220588 C10.21930275647128 7.990302737220588 10.142465818452592 7.912726982490284 10.142465818452592 7.912726982490284 C10.142465818452592 7.912726982490284 6.838477483653378 5.042424057469276 6.838477483653378 5.042424057469276 Z" style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter;" vector-effect="non-scaling-stroke" /></g></svg>',draft:'<?xml version="1.0" encoding="UTF-8"?><svg width="22px" height="22px" viewBox="2 0 22 22" version="1.1"  xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="Custom-Preset-2-Copy" transform="translate(-109.000000, -143.000000)" fill="#737394" fill-rule="nonzero"><path d="M113,154 L131,154 C131.552285,154 132,154.447715 132,155 L132,163 C132,163.552285 131.552285,164 131,164 L113,164 C112.447715,164 112,163.552285 112,163 L112,155 C112,154.447715 112.447715,154 113,154 Z M113,155 L113,163 L131,163 L131,155 L113,155 Z M130,153 L114,153 L114,150 C114,149.447715 114.447715,149 115,149 L129,149 C129.552285,149 130,149.447715 130,150 L130,153 Z M129,153 L129,150 L115,150 L115,153 L129,153 Z M127,148 L117,148 L117,146 C117,145.447715 117.447715,145 118,145 L126,145 C126.552285,145 127,145.447715 127,146 L127,148 Z M126,148 L126,146 L118,146 L118,148 L126,148 Z" class="combined-shape"></path></g></g></svg>',iconMoreOption:'<svg width="30" height="30" viewBox="0 0 30 30" fill="none" ><circle r="15" transform="matrix(1 0 0 -1 15 15)" fill="#CEECE7"/><circle cx="12" cy="12" r="2" fill="#2F9987"/><circle cx="19" cy="12" r="2" fill="#2F9987"/><circle cx="12" cy="19" r="2" fill="#2F9987"/><circle cx="19" cy="19" r="2" fill="#2F9987"/></svg>',transfer_guide:'<svg width="22px" height="20px" viewBox="0 0 22 20" version="1.1"  ><g class="Page-1" stroke="none" stroke-width="0.5" fill="none" fill-rule="evenodd"><g class="Myguide-Logo" transform="translate(-15.000000, -115.000000)" fill="#737394" fill-rule="nonzero"><g class="Group" transform="translate(15.000000, 115.000000)"><path d="M11,15.9755997 L11,17.2431641 C11,17.7954488 11.4477153,18.2431641 12,18.2431641 L20,18.2431641 C20.5522847,18.2431641 21,17.7954488 21,17.2431641 L21,7.05541992 L19.1879883,7.05541992 C18.9118459,7.05541992 18.6879883,6.8315623 18.6879883,6.55541992 L18.6879883,4.24316406 L12,4.24316406 L12,8.15782316 C12.0068727,8.19302058 12.010498,8.22961742 12.010498,8.26718178 L12.010498,9.76767006 C12.010498,9.80523442 12.0068727,9.84183125 12,9.87702867 L12,10.5240177 L14.7820935,10.5240177 L15.0818446,9.37420402 C15.1721289,9.02788319 15.5864053,8.88579595 15.8702408,9.10380237 L18.815065,11.3656432 C19.0756424,11.5657857 19.0756424,11.958568 18.815065,12.1587106 L15.8702408,14.4205514 C15.5870742,14.6380441 15.1737729,14.4971985 15.0823441,14.1520505 L14.7836605,13.024506 L12,13.024506 L12,14.2431641 C12,14.9834464 11.5978014,15.6297903 11,15.9755997 Z M10,16.2431641 L2,16.2431641 C0.8954305,16.2431641 0,15.3477336 0,14.2431641 L0,2.24316406 C0,1.13859456 0.8954305,0.243164062 2,0.243164062 L9.56542969,0.243164062 L12,3.15112305 L12,3.24316406 L19.5654297,3.24316406 L22,6.15112305 L22,17.2431641 C22,18.3477336 21.1045695,19.2431641 20,19.2431641 L12,19.2431641 C10.8954305,19.2431641 10,18.3477336 10,17.2431641 L10,16.2431641 Z M11,11.0240177 L11,10.2676701 L8.69917527,10.2676701 L8.43777816,11.3952146 C8.35776298,11.7403625 7.99605663,11.8812081 7.74823952,11.6637155 L5.17103594,9.40187466 C4.94298802,9.20173211 4.94298802,8.8089498 5.17103594,8.60880725 L7.74823952,6.34696643 C7.99664204,6.12896001 8.3592018,6.27104725 8.43821531,6.61736808 L8.70054666,7.76718178 L11,7.76718178 L11,4.05541992 L9.18798828,4.05541992 C8.91184591,4.05541992 8.68798828,3.8315623 8.68798828,3.55541992 L8.68798828,1.24316406 L2,1.24316406 C1.44771525,1.24316406 1,1.69087931 1,2.24316406 L1,14.2431641 C1,14.7954488 1.44771525,15.2431641 2,15.2431641 L10,15.2431641 C10.5522847,15.2431641 11,14.7954488 11,14.2431641 L11,12.524506 L11,11.0240177 Z M12,12.024506 L15.168457,12.024506 C15.3952896,12.024506 15.5937027,12.1772033 15.6517867,12.3964732 L15.8566988,13.1700258 L17.6896604,11.7621769 L15.8592437,10.3562827 L15.6522862,11.1501498 C15.5948801,11.3703538 15.3960208,11.5240177 15.168457,11.5240177 L12,11.5240177 L12,12.024506 Z M11,9.26767006 L11,8.76718178 L8.36241526,8.76718178 C8.16325967,8.76718178 7.98922525,8.61351784 7.93898544,8.39331383 L7.75786374,7.59944677 L6.15594927,9.00534096 L7.76009095,10.4131898 L7.93942259,9.63963726 C7.99025563,9.42036739 8.16389957,9.26767006 8.36241526,9.26767006 L11,9.26767006 Z M9.68798828,1.94733959 L9.68798828,3.05541992 L10.6156834,3.05541992 L9.68798828,1.94733959 Z M19.6879883,4.94733959 L19.6879883,6.05541992 L20.6156834,6.05541992 L19.6879883,4.94733959 Z" class="combined-shape"></path></g></g></g></svg>',iconCopy:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><g><path d="M34.2,48.5H9c-1.9,0-3.4-1.5-3.4-3.4V12.2c0-1.9,1.5-3.4,3.4-3.4h3.2c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H9c-1.1,0-2,0.9-2,2v32.9c0,1.1,0.9,2,2,2h25.3c1.1,0,2-0.9,2-2v-3.2c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v3.2C37.6,47,36.1,48.5,34.2,48.5z"/><path d="M34.2,48.9H9c-2.1,0-3.8-1.7-3.8-3.8V12.2c0-2.1,1.7-3.8,3.8-3.8h3.2c0.6,0,1.1,0.5,1.1,1.1c0,0.6-0.5,1.1-1.1,1.1H9c-0.9,0-1.7,0.7-1.7,1.7v32.9c0,0.9,0.7,1.7,1.7,1.7h25.3c0.9,0,1.7-0.7,1.7-1.7v-3.2c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1v3.2C38,47.2,36.3,48.9,34.2,48.9z M9,9.2c-1.7,0-3,1.4-3,3v32.9c0,1.7,1.4,3,3,3h25.3c1.7,0,3-1.4,3-3v-3.2c0-0.2-0.1-0.3-0.3-0.3c-0.2,0-0.3,0.1-0.3,0.3v3.2c0,1.3-1.1,2.4-2.4,2.4H9c-1.3,0-2.4-1.1-2.4-2.4V12.2c0-1.3,1.1-2.4,2.4-2.4h3.2c0.2,0,0.3-0.1,0.3-0.3c0-0.2-0.1-0.3-0.3-0.3H9z"/></g></g></g><g><g><g><path d="M41,41.2H15.8c-1.9,0-3.4-1.5-3.4-3.4V4.9c0-1.9,1.5-3.4,3.4-3.4h18.5c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H15.8c-1.1,0-2,0.9-2,2v32.9c0,1.1,0.9,2,2,2H41c1.1,0,2-0.9,2-2V11.9c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v25.9C44.4,39.7,42.9,41.2,41,41.2z"/><path d="M41,41.6H15.8c-2.1,0-3.8-1.7-3.8-3.8V4.9c0-2.1,1.7-3.8,3.8-3.8h18.5c0.6,0,1.1,0.5,1.1,1.1s-0.5,1.1-1.1,1.1H15.8c-0.9,0-1.7,0.7-1.7,1.7v32.9c0,0.9,0.7,1.7,1.7,1.7H41c0.9,0,1.7-0.7,1.7-1.7V11.9c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1v25.9C44.8,39.9,43.1,41.6,41,41.6z M15.8,1.9c-1.7,0-3,1.4-3,3v32.9c0,1.7,1.4,3,3,3H41c1.7,0,3-1.4,3-3V11.9c0-0.2-0.1-0.3-0.3-0.3s-0.3,0.1-0.3,0.3v25.9c0,1.3-1.1,2.4-2.4,2.4H15.8c-1.3,0-2.4-1.1-2.4-2.4V4.9c0-1.3,1.1-2.4,2.4-2.4h18.5c0.2,0,0.3-0.1,0.3-0.3s-0.1-0.3-0.3-0.3H15.8z"/></g><g><path d="M43.7,12.6h-9.5c-0.4,0-0.7-0.3-0.7-0.7V2.4c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v8.8h8.8c0.4,0,0.7,0.3,0.7,0.7C44.4,12.3,44.1,12.6,43.7,12.6z"/><path d="M43.7,13h-9.5c-0.6,0-1.1-0.5-1.1-1.1V2.4c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1v8.4h8.4c0.6,0,1.1,0.5,1.1,1.1S44.3,13,43.7,13z M34.3,2.1c-0.2,0-0.3,0.1-0.3,0.3v9.5c0,0.2,0.1,0.3,0.3,0.3h9.5c0.2,0,0.3-0.1,0.3-0.3s-0.1-0.3-0.3-0.3h-9.2V2.4C34.6,2.3,34.4,2.1,34.3,2.1z"/></g><g><path d="M43.7,12.6c-0.2,0-0.4-0.1-0.5-0.2l-9.5-9.7c-0.3-0.3-0.3-0.7,0-1c0.3-0.3,0.7-0.3,1,0l9.5,9.7c0.3,0.3,0.3,0.7,0,1C44.1,12.5,43.9,12.6,43.7,12.6z"/><path d="M43.7,13c-0.3,0-0.6-0.1-0.8-0.3l-9.5-9.7c-0.4-0.4-0.4-1.1,0-1.5C34,1,34.6,1,35,1.5l9.5,9.7c0.4,0.4,0.4,1.1,0,1.5C44.3,12.9,44,13,43.7,13z M34.3,1.9c-0.1,0-0.2,0-0.2,0.1c-0.1,0.1-0.1,0.3,0,0.4l9.5,9.7c0.1,0.1,0.3,0.1,0.4,0c0.1-0.1,0.1-0.3,0-0.4L34.5,2C34.4,1.9,34.4,1.9,34.3,1.9z"/></g></g></g></g></svg>',iconGoToStepUrl:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><path d="M46.6,1.2H29.3c-1.2,0-2.2,1-2.2,2.2s1,2.2,2.2,2.2h12.1L19.1,27.8c-0.8,0.8-0.8,2.2,0,3.1c0.4,0.4,1,0.6,1.5,0.6s1.1-0.2,1.5-0.6L44.5,8.6v12.1c0,1.2,1,2.2,2.2,2.2s2.2-1,2.2-2.2V3.4C48.8,2.2,47.8,1.2,46.6,1.2z"/></g></g><g><g><path d="M38,22.8c-1.2,0-2.2,1-2.2,2.2v19.5H5.5V14.2H25c1.2,0,2.2-1,2.2-2.2s-1-2.2-2.2-2.2H3.4c-1.2,0-2.2,1-2.2,2.2v34.6c0,1.2,1,2.2,2.2,2.2H38c1.2,0,2.2-1,2.2-2.2V25C40.1,23.8,39.2,22.8,38,22.8z"/></g></g></g></svg>',iconMoveUp:'<svg viewBox="0 0 48 48" version="1.1"  ><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="move-up" transform="translate(24.000000, 24.000000) scale(1, -1) translate(-24.000000, -24.000000) " fill-rule="nonzero" fill="#000000"><path d="M23.9981299,0 C10.7451429,0 0,10.7436468 0,23.9981299 C0,37.2511169 10.7451429,47.9962597 23.9981299,47.9962597 C37.252613,47.9962597 47.9962597,37.2511169 47.9962597,23.9981299 C47.9962597,10.7436468 37.252613,0 23.9981299,0 Z M23.9981299,44.9964468 C12.4010805,44.9964468 2.99981299,35.5951792 2.99981299,23.9981299 C2.99981299,12.4010805 12.4010805,2.99981299 23.9981299,2.99981299 C35.5951792,2.99981299 44.9964468,12.4010805 44.9964468,23.9981299 C44.9964468,35.5951792 35.5951792,44.9964468 23.9981299,44.9964468 Z" class="shape"></path><path d="M33.4248312,26.087439 L25.5129351,33.8868779 L25.5129351,10.4991584 C25.5129351,9.67118961 24.8349506,8.99931429 23.9980052,8.99931429 C23.1610597,8.99931429 22.4830753,9.67131429 22.4830753,10.4991584 L22.4830753,33.8868779 L14.5711792,26.087439 C13.9802182,25.5024623 13.0203429,25.5024623 12.4293818,26.087439 C11.8384208,26.6739117 11.8384208,27.6233143 12.4293818,28.2082909 L22.9270442,38.5559688 C23.2075636,38.8364883 23.6020364,38.9969455 23.9980052,38.9969455 C24.3924779,38.9969455 24.7869506,38.8349922 25.0689662,38.5574649 L35.5666286,28.209787 C36.1590857,27.6233143 36.1575896,26.6739117 35.5666286,26.0889351 C34.9757922,25.5024623 34.0157922,25.5024623 33.4248312,26.087439 Z" class="shape"></path></g></g></svg>',iconMoveDown:'<svg viewBox="0 0 48 48" version="1.1"  ><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="move-down" fill-rule="nonzero" fill="#000000"><path d="M23.9981299,0 C10.7451429,0 0,10.7436468 0,23.9981299 C0,37.2511169 10.7451429,47.9962597 23.9981299,47.9962597 C37.252613,47.9962597 47.9962597,37.2511169 47.9962597,23.9981299 C47.9962597,10.7436468 37.252613,0 23.9981299,0 Z M23.9981299,44.9964468 C12.4010805,44.9964468 2.99981299,35.5951792 2.99981299,23.9981299 C2.99981299,12.4010805 12.4010805,2.99981299 23.9981299,2.99981299 C35.5951792,2.99981299 44.9964468,12.4010805 44.9964468,23.9981299 C44.9964468,35.5951792 35.5951792,44.9964468 23.9981299,44.9964468 Z" class="shape"></path><path d="M33.4248312,26.087439 L25.5129351,33.8868779 L25.5129351,10.4991584 C25.5129351,9.67118961 24.8349506,8.99931429 23.9980052,8.99931429 C23.1610597,8.99931429 22.4830753,9.67131429 22.4830753,10.4991584 L22.4830753,33.8868779 L14.5711792,26.087439 C13.9802182,25.5024623 13.0203429,25.5024623 12.4293818,26.087439 C11.8384208,26.6739117 11.8384208,27.6233143 12.4293818,28.2082909 L22.9270442,38.5559688 C23.2075636,38.8364883 23.6020364,38.9969455 23.9980052,38.9969455 C24.3924779,38.9969455 24.7869506,38.8349922 25.0689662,38.5574649 L35.5666286,28.209787 C36.1590857,27.6233143 36.1575896,26.6739117 35.5666286,26.0889351 C34.9757922,25.5024623 34.0157922,25.5024623 33.4248312,26.087439 Z" class="shape"></path></g></g></svg>',iconBranchStepRuleBased:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.23077 9.99999C3.23077 10.3808 3.38205 10.746 3.65133 11.0153C3.92061 11.2846 4.28584 11.4359 4.66666 11.4359C5.04748 11.4359 5.41271 11.2846 5.68199 11.0153C5.95128 10.746 6.10256 10.3808 6.10256 9.99999C6.10256 9.61917 5.95128 9.25394 5.68199 8.98466C5.41271 8.71538 5.04748 8.5641 4.66666 8.5641C4.28584 8.5641 3.92061 8.71538 3.65133 8.98466C3.38205 9.25394 3.23077 9.61917 3.23077 9.99999ZM2.78105 11.8856C2.28095 11.3855 2 10.7072 2 9.99999C2 9.29275 2.28095 8.61447 2.78105 8.11438C3.28114 7.61428 3.95942 7.33333 4.66666 7.33333C5.3739 7.33333 6.05218 7.61428 6.55228 8.11438C6.90463 8.46673 7.1482 8.90754 7.26136 9.38461H9.3846L9.3846 7.90602C9.38458 7.16869 9.38456 6.554 9.4502 6.06606C9.5195 5.5509 9.67195 5.08606 10.0457 4.71235C10.4194 4.33863 10.8842 4.18618 11.3994 4.11688C11.8873 4.05124 12.502 4.05126 13.2393 4.05128H13.6923V5.28205H13.282C12.4909 5.28205 11.9597 5.28336 11.5635 5.33666C11.1851 5.38756 11.0231 5.47553 10.9159 5.58263C10.8088 5.68973 10.7209 5.85177 10.67 6.23015C10.6167 6.62635 10.6154 7.15756 10.6154 7.94871V12.0513C10.6154 12.8424 10.6167 13.3736 10.67 13.7698C10.7209 14.1482 10.8088 14.3102 10.9159 14.4174C11.0231 14.5245 11.1851 14.6124 11.5635 14.6633C11.9597 14.7166 12.4909 14.7179 13.282 14.7179H13.6923V15.9487L13.2393 15.9487C12.502 15.9487 11.8873 15.9487 11.3994 15.8831C10.8842 15.8138 10.4194 15.6614 10.0457 15.2876C9.67195 14.9139 9.5195 14.4491 9.4502 13.9339C9.38456 13.446 9.38458 12.8313 9.3846 12.094L9.3846 10.6154H7.26136C7.1482 11.0924 6.90463 11.5333 6.55228 11.8856C6.05218 12.3857 5.3739 12.6667 4.66666 12.6667C3.95942 12.6667 3.28114 12.3857 2.78105 11.8856Z" fill="#8E8FA6"/><path fill-rule="evenodd" clip-rule="evenodd" d="M13.8975 15.3333C13.8975 15.7142 14.0487 16.0794 14.318 16.3487C14.5873 16.618 14.9525 16.7692 15.3333 16.7692C15.7142 16.7692 16.0794 16.618 16.3487 16.3487C16.618 16.0794 16.7692 15.7142 16.7692 15.3333C16.7692 14.9525 16.618 14.5873 16.3487 14.318C16.0794 14.0487 15.7142 13.8974 15.3333 13.8974C14.9525 13.8974 14.5873 14.0487 14.318 14.318C14.0487 14.5873 13.8975 14.9525 13.8975 15.3333ZM13.4477 17.219C12.9476 16.7189 12.6667 16.0406 12.6667 15.3333C12.6667 14.6261 12.9476 13.9478 13.4477 13.4477C13.9478 12.9476 14.6261 12.6667 15.3333 12.6667C16.0406 12.6667 16.7189 12.9476 17.219 13.4477C17.7191 13.9478 18 14.6261 18 15.3333C18 16.0406 17.7191 16.7189 17.219 17.219C16.7189 17.719 16.0406 18 15.3333 18C14.6261 18 13.9478 17.719 13.4477 17.219ZM13.8975 4.66669C13.8975 5.04751 14.0487 5.41274 14.318 5.68202C14.5873 5.95131 14.9525 6.10259 15.3333 6.10259C15.7142 6.10259 16.0794 5.95131 16.3487 5.68202C16.618 5.41274 16.7692 5.04751 16.7692 4.66669C16.7692 4.28587 16.618 3.92064 16.3487 3.65136C16.0794 3.38208 15.7142 3.2308 15.3333 3.2308C14.9525 3.2308 14.5873 3.38208 14.318 3.65136C14.0487 3.92064 13.8975 4.28587 13.8975 4.66669ZM13.4477 6.55231C12.9476 6.05221 12.6667 5.37393 12.6667 4.66669C12.6667 3.95945 12.9476 3.28117 13.4477 2.78108C13.9478 2.28098 14.6261 2.00003 15.3333 2.00003C16.0406 2.00003 16.7189 2.28098 17.219 2.78108C17.7191 3.28117 18 3.95945 18 4.66669C18 5.37393 17.7191 6.05221 17.219 6.55231C16.7189 7.0524 16.0406 7.33335 15.3333 7.33335C14.6261 7.33335 13.9478 7.0524 13.4477 6.55231Z" fill="#8E8FA6"/></svg>',iconBranchStepQuickAdd:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.9402 1.05378C13.1521 1.15987 13.267 1.39952 13.2194 1.63621L11.922 8.09177H14.8517C15.0532 8.09177 15.2364 8.21184 15.3209 8.39933C15.4053 8.58682 15.3757 8.80752 15.2449 8.96466L7.04837 18.814C6.89534 18.9979 6.64019 19.0523 6.42827 18.9462C6.21635 18.8401 6.10144 18.6005 6.14901 18.3638L7.44643 11.9082H4.51675C4.31519 11.9082 4.13203 11.7882 4.04757 11.6007C3.9631 11.4132 3.99276 11.1925 4.12353 11.0353L12.3201 1.18596C12.4731 1.00207 12.7282 0.947686 12.9402 1.05378ZM5.63638 10.8494H8.08042C8.23575 10.8494 8.38283 10.921 8.48097 11.0443C8.5791 11.1677 8.61787 11.3297 8.58655 11.4856L7.56692 16.5589L13.732 9.15059H11.288C11.1327 9.15059 10.9856 9.07901 10.8875 8.95566C10.7893 8.83231 10.7505 8.67028 10.7819 8.51441L11.8015 3.44108L5.63638 10.8494Z" fill="#8E8FA6"/></svg>',iconBranchStepUserSelection:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g id=" Selection"><g id="&#240;&#159;&#166;&#134; icon &#34;cursor default&#34;"><path id="Vector (Stroke)" fill-rule="evenodd" clip-rule="evenodd" d="M4.9762 3.40607C3.96182 3.11365 3.6012 3.23431 3.41765 3.41747C3.23449 3.60101 3.11383 3.96164 3.40625 4.97601C3.68932 5.95796 4.28093 7.29256 5.10809 9.15366L8.07612 15.8331C8.20211 16.1161 8.29848 16.3311 8.37895 16.4941C8.4493 16.3265 8.53218 16.1064 8.64055 15.8165L8.64139 15.8142L8.68189 15.7072L8.68279 15.7047L8.69797 15.6641C8.92123 15.066 9.11273 14.553 9.3175 14.1825C9.53119 13.7959 9.83941 13.4145 10.3635 13.3141L10.3656 13.3137C10.8902 13.215 11.3167 13.4573 11.657 13.7386C11.9824 14.0075 12.3476 14.4132 12.7733 14.8859C12.7846 14.8984 12.7959 14.911 12.8072 14.9236L13.6206 15.8272C13.9367 16.1786 14.1327 16.3945 14.2945 16.5314C14.4428 16.6568 14.4863 16.6487 14.4865 16.6487L14.4879 16.6487C14.4878 16.6487 14.4879 16.6487 14.4879 16.6487C14.4908 16.6492 14.5358 16.656 14.6865 16.5417C14.8555 16.4136 15.0626 16.2084 15.3973 15.8737L15.8739 15.3971C16.2083 15.0631 16.4136 14.8558 16.5415 14.6872C16.6547 14.5379 16.6494 14.492 16.6489 14.4875C16.6492 14.4845 16.6536 14.439 16.5316 14.2947C16.3946 14.1328 16.179 13.9372 15.8274 13.6205C15.8273 13.6204 15.8274 13.6205 15.8274 13.6205L14.9239 12.8071L14.8861 12.7731C14.4134 12.3475 14.0077 11.9821 13.7388 11.6567C13.4575 11.3163 13.2153 10.8893 13.315 10.3644C13.4146 9.83942 13.7967 9.53091 14.183 9.31736C14.5524 9.11311 15.0636 8.92201 15.6588 8.69949L15.816 8.6406C16.1057 8.53233 16.3264 8.44924 16.4942 8.37891C16.331 8.29859 16.1165 8.20265 15.8338 8.07707L9.15385 5.1079C9.15384 5.1079 9.15385 5.10791 9.15385 5.1079C7.29275 4.28075 5.95814 3.68914 4.9762 3.40607ZM9.60143 3.95994L9.65372 3.98318L16.3743 6.97041C16.7762 7.14886 17.1372 7.30917 17.3917 7.4681C17.6331 7.61879 18.0159 7.9114 18.0007 8.42453C17.9853 8.93816 17.5842 9.20706 17.335 9.34236C17.0714 9.48548 16.7014 9.62371 16.2894 9.77765L16.2482 9.79304L16.1378 9.83444C15.4835 10.0791 15.0587 10.2396 14.7785 10.3945C14.6443 10.4687 14.5787 10.5232 14.5477 10.5569C14.5263 10.5802 14.525 10.5889 14.5243 10.593C14.5243 10.5934 14.5244 10.5928 14.5243 10.593C14.5243 10.5933 14.524 10.5946 14.524 10.5949C14.523 10.5991 14.5211 10.6076 14.5325 10.6371C14.549 10.6798 14.5899 10.7545 14.6876 10.8727C14.8916 11.1197 15.2278 11.4245 15.7473 11.8923C15.7473 11.8923 15.7473 11.8924 15.7473 11.8923L16.6508 12.7057L16.6851 12.7366C16.996 13.0165 17.2745 13.2673 17.4712 13.4999C17.6868 13.7547 17.8692 14.0609 17.8793 14.4557C17.8894 14.8495 17.7242 15.1645 17.5222 15.4309C17.3358 15.6767 17.0672 15.9449 16.7668 16.2448L16.2398 16.7718C15.9417 17.07 15.6747 17.337 15.4303 17.5224C15.1642 17.7242 14.8489 17.8898 14.4544 17.8791C14.0602 17.8688 13.7542 17.6864 13.4996 17.4711C13.2655 17.2731 13.0133 16.9926 12.7317 16.6793L11.8926 15.7472C11.8926 15.7472 11.8926 15.7472 11.8926 15.7472C11.4247 15.2277 11.1198 14.8914 10.8728 14.6872C10.7545 14.5895 10.6797 14.5483 10.6367 14.5317C10.6095 14.5212 10.5999 14.5219 10.5952 14.5228C10.5949 14.5229 10.5956 14.5228 10.5952 14.5228C10.5949 14.5229 10.5934 14.5232 10.5931 14.5233C10.5883 14.5242 10.579 14.5269 10.5573 14.5469C10.5234 14.578 10.4689 14.6437 10.3947 14.7778C10.2398 15.0581 10.0795 15.4826 9.83494 16.1377L9.83403 16.1401L9.79347 16.2473L9.79263 16.2496L9.77861 16.2871C9.62433 16.7001 9.48586 17.0707 9.34241 17.3346C9.20684 17.5841 8.93793 17.9842 8.42477 17.9996C7.91219 18.0148 7.61948 17.633 7.46845 17.3915C7.30941 17.1373 7.14888 16.7766 6.97008 16.375L6.95174 16.3337L3.98337 9.65354L3.96013 9.60126C3.16061 7.80236 2.53307 6.39044 2.22361 5.31694C1.92062 4.2659 1.837 3.25824 2.54712 2.54739C3.25797 1.83727 4.26609 1.92044 5.31712 2.22343C6.39062 2.53289 7.80254 3.16042 9.60143 3.95994Z" fill="#8E8FA6"/></g></g></svg>',iconMergeStep:"<svg width='20px' height='20px' viewBox='0 0 20 20' version='1.1' xmlns='https://www.w3.org/2000/svg' xmlns:xlink='https://www.w3.org/1999/xlink'><g id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'><g id='Desktop-HD' transform='translate(-355.000000, -354.000000)' fill='#8E8FA6'><g id='Group-Copy' transform='translate(355.000000, 354.000000)'><path d='M11.8819018,12.4792571 C12.4417018,12.8337504 12.8133605,13.4585667 12.8133605,14.1701885 L12.8133605,15.564417 C12.8133605,16.6689865 11.91793,17.564417 10.8133605,17.564417 L9.41913194,17.564417 C8.31456244,17.564417 7.41913194,16.6689865 7.41913194,15.564417 L7.41913194,14.1701885 C7.41913194,13.4636457 7.78550434,12.8426737 8.33863318,12.4868886 C7.54684187,10.5949287 6.56568476,9.10705973 5.47922356,8.23384029 C5.26655995,8.33661514 5.02798812,8.39422852 4.77595996,8.39422852 L2.61826856,8.39422852 C1.72452351,8.39422852 1,7.66970501 1,6.77595996 L1,4.61826856 C1,3.72452351 1.72452351,3 2.61826856,3 L4.77595996,3 C5.66970501,3 6.39422852,3.72452351 6.39422852,4.61826856 L6.39422852,6.77595996 C6.39422852,7.01467398 6.34254155,7.24131586 6.24974851,7.44530472 C7.32531707,8.71713468 8.45109582,10.0624881 9.34633732,12.1714886 C9.37049548,12.1706243 9.39476281,12.1701885 9.41913194,12.1701885 L9.99458459,12.1701885 C9.93900754,10.6312902 9.63624902,9.3295677 9.07446715,8.39422852 L9.03740049,8.39422852 C8.14365545,8.39422852 7.41913194,7.66970501 7.41913194,6.77595996 L7.41913194,4.61826856 C7.41913194,3.72452351 8.14365545,3 9.03740049,3 L11.1950919,3 C12.0888369,3 12.8133605,3.72452351 12.8133605,4.61826856 L12.8133605,6.77595996 C12.8133605,7.66970501 12.0888369,8.39422852 11.1950919,8.39422852 L10.3459116,8.39422852 C10.5899805,9.43334244 10.8460386,10.5026361 10.9644064,11.7315974 C11.5799603,11.0534716 12.3340105,10.4304717 13.2253271,9.86036679 C13.2028002,9.75279002 13.1909565,9.64128639 13.1909565,9.52701651 L13.1909565,7.3693251 C13.1909565,6.47558006 13.91548,5.75105654 14.809225,5.75105654 L16.9669164,5.75105654 C17.8606615,5.75105654 18.585185,6.47558006 18.585185,7.3693251 L18.585185,9.52701651 C18.585185,10.4207616 17.8606615,11.1452851 16.9669164,11.1452851 L14.809225,11.1452851 C14.4934337,11.1452851 14.1987689,11.0548315 13.9497263,10.8984201 C13.141001,11.3892385 12.4520742,11.9168155 11.8819018,12.4792571 Z M9.03740049,3.80913428 C8.59052797,3.80913428 8.22826621,4.17139603 8.22826621,4.61826856 L8.22826621,6.77595996 C8.22826621,7.22283249 8.59052797,7.58509424 9.03740049,7.58509424 L11.1950919,7.58509424 C11.6419644,7.58509424 12.0042262,7.22283249 12.0042262,6.77595996 L12.0042262,4.61826856 C12.0042262,4.17139603 11.6419644,3.80913428 11.1950919,3.80913428 L9.03740049,3.80913428 Z M14.809225,6.56019082 C14.3623525,6.56019082 14.0000907,6.92245258 14.0000907,7.3693251 L14.0000907,9.52701651 C14.0000907,9.97388903 14.3623525,10.3361508 14.809225,10.3361508 L16.9669164,10.3361508 C17.4137889,10.3361508 17.7760507,9.97388903 17.7760507,9.52701651 L17.7760507,7.3693251 C17.7760507,6.92245258 17.4137889,6.56019082 16.9669164,6.56019082 L14.809225,6.56019082 Z M2.61826856,3.80913428 C2.17139603,3.80913428 1.80913428,4.17139603 1.80913428,4.61826856 L1.80913428,6.77595996 C1.80913428,7.22283249 2.17139603,7.58509424 2.61826856,7.58509424 L4.77595996,7.58509424 C5.22283249,7.58509424 5.58509424,7.22283249 5.58509424,6.77595996 L5.58509424,4.61826856 C5.58509424,4.17139603 5.22283249,3.80913428 4.77595996,3.80913428 L2.61826856,3.80913428 Z' id='Combined-Shape' transform='translate(9.792592, 10.282208) scale(-1, 1) rotate(90.000000) translate(-9.792592, -10.282208) '></path></g></g></g></svg>",iconVideoStepScreenCast:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><path d="M44.2,2.8H5.8C3,2.8,0.7,5,0.7,7.8v26.3c0,2.8,2.3,5.1,5.1,5.1h14l-2.8,5.1c-0.4,0.7-0.4,1.4,0,2c0.4,0.6,1,1,1.7,1h12.7c0.7,0,1.4-0.4,1.7-1c0.4-0.6,0.4-1.4,0-2l-2.8-5.1h14c2.8,0,5.1-2.3,5.1-5.1V7.8C49.3,5,47,2.8,44.2,2.8z M31.4,45.2H18.6l3.4-6.1h5.9L31.4,45.2z M47.2,34.1c0,1.7-1.4,3-3,3H28.5h-7.1H5.8c-1.7,0-3-1.4-3-3v-3h44.5V34.1z M47.2,29H2.8V7.8c0-1.7,1.4-3,3-3h38.4c1.7,0,3,1.4,3,3V29z"/><path d="M24.5,35.1h1c0.6,0,1-0.5,1-1c0-0.6-0.5-1-1-1h-1c-0.6,0-1,0.5-1,1C23.5,34.7,23.9,35.1,24.5,35.1z"/></g></g></g></svg>',iconVideoStepUploadVideo:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M47.4,24.4c-0.8,0-1.4,0.6-1.4,1.4v12.4c0,3.4-2.7,6.1-6.1,6.1H10c-3.4,0-6.1-2.7-6.1-6.1V25.6c0-0.8-0.6-1.4-1.4-1.4s-1.4,0.6-1.4,1.4v12.6c0,4.9,4,8.8,8.8,8.8H40c4.9,0,8.8-4,8.8-8.8V25.8C48.8,25.1,48.2,24.4,47.4,24.4z"/><path d="M17.3,13.9l6.3-6.3v27.7c0,0.8,0.6,1.4,1.4,1.4s1.4-0.6,1.4-1.4V7.6l6.3,6.3c0.3,0.3,0.6,0.4,1,0.4c0.4,0,0.7-0.1,1-0.4c0.5-0.5,0.5-1.4,0-1.9L26,3.4c-0.3-0.3-0.6-0.4-1-0.4c-0.4,0-0.7,0.1-1,0.4L15.4,12c-0.5,0.5-0.5,1.4,0,1.9C15.9,14.5,16.8,14.5,17.3,13.9z"/></g></g></svg>',iconVideoStepVideoCapture:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M1.7,28.2V40c0,2.8,2.5,4.8,5.3,4.8h24.2c2.8,0,4.7-2,4.7-4.8v-0.2l8.9,4.4c0.2,0.1,0.3,0.1,0.5,0.1c1.7,0,3-1.4,3-3.2V25.9c0-1.8-1.2-3.2-3-3.2c-0.2,0-0.3,0-0.5,0.1l-8.8,4.5c-0.4-2.2-2.3-4-4.7-4.1c2.5-1.8,4.1-4.7,4.1-8c0-5.5-4.5-9.9-9.9-9.9c-4.5,0-8.3,3-9.5,7.1c-1.4-1.4-3.2-2.2-5.3-2.2c-4.1,0-7.5,3.4-7.5,7.5c0,2.3,0.9,4.3,2.5,5.7C3.5,23.8,1.7,25.8,1.7,28.2zM45.5,25c0.4,0.1,0.5,0.5,0.5,0.8v15.3c0,0.3-0.2,0.7-0.5,0.8l-9.5-4.8v-7.4L45.5,25z M17.5,20.7c0.6,0.9,1.4,1.7,2.2,2.3h-3.9C16.5,22.3,17,21.5,17.5,20.7z M18,15.2c0-4.2,3.4-7.6,7.6-7.6c4.2,0,7.6,3.4,7.6,7.6c0,4.2-3.4,7.6-7.6,7.6c-3.6,0-6.5-2.5-7.4-5.8c0-0.4-0.1-0.8-0.2-1.2C18,15.6,18,15.4,18,15.2z M10.7,12.4c2.3,0,4.3,1.6,5,3.7c0,0.4,0.1,0.8,0.2,1.2c0,0.1,0,0.2,0,0.2c0,2.8-2.3,5.2-5.2,5.2c-2.8,0-5.2-2.3-5.2-5.2S7.9,12.4,10.7,12.4z M33.6,39.8c0,1.5-1.2,2.7-2.7,2.7H6.7c-1.5,0-2.7-1.2-2.7-2.7V27.9c0-1.5,1.2-2.7,2.7-2.7h24.2c1.5,0,2.7,1.2,2.7,2.7C33.6,27.9,33.6,39.8,33.6,39.8z"/></g></g></svg>',iconDelete:'<svg version="1.1" width="15" height="15" id="Capa_1" x="0px" y="0px" viewBox="0 0 50 50" xml:space="preserve" style="fill:#000000;"><g><path fill="#757575" d="M39.2,13.9c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v29.7c0,1.2-0.5,2.3-1.3,3.1c-0.8,0.8-1.9,1.3-3.1,1.3H13.8c-1.2,0-2.3-0.5-3.1-1.3c-0.8-0.8-1.3-1.9-1.3-3.1V13.9c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7v29.7c0,0.8,0.3,1.6,0.9,2.1c0.5,0.5,1.3,0.9,2.1,0.9h22.4c0.8,0,1.6-0.3,2.1-0.9c0.5-0.5,0.9-1.3,0.9-2.1L39.2,13.9z"></path><path fill="#757575" d="M36.2,48.6H13.8c-1.3,0-2.6-0.5-3.5-1.5c-0.9-0.9-1.5-2.2-1.5-3.5V13.9c0-0.7,0.5-1.2,1.2-1.2s1.2,0.5,1.2,1.2v29.7c0,0.7,0.3,1.3,0.7,1.8c0.5,0.5,1.1,0.7,1.8,0.7h22.4c0.7,0,1.3-0.3,1.8-0.7c0.5-0.5,0.7-1.1,0.7-1.8V13.4h0.1c0.2-0.4,0.6-0.7,1.1-0.7c0.7,0,1.2,0.5,1.2,1.2v29.7c0,1.3-0.5,2.6-1.5,3.5C38.8,48.1,37.5,48.6,36.2,48.6z M10.1,13.7c-0.1,0-0.2,0.1-0.2,0.2v29.7c0,1.1,0.4,2,1.2,2.8c0.7,0.8,1.7,1.2,2.8,1.2h22.4c1.1,0,2-0.4,2.8-1.2c0.8-0.8,1.2-1.7,1.2-2.8V13.9c0-0.2-0.4-0.2-0.4,0l0,29.7c0,0.9-0.4,1.8-1,2.5c-0.7,0.7-1.5,1-2.5,1H13.8c-0.9,0-1.8-0.4-2.5-1c-0.7-0.7-1-1.5-1-2.5V13.9C10.3,13.8,10.2,13.7,10.1,13.7z"></path><path fill="#757575" d="M19.6,41.8c0,0.4-0.3,0.7-0.7,0.7c-0.4,0-0.7-0.3-0.7-0.7V14.1c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7V41.8z"></path><path fill="#757575" d="M18.9,43c-0.7,0-1.2-0.5-1.2-1.2V14.1c0-0.7,0.5-1.2,1.2-1.2s1.2,0.5,1.2,1.2v27.7C20.1,42.5,19.6,43,18.9,43zM18.9,13.9c-0.1,0-0.2,0.1-0.2,0.2v27.7c0,0.2,0.4,0.2,0.4,0V14.1C19.1,14,19,13.9,18.9,13.9z"></path><path fill="#757575" d="M25.7,41.8c0,0.4-0.3,0.7-0.7,0.7c-0.4,0-0.7-0.3-0.7-0.7V14.1c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7V41.8z"></path><path fill="#757575" d="M25,43c-0.7,0-1.2-0.5-1.2-1.2V14.1c0-0.7,0.5-1.2,1.2-1.2s1.2,0.5,1.2,1.2v27.7C26.2,42.5,25.7,43,25,43z M25,13.9c-0.1,0-0.2,0.1-0.2,0.2v27.7c0,0.2,0.4,0.2,0.4,0V14.1C25.2,14,25.1,13.9,25,13.9z"></path><path fill="#757575" d="M31.8,41.8c0,0.4-0.3,0.7-0.7,0.7c-0.4,0-0.7-0.3-0.7-0.7V14.1c0-0.4,0.3-0.7,0.7-0.7c0.4,0,0.7,0.3,0.7,0.7V41.8z"></path><path fill="#757575" d="M31.1,43c-0.7,0-1.2-0.5-1.2-1.2V14.1c0-0.7,0.5-1.2,1.2-1.2s1.2,0.5,1.2,1.2v27.7C32.3,42.5,31.8,43,31.1,43zM31.1,13.9c-0.1,0-0.2,0.1-0.2,0.2v27.7c0,0.2,0.4,0.2,0.4,0V14.1C31.3,14,31.2,13.9,31.1,13.9z"></path><path fill="#757575" d="M19.2,6.3c0,0.4-0.3,0.7-0.7,0.7c-0.4,0-0.7-0.3-0.7-0.7c0-1.2,0.5-2.3,1.3-3.1c0.8-0.8,1.9-1.3,3.1-1.3h5.6c1.2,0,2.3,0.5,3.1,1.3c0.8,0.8,1.3,1.9,1.3,3.1c0,0.4-0.3,0.7-0.7,0.7s-0.7-0.3-0.7-0.7c0-0.8-0.3-1.6-0.9-2.1c-0.5-0.5-1.3-0.9-2.1-0.9h-5.6c-0.8,0-1.6,0.3-2.1,0.9C19.5,4.7,19.2,5.5,19.2,6.3z"></path><path fill="#757575" d="M31.5,7.5c-0.7,0-1.2-0.5-1.2-1.2c0-0.7-0.3-1.3-0.7-1.8c-0.5-0.5-1.1-0.7-1.8-0.7h-5.6c-0.7,0-1.3,0.3-1.8,0.7C20,5,19.7,5.7,19.7,6.3c0,0.7-0.5,1.2-1.2,1.2S17.2,7,17.2,6.3c0-1.3,0.5-2.6,1.5-3.5c0.9-0.9,2.2-1.5,3.5-1.5h5.6c1.3,0,2.6,0.5,3.5,1.5c0.9,0.9,1.5,2.2,1.5,3.5C32.8,7,32.2,7.5,31.5,7.5z M22.2,2.8h5.6c0.9,0,1.8,0.4,2.5,1c0.7,0.7,1,1.5,1,2.5c0,0.2,0.4,0.2,0.4,0c0-1.1-0.4-2-1.2-2.8c-0.8-0.8-1.7-1.2-2.8-1.2h-5.6c-1.1,0-2,0.4-2.8,1.2c-0.7,0.8-1.2,1.7-1.2,2.8c0,0.2,0.4,0.2,0.4,0c0-0.9,0.4-1.8,1-2.5C20.4,3.2,21.3,2.8,22.2,2.8z"></path><path fill="#757575" d="M8.2,8.4h33.6c0.7,0,1.4,0.3,1.8,0.8l0,0c0.5,0.5,0.8,1.1,0.8,1.8v1.9c0,0.4-0.3,0.7-0.7,0.7h0H6.3c-0.4,0-0.7-0.3-0.7-0.7v0V11c0-0.7,0.3-1.4,0.8-1.8l0,0C6.8,8.7,7.5,8.4,8.2,8.4L8.2,8.4z M41.8,9.9H8.2c-0.3,0-0.6,0.1-0.8,0.3l0,0C7.2,10.4,7,10.7,7,11v1.1h35.9V11c0-0.3-0.1-0.6-0.3-0.8l0,0C42.4,10,42.1,9.9,41.8,9.9z"></path><path fill="#757575" d="M43.7,14.1H6.3c-0.7,0-1.2-0.5-1.2-1.2V11c0-0.8,0.3-1.6,0.9-2.2c0.6-0.6,1.4-0.9,2.2-0.9h33.6c0.8,0,1.6,0.3,2.2,0.9c0.6,0.6,0.9,1.4,0.9,2.2v1.9C44.9,13.5,44.3,14.1,43.7,14.1z M8.2,8.9c-0.6,0-1.1,0.2-1.5,0.6C6.3,9.9,6.1,10.4,6.1,11v1.8c0,0.1,0.1,0.2,0.2,0.2h37.3c0.1,0,0.2-0.1,0.2-0.2V11c0-0.6-0.2-1.1-0.6-1.5c-0.4-0.4-0.9-0.6-1.5-0.6H8.2z M43.4,12.6H6.5V11c0-0.4,0.2-0.9,0.5-1.2c0.3-0.3,0.7-0.5,1.2-0.5h33.6c0.4,0,0.9,0.2,1.2,0.5c0.3,0.3,0.5,0.7,0.5,1.2V12.6z M7.5,11.6h34.9V11c0-0.2-0.1-0.3-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2H8.2c-0.2,0-0.3,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5V11.6z"></path></g></svg>',pin:'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="visible" preserveAspectRatio="none" viewBox="0 0 23.941080414733808 23.950522074781738" width="23.941080414733808" height="23.950522074781738"><g transform="translate(0, 0)"><g transform="translate(-0.0000074999999999832145, -0.0000057646590985310775) rotate(0)"><path style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter;" d="M12.69063,20.95046c-0.09803,0.00026 -0.19192,-0.03946 -0.26,-0.11l-9.36,-9.34c-0.07091,-0.06791 -0.111,-0.16182 -0.111,-0.26c0,-0.09818 0.0401,-0.19209 0.111,-0.26c1.58668,-1.57839 4.00995,-1.95399 6,-0.93l4.77,-4.77l-0.59,-0.59c-1.03447,-1.09354 -1.01063,-2.8118 0.05379,-3.87621c1.06441,-1.06441 2.78267,-1.08826 3.87621,-0.05379l6,6c1.03447,1.09354 1.01063,2.8118 -0.05379,3.87621c-1.06441,1.06441 -2.78267,1.08826 -3.87621,0.05379l-0.59,-0.59l-4.78,4.73c1.02399,1.99005 0.64839,4.41332 -0.93,6c-0.06635,0.07423 -0.16047,0.11767 -0.26,0.12zM3.86063,11.25046l8.82,8.82c1.21628,-1.44298 1.38487,-3.49809 0.42,-5.12c-0.08165,-0.14678 -0.05725,-0.32974 0.06,-0.45l5.23,-5.22c0.06791,-0.07091 0.16182,-0.111 0.26,-0.111c0.09818,0 0.19209,0.0401 0.26,0.111l0.85,0.85c0.79805,0.79805 2.09195,0.79805 2.89,0c0.79805,-0.79805 0.79805,-2.09195 0,-2.89l-6,-6c-0.79805,-0.79805 -2.09195,-0.79805 -2.89,0c-0.79805,0.79805 -0.79805,2.09195 0,2.89l0.85,0.85c0.07091,0.06791 0.111,0.16182 0.111,0.26c0,0.09818 -0.0401,0.19209 -0.111,0.26l-5.22,5.23c-0.12026,0.11725 -0.30322,0.14165 -0.45,0.06c-1.62059,-0.93471 -3.65367,-0.75062 -5.08,0.46zM0.35063,23.95046c-0.09803,0.00026 -0.19192,-0.03946 -0.26,-0.11c-0.12083,-0.13337 -0.12083,-0.33663 0,-0.47l6.38,-8.94c0.06383,-0.08697 0.16244,-0.14175 0.27,-0.15c0.10674,-0.01158 0.21308,0.02509 0.29,0.1l2.52,2.57c0.07372,0.07764 0.1102,0.18342 0.1,0.29c-0.00388,0.10883 -0.05965,0.20921 -0.15,0.27l-8.94,6.37c-0.05985,0.04682 -0.13403,0.07154 -0.21,0.07zM6.78063,15.21046l-4.8,6.79l6.78,-4.85z" vector-effect="non-scaling-stroke"/></g><defs><path id="path-165460719537124" d="M12.69063,20.95046c-0.09803,0.00026 -0.19192,-0.03946 -0.26,-0.11l-9.36,-9.34c-0.07091,-0.06791 -0.111,-0.16182 -0.111,-0.26c0,-0.09818 0.0401,-0.19209 0.111,-0.26c1.58668,-1.57839 4.00995,-1.95399 6,-0.93l4.77,-4.77l-0.59,-0.59c-1.03447,-1.09354 -1.01063,-2.8118 0.05379,-3.87621c1.06441,-1.06441 2.78267,-1.08826 3.87621,-0.05379l6,6c1.03447,1.09354 1.01063,2.8118 -0.05379,3.87621c-1.06441,1.06441 -2.78267,1.08826 -3.87621,0.05379l-0.59,-0.59l-4.78,4.73c1.02399,1.99005 0.64839,4.41332 -0.93,6c-0.06635,0.07423 -0.16047,0.11767 -0.26,0.12zM3.86063,11.25046l8.82,8.82c1.21628,-1.44298 1.38487,-3.49809 0.42,-5.12c-0.08165,-0.14678 -0.05725,-0.32974 0.06,-0.45l5.23,-5.22c0.06791,-0.07091 0.16182,-0.111 0.26,-0.111c0.09818,0 0.19209,0.0401 0.26,0.111l0.85,0.85c0.79805,0.79805 2.09195,0.79805 2.89,0c0.79805,-0.79805 0.79805,-2.09195 0,-2.89l-6,-6c-0.79805,-0.79805 -2.09195,-0.79805 -2.89,0c-0.79805,0.79805 -0.79805,2.09195 0,2.89l0.85,0.85c0.07091,0.06791 0.111,0.16182 0.111,0.26c0,0.09818 -0.0401,0.19209 -0.111,0.26l-5.22,5.23c-0.12026,0.11725 -0.30322,0.14165 -0.45,0.06c-1.62059,-0.93471 -3.65367,-0.75062 -5.08,0.46zM0.35063,23.95046c-0.09803,0.00026 -0.19192,-0.03946 -0.26,-0.11c-0.12083,-0.13337 -0.12083,-0.33663 0,-0.47l6.38,-8.94c0.06383,-0.08697 0.16244,-0.14175 0.27,-0.15c0.10674,-0.01158 0.21308,0.02509 0.29,0.1l2.52,2.57c0.07372,0.07764 0.1102,0.18342 0.1,0.29c-0.00388,0.10883 -0.05965,0.20921 -0.15,0.27l-8.94,6.37c-0.05985,0.04682 -0.13403,0.07154 -0.21,0.07zM6.78063,15.21046l-4.8,6.79l6.78,-4.85z" vector-effect="non-scaling-stroke"/></defs></g></svg>',pin_filled:'<svg version="1.2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="visible" preserveAspectRatio="none" viewBox="0 0 23.941080414733808 23.950522074781738" width="23.941080414733808" height="23.950522074781738"><g transform="translate(0, 0)"><g transform="translate(-0.0000074999999999832145, -0.0000057646590985310775) rotate(0)"><path style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter; fill: rgb(56, 182, 160);" d="M12.69063,20.95046c-0.09803,0.00026 -0.19192,-0.03946 -0.26,-0.11l-9.36,-9.34c-0.07091,-0.06791 -0.111,-0.16182 -0.111,-0.26c0,-0.09818 0.0401,-0.19209 0.111,-0.26c1.58668,-1.57839 4.00995,-1.95399 6,-0.93l4.77,-4.77l-0.59,-0.59c-1.03447,-1.09354 -1.01063,-2.8118 0.05379,-3.87621c1.06441,-1.06441 2.78267,-1.08826 3.87621,-0.05379l6,6c1.03447,1.09354 1.01063,2.8118 -0.05379,3.87621c-1.06441,1.06441 -2.78267,1.08826 -3.87621,0.05379l-0.59,-0.59l-4.78,4.73c1.02399,1.99005 0.64839,4.41332 -0.93,6c-0.06635,0.07423 -0.16047,0.11767 -0.26,0.12zM0.35063,23.95046c-0.09803,0.00026 -0.19192,-0.03946 -0.26,-0.11c-0.12083,-0.13337 -0.12083,-0.33663 0,-0.47l6.38,-8.94c0.06383,-0.08697 0.16244,-0.14175 0.27,-0.15c0.10674,-0.01158 0.21308,0.02509 0.29,0.1l2.52,2.57c0.07372,0.07764 0.1102,0.18342 0.1,0.29c-0.00388,0.10883 -0.05965,0.20921 -0.15,0.27l-8.94,6.37c-0.05985,0.04682 -0.13403,0.07154 -0.21,0.07z" vector-effect="non-scaling-stroke"/></g><defs><path id="path-165666824740833" d="M12.69063,20.95046c-0.09803,0.00026 -0.19192,-0.03946 -0.26,-0.11l-9.36,-9.34c-0.07091,-0.06791 -0.111,-0.16182 -0.111,-0.26c0,-0.09818 0.0401,-0.19209 0.111,-0.26c1.58668,-1.57839 4.00995,-1.95399 6,-0.93l4.77,-4.77l-0.59,-0.59c-1.03447,-1.09354 -1.01063,-2.8118 0.05379,-3.87621c1.06441,-1.06441 2.78267,-1.08826 3.87621,-0.05379l6,6c1.03447,1.09354 1.01063,2.8118 -0.05379,3.87621c-1.06441,1.06441 -2.78267,1.08826 -3.87621,0.05379l-0.59,-0.59l-4.78,4.73c1.02399,1.99005 0.64839,4.41332 -0.93,6c-0.06635,0.07423 -0.16047,0.11767 -0.26,0.12zM0.35063,23.95046c-0.09803,0.00026 -0.19192,-0.03946 -0.26,-0.11c-0.12083,-0.13337 -0.12083,-0.33663 0,-0.47l6.38,-8.94c0.06383,-0.08697 0.16244,-0.14175 0.27,-0.15c0.10674,-0.01158 0.21308,0.02509 0.29,0.1l2.52,2.57c0.07372,0.07764 0.1102,0.18342 0.1,0.29c-0.00388,0.10883 -0.05965,0.20921 -0.15,0.27l-8.94,6.37c-0.05985,0.04682 -0.13403,0.07154 -0.21,0.07z" vector-effect="non-scaling-stroke"/></defs></g></svg>',iconAddStepInline:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M43.3,1.8H6.7C4,1.8,1.8,4,1.8,6.7v36.6c0,2.7,2.2,4.9,4.9,4.9h36.6c2.7,0,4.9-2.2,4.9-4.9V6.7C48.2,4,46,1.8,43.3,1.8zM45.8,43.3c0,1.4-1.2,2.6-2.6,2.6H6.7c-1.4,0-2.6-1.2-2.6-2.6V6.7c0-1.4,1.2-2.6,2.6-2.6h36.6c1.4,0,2.6,1.2,2.6,2.6L45.8,43.3L45.8,43.3z"/><path d="M38.2,23.3H26.8V11.8c0-1-0.8-1.8-1.8-1.8s-1.8,0.8-1.8,1.8v11.5H11.7c-1,0-1.8,0.8-1.8,1.7c0,1,0.8,1.8,1.8,1.8h11.5v11.5c0,1,0.8,1.8,1.8,1.8s1.8-0.8,1.8-1.8V26.8h11.5c1,0,1.8-0.8,1.8-1.8C40,24,39.2,23.3,38.2,23.3z"/></g></g></svg>',iconAddStepMessage:'<svg width="14px" height="14px" viewBox="0 0 24 19" version="1.1"  ><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="message" fill-rule="nonzero" fill="#000000"><path d="M21.0396694,0.0371900826 L2.93057851,0.0371900826 C1.31404959,0.0371900826 0,1.35123967 0,2.9677686 L0,15.3446281 C0,16.961157 1.31404959,18.2752066 2.93057851,18.2752066 L21.0347107,18.2752066 C22.6512397,18.2752066 23.9652893,16.961157 23.9652893,15.3446281 L23.9652893,2.97272727 C23.9702479,1.35619835 22.6561983,0.0371900826 21.0396694,0.0371900826 Z M22.631405,15.3446281 C22.631405,16.222314 21.9173554,16.9363636 21.0396694,16.9363636 L2.93057851,16.9363636 C2.05289256,16.9363636 1.33884298,16.222314 1.33884298,15.3446281 L1.33884298,2.97272727 C1.33884298,2.09504132 2.05289256,1.38099174 2.93057851,1.38099174 L21.0347107,1.38099174 C21.9123967,1.38099174 22.6264463,2.09504132 22.6264463,2.97272727 L22.6264463,15.3446281 L22.631405,15.3446281 Z" class="shape"></path><path d="M15.1140496,9.00247934 L20.9752066,3.74628099 C21.2479339,3.49834711 21.2727273,3.0768595 21.0247934,2.79917355 C20.7768595,2.52644628 20.3553719,2.50165289 20.077686,2.74958678 L11.9950413,10.0041322 L10.4181818,8.59586777 C10.4132231,8.59090909 10.4082645,8.58595041 10.4082645,8.58099174 C10.3735537,8.54628099 10.338843,8.51652893 10.2991736,8.48677686 L3.88264463,2.7446281 C3.60495868,2.49669421 3.18347107,2.5214876 2.93553719,2.79917355 C2.68760331,3.0768595 2.71239669,3.49834711 2.99008264,3.74628099 L8.92066116,9.04710744 L3.01487603,14.5760331 C2.74710744,14.8289256 2.7322314,15.2504132 2.98512397,15.5231405 C3.11900826,15.6619835 3.29752066,15.7363636 3.47603306,15.7363636 C3.63966942,15.7363636 3.80330579,15.6768595 3.9322314,15.5578512 L9.92727273,9.94958678 L11.553719,11.4024793 C11.6826446,11.5165289 11.8413223,11.5710744 12,11.5710744 C12.1586777,11.5710744 12.322314,11.5115702 12.446281,11.3975207 L14.1173554,9.9 L20.077686,15.5628099 C20.2066116,15.6867769 20.3752066,15.746281 20.538843,15.746281 C20.7173554,15.746281 20.8909091,15.6768595 21.0247934,15.5380165 C21.277686,15.2702479 21.2677686,14.8438017 21,14.5909091 L15.1140496,9.00247934 Z" class="shape"></path></g></g></svg>',iconImageStep:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><path d="M47,6.8H3c-0.7,0-1.3,0.6-1.3,1.3v28.8c0,0.7,0.6,1.3,1.3,1.3H47c0.7,0,1.3-0.6,1.3-1.3V8.1C48.3,7.4,47.8,6.8,47,6.8zM4.3,9.4h41.5v22.1l-8.2-8.2c-0.5-0.5-1.3-0.5-1.8,0l-5,5L19.2,16.8c-0.5-0.5-1.3-0.5-1.8,0L4.3,29.8L4.3,9.4L4.3,9.4zM4.3,35.6v-2.1l14-14l16.1,16.1H4.3z M45.7,35.6H38v0l-5.5-5.5l4.1-4.1l8.8,8.8c0.1,0.1,0.2,0.2,0.3,0.2L45.7,35.6L45.7,35.6z"/></g></g><g><g><path d="M30.6,11.9c-2.7,0-4.9,2.2-4.9,4.9s2.2,4.9,4.9,4.9s4.9-2.2,4.9-4.9S33.3,11.9,30.6,11.9z M30.6,19.1c-1.3,0-2.3-1-2.3-2.3c0-1.3,1-2.3,2.3-2.3c1.3,0,2.3,1,2.3,2.3C32.9,18.1,31.9,19.1,30.6,19.1z"/></g></g><g><g><path d="M14.3,41.1H3c-0.7,0-1.3,0.6-1.3,1.3c0,0.7,0.6,1.3,1.3,1.3h11.3c0.7,0,1.3-0.6,1.3-1.3C15.6,41.7,15,41.1,14.3,41.1z"/></g></g><g><g><path d="M23.2,41.1h-3c-0.7,0-1.3,0.6-1.3,1.3c0,0.7,0.6,1.3,1.3,1.3h3c0.7,0,1.3-0.6,1.3-1.3C24.5,41.7,24,41.1,23.2,41.1z"/></g></g></g></svg>',iconPasteStep:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><g><path d="M34.2,48.5H9c-1.9,0-3.4-1.5-3.4-3.4V12.2c0-1.9,1.5-3.4,3.4-3.4h3.2c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H9c-1.1,0-2,0.9-2,2v32.9c0,1.1,0.9,2,2,2h25.3c1.1,0,2-0.9,2-2v-3.2c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v3.2C37.6,47,36.1,48.5,34.2,48.5z"/><path d="M34.2,48.9H9c-2.1,0-3.8-1.7-3.8-3.8V12.2c0-2.1,1.7-3.8,3.8-3.8h3.2c0.6,0,1.1,0.5,1.1,1.1c0,0.6-0.5,1.1-1.1,1.1H9c-0.9,0-1.7,0.7-1.7,1.7v32.9c0,0.9,0.7,1.7,1.7,1.7h25.3c0.9,0,1.7-0.7,1.7-1.7v-3.2c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1v3.2C38,47.2,36.3,48.9,34.2,48.9z M9,9.2c-1.7,0-3,1.4-3,3v32.9c0,1.7,1.4,3,3,3h25.3c1.7,0,3-1.4,3-3v-3.2c0-0.2-0.1-0.3-0.3-0.3c-0.2,0-0.3,0.1-0.3,0.3v3.2c0,1.3-1.1,2.4-2.4,2.4H9c-1.3,0-2.4-1.1-2.4-2.4V12.2c0-1.3,1.1-2.4,2.4-2.4h3.2c0.2,0,0.3-0.1,0.3-0.3c0-0.2-0.1-0.3-0.3-0.3H9z"/></g></g></g><g><g><g><path d="M41,41.2H15.8c-1.9,0-3.4-1.5-3.4-3.4V4.9c0-1.9,1.5-3.4,3.4-3.4h18.5c0.4,0,0.7,0.3,0.7,0.7s-0.3,0.7-0.7,0.7H15.8c-1.1,0-2,0.9-2,2v32.9c0,1.1,0.9,2,2,2H41c1.1,0,2-0.9,2-2V11.9c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v25.9C44.4,39.7,42.9,41.2,41,41.2z"/><path d="M41,41.6H15.8c-2.1,0-3.8-1.7-3.8-3.8V4.9c0-2.1,1.7-3.8,3.8-3.8h18.5c0.6,0,1.1,0.5,1.1,1.1s-0.5,1.1-1.1,1.1H15.8c-0.9,0-1.7,0.7-1.7,1.7v32.9c0,0.9,0.7,1.7,1.7,1.7H41c0.9,0,1.7-0.7,1.7-1.7V11.9c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1v25.9C44.8,39.9,43.1,41.6,41,41.6z M15.8,1.9c-1.7,0-3,1.4-3,3v32.9c0,1.7,1.4,3,3,3H41c1.7,0,3-1.4,3-3V11.9c0-0.2-0.1-0.3-0.3-0.3s-0.3,0.1-0.3,0.3v25.9c0,1.3-1.1,2.4-2.4,2.4H15.8c-1.3,0-2.4-1.1-2.4-2.4V4.9c0-1.3,1.1-2.4,2.4-2.4h18.5c0.2,0,0.3-0.1,0.3-0.3s-0.1-0.3-0.3-0.3H15.8z"/></g><g><path d="M43.7,12.6h-9.5c-0.4,0-0.7-0.3-0.7-0.7V2.4c0-0.4,0.3-0.7,0.7-0.7s0.7,0.3,0.7,0.7v8.8h8.8c0.4,0,0.7,0.3,0.7,0.7C44.4,12.3,44.1,12.6,43.7,12.6z"/><path d="M43.7,13h-9.5c-0.6,0-1.1-0.5-1.1-1.1V2.4c0-0.6,0.5-1.1,1.1-1.1s1.1,0.5,1.1,1.1v8.4h8.4c0.6,0,1.1,0.5,1.1,1.1S44.3,13,43.7,13z M34.3,2.1c-0.2,0-0.3,0.1-0.3,0.3v9.5c0,0.2,0.1,0.3,0.3,0.3h9.5c0.2,0,0.3-0.1,0.3-0.3s-0.1-0.3-0.3-0.3h-9.2V2.4C34.6,2.3,34.4,2.1,34.3,2.1z"/></g><g><path d="M43.7,12.6c-0.2,0-0.4-0.1-0.5-0.2l-9.5-9.7c-0.3-0.3-0.3-0.7,0-1c0.3-0.3,0.7-0.3,1,0l9.5,9.7c0.3,0.3,0.3,0.7,0,1C44.1,12.5,43.9,12.6,43.7,12.6z"/><path d="M43.7,13c-0.3,0-0.6-0.1-0.8-0.3l-9.5-9.7c-0.4-0.4-0.4-1.1,0-1.5C34,1,34.6,1,35,1.5l9.5,9.7c0.4,0.4,0.4,1.1,0,1.5C44.3,12.9,44,13,43.7,13z M34.3,1.9c-0.1,0-0.2,0-0.2,0.1c-0.1,0.1-0.1,0.3,0,0.4l9.5,9.7c0.1,0.1,0.3,0.1,0.4,0c0.1-0.1,0.1-0.3,0-0.4L34.5,2C34.4,1.9,34.4,1.9,34.3,1.9z"/></g></g></g></g></svg>',iconDropdownArrowDirectionLeft:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g id="arrow-drop-down"><polygon points="37.1,0.8 12.9,25 37.1,49.2"/></g></g></svg>',iconVideoStep:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M1.7,28.2V40c0,2.8,2.5,4.8,5.3,4.8h24.2c2.8,0,4.7-2,4.7-4.8v-0.2l8.9,4.4c0.2,0.1,0.3,0.1,0.5,0.1c1.7,0,3-1.4,3-3.2V25.9c0-1.8-1.2-3.2-3-3.2c-0.2,0-0.3,0-0.5,0.1l-8.8,4.5c-0.4-2.2-2.3-4-4.7-4.1c2.5-1.8,4.1-4.7,4.1-8c0-5.5-4.5-9.9-9.9-9.9c-4.5,0-8.3,3-9.5,7.1c-1.4-1.4-3.2-2.2-5.3-2.2c-4.1,0-7.5,3.4-7.5,7.5c0,2.3,0.9,4.3,2.5,5.7C3.5,23.8,1.7,25.8,1.7,28.2zM45.5,25c0.4,0.1,0.5,0.5,0.5,0.8v15.3c0,0.3-0.2,0.7-0.5,0.8l-9.5-4.8v-7.4L45.5,25z M17.5,20.7c0.6,0.9,1.4,1.7,2.2,2.3h-3.9C16.5,22.3,17,21.5,17.5,20.7z M18,15.2c0-4.2,3.4-7.6,7.6-7.6c4.2,0,7.6,3.4,7.6,7.6c0,4.2-3.4,7.6-7.6,7.6c-3.6,0-6.5-2.5-7.4-5.8c0-0.4-0.1-0.8-0.2-1.2C18,15.6,18,15.4,18,15.2z M10.7,12.4c2.3,0,4.3,1.6,5,3.7c0,0.4,0.1,0.8,0.2,1.2c0,0.1,0,0.2,0,0.2c0,2.8-2.3,5.2-5.2,5.2c-2.8,0-5.2-2.3-5.2-5.2S7.9,12.4,10.7,12.4z M33.6,39.8c0,1.5-1.2,2.7-2.7,2.7H6.7c-1.5,0-2.7-1.2-2.7-2.7V27.9c0-1.5,1.2-2.7,2.7-2.7h24.2c1.5,0,2.7,1.2,2.7,2.7C33.6,27.9,33.6,39.8,33.6,39.8z"/></g></g></svg>',iconSplitStep:'<svg width="12px" height="8px" viewBox="0 0 12 8" version="1.1"  ><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="10-branching-on-guideme--copy" transform="translate(-1218.000000, -468.000000)" fill-rule="nonzero"><g id="Group-10" transform="translate(1202.000000, 256.000000)"><g id="split-icon" transform="translate(16.000000, 209.000000)"><g id="Add-guide-Copy-2"><g id="Group-16"><g id="split-vertical" transform="translate(0.000000, 3.000000)"><path d="M11.9072459,3.78298361 L10.2,2.07570492 C10.1539016,2.02957377 10.0913443,2.00367213 10.0261311,2.00367213 C9.96091803,2.00367213 9.89836066,2.02957377 9.8522623,2.07570492 L9.38855738,2.53940984 C9.34242623,2.5855082 9.31652459,2.64806557 9.31652459,2.71327869 C9.31652459,2.7784918 9.34242623,2.84104918 9.38855738,2.88714754 L9.8844918,3.38304918 L8.16177049,3.38304918 L8.16177049,0.251901639 C8.16177049,0.116098361 8.05167213,0.006 7.91586885,0.006 L7.26013115,0.006 C7.12432787,0.006 7.01422951,0.116098361 7.01422951,0.251901639 L7.01422951,7.6617377 C7.01422951,7.79754098 7.12432787,7.90763934 7.26013115,7.90763934 L7.91586885,7.90763934 C8.05167213,7.90763934 8.16177049,7.79754098 8.16177049,7.6617377 L8.16177049,4.53059016 L9.8844918,4.53059016 L9.38855738,5.02652459 C9.34242623,5.07262295 9.31652459,5.13518033 9.31652459,5.20039344 C9.31652459,5.26560656 9.34242623,5.32816393 9.38855738,5.3742623 L9.8522623,5.83796721 C9.89836066,5.88409836 9.96091803,5.91 10.0261311,5.91 C10.0913443,5.91 10.1539016,5.88409836 10.2,5.83796721 L11.9072459,4.13072131 C12.0032787,4.03468852 12.0032787,3.87898361 11.9072459,3.78298361 Z" class="shape"></path><path d="M4.71914754,0.00603278689 L4.06340984,0.00603278689 C3.92760656,0.00603278689 3.8175082,0.116131148 3.8175082,0.251934426 L3.8175082,3.38308197 L2.09478689,3.38308197 L2.59072131,2.88718033 C2.6867541,2.79114754 2.6867541,2.63547541 2.59072131,2.53944262 L2.12704918,2.0757377 C2.08091803,2.02963934 2.01836066,2.00370492 1.95314754,2.00370492 C1.88793443,2.00370492 1.82537705,2.02960656 1.77927869,2.0757377 L0.0720327869,3.78298361 C0.0259016393,3.82908197 0,3.89163934 0,3.95685246 C0,4.02206557 0.0259016393,4.08462295 0.0720327869,4.13072131 L1.77931148,5.83796721 C1.82544262,5.88409836 1.88796721,5.91 1.95318033,5.91 C2.01839344,5.91 2.08095082,5.88409836 2.12708197,5.83796721 L2.5907541,5.3742623 C2.68678689,5.27822951 2.6867541,5.12252459 2.5907541,5.02652459 L2.09481967,4.53059016 L3.81754098,4.53059016 L3.81754098,7.6617377 C3.81754098,7.79754098 3.92763934,7.90763934 4.06344262,7.90763934 L4.71918033,7.90763934 C4.85498361,7.90763934 4.96508197,7.79754098 4.96508197,7.6617377 L4.96508197,0.251901639 C4.96504918,0.116131148 4.85495082,0.00603278689 4.71914754,0.00603278689 Z" class="shape"></path></g></g></g></g></g></g></g></svg>',iconBranchStep:'<svg width="12px" height="8px" viewBox="0 0 12 8" xmlns="http://www.w3.org/2000/svg"><g><path d="M11.907,3.783L10.2,2.076c-0.046-0.046-0.108-0.072-0.174-0.072-0.065,0-0.127,0.026-0.174,0.072L9.389,2.54c-0.046,0.046-0.072,0.108-0.072,0.173,0,0.065,0.026,0.127,0.072,0.173L9.884,3.383H8.162V0.252c0-0.136-0.11-0.246-0.246-0.246H7.26C7.124,0.006,7.014,0.116,7.014,0.252v7.409c0,0.136,0.11,0.246,0.246,0.246h0.656c0.136,0,0.246-0.11,0.246-0.246V4.531h1.723l-0.496,0.497c-0.046,0.046-0.072,0.108-0.072,0.173,0,0.065,0.026,0.127,0.072,0.173l0.464,0.464c0.046,0.046,0.108,0.072,0.174,0.072,0.065,0,0.127-0.026,0.174-0.072l1.718-1.717c0.096-0.097,0.096-0.253,0-0.35Z"/><path d="M4.719,0.006H4.063C3.928,0.006,3.818,0.116,3.818,0.252v3.131H2.095l0.496-0.497c0.097-0.096,0.097-0.251,0-0.348L2.127,2.076c-0.046-0.046-0.108-0.072-0.174-0.072-0.065,0-0.127,0.026-0.174,0.072L0.072,3.783c-0.046,0.046-0.072,0.108-0.072,0.173,0,0.065,0.026,0.127,0.072,0.173l1.707,1.707c0.046,0.046,0.108,0.072,0.174,0.072,0.065,0,0.127-0.026,0.174-0.072l0.464-0.464c0.097-0.097,0.097-0.251,0-0.348L2.095,4.531H3.818v3.131c0,0.136,0.11,0.246,0.246,0.246h0.656c0.136,0,0.246-0.11,0.246-0.246V0.252C5.014,0.116,4.904,0.006,4.719,0.006Z"/></g></svg>',iconErrorHandlerStep:'<svg width="14px" height="14px" viewBox="0 0 12 16" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet"><path d="m2.0244 3.1041v-0.24096c0.0013-0.45973 0.21082-0.89152 0.56457-1.1635 0.35374-0.27196 0.8097-0.3518 1.2286-0.21513 0.09231 0.0302 0.18121 0.07082 0.26514 0.12114v-0.16196c0.00147-0.48091 0.23065-0.9297 0.61167-1.1978s0.8642-0.32055 1.2896-0.13999c0.34133 0.1482 0.61253 0.43237 0.75397 0.79003 0.06677 0.17404 0.10008 0.36019 0.09802 0.54776v0.17117c0.08245-0.04743 0.16915-0.08625 0.25886-0.11587 0.41819-0.13324 0.87188-0.05137 1.2234 0.22076 0.35157 0.27214 0.55958 0.70248 0.56094 1.1605v6.1359c0.00754 0.05662 0.01382 0.11324 0.01759 0.16986s0.00754 0.1185 0.00754 0.17776v0.21463c0.13823-0.13167 0.2664-0.27256 0.35562-0.36473l0.08545-0.08822c0.23134-0.25262 0.517-0.4436 0.83313-0.55697 0.28481-0.10026 0.59245-0.1044 0.87963-0.01185 0.11099 0.03701 0.21699 0.08879 0.31541 0.15406 0.09494 0.06747 0.18111 0.14759 0.25635 0.23833 0.0777 0.09191 0.14477 0.19313 0.1998 0.30153 0.05544 0.10813 0.09766 0.22315 0.12566 0.34235 0.08579 0.36393 0.04711 0.74785-0.10932 1.085-0.16056 0.32397-0.37309 0.6166-0.6283 0.86508-0.15079 0.15801-0.35185 0.38448-0.58684 0.64783-0.35939 0.40423-0.79795 0.89669-1.2566 1.3826l-0.41217-0.65836c0.47877-0.50694 0.92989-1.0152 1.2692-1.3984 0.20106-0.22779 0.36442-0.41082 0.46997-0.52669l0.01005-0.01185c0.0082-0.00941 0.01702-0.01821 0.02639-0.02633 0.01357-0.01128 0.03043-0.01733 0.04775-0.01712l-0.00754-0.00922c0.02388-0.02107 0.05529-0.05267 0.09048-0.09085 0.17969-0.19882 0.48002-0.61754 0.37698-1.0705-0.01817-0.05489-0.0422-0.10745-0.07163-0.15669-0.02432-0.0504-0.05473-0.09731-0.09048-0.13957-0.03405-0.03943-0.07292-0.07396-0.11561-0.1027-0.04286-0.02936-0.08937-0.0524-0.13823-0.06847-0.15357-0.04686-0.31769-0.03852-0.4662 0.0237-0.19017 0.07829-0.36172 0.19917-0.50264 0.3542-0.08545 0.08822-0.31415 0.32918-0.54411 0.55434-0.11435 0.11324-0.23122 0.22384-0.33803 0.31601-0.07687 0.06798-0.15835 0.13003-0.24378 0.18566-0.0301 0.02024-0.06264 0.03618-0.09676 0.0474-0.03386 0.0105-0.06899 0.01582-0.1043 0.0158-0.01285 1.1e-4 -0.02546-0.00354-0.03644-0.01053l-0.22996-0.12245c-0.02248-0.012-0.03728-0.03551-0.03895-0.06189l-0.07037-1.2324c0-1.2166 0-1.9488-0.00754-3.0522 0-1.1758-0.00754-2.3517-0.00754-3.434 3e-5 -0.08814-0.01662-0.17541-0.04901-0.25676-0.0996-0.25187-0.33418-0.41608-0.59438-0.41608-0.08614-0.00133-0.17165 0.01569-0.25132 0.05004-0.24064 0.10425-0.3978 0.34996-0.39834 0.62281v4.4663c0 0.04072-0.03151 0.07374-0.07037 0.07374h-0.6082c-0.03838 1e-5 -0.06968-0.03221-0.07037-0.07242v-5.9042c-6.4e-4 -0.18035-0.0709-0.35276-0.19477-0.47797-0.18471-0.18829-0.45883-0.24292-0.69662-0.13884s-0.39337 0.34679-0.39538 0.61681v5.9042c0 0.01944-0.00745 0.03806-0.02069 0.05168-0.01323 0.01362-0.03114 0.02109-0.04968 0.02074h-0.6283c-0.01855 3.5e-4 -0.03645-0.00712-0.04968-0.02074s-0.02069-0.03224-0.02069-0.05168v-4.4848c9.5e-4 -0.17834-0.06651-0.34961-0.18723-0.47534-0.18428-0.18889-0.45837-0.24428-0.69648-0.14075-0.2381 0.10353-0.39425 0.34598-0.39677 0.61609v4.4848c0 0.01944-0.00745 0.03806-0.02069 0.05168-0.01323 0.01362-0.03114 0.02109-0.04968 0.02074h-0.60192c-0.01855 3.5e-4 -0.03645-0.00712-0.04968-0.02074s-0.02069-0.03224-0.02069-0.05168v-2.9666c0.01046-0.24772-0.10971-0.48146-0.31289-0.6086-0.20318-0.12713-0.45656-0.12713-0.65973 0-0.20318 0.12713-0.32335 0.36087-0.31289 0.6086v4.9206c-0.03142 0.85587 0 1.771 0 2.6334-2.3e-4 0.4063 0.07489 0.80877 0.22116 1.185 0.02011 0.05267 0.04272 0.10534 0.06534 0.15669l-0.45741 0.72288c-0.11242-0.18706-0.20912-0.38399-0.28902-0.58857-0.18302-0.46799-0.27693-0.96897-0.27645-1.4747v-7.5553c0.0018-0.50604 0.25552-0.9744 0.66925-1.2354s0.92748-0.27687 1.3551-0.04179zm3.3119 6.1677 3.5129 5.9964c0.19088 0.33137 0.24472 0.73177-0.10401 0.73177h-7.5337c-0.301-0.06351-0.24472-0.38936-0.05506-0.72211l3.5154-6.0061c0.22147-0.36451 0.44294-0.36036 0.66441 0zm-0.58855 5.0175c-0.03261 0.03323-0.05884 0.07364-0.07709 0.11874-0.03551 0.07777-0.04713 0.16664-0.03304 0.25267 0.0044 0.03312 0.01221 0.06556 0.02325 0.09665 0.03602 0.09851 0.10379 0.17794 0.18966 0.22229 0.04756 0.02509 0.09924 0.03873 0.15173 0.04004 0.05276 0.00125 0.1052-0.00956 0.15417-0.03176 0.0874-0.04067 0.15753-0.11782 0.19578-0.21539 0.01375-0.03232 0.02323-0.06675 0.02814-0.10217 0.00422-0.03528 0.00422-0.07104 0-0.10631-0.00488-0.10405-0.04367-0.2024-0.1089-0.27614-0.03884-0.04283-0.08507-0.0762-0.13582-0.09803-0.051-0.02231-0.10571-0.03173-0.16029-0.02761-0.08818 0.00698-0.17116 0.04963-0.23371 0.12012zm0.73293-2.9395v-0.01795c0-0.18363-0.13704-0.29409-0.31202-0.33551-0.11066-0.02492-0.2246-0.02492-0.33527 0-0.16886 0.04142-0.3059 0.14774-0.3059 0.32723-0.00489 0.58542 0.13582 1.5616 0.19088 2.1829 0.00453 0.12106 0.07846 0.22464 0.18232 0.25543 0.06688 0.02392 0.13868 0.02392 0.20556 0 0.10385-0.03079 0.17779-0.13437 0.18232-0.25543z" fill="#757575" stroke-width="0" vector-effect="non-scaling-stroke"></path></svg>',iconLinkGuide:'<svg width="14px" height="14px" viewBox="0 0 24 23" version="1.1"  ><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="link-(5)" fill-rule="nonzero" fill="#000000"><path d="M12.6807453,9.60496894 C12.4173913,9.86832298 12.4173913,10.2906832 12.6807453,10.5540373 C13.7689441,11.642236 13.7689441,13.4111801 12.6807453,14.4993789 L6.96645963,20.2136646 C5.87826087,21.3018634 4.10931677,21.3018634 3.02111801,20.2136646 L2.16149068,19.3540373 C1.07329193,18.2658385 1.07329193,16.4968944 2.16149068,15.4086957 L7.8757764,9.69440994 C8.13913043,9.4310559 8.13913043,9.00869565 7.8757764,8.74534161 C7.61242236,8.48198758 7.19006211,8.48198758 6.92670807,8.74534161 L1.21242236,14.4596273 C0.432298137,15.2397516 0,16.2782609 0,17.3813665 C0,18.484472 0.427329193,19.5229814 1.21242236,20.3031056 L2.07204969,21.1627329 C2.87701863,21.9677019 3.93540373,22.3701863 4.99378882,22.3701863 C6.05217391,22.3701863 7.11055901,21.9677019 7.91552795,21.1627329 L13.6298137,15.4484472 C15.2397516,13.8385093 15.2397516,11.2149068 13.6298137,9.60496894 C13.3714286,9.34161491 12.9440994,9.34161491 12.6807453,9.60496894 Z" class="shape"></path><path d="M22.7826087,2.09689441 L21.9229814,1.23726708 C20.3130435,-0.372670807 17.689441,-0.372670807 16.0795031,1.23726708 L10.3652174,6.9515528 C8.7552795,8.56149068 8.7552795,11.1850932 10.3652174,12.7950311 C10.6285714,13.0583851 11.0509317,13.0583851 11.3142857,12.7950311 C11.5776398,12.531677 11.5776398,12.1093168 11.3142857,11.8459627 C10.226087,10.757764 10.226087,8.98881988 11.3142857,7.90062112 L17.0285714,2.1863354 C18.1167702,1.09813665 19.8857143,1.09813665 20.973913,2.1863354 L21.8335404,3.04596273 C22.9217391,4.13416149 22.9217391,5.90310559 21.8335404,6.99130435 L16.1192547,12.7055901 C15.8559006,12.9689441 15.8559006,13.3913043 16.1192547,13.6546584 C16.2484472,13.7838509 16.4223602,13.8534161 16.5913043,13.8534161 C16.7602484,13.8534161 16.9341615,13.7888199 17.063354,13.6546584 L22.7776398,7.94037267 C23.557764,7.16024845 23.9900621,6.12173913 23.9900621,5.01863354 C23.9900621,3.91552795 23.5627329,2.87701863 22.7826087,2.09689441 Z" class="shape"></path></g></g></svg>',tooltip:'<svg class="Layer_1" data-name="Layer 1"  viewBox="0 0 50 50"><path class="cls-1" stroke="#000000" stroke-miterlimit="10" stroke-width="0.5px" d="M25,1.5A23.5,23.5,0,1,0,48.5,25,23.47,23.47,0,0,0,25,1.5Zm0,44.4A20.9,20.9,0,1,1,45.9,25,21,21,0,0,1,25,45.9Z"/><path class="cls-1" stroke="#000000" stroke-miterlimit="10" stroke-width="0.5px" d="M24,32.9a2.08,2.08,0,0,0-2.1,2.2A2.14,2.14,0,0,0,24,37.3a2.07,2.07,0,0,0,2.1-2.2A2,2,0,0,0,24,32.9Z"/><path class="cls-1" stroke="#000000" stroke-miterlimit="10" stroke-width="0.5px" d="M24.6,12.7a9.88,9.88,0,0,0-5.1,1.4l.9,2.2A6.15,6.15,0,0,1,24,15.2c2.2,0,3.4,1.2,3.4,3,0,1.6-.9,3-2.5,4.9a8,8,0,0,0-2.2,6.1l.1.9h2.8v-.9a7.17,7.17,0,0,1,2-5.2c1.7-2,3.1-3.8,3.1-6.2C30.5,15.2,28.7,12.7,24.6,12.7Z"/></svg>',tooltip_validation:'<svg class="Layer_1" data-name="Layer 1"  viewBox="0 0 50 50"><path d="M44,3.6H6A4.91,4.91,0,0,0,1.1,8.5V34.9A4.91,4.91,0,0,0,6,39.8H18.5l5.3,6.1a1.69,1.69,0,0,0,2.4,0l5.3-6.1H44a4.91,4.91,0,0,0,4.9-4.9V8.4A5,5,0,0,0,44,3.6ZM25,42.3l-4.6-5.2a1.66,1.66,0,0,0-1.2-.5H6a1.69,1.69,0,0,1-1.7-1.7V8.4A1.69,1.69,0,0,1,6,6.7H44a1.69,1.69,0,0,1,1.7,1.7V34.8A1.69,1.69,0,0,1,44,36.5H30.8a1.66,1.66,0,0,0-1.2.5Zm5.2-4.7Zm-4.6,7.7Z"/><path d="M34.7,15.1a1.82,1.82,0,0,0-.6-1.4,2.05,2.05,0,0,0-2.9,0l-9,8.9-3.5-3.5a2.05,2.05,0,0,0-2.9,0,2,2,0,0,0-.6,1.4,1.82,1.82,0,0,0,.6,1.4l5,4.9a1.93,1.93,0,0,0,2.8,0L34,16.5A1.75,1.75,0,0,0,34.7,15.1Z"/></svg>',tooltip_and_validation:'<svg class="Layer_1" data-name="Layer 1"  viewBox="0 0 50 50"><path d="M33.25,30.2a1.4,1.4,0,0,0-1.4,1.4V38a4.16,4.16,0,0,1-4.1,4.1h-10a1.4,1.4,0,0,0-1.4,1.4v.59l-1.28-1.27A1.49,1.49,0,0,0,13.85,42h-6a4.16,4.16,0,0,1-4.1-4.1V23.8a4.16,4.16,0,0,1,4.1-4.1h9.3a1.4,1.4,0,1,0,0-2.8H7.85a7,7,0,0,0-7,7V38.1a7,7,0,0,0,7,7h5.29l3.66,3.65a1.39,1.39,0,0,0,1.05.45,1.07,1.07,0,0,0,.56-.13,1.49,1.49,0,0,0,.94-1.37V45.1h8.5a7,7,0,0,0,7-7V31.7l0-.16A1.71,1.71,0,0,0,33.25,30.2Z"/><path d="M35.15.8h-2.3a13.9,13.9,0,0,0,0,27.8h2.3a13.86,13.86,0,0,0,3.25-.34l3.2,3.19a1.39,1.39,0,0,0,1,.45,1.07,1.07,0,0,0,.56-.13,1.48,1.48,0,0,0,.94-1.37V25.34A13.58,13.58,0,0,0,47.59,21a13.25,13.25,0,0,0,1.56-6.34A14.09,14.09,0,0,0,35.15.8Zm11.1,13.9a10.69,10.69,0,0,1-4.5,8.8l0,.05a1.46,1.46,0,0,0-.55,1.05V27L39.7,25.55a1.39,1.39,0,0,0-1.05-.45h-.37l-.06,0A12.15,12.15,0,0,1,35,25.6h-2.3a11.11,11.11,0,0,1-11.1-11.1A11.12,11.12,0,0,1,32.85,3.6h2.3A11.11,11.11,0,0,1,46.25,14.7Z"/><path d="M34.59,7.3A4.27,4.27,0,0,0,30,11.7a1.4,1.4,0,1,0,2.8,0,1.55,1.55,0,0,1,1.75-1.5A1.6,1.6,0,0,1,36,11.65a1.62,1.62,0,0,1-1.22,1.66A2.32,2.32,0,0,0,33,15.5v2.2a1.4,1.4,0,0,0,2.8,0V16a4.73,4.73,0,0,0,2.9-4.58A4.35,4.35,0,0,0,34.59,7.3Z"/><path d="M35.2,20.25a1.39,1.39,0,0,0-1.05-.45,1.52,1.52,0,0,0-1,.45,1.39,1.39,0,0,0-.45,1.05,1.57,1.57,0,0,0,.45,1.05,1.37,1.37,0,0,0,1,.45,1.57,1.57,0,0,0,1.05-.45,1.45,1.45,0,0,0,0-2.1Z"/><path d="M12.3,31a1.93,1.93,0,0,0-2.8,0A1.75,1.75,0,0,0,9,32.3a2,2,0,0,0,.55,1.35l3.5,3.5a1.91,1.91,0,0,0,1.35.55,1.93,1.93,0,0,0,1.35-.54l7.35-7.26a1.72,1.72,0,0,0,.7-1.4,2.31,2.31,0,0,0-.48-1.28l-.07-.07a1.94,1.94,0,0,0-2.8,0l-6,6Z"/></svg>',tooltip_power:'<svg class="Layer_1" data-name="Layer 1"  viewBox="0 0 50 50"><path class="cls-1" stroke="#000000" stroke-miterlimit="10" stroke-width="0.5px" d="M35.9,7.11a1.76,1.76,0,0,0-1.59-.85H25.72a2.94,2.94,0,0,0-2.53,1.59L14.08,26.77a1.83,1.83,0,0,0,.05,1.79,1.86,1.86,0,0,0,1.58.84l6.74.08-4.88,12.2a1.59,1.59,0,0,0,.08,1.59,1.08,1.08,0,0,0,.88.47h.08A1.61,1.61,0,0,0,19.85,43L35.62,23.2a1.61,1.61,0,0,0-1.31-2.72h-5L35.86,8.92A1.78,1.78,0,0,0,35.9,7.11Z"/></svg>',tooltip_hide_element:'<svg class="Layer_1" data-name="Layer 1"  viewBox="0 0 50 50"><path d="M44.24,23.89a36.27,36.27,0,0,0-6-6A1.81,1.81,0,1,0,36,20.71,37.36,37.36,0,0,1,40.42,25a28.36,28.36,0,0,1-4.93,4.45c-4.61,3.34-9.22,4.61-13.83,3.66a1.61,1.61,0,0,0-1.43.32,1.75,1.75,0,0,0-.79,1.11A1.64,1.64,0,0,0,19.75,36a1.85,1.85,0,0,0,1.12.8,15.82,15.82,0,0,0,3.81.31,17.93,17.93,0,0,0,5.73-.95,25,25,0,0,0,7.31-3.82A33.77,33.77,0,0,0,44.24,26a1.68,1.68,0,0,0,0-2.06Z"/><path d="M40.26,9.74h0a1.92,1.92,0,0,0-2.54,0L33,14.51c-6.36-2.71-13-2.07-19.4,2.06a31.47,31.47,0,0,0-7.79,7.16,1.92,1.92,0,0,0,0,2.22,32.32,32.32,0,0,0,8.11,7.48L9.74,37.72a1.92,1.92,0,0,0,0,2.54,1.92,1.92,0,0,0,2.54,0l28-28A1.92,1.92,0,0,0,40.26,9.74ZM30.09,17.37,28.5,19A7,7,0,0,0,18,25a6.81,6.81,0,0,0,1,3.5L16.41,31a33.91,33.91,0,0,1-7-6,26.68,26.68,0,0,1,6-5.25C20.39,16.57,25.32,15.78,30.09,17.37Zm-4.3,4.29-4.13,4.13c0-.31-.16-.47-.16-.79a3.21,3.21,0,0,1,1-2.38,3.48,3.48,0,0,1,2.38-1C25.32,21.5,25.48,21.66,25.79,21.66Z"/></svg>',tooltip_form_submit:'<svg class="Layer_1" data-name="Layer 1"  viewBox="0 0 50 50"><path d="M35.6,18.9a1.69,1.69,0,0,0-1.7-1.7H16.1a1.7,1.7,0,1,0,0,3.4H33.9A1.69,1.69,0,0,0,35.6,18.9Z"/><path d="M16.1,24.1a1.7,1.7,0,0,0,0,3.4H26.9a1.7,1.7,0,1,0,0-3.4Z"/><path d="M26.2,43.6H14.4a3.48,3.48,0,0,1-3.5-3.5V9.8a3.48,3.48,0,0,1,3.5-3.5H35.6a3.48,3.48,0,0,1,3.5,3.5V20.4a1.7,1.7,0,1,0,3.4,0V9.8a6.91,6.91,0,0,0-6.9-6.9H14.4A6.91,6.91,0,0,0,7.5,9.8V40.2a6.91,6.91,0,0,0,6.9,6.9H26.2a1.69,1.69,0,0,0,1.7-1.7A1.77,1.77,0,0,0,26.2,43.6Z"/><path d="M33.9,10.3H16.1A1.69,1.69,0,0,0,14.4,12a1.75,1.75,0,0,0,1.7,1.7H33.9a1.7,1.7,0,1,0,0-3.4Z"/><path d="M42.65,29.44a2,2,0,0,0-.7-1.6,2.23,2.23,0,0,0-3.2,0l-9.7,9.7-3.8-3.8a2.23,2.23,0,0,0-3.2,0,2.36,2.36,0,0,0-.7,1.6,2,2,0,0,0,.7,1.6l5.4,5.3a2.27,2.27,0,0,0,1.6.6,2.45,2.45,0,0,0,1.6-.6L42.05,31A2.27,2.27,0,0,0,42.65,29.44Z"/></svg>',iconSurveyStep:'<svg width="14" height="14" viewBox="0 0 26 26" fill="none" ><path fill-rule="evenodd" clip-rule="evenodd" d="M1 3C1 1.89543 1.89543 1 3 1H17C18.1046 1 19 1.89543 19 3V12.0224C18.8353 12.0076 18.6685 12 18.5 12C15.4624 12 13 14.4624 13 17.5C13 18.02 13.0722 18.5232 13.207 19H3C1.89543 19 1 18.1046 1 17V3ZM15.8195 5.21722C16.2402 5.70496 15.8487 6.44301 15.428 6.93051L9.71897 13.6344C9.2982 14.1219 8.61635 14.1219 8.19558 13.6344L5.51423 10.483C5.09347 9.99553 4.77794 9.20489 5.19871 8.71739C5.61926 8.22964 5.91604 8.22965 6.33659 8.71739L8.99178 11.9089L14.3021 5.63545C14.7229 5.14795 15.3989 4.72972 15.8195 5.21722Z" fill="#8E8FA6"/><circle cx="20.5" cy="19.5" r="4.75" stroke="#8E8FA6" stroke-width="1.5"/><path fill-rule="evenodd" clip-rule="evenodd" d="M21.1539 17H19.9231V18.8461H18V20.0769H19.9231V22H21.1539V20.0769H23V18.8461H21.1539V17Z" fill="#8E8FA6"/></svg>',captureEvents:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 514 514" width="14" height="14"><g transform="translate(1, 1)"><path d="M432 352H320c-26.5 0-48-21.5-48-48s21.5-48 48-48h96s96-107 96-160-43-96-96-96-96 43-96 96c0 34.6 40.9 92.2 69.3 128H320c-44.1 0-80 35.9-80 80s35.9 80 80 80h112c26.5 0 48 21.5 48 48s-21.5 48-48 48H122.7c28.4-35.8 69.3-93.4 69.3-128 0-53-43-96-96-96S0 299 0 352s96 160 96 160h336c44.1 0 80-35.9 80-80s-35.9-80-80-80zM352 96c0-35.3 28.7-64 64-64s64 28.7 64 64c0 20.4-30.1 68-64 110.4-34-42.6-64-90.6-64-110.4zM32 352c0-35.3 28.7-64 64-64s64 28.7 64 64c0 20.4-30.1 68-64 110.4-34-42.6-64-90.6-64-110.4zm64-16c-21.2 0-21.1 32 0 32 21.2 0 21.1-32 0-32zM416 80c-21.2 0-21.1 32 0 32 21.2 0 21.1-32 0-32z" vector-effect="non-scaling-stroke" /></g></svg>',endTracking:'<svg version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><style type="text/css">.st0 { fill: #737394; } </style><path class="st0" d="M12,1.01c-4.48,0-8.12,3.65-8.12,8.12c0,5.38,6.88,13.11,7.18,13.43c0.24,0.27,0.59,0.42,0.95,0.42c0.36,0,0.71-0.15,0.95-0.42c0.29-0.33,7.18-8.05,7.18-13.43C20.12,4.65,16.48,1.01,12,1.01z M18.93,9.13c0,4.92-6.59,12.32-6.87,12.63c-0.01,0.01-0.02,0.03-0.06,0.03s-0.05-0.02-0.06-0.03c-0.28-0.31-6.87-7.73-6.87-12.63C5.07,5.31,8.18,2.2,12,2.2C15.82,2.2,18.93,5.31,18.93,9.13z" /><path class="st0" d="M11.45,12.94c-0.2,0-0.38-0.08-0.52-0.22l-2.2-2.2C8.59,10.38,8.51,10.2,8.51,10c0-0.2,0.08-0.38,0.22-0.52c0.14-0.14,0.32-0.22,0.52-0.22c0.2,0,0.38,0.08,0.52,0.22l1.31,1.31c0.07,0.07,0.16,0.11,0.26,0.11c0.01,0,0.02,0,0.03,0c0.11-0.01,0.2-0.06,0.27-0.15l2.55-3.39c0.14-0.19,0.36-0.29,0.59-0.29c0.16,0,0.31,0.05,0.44,0.15c0.16,0.12,0.26,0.29,0.29,0.48c0.03,0.19-0.02,0.39-0.14,0.54l-3.31,4.41c-0.13,0.17-0.32,0.28-0.53,0.29C11.49,12.94,11.47,12.94,11.45,12.94z" /></svg>',terminate:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 642 514" width="20" height="16"><g transform="translate(1, 1)"><path d="M320 32c88.2 0 160 71.8 160 160 0 34.7-4.7 54.1-34.8 101.5l25.3 19.9C503.9 261.2 512 235.2 512 192 512 86.4 425.6 0 320 0c-61.7 0-116.7 29.7-151.9 75.3l25.4 20C222.7 57.1 268.3 32 320 32zm74 221.1c13.6-16.5 22-37.6 22-61.1 0-53.8-42.2-96-96-96-31.9 0-59.5 15.1-76.8 38.4l25.1 19.8c11.5-15.9 30.1-26.2 51.7-26.2 35.9 0 64 28.1 64 64 0 16-5.8 30.2-15.2 41.3zm-21.5 146.2c-15.5 22-33.1 46.9-52.5 74.7-19.7-28.2-37.1-52.9-52.5-74.7C170.6 262 160 245.1 160 192c0-.3.1-.5.1-.8l-30.3-23.9c-1.1 8.1-1.8 16.3-1.8 24.7 0 76.8 25.6 99.2 172.8 310.4 4.8 6.4 12 9.6 19.2 9.6s14.4-3.2 19.2-9.6c30.8-44.1 56-79.7 77-109.6L391 373c-5.8 8.3-11.9 17-18.5 26.3zM637 485.2L23 1.8C19.6-1 14.5-.5 11.8 3l-10 12.5C-1 19-.4 24 3 26.7l614 483.5c3.4 2.8 8.5 2.2 11.2-1.2l10-12.5c2.8-3.5 2.3-8.5-1.2-11.3z" vector-effect="non-scaling-stroke" /></g></svg>',folder:'<svg  width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#f8f8fb" stroke="#acadc1" stroke-width="1.4"/><path d="M28.2 15.6733V18.4667H11.8V13.0067C11.8 12.9091 11.8669 12.8667 11.906 12.8667H18.5C18.539 12.8667 18.606 12.9092 18.606 13.0067V15.3333V15.5333H18.806H28.094C28.1331 15.5333 28.2 15.5758 28.2 15.6733ZM28.094 14.4667H19.606V13.0067C19.606 12.3616 19.1296 11.8 18.5 11.8H11.906C11.2764 11.8 10.8 12.3612 10.8 13.0067V18.6667V19.3333V27.66C10.8 28.3051 11.2764 28.8667 11.906 28.8667H28.094C28.7232 28.8667 29.2 28.3055 29.2 27.66V19.3333V18.6667V15.6733C29.2 15.0279 28.7236 14.4667 28.094 14.4667ZM28.2 27.66C28.2 27.7576 28.1331 27.8 28.094 27.8H11.906C11.8669 27.8 11.8 27.7576 11.8 27.66V19.5333H28.2V27.66Z" fill="#acadc1" stroke="#acadc1" stroke-width="0.4"/></svg>',guide_category_title:'<svg width="28" height="22" viewBox="0 0 28 22" fill="none" ><path d="M0.305981 9.84855L2.80027 19.8175C2.81263 20.5627 3.36591 21.2 4.08726 21.2H23.5129C24.2341 21.2 24.788 20.5626 24.7999 19.8165L27.1945 9.84671L27.2373 9.66829L27.0632 9.61026L24.8001 8.85585V5.408C24.8001 4.65149 24.2424 4 23.5129 4H13.2873V2.208C13.2873 1.45193 12.7296 0.8 12.0001 0.8H4.08726C3.35774 0.8 2.80006 1.45149 2.80006 2.208V8.85401L0.439046 9.60952L0.260472 9.66666L0.305981 9.84855ZM3.91408 19.7435L1.47621 10H26.0263L23.6856 19.7453L23.6801 19.7683V19.792C23.6801 19.9271 23.5858 20 23.5129 20H4.08726C4.01434 20 3.92006 19.9271 3.92006 19.792V19.7674L3.91408 19.7435ZM23.6801 5.408V8.8H3.92006V2.208C3.92006 2.07291 4.01434 2 4.08726 2H12.0001C12.0727 2 12.1673 2.07305 12.1673 2.208V5V5.2H12.3673H23.5129C23.5858 5.2 23.6801 5.27291 23.6801 5.408Z" fill="#b2b2b2" stroke="#b2b2b2" stroke-width="0.6" /></svg>',iconSmartTipTourPlay:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M41.6,8.4C37.2,4,31.3,1.5,25,1.5S12.8,4,8.4,8.4S1.5,18.7,1.5,25S4,37.2,8.4,41.6s10.3,6.9,16.6,6.9s12.2-2.4,16.6-6.9s6.9-10.3,6.9-16.6S46,12.8,41.6,8.4z M39.7,39.7c-3.9,3.9-9.2,6.1-14.7,6.1s-10.8-2.2-14.7-6.1c-8.1-8.1-8.1-21.3,0-29.4c3.9-3.9,9.2-6.1,14.7-6.1s10.8,2.2,14.7,6.1C47.8,18.4,47.8,31.6,39.7,39.7z"/></g></g><g><path d="M22.5,30.8v-1c0-1.4,0.2-2.5,0.6-3.4c0.4-0.9,1.2-1.9,2.4-2.9c1.6-1.4,2.6-2.4,3.1-3.1c0.4-0.7,0.6-1.5,0.6-2.5c0-1.2-0.4-2.2-1.2-2.8c-0.8-0.7-1.9-1-3.4-1c-0.9,0-1.9,0.1-2.8,0.3s-1.9,0.6-3.1,1.2l-1.1-2.4c2.3-1.2,4.6-1.8,7.1-1.8c2.3,0,4,0.6,5.3,1.7c1.3,1.1,1.9,2.7,1.9,4.7c0,0.9-0.1,1.6-0.3,2.3c-0.2,0.7-0.6,1.3-1,1.9s-1.4,1.5-2.9,2.9c-1.2,1-2,1.9-2.4,2.6s-0.6,1.6-0.6,2.7v0.6H22.5z M21.7,36.1c0-1.6,0.7-2.4,2.1-2.4c0.7,0,1.2,0.2,1.6,0.6c0.4,0.4,0.6,1,0.6,1.8c0,0.8-0.2,1.4-0.6,1.8c-0.4,0.4-0.9,0.6-1.6,0.6c-0.6,0-1.1-0.2-1.5-0.6C21.9,37.6,21.7,37,21.7,36.1z"/></g></svg>',iconBreadcrumArrow:'<svg width="6px" height="14px" viewBox="0 0 6 14" version="1.1"  ><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0.555338542"><g id="01--Breadcrumb-GuideMe" transform="translate(-1139.000000, -186.000000)" fill-rule="nonzero" fill="#757575"><g id="right-arrow-copy-2" transform="translate(1139.000000, 186.000000)"><polygon class="shape" points="0.257105882 0 0.0240470588 0.313588202 4.68407059 6.58823529 0.0240470588 12.8628824 0.257105882 13.1764706 5.15002353 6.58823529"></polygon><polygon id="Shape-Copy" points="0.257105882 0 0.0240470588 0.313588202 4.68407059 6.58823529 0.0240470588 12.8628824 0.257105882 13.1764706 5.15002353 6.58823529"></polygon></g></g></g></svg>',iconSettings:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M44.9,20.3l-3.1-0.5c-0.3-1-0.7-2.1-1.3-3l1.8-2.6c0.8-1.1,0.7-2.6-0.3-3.5l-2.8-2.8c-0.5-0.5-1.2-0.8-1.9-0.8c-0.6,0-1.1,0.2-1.6,0.5l-2.6,1.8c-1-0.5-2-1-3.1-1.3l-0.5-3.1c-0.2-1.3-1.4-2.3-2.7-2.3H23c-1.3,0-2.5,1-2.7,2.3l-0.5,3.2c-1,0.3-2,0.8-3,1.3l-2.5-1.8c-0.5-0.3-1-0.5-1.6-0.5c-0.7,0-1.4,0.3-1.9,0.8l-2.8,2.8c-0.9,0.9-1.1,2.4-0.3,3.5l1.9,2.6c-0.5,1-0.9,2-1.2,3l-3.1,0.5c-1.3,0.2-2.3,1.4-2.3,2.7V27c0,1.3,1,2.5,2.3,2.7l3.2,0.5c0.3,1,0.8,2,1.3,3l-1.8,2.5C6.9,36.9,7,38.4,8,39.4l2.8,2.8c0.5,0.5,1.2,0.8,1.9,0.8c0.6,0,1.1-0.2,1.6-0.5l2.6-1.9c0.9,0.5,1.9,0.9,2.9,1.2l0.5,3.1c0.2,1.3,1.4,2.3,2.7,2.3H27c1.3,0,2.5-1,2.7-2.3l0.5-3.1c1-0.3,2.1-0.7,3-1.3l2.6,1.8c0.5,0.3,1,0.5,1.6,0.5l0,0c0.7,0,1.4-0.3,1.9-0.8l2.8-2.8c0.9-0.9,1.1-2.4,0.3-3.5l-1.8-2.6c0.5-1,0.9-2,1.3-3l3.1-0.5c1.3-0.2,2.3-1.4,2.3-2.7V23C47.2,21.7,46.2,20.6,44.9,20.3z M44.7,27c0,0.1-0.1,0.2-0.2,0.2l-3.9,0.6c-0.5,0.1-0.9,0.4-1,0.9c-0.4,1.4-0.9,2.7-1.6,3.9c-0.3,0.4-0.2,1,0.1,1.4l2.3,3.2c0.1,0.1,0.1,0.2,0,0.3l-2.8,2.8c-0.1,0.1-0.1,0.1-0.2,0.1c-0.1,0-0.1,0-0.1,0L34,38c-0.4-0.3-0.9-0.3-1.4-0.1c-1.2,0.7-2.5,1.3-3.9,1.6c-0.5,0.1-0.8,0.5-0.9,1l-0.7,3.9c0,0.1-0.1,0.2-0.2,0.2H23c-0.1,0-0.2-0.1-0.2-0.2l-0.6-3.9c-0.1-0.5-0.4-0.9-0.9-1c-1.3-0.3-2.6-0.9-3.8-1.6c-0.2-0.1-0.4-0.2-0.6-0.2c-0.3,0-0.5,0.1-0.7,0.2l-3.2,2.3c0,0-0.1,0-0.1,0c0,0-0.1,0-0.2-0.1l-2.8-2.8c-0.1-0.1-0.1-0.2,0-0.3l2.3-3.2c0.3-0.4,0.3-0.9,0.1-1.4c-0.7-1.2-1.3-2.5-1.6-3.9c-0.1-0.5-0.5-0.8-1-0.9l-3.9-0.7c-0.1,0-0.2-0.1-0.2-0.2v-3.9c0-0.1,0.1-0.2,0.2-0.2l3.9-0.6c0.5-0.1,0.9-0.4,1-0.9c0.3-1.4,0.9-2.7,1.6-3.9c0.3-0.4,0.2-1-0.1-1.4l-2.3-3.2c-0.1-0.1-0.1-0.2,0-0.3l2.8-2.8c0.1-0.1,0.1-0.1,0.2-0.1c0.1,0,0.1,0,0.1,0l3.2,2.3c0.4,0.3,0.9,0.3,1.4,0.1c1.2-0.7,2.5-1.3,3.9-1.6c0.5-0.1,0.8-0.5,0.9-1l0.7-3.9c0-0.1,0.1-0.2,0.2-0.2h3.9c0.1,0,0.2,0.1,0.2,0.2l0.6,3.9c0.1,0.5,0.4,0.9,0.9,1c1.4,0.4,2.7,0.9,4,1.6c0.4,0.3,1,0.2,1.4-0.1l3.2-2.3c0,0,0.1,0,0.1,0c0,0,0.1,0,0.2,0.1l2.8,2.8c0.1,0.1,0.1,0.2,0,0.3L38.1,16c-0.3,0.4-0.3,0.9-0.1,1.4c0.7,1.2,1.3,2.5,1.6,3.9c0.1,0.5,0.5,0.8,1,0.9l3.9,0.7c0.1,0,0.2,0.1,0.2,0.2L44.7,27L44.7,27z"/><path d="M25,15.4c-5.3,0-9.6,4.3-9.6,9.6s4.3,9.6,9.6,9.6s9.6-4.3,9.6-9.6S30.3,15.4,25,15.4z M25,32.1c-3.9,0-7.1-3.2-7.1-7.1s3.2-7.1,7.1-7.1s7.1,3.2,7.1,7.1S28.9,32.1,25,32.1z"/></g></g></svg>',iconMyGuide:'<svg id="Layer_1" data-name="Layer 1"  viewBox="0 0 25 25"><path class="cls-1" d="M12.5.78A11.72,11.72,0,1,0,24.22,12.5,11.72,11.72,0,0,0,12.5.78Zm0,21.74a10,10,0,1,1,10-10A10,10,0,0,1,12.5,22.52Z"/><path class="cls-1" d="M6.83,6.83l3.54,7.8,7.8,3.54-3.54-7.79Zm4.25,7.09L8.25,8.25l5.67,2.83Z"/></svg>',iconMyShow:'<svg id="Layer_1" data-name="Layer 1"  viewBox="0 0 25 25"><path class="cls-1" d="M5.29,8.57a4.88,4.88,0,1,0,4.88,4.88A4.89,4.89,0,0,0,5.29,8.57Zm0,8.48a3.61,3.61,0,1,1,3.61-3.6A3.6,3.6,0,0,1,5.29,17.05Z"/><path class="cls-1" d="M19.71,8.57a4.88,4.88,0,1,0,4.88,4.88A4.89,4.89,0,0,0,19.71,8.57Zm0,8.48a3.61,3.61,0,1,1,3.6-3.6A3.61,3.61,0,0,1,19.71,17.05Z"/><circle class="cls-1" cx="12.5" cy="9.42" r="1.06"/><path class="cls-1" d="M16.84,9H15.22A2.75,2.75,0,0,0,9.78,9H8.16a5.31,5.31,0,0,1,2.43,4.44,5.21,5.21,0,0,1-.35,1.9,2.75,2.75,0,0,1,4.52,0,5.21,5.21,0,0,1-.35-1.9A5.31,5.31,0,0,1,16.84,9ZM12.5,10.9A1.48,1.48,0,0,1,11,9.42V9.3s0-.07,0-.1h0s0-.07,0-.1h0l0-.1a1.48,1.48,0,0,1,2.84,0l0,.1h0s0,.07,0,.1h0s0,.06,0,.1v.12A1.48,1.48,0,0,1,12.5,10.9Z"/></svg>',iconMyTest:'<svg id="Layer_1" data-name="Layer 1"  viewBox="0 0 25 25"><path class="cls-1" d="M17.44,16.36A3.68,3.68,0,1,0,21.11,20,3.68,3.68,0,0,0,17.44,16.36Zm1.95,2.18-2,3.34a.33.33,0,0,1-.25.16h0a.33.33,0,0,1-.23-.1l-1.34-1.34a.33.33,0,0,1,.47-.47l1,1,1.79-3a.34.34,0,0,1,.46-.12A.33.33,0,0,1,19.39,18.54Z"/><path class="cls-1" d="M5.4,22.2V7H7.62v.85a.76.76,0,0,0,.75.75h7.49a.76.76,0,0,0,.76-.75V7h2.21v6.26l0,2.24h1.55l0-1.66V6.26a.76.76,0,0,0-.76-.75h-3V4.66a.76.76,0,0,0-.76-.76H15a2.94,2.94,0,0,0-5.84,0H8.37a.76.76,0,0,0-.75.76v.85h-3a.76.76,0,0,0-.76.75V23a.76.76,0,0,0,.76.76h8.61V22.17l-2.67,0ZM12.12,2.8a1.44,1.44,0,0,1,1.39,1.1H10.73A1.44,1.44,0,0,1,12.12,2.8Zm-3,2.62h6V7.11h-6Z"/></svg>',iconDoItForMe:'<svg id="Layer_1" data-name="Layer 1"  viewBox="0 0 25 25"><defs><style>.cls-1{fill:#757575;}</style></defs><title>MyBot</title><path class="cls-1" d="M14.51,5.67a1.88,1.88,0,1,0-3.76,0A1.9,1.9,0,0,0,12,7.44V9.18h1.18V7.47A1.87,1.87,0,0,0,14.51,5.67Z"/><circle class="cls-1" cx="9.6" cy="14.4" r="1"/><circle class="cls-1" cx="15.28" cy="14.4" r="1"/><path class="cls-1" d="M13.55,17.64a1.12,1.12,0,0,1-2.24,0v-.28a.45.45,0,0,1,.45-.45H13.1a.45.45,0,0,1,.45.45Z"/><path class="cls-1" d="M20.16,13H20v-1a3.45,3.45,0,0,0-3.45-3.45H8.72a3.45,3.45,0,0,0-3.45,3.45v1H4.84A1.64,1.64,0,0,0,3.2,14.61v1.14a1.64,1.64,0,0,0,1.64,1.64h.43v.37s0,0,0,.07h0a3.44,3.44,0,0,0,3.44,3.38h7.86A3.45,3.45,0,0,0,20,17.76v-.37h.13a1.64,1.64,0,0,0,1.64-1.64V14.61A1.64,1.64,0,0,0,20.16,13ZM16.58,20H8.72a2.26,2.26,0,0,1-2.26-2.2V12.89h0v-1A2.27,2.27,0,0,1,8.72,9.67h7.86a2.27,2.27,0,0,1,2.27,2.27v1h0v4.94h0A2.27,2.27,0,0,1,16.58,20Z"/></svg>',popupInfo:'<svg width="44" height="44" viewBox="0 0 44 44" fill="none"><path d="M22 43.3333C16.342 43.3333 10.9158 41.0857 6.91502 37.085C2.91424 33.0842 0.666626 27.658 0.666626 22C0.666626 16.3421 2.91424 10.9158 6.91502 6.91506C10.9158 2.91428 16.342 0.666672 22 0.666672C27.6579 0.666672 33.0841 2.91428 37.0849 6.91506C41.0857 10.9158 43.3333 16.3421 43.3333 22C43.3333 27.658 41.0857 33.0842 37.0849 37.085C33.0841 41.0857 27.6579 43.3333 22 43.3333ZM22 11.3333C21.4342 11.3333 20.8915 11.5581 20.4915 11.9582C20.0914 12.3583 19.8666 12.9009 19.8666 13.4667C19.8666 14.0325 20.0914 14.5751 20.4915 14.9752C20.8915 15.3752 21.4342 15.6 22 15.6C22.5658 15.6 23.1084 15.3752 23.5085 14.9752C23.9085 14.5751 24.1333 14.0325 24.1333 13.4667C24.1333 12.9009 23.9085 12.3583 23.5085 11.9582C23.1084 11.5581 22.5658 11.3333 22 11.3333ZM24.1333 19.8667C24.1333 19.3009 23.9085 18.7583 23.5085 18.3582C23.1084 17.9581 22.5658 17.7333 22 17.7333C21.4342 17.7333 20.8915 17.9581 20.4915 18.3582C20.0914 18.7583 19.8666 19.3009 19.8666 19.8667V30.5333C19.8666 31.0991 20.0914 31.6418 20.4915 32.0418C20.8915 32.4419 21.4342 32.6667 22 32.6667C22.5658 32.6667 23.1084 32.4419 23.5085 32.0418C23.9085 31.6418 24.1333 31.0991 24.1333 30.5333V19.8667Z" fill="#005BF0"/></svg>',popupClose:'<svg  width="14" height="14" viewBox="0 0 14 14" fill="none"><path opacity="0.7" d="M13.8586 1.41L8.33929 6.92929L8.26858 7L8.33929 7.07071L13.8586 12.59L12.59 13.8586L7.07071 8.33929L7 8.26858L6.92929 8.33929L1.41 13.8586L0.141422 12.59L5.66071 7.07071L5.73142 7L5.66071 6.92929L0.141421 1.41L1.41 0.141421L6.92929 5.66071L7 5.73142L7.07071 5.66071L12.59 0.141422L13.8586 1.41Z" fill="black" stroke="black" stroke-width="0.2"/></svg>',popupWarning:'<svg width="44" height="40" viewBox="0 0 44 40" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.9337 38.9261L5.9348 39.0691C1.22227 39.0904 -0.681735 35.8019 1.682 31.7251L17.8431 3.85201C20.2068 -0.224788 24.0244 -0.216255 26.3711 3.87121L42.2196 31.4872C44.5652 35.5747 42.6463 38.9048 37.9337 38.9261ZM21.9071 28.4408C20.7284 28.4408 19.7737 29.3965 19.7737 30.5741C19.7737 31.7517 20.7295 32.7075 21.9071 32.7075C23.0847 32.7075 24.0404 31.7517 24.0404 30.5741C24.0404 29.3965 23.0847 28.4408 21.9071 28.4408ZM21.9071 26.3075C23.0847 26.3075 24.0404 25.3517 24.0404 24.1741V15.6408C24.0404 14.4632 23.0847 13.5075 21.9071 13.5075C20.7295 13.5075 19.7737 14.4632 19.7737 15.6408V24.1741C19.7737 25.3528 20.7295 26.3075 21.9071 26.3075Z" fill="#FFAB00"/></svg>',popupError:'<svg width="44" height="40" viewBox="0 0 44 40" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.9337 38.9261L5.93477 39.0691C1.22223 39.0904 -0.681765 35.8019 1.68197 31.7251L17.843 3.85201C20.2068 -0.224788 24.0244 -0.216255 26.371 3.87121L42.2196 31.4872C44.5652 35.5747 42.6462 38.9048 37.9337 38.9261ZM21.907 28.4408C20.7284 28.4408 19.7737 29.3965 19.7737 30.5741C19.7737 31.7517 20.7294 32.7075 21.907 32.7075C23.0846 32.7075 24.0404 31.7517 24.0404 30.5741C24.0404 29.3965 23.0846 28.4408 21.907 28.4408ZM21.907 26.3075C23.0846 26.3075 24.0404 25.3517 24.0404 24.1741V15.6408C24.0404 14.4632 23.0846 13.5075 21.907 13.5075C20.7294 13.5075 19.7737 14.4632 19.7737 15.6408V24.1741C19.7737 25.3528 20.7294 26.3075 21.907 26.3075Z" fill="#DE350B"/></svg>',popupSuccess:'<svg width="44" height="43" viewBox="0 0 44 43" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.3387 42.68C19.5162 42.7116 16.7155 42.1829 14.0987 41.1246C11.482 40.0663 9.10113 38.4995 7.09409 36.5147C5.08704 34.53 3.49365 32.1668 2.40619 29.562C1.31872 26.9573 0.758774 24.1627 0.758774 21.34C0.758774 18.5173 1.31872 15.7227 2.40619 13.118C3.49365 10.5132 5.08704 8.15003 7.09409 6.1653C9.10113 4.18056 11.482 2.61369 14.0987 1.55541C16.7155 0.497126 19.5162 -0.0315459 22.3387 5.92438e-06C27.9571 0.0628127 33.324 2.33878 37.2748 6.33398C41.2256 10.3292 43.4414 15.7213 43.4414 21.34C43.4414 26.9588 41.2256 32.3508 37.2748 36.346C33.324 40.3412 27.9571 42.6172 22.3387 42.68ZM19.2027 26.4267L13.6347 21.552L11 24.5653L19.6533 32.1333L34.2987 14.56L31.224 12L19.2027 26.4267Z" fill="#14B872"/></svg>',refresh:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 31 25" fill="none" ><path fill-rule="evenodd" clip-rule="evenodd" d="M15.4902 22.7C21.1235 22.7 25.6902 18.1333 25.6902 12.5C25.6902 12.1626 25.6739 11.829 25.6418 11.5H27.9508C27.9769 11.8299 27.9902 12.1634 27.9902 12.5C27.9902 19.4036 22.3938 25 15.4902 25C12.548 25 9.84315 23.9835 7.70781 22.2824L9.34699 20.6432C11.0557 21.9343 13.1836 22.7 15.4902 22.7ZM5.33863 13.5C5.30662 13.171 5.29023 12.8374 5.29023 12.5C5.29023 6.8667 9.85693 2.3 15.4902 2.3C17.9291 2.3 20.1681 3.15598 21.9231 4.5839L21.9902 4.5L23.5474 2.94285C21.3716 1.10668 18.5602 0 15.4902 0C8.58668 0 2.99023 5.59644 2.99023 12.5C2.99023 12.8366 3.00354 13.1701 3.02965 13.5H5.33863Z" fill="#454560" /><path d="M26.8099 7.97679L23.1062 11.9319C23.0671 11.9829 23.0637 12.0485 23.0965 12.1021C23.1298 12.1559 23.1941 12.189 23.2641 12.1881L30.7904 12.0969C30.8604 12.096 30.9241 12.0613 30.956 12.0068C30.97 11.9826 30.9768 11.9561 30.9765 11.93C30.9761 11.8972 30.9644 11.8648 30.9421 11.8369L27.1196 7.97303C27.0838 7.92885 27.0258 7.90305 26.9639 7.9038C26.902 7.90455 26.8445 7.93192 26.8099 7.97679Z" fill="#454560" /><path d="M4.16431 17.1151L7.8721 13.1638C7.91124 13.1128 7.91465 13.0472 7.88187 12.9936C7.84872 12.9398 7.78437 12.9066 7.71438 12.9074L0.188057 12.9909C0.118062 12.9917 0.0542772 13.0263 0.0223269 13.0808C0.00829369 13.105 0.00143566 13.1314 0.00172616 13.1576C0.00208975 13.1904 0.0137412 13.2228 0.0360681 13.2507L3.8546 17.1185C3.89028 17.1627 3.94834 17.1886 4.01025 17.1879C4.07215 17.1872 4.12962 17.1599 4.16431 17.1151Z" fill="#454560" /></svg>',close_panel:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 18 18" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.7133 8.54133L17.3653 15.1933C17.5729 15.4009 17.6895 15.6824 17.6895 15.976C17.6895 16.2696 17.5729 16.5511 17.3653 16.7587C17.1577 16.9662 16.8762 17.0829 16.5826 17.0829C16.2891 17.0829 16.0076 16.9662 15.8 16.7587L9.14798 10.1053L2.49731 16.7573C2.39453 16.8601 2.27251 16.9416 2.13822 16.9973C2.00393 17.0529 1.86 17.0815 1.71465 17.0815C1.56929 17.0815 1.42536 17.0529 1.29107 16.9973C1.15678 16.9416 1.03476 16.8601 0.931979 16.7573C0.829198 16.6546 0.747667 16.5325 0.692043 16.3982C0.636418 16.2639 0.607788 16.12 0.607788 15.9747C0.607788 15.8293 0.636418 15.6854 0.692043 15.5511C0.747667 15.4168 0.829198 15.2948 0.931979 15.192L7.58265 8.54133L0.931979 1.88933C0.724403 1.68176 0.607788 1.40022 0.607788 1.10667C0.607788 0.81311 0.724403 0.531577 0.931979 0.324001C1.13956 0.116425 1.42109 -0.000190733 1.71465 -0.000190735C2.0082 -0.000190737 2.28974 0.116425 2.49731 0.324001L9.14798 6.97733L15.8 0.324001C16.0076 0.116425 16.2891 -0.000190735 16.5826 -0.000190735C16.8762 -0.000190735 17.1577 0.116425 17.3653 0.324001C17.5729 0.531577 17.6895 0.81311 17.6895 1.10667C17.6895 1.40022 17.5729 1.68176 17.3653 1.88933L10.7133 8.54133Z" fill="#555555"/></svg>',subfolder:'<svg  width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"/><path d="M28.2 15.6733V18.4667H11.8V13.0067C11.8 12.9091 11.8669 12.8667 11.906 12.8667H18.5C18.539 12.8667 18.606 12.9092 18.606 13.0067V15.3333V15.5333H18.806H28.094C28.1331 15.5333 28.2 15.5758 28.2 15.6733ZM28.094 14.4667H19.606V13.0067C19.606 12.3616 19.1296 11.8 18.5 11.8H11.906C11.2764 11.8 10.8 12.3612 10.8 13.0067V18.6667V19.3333V27.66C10.8 28.3051 11.2764 28.8667 11.906 28.8667H28.094C28.7232 28.8667 29.2 28.3055 29.2 27.66V19.3333V18.6667V15.6733C29.2 15.0279 28.7236 14.4667 28.094 14.4667ZM28.2 27.66C28.2 27.7576 28.1331 27.8 28.094 27.8H11.906C11.8669 27.8 11.8 27.7576 11.8 27.66V19.5333H28.2V27.66Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.4"/><path d="M19.5667 24.36V24.2H30.433C30.4332 24.2011 30.4333 24.2025 30.4333 24.204V24.36H19.5667ZM30.4463 23.4H24.337V22.604C24.337 22.1773 24.0153 21.8 23.5833 21.8H19.5537C19.1218 21.8 18.8 22.1771 18.8 22.604V26V26.4V31.396C18.8 31.8227 19.1217 32.2 19.5537 32.2H30.4463C30.878 32.2 31.2 31.823 31.2 31.396V26.4V26V24.204C31.2 23.7771 30.8783 23.4 30.4463 23.4Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.4"/></svg>',select_application:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" class="ng-scope"><g filter="url(#filter0_d)"><path d="M3.07775 4.15381C4.22479 4.15381 5.15465 3.22395 5.15465 2.07691C5.15465 0.929863 4.22479 0 3.07775 0C1.9307 0 1.00084 0.929863 1.00084 2.07691C1.00084 3.22395 1.9307 4.15381 3.07775 4.15381Z" fill="#ACADC1"></path><path d="M10.0008 4.15381C11.1479 4.15381 12.0777 3.22395 12.0777 2.07691C12.0777 0.929863 11.1479 0 10.0008 0C8.8538 0 7.92393 0.929863 7.92393 2.07691C7.92393 3.22395 8.8538 4.15381 10.0008 4.15381Z" fill="#ACADC1"></path><path d="M16.923 4.15381C18.0701 4.15381 18.9999 3.22395 18.9999 2.07691C18.9999 0.929863 18.0701 0 16.923 0C15.776 0 14.8461 0.929863 14.8461 2.07691C14.8461 3.22395 15.776 4.15381 16.923 4.15381Z" fill="#ACADC1"></path><path d="M3.07691 11.0769C4.22395 11.0769 5.15381 10.147 5.15381 9C5.15381 7.85296 4.22395 6.9231 3.07691 6.9231C1.92986 6.9231 1 7.85296 1 9C1 10.147 1.92986 11.0769 3.07691 11.0769Z" fill="#005BF0"></path><path d="M10.0008 11.0769C11.1479 11.0769 12.0777 10.147 12.0777 9C12.0777 7.85296 11.1479 6.9231 10.0008 6.9231C8.8538 6.9231 7.92393 7.85296 7.92393 9C7.92393 10.147 8.8538 11.0769 10.0008 11.0769Z" fill="#005BF0"></path><path d="M16.923 11.0769C18.0701 11.0769 18.9999 10.147 18.9999 9C18.9999 7.85296 18.0701 6.9231 16.923 6.9231C15.776 6.9231 14.8461 7.85296 14.8461 9C14.8461 10.147 15.776 11.0769 16.923 11.0769Z" fill="#F8F8FB"></path><path d="M3.07691 17.9996C4.22395 17.9996 5.15381 17.0698 5.15381 15.9227C5.15381 14.7757 4.22395 13.8458 3.07691 13.8458C1.92986 13.8458 1 14.7757 1 15.9227C1 17.0698 1.92986 17.9996 3.07691 17.9996Z" fill="#005BF0"></path><path d="M10.0008 17.9996C11.1479 17.9996 12.0777 17.0698 12.0777 15.9227C12.0777 14.7757 11.1479 13.8458 10.0008 13.8458C8.8538 13.8458 7.92393 14.7757 7.92393 15.9227C7.92393 17.0698 8.8538 17.9996 10.0008 17.9996Z" fill="#F8F8FB"></path><path d="M16.923 17.9996C18.0701 17.9996 18.9999 17.0698 18.9999 15.9227C18.9999 14.7757 18.0701 13.8458 16.923 13.8458C15.776 13.8458 14.8461 14.7757 14.8461 15.9227C14.8461 17.0698 15.776 17.9996 16.923 17.9996Z" fill="#F8F8FB"></path></g><defs><filter id="filter0_d" x="0" y="0" width="19.9999" height="19.9996" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"></feColorMatrix><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation="0.5"></feGaussianBlur><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.187664 0"></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"></feBlend></filter></defs></svg>',app_selected:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100"  viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="12" fill="#005BF0" /><path d="M18.68 7.33624C19.1067 7.78479 19.1067 8.51188 18.68 8.9602L11.3527 16.6638C10.9261 17.1121 10.2347 17.1121 9.80806 16.6638L6.31999 12.9964C5.89334 12.5481 5.89334 11.821 6.31999 11.3727C6.74642 10.9242 7.43802 10.9242 7.86446 11.3727L10.5803 14.2279L17.1353 7.33624C17.562 6.88792 18.2536 6.88792 18.68 7.33624Z" fill="white" /></svg>',more_keyword:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 24 24" width="32" height="32"><g><path xmlns:default="http://www.w3.org/2000/svg" d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" style="#005BF0" vector-effect="non-scaling-stroke" /></g></svg>',filter_close_icon:'<svg  width="9" height="9" viewBox="0 0 7 7" fill="none"><path d="M4.655 3.50022L6.82055 1.33468C7.05982 1.09541 7.05982 0.707492 6.82055 0.468596L6.53185 0.179901C6.29251 -0.0594437 5.90459 -0.0594437 5.66569 0.179901L3.50022 2.34537L1.33468 0.179453C1.09541 -0.0598176 0.707492 -0.0598176 0.468596 0.179453L0.179453 0.468147C-0.0598176 0.707492 -0.0598176 1.09541 0.179453 1.33431L2.34537 3.50022L0.179901 5.66569C-0.0594437 5.90504 -0.0594437 6.29296 0.179901 6.53185L0.468596 6.82055C0.707866 7.05982 1.09578 7.05982 1.33468 6.82055L3.50022 4.655L5.66569 6.82055C5.90504 7.05982 6.29296 7.05982 6.53185 6.82055L6.82055 6.53185C7.05982 6.29251 7.05982 5.90459 6.82055 5.66569L4.655 3.50022Z" fill="white"/></svg>',search:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 18 19" fill="none" ><path d="M12.8812 11.6585L12.5653 12.0625H13.0781H13.6512C13.8108 12.0625 13.9614 12.1247 14.072 12.2354L17.5762 15.7395C17.5763 15.7397 17.5765 15.7398 17.5767 15.74C17.8066 15.9729 17.8064 16.3494 17.5736 16.5822L16.5787 17.5771L16.5777 17.5781C16.3492 17.8091 15.9738 17.8105 15.7404 17.5771L12.2354 14.0721C12.1247 13.9614 12.0625 13.8108 12.0625 13.6512V13.0781V12.5653L11.6585 12.8812C10.46 13.8182 8.95292 14.375 7.3125 14.375C3.41112 14.375 0.25 11.2139 0.25 7.3125C0.25 3.41112 3.41112 0.25 7.3125 0.25C11.2139 0.25 14.375 3.41112 14.375 7.3125C14.375 8.95292 13.8182 10.46 12.8812 11.6585ZM2.5625 7.3125C2.5625 9.93976 4.68901 12.0625 7.3125 12.0625C9.93976 12.0625 12.0625 9.93599 12.0625 7.3125C12.0625 4.68524 9.93599 2.5625 7.3125 2.5625C4.68524 2.5625 2.5625 4.68901 2.5625 7.3125Z" fill="#6f708b" stroke="#acadc1" stroke-width="0.5"/></svg>',search_close:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 14 14" fill="none" ><path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="black" fill-opacity="0.7" /><path d="M8.37464 7.03536L13.9293 12.59L12.59 13.9293L7.03536 8.37464L7 8.33929L6.96464 8.37464L1.41 13.9293L0.0707109 12.59L5.62536 7.03536L5.66071 7L5.62536 6.96464L0.0707107 1.41L1.41 0.0707107L6.96464 5.62536L7 5.66071L7.03536 5.62536L12.59 0.0707109L13.9293 1.41L8.37464 6.96464L8.33929 7L8.37464 7.03536Z" stroke="black" stroke-opacity="0.7" stroke-width="0.1" /></svg>',add_category:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 16 16" fill="none" ><path d="M15.15 8.84528V8.99528H15H8.93557V15V15.15H8.78557H7.08818H6.93818V15V8.99528H1H0.85V8.84528V7.36604V7.21604H1H6.93818V1V0.85H7.08818H8.78557H8.93557V1V7.21604H15H15.15V7.36604V8.84528Z" fill="#ffffff" stroke="#ffffff" stroke-width="0.3"></path></svg>',unpublish:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" ><rect x="1" y="4" width="16" height="1.5" fill="#FFFFFF"/><path d="M13.0699 13.1582L13.143 13.0868L13.0699 13.0153L12.3342 12.2955L12.2643 12.2271L12.1944 12.2955L9.62021 14.8139V8V7.9H9.52021L8.47979 7.9H8.37979V8V14.8139L5.80564 12.2955L5.73571 12.2271L5.66577 12.2955L4.93007 13.0153L4.857 13.0868L4.93007 13.1582L8.93007 17.0715L9 17.1399L9.06993 17.0715L13.0699 13.1582Z" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="0.2"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2 1.5H16C16.2761 1.5 16.5 1.72386 16.5 2V14C16.5 14.2761 16.2761 14.5 16 14.5H14V16H16C17.1046 16 18 15.1046 18 14V2C18 0.895431 17.1046 0 16 0H2C0.895431 0 0 0.895431 0 2V14C0 15.1046 0.89543 16 2 16H4V14.5H2C1.72386 14.5 1.5 14.2761 1.5 14V2C1.5 1.72386 1.72386 1.5 2 1.5Z" fill="#FFFFFF"/></svg>',publish:'<svg width="18" height="18" viewBox="0 0 18 18" fill="none" ><path d="M4.93007 11.8418L4.857 11.9132L4.93007 11.9847L5.66577 12.7045L5.73571 12.7729L5.80564 12.7045L8.37979 10.1861V17V17.1H8.47979H9.52021H9.62021V17V10.1861L12.1944 12.7045L12.2643 12.7729L12.3342 12.7045L13.0699 11.9847L13.143 11.9132L13.0699 11.8418L9.06993 7.92852L9 7.8601L8.93007 7.92852L4.93007 11.8418Z" fill="#FFFFFF" stroke="#FFFFFF" stroke-width="0.2"/><rect x="1" y="4" width="16" height="1.5" fill="#FFFFFF"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2 1.5H16C16.2761 1.5 16.5 1.72386 16.5 2V14C16.5 14.2761 16.2761 14.5 16 14.5H14V16H16C17.1046 16 18 15.1046 18 14V2C18 0.895431 17.1046 0 16 0H2C0.895431 0 0 0.895431 0 2V14C0 15.1046 0.89543 16 2 16H4V14.5H2C1.72386 14.5 1.5 14.2761 1.5 14V2C1.5 1.72386 1.72386 1.5 2 1.5Z" fill="#FFFFFF"/></svg>',help_center:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" overflow="visible" preserveAspectRatio="none" viewBox="0 0 514 514"><g transform="translate(1, 1)"><path d="M256 340c-15.464 0-28 12.536-28 28s12.536 28 28 28 28-12.536 28-28-12.536-28-28-28zm7.67-24h-16c-6.627 0-12-5.373-12-12v-.381c0-70.343 77.44-63.619 77.44-107.408 0-20.016-17.761-40.211-57.44-40.211-29.144 0-44.265 9.649-59.211 28.692-3.908 4.98-11.054 5.995-16.248 2.376l-13.134-9.15c-5.625-3.919-6.86-11.771-2.645-17.177C185.658 133.514 210.842 116 255.67 116c52.32 0 97.44 29.751 97.44 80.211 0 67.414-77.44 63.849-77.44 107.408V304c0 6.627-5.373 12-12 12zM256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8z" vector-effect="non-scaling-stroke" fill="#454560" /></g></svg>',navbar:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100"  width="23" height="17" viewBox="0 0 23 17" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 2.5C0.559644 2.5 0 1.94036 0 1.25C0 0.559644 0.559645 0 1.25 0H21.25C21.9404 0 22.5 0.559644 22.5 1.25C22.5 1.94036 21.9404 2.5 21.25 2.5H1.25ZM0 8.5C0 9.19036 0.559645 9.75 1.25 9.75H21.25C21.9404 9.75 22.5 9.19036 22.5 8.5C22.5 7.80964 21.9404 7.25 21.25 7.25H1.25C0.559644 7.25 0 7.80964 0 8.5ZM0 15.75C0 16.4404 0.559645 17 1.25 17H21.25C21.9404 17 22.5 16.4404 22.5 15.75C22.5 15.0596 21.9404 14.5 21.25 14.5H1.25C0.559644 14.5 0 15.0596 0 15.75Z" fill="#454560"></path></svg>',iconImport:'<svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1"  ><g class="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="Icon-Set" transform="translate(-258.000000, -933.000000)" fill="#757575"><path d="M269,944 C269.001,943.445 268.555,942.999 268,943 C267.445,943.001 267.001,943.445 267,944 L267,951 C267,951.555 267.445,952.001 268,952 L275,952 C275.555,951.999 275.999,951.556 276,951 C276.001,950.444 275.555,949.999 275,950 L270.509,950 L285.293,935.217 C285.684,934.826 285.684,934.192 285.293,933.802 C284.902,933.412 284.269,933.412 283.879,933.802 L269,948.681 L269,944 L269,944 Z M284,946 L284,957 C284,958.087 283.086,959 282,959 L261.935,959.033 C260.848,959.033 259.967,958.152 259.967,957.065 L260,937 C260,935.913 260.914,935 262,935 L273,935 L273,933 L262,933 C259.827,933 258,935.221 258,937.394 L258,957.065 C258,959.238 259.762,961 261.935,961 L281.606,961 C283.779,961 286,959.173 286,957 L286,946 L284,946 L284,946 Z" class="Fill-59"></path></g></g></svg>',iconGuideViewAddStep:'<svg version="1.1" id="Layer_1" x="0px" y="0px"viewBox="0 0 24 24" style="enable-background:new 0 0 24 24;" xml:space="preserve"><g><path fill="#757575" class="st0" d="M13.1,10.9h6.5v2.2h-6.5v6.7h-2.2v-6.7H4.5v-2.2h6.4V4.2h2.2V10.9z"/></g></svg>',iconImageStepBulkImages:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><g><path d="M36.9,21.6H3.7c-0.5,0-1,0.4-1,1v21.8c0,0.5,0.4,1,1,1h33.3c0.5,0,1-0.4,1-1V22.6C37.9,22,37.5,21.6,36.9,21.6zM4.6,23.6H36v16.7L29.8,34c-0.4-0.4-1-0.4-1.4,0l-3.8,3.8l-8.7-8.7c-0.4-0.4-1-0.4-1.4,0L4.6,39L4.6,23.6L4.6,23.6z M4.6,43.4v-1.6l10.6-10.6l12.1,12.1H4.6z M36,43.4h-5.8v0L26,39.2l3.1-3.1l6.7,6.7c0.1,0.1,0.1,0.1,0.2,0.2L36,43.4L36,43.4z"/></g></g><g><g><path d="M24.5,25.4c-2.1,0-3.7,1.7-3.7,3.7s1.7,3.7,3.7,3.7s3.7-1.7,3.7-3.7S26.6,25.4,24.5,25.4z M24.5,30.9c-1,0-1.8-0.8-1.8-1.8c0-1,0.8-1.8,1.8-1.8c1,0,1.8,0.8,1.8,1.8C26.3,30.1,25.5,30.9,24.5,30.9z"/></g></g></g><path d="M40.9,35h-3.7v-1.8h3.6V14.8H10.9v7.6H9.1v-7.7c0-0.9,0.7-1.7,1.7-1.7h30.1c0.9,0,1.7,0.7,1.7,1.7v18.7C42.6,34.3,41.8,35,40.9,35z"/><path d="M45.7,26.7H42v-1.8h3.6V6.4H15.7V14h-1.8V6.3c0-0.9,0.7-1.7,1.7-1.7h30.1c0.9,0,1.7,0.7,1.7,1.7V25C47.3,25.9,46.6,26.7,45.7,26.7z"/></g></svg>',iconImageStepBulkImagesWithText:'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><g><g><path d="M36.9,21.6H3.7c-0.5,0-1,0.4-1,1v21.8c0,0.5,0.4,1,1,1h33.3c0.5,0,1-0.4,1-1V22.6C37.9,22,37.5,21.6,36.9,21.6zM4.6,38.9 M30.1,43.4l-25.5,0v-1.6l0-18.2h0H36v16.7l0,2.7v0.4h0H30.1L30.1,43.4 M4.6,39"/></g></g><g><g><path d="M30.6,24.7c-1.8,0-3.4,1.5-3.4,3.4c0,1.8,1.5,3.4,3.4,3.4c1.8,0,3.4-1.5,3.4-3.4C34,26.2,32.5,24.7,30.6,24.7zM30.6,29.6c-0.9,0-1.6-0.7-1.6-1.6c0-0.9,0.7-1.6,1.6-1.6c0.9,0,1.6,0.7,1.6,1.6C32.2,28.9,31.5,29.6,30.6,29.6z"/></g></g></g><path d="M40.9,35h-3.7v-1.8h3.6V14.8H10.9v7.6H9.1v-7.7c0-0.9,0.7-1.7,1.7-1.7h30.1c0.9,0,1.7,0.7,1.7,1.7v18.7C42.6,34.3,41.8,35,40.9,35z"/><path d="M45.7,26.7H42v-1.8h3.6V6.4H15.7V14h-1.8V6.3c0-0.9,0.7-1.7,1.7-1.7h30.1c0.9,0,1.7,0.7,1.7,1.7V25C47.3,25.9,46.6,26.7,45.7,26.7z"/></g><path d="M21.7,28.2H6.9c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8h14.8c0.4,0,0.8,0.4,0.8,0.8S22.1,28.2,21.7,28.2z"/><path d="M25.1,32.2H6.9c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8h18.2c0.4,0,0.8,0.4,0.8,0.8S25.6,32.2,25.1,32.2z"/><path d="M29.7,36.3H6.9c-0.4,0-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8h22.8c0.4,0,0.8,0.4,0.8,0.8S30.1,36.3,29.7,36.3z"/><path d="M32.4,40.6H6.9c-0.4,0-0.8-0.4-0.8-0.8S6.5,39,6.9,39h25.5c0.4,0,0.8,0.4,0.8,0.8S32.9,40.6,32.4,40.6z"/></svg>',filter_mplayer:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" width="32" height="32" viewBox="0 0 32 32" fill="none"><rect class="mgPlayerJSProd_icon-bg" width="32" height="32" rx="4" /><path d="M6.57328 10.28H7.99995C8.20163 10.8289 8.61116 11.2764 9.14005 11.5259C9.66895 11.7753 10.2748 11.8068 10.8266 11.6133C11.1338 11.5038 11.4128 11.3273 11.6434 11.0967C11.874 10.8661 12.0504 10.5871 12.1599 10.28H25.3733C25.5726 10.28 25.7639 10.2018 25.906 10.0621C26.0482 9.92244 26.1298 9.73254 26.1333 9.53329C26.1299 9.3328 26.0487 9.14148 25.9069 8.99968C25.7651 8.85789 25.5738 8.77672 25.3733 8.77329H12.2266C12.131 8.48997 11.9796 8.22867 11.7813 8.0048C11.5831 7.78092 11.3421 7.599 11.0724 7.46976C10.8027 7.34053 10.5099 7.26659 10.2112 7.25231C9.91256 7.23803 9.61404 7.2837 9.33328 7.38663C9.02836 7.50015 8.75146 7.678 8.52139 7.90807C8.29132 8.13814 8.11347 8.41504 7.99995 8.71996H6.57328C6.37404 8.72346 6.18414 8.80507 6.04448 8.94722C5.90482 9.08937 5.82658 9.28068 5.82661 9.47996C5.81928 9.58241 5.83316 9.68526 5.86738 9.7821C5.9016 9.87894 5.95544 9.96768 6.02552 10.0428C6.0956 10.1178 6.18042 10.1777 6.27467 10.2185C6.36892 10.2593 6.47057 10.2802 6.57328 10.28ZM10.1066 8.77329C10.3071 8.77672 10.4984 8.85789 10.6402 8.99968C10.782 9.14148 10.8632 9.3328 10.8666 9.53329C10.8631 9.73254 10.7815 9.92244 10.6394 10.0621C10.4972 10.2018 10.3059 10.28 10.1066 10.28C10.0063 10.2835 9.90637 10.2669 9.81268 10.231C9.71899 10.195 9.6335 10.1406 9.56132 10.0709C9.48913 10.0012 9.43174 9.9177 9.39256 9.82533C9.35338 9.73295 9.33322 9.63363 9.33328 9.53329C9.33327 9.43236 9.35336 9.33243 9.39238 9.23934C9.43141 9.14625 9.48858 9.06187 9.56057 8.99112C9.63256 8.92037 9.71793 8.86467 9.81168 8.82727C9.90543 8.78987 10.0057 8.77152 10.1066 8.77329ZM25.4266 15.2533H23.9999C23.8012 14.7022 23.392 14.2524 22.8622 14.0025C22.3323 13.7525 21.725 13.7229 21.1733 13.92C20.8652 14.0278 20.5853 14.2037 20.3545 14.4345C20.1237 14.6653 19.9478 14.9452 19.8399 15.2533H6.57328C6.37525 15.2533 6.18534 15.332 6.04531 15.472C5.90528 15.612 5.82661 15.8019 5.82661 16C5.82661 16.198 5.90528 16.3879 6.04531 16.5279C6.18534 16.668 6.37525 16.7466 6.57328 16.7466H19.7866C19.937 17.1859 20.2209 17.5672 20.5986 17.8371C20.9763 18.1071 21.429 18.2522 21.8933 18.2522C22.3576 18.2522 22.8102 18.1071 23.188 17.8371C23.5657 17.5672 23.8496 17.1859 23.9999 16.7466H25.4266C25.6246 16.7466 25.8146 16.668 25.9546 16.5279C26.0946 16.3879 26.1733 16.198 26.1733 16C26.1733 15.8019 26.0946 15.612 25.9546 15.472C25.8146 15.332 25.6246 15.2533 25.4266 15.2533ZM21.8933 16.7466C21.6953 16.7466 21.5053 16.668 21.3653 16.5279C21.2253 16.3879 21.1466 16.198 21.1466 16C21.1466 15.8019 21.2253 15.612 21.3653 15.472C21.5053 15.332 21.6953 15.2533 21.8933 15.2533C22.0913 15.2533 22.2812 15.332 22.4213 15.472C22.5613 15.612 22.6399 15.8019 22.6399 16C22.6399 16.198 22.5613 16.3879 22.4213 16.5279C22.2812 16.668 22.0913 16.7466 21.8933 16.7466ZM25.4266 21.72H15.2266C15.0728 21.2822 14.7869 20.9031 14.4083 20.6348C14.0298 20.3666 13.5772 20.2225 13.1133 20.2225C12.6493 20.2225 12.1968 20.3666 11.8182 20.6348C11.4397 20.9031 11.1538 21.2822 10.9999 21.72H6.57328C6.37525 21.72 6.18534 21.7986 6.04531 21.9387C5.90528 22.0787 5.82661 22.2686 5.82661 22.4666C5.82661 22.6647 5.90528 22.8546 6.04531 22.9946C6.18534 23.1346 6.37525 23.2133 6.57328 23.2133H10.9999C11.1436 23.6591 11.4249 24.0478 11.8035 24.3235C12.182 24.5992 12.6383 24.7478 13.1066 24.7478C13.5749 24.7478 14.0312 24.5992 14.4098 24.3235C14.7883 24.0478 15.0696 23.6591 15.2133 23.2133H25.4266C25.6246 23.2133 25.8146 23.1346 25.9546 22.9946C26.0946 22.8546 26.1733 22.6647 26.1733 22.4666C26.1733 22.2686 26.0946 22.0787 25.9546 21.9387C25.8146 21.7986 25.6246 21.72 25.4266 21.72ZM13.1066 23.2133C12.9086 23.2133 12.7187 23.1346 12.5786 22.9946C12.4386 22.8546 12.3599 22.6647 12.3599 22.4666C12.3599 22.2686 12.4386 22.0787 12.5786 21.9387C12.7187 21.7986 12.9086 21.72 13.1066 21.72C13.3059 21.7199 13.4972 21.7982 13.6394 21.9378C13.7815 22.0775 13.8631 22.2674 13.8666 22.4666C13.8631 22.6659 13.7815 22.8558 13.6394 22.9954C13.4972 23.1351 13.3059 23.2133 13.1066 23.2133Z" fill="#555555"/></svg>',replay_guide:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 423.73 390"><g id="Layer_2" data-name="Layer 2"><g id="transport"><path d="M228.73,0C126.33,0,42.11,79.35,34.32,179.79H8.4a8.38,8.38,0,0,0-7,13l37.91,56.86a8.38,8.38,0,0,0,14,0l37.91-56.86a8.38,8.38,0,0,0-7-13H54.4C62.14,90.39,137.37,20,228.73,20c96.5,0,175,78.5,175,175s-78.5,175-175,175a174.75,174.75,0,0,1-133.9-62.32,10,10,0,1,0-15.3,12.88A194.71,194.71,0,0,0,228.73,390c107.53,0,195-87.48,195-195S336.26,0,228.73,0Z" /><path d="M205.82,259.06,292,201.58a8.38,8.38,0,0,0,0-14l-86.22-57.48a8.38,8.38,0,0,0-13,7v115A8.38,8.38,0,0,0,205.82,259.06Z" /></g></g></svg>',resume_guide:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" overflow="visible" preserveAspectRatio="none" viewBox="0 0 9.890675 10.000010000000001" width="9.890675" height="10.000010000000001"><g transform="translate(0, 0)"><g transform="translate(0, 0) rotate(0)"><path d="M0.81549,0c-0.45038,0 -0.81549,0.36511 -0.81549,0.81549v8.36903c0,0.45038 0.36511,0.81549 0.81549,0.81549v0c0.45038,0 0.81549,-0.36511 0.81549,-0.81549v-8.36903c0,-0.45038 -0.36511,-0.81549 -0.81549,-0.81549zM4.82496,1.06482c-0.86323,-0.58808 -1.56302,-0.21807 -1.56302,0.82644v6.21747c0,1.04452 0.69979,1.41453 1.56302,0.82644l4.56323,-3.10874c0.66998,-0.45643 0.66998,-1.19645 0,-1.65289z" vector-effect="non-scaling-stroke" /></g><defs><path id="path-1665396819818175" d="M0.81549,0c-0.45038,0 -0.81549,0.36511 -0.81549,0.81549v8.36903c0,0.45038 0.36511,0.81549 0.81549,0.81549v0c0.45038,0 0.81549,-0.36511 0.81549,-0.81549v-8.36903c0,-0.45038 -0.36511,-0.81549 -0.81549,-0.81549zM4.82496,1.06482c-0.86323,-0.58808 -1.56302,-0.21807 -1.56302,0.82644v6.21747c0,1.04452 0.69979,1.41453 1.56302,0.82644l4.56323,-3.10874c0.66998,-0.45643 0.66998,-1.19645 0,-1.65289z" vector-effect="non-scaling-stroke" /></defs></g></svg>',guide_bot_icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M18.034 24.483H17.9981L17.9704 24.5059L16.2745 25.9068V24.583V24.483H16.1745H14.234C13.3191 24.483 12.5553 23.7192 12.5553 22.8043V14.234C12.5553 13.3133 13.3247 12.4745 14.234 12.4745H22.7234C23.6355 12.4745 24.4021 13.2353 24.4021 14.234V15.8511V15.9511H24.5021H25.8766H25.9766V15.8511V14.234C25.9766 12.4001 24.4765 10.9 22.6426 10.9H14.234C12.4001 10.9 10.9 12.4001 10.9 14.234V22.7234C10.9 24.5557 12.399 26.0588 14.2363 25.9766H14.7V28.8681V29.0733L14.8616 28.9468L16.7212 27.4915L18.5536 26.0574H19.2468H19.3945L19.3397 25.9203C19.1823 25.5269 19.1043 25.1353 19.1043 24.7447V24.583V24.483H19.0043H18.9234H18.034Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0.2"/><path d="M27.8168 16.7404H21.9955C20.7827 16.7404 19.8125 17.7106 19.8125 18.9234V24.7447C19.8125 25.9574 20.7827 26.9277 21.9955 26.9277H24.9061L26.1189 27.8979L27.4125 28.9489V26.9277H27.8168C29.0295 26.9277 29.9997 25.9574 29.9997 24.7447V18.9234C29.9189 17.7106 28.9487 16.7404 27.8168 16.7404Z" fill="#ACADC1"/></svg>',guide_onboarding:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4" /><path d="M28.1938 12.9166C27.8336 12.7648 26.0037 11.9831 24.0812 12.0003C21.9125 12.0453 20.4312 12.8737 20 13.1451C19.5688 12.8737 18.0875 12.0453 15.9187 12.0024C14.0544 11.9684 12.1531 12.7723 11.8063 12.9187C11.325 13.1237 11 13.6593 11 14.2592V25.9072C11 26.6535 11.6312 27.2241 12.2887 26.9942C13.3156 26.6306 14.2787 26.4916 15.1519 26.4916C17.9612 26.4916 19.8331 27.9306 19.8575 27.9492C19.9461 28.0177 20.0557 28.0162 20.1417 27.9492C20.1662 27.9301 22.0379 26.4916 24.8473 26.4916C25.7204 26.4916 26.6836 26.6306 27.7104 26.9942C28.3188 27.2284 29 26.6499 29 25.9072V14.2592C29 13.6593 28.675 13.1237 28.1938 12.9166ZM19.5 26.4428C18.5981 25.9605 17.0963 25.348 15.1525 25.348C14.0938 25.348 13.0306 25.5343 12 25.9063V14.2592C12 14.1386 12.0629 14.0281 12.1538 13.9899C13.4688 13.4379 14.75 13.1451 15.9062 13.1451C17.825 13.1808 19.1313 13.9021 19.5 14.1378V26.4428ZM28 25.9072C26.9694 25.5352 25.9069 25.3489 24.8475 25.3489C22.9031 25.3489 21.4012 25.9613 20.5 26.4437V14.1378C20.8687 13.9021 22.175 13.1808 24.0938 13.1451C25.2463 13.1451 26.5325 13.4375 27.8444 13.9907C27.8813 14.0306 28 14.1378 28 14.2592V25.9072Z" fill="#ACADC1" stroke-width="0.2" /></svg>',guide_beacon:'<svg width="12px" height="12px" viewBox="0 0 12 12" version="1.1"  ><g class="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="02-Guide-list-along-with-beacon_sample-2" transform="translate(-407.000000, -242.000000)"><g class="Group" transform="translate(408.000000, 243.000000)"><circle class="combined-shape" fill="#9476c9" cx="5" cy="5" r="4.375"></circle><circle class="Oval" stroke="#FFFFFF" stroke-width="2" cx="5" cy="5" r="5"></circle></g></g></g></svg>',play_teachme:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 17 17" version="1.1"><g fill="#005BF0"><path d="M2 3C2 3.39556 2.1173 3.78224 2.33706 4.11114C2.55683 4.44004 2.86918 4.69638 3.23463 4.84776C3.60009 4.99914 4.00222 5.03874 4.39018 4.96157C4.77814 4.8844 5.13451 4.69392 5.41421 4.41421C5.69392 4.13451 5.8844 3.77814 5.96157 3.39018C6.03874 3.00222 5.99914 2.60009 5.84776 2.23463C5.69638 1.86918 5.44004 1.55683 5.11114 1.33706C4.78225 1.1173 4.39556 1 4 1C3.46971 1.00045 2.96126 1.2113 2.58628 1.58628C2.21131 1.96125 2.00045 2.46971 2 3ZM5.15541 3C5.15541 3.22852 5.08764 3.4519 4.96069 3.64191C4.83373 3.83191 4.65328 3.98001 4.44216 4.06746C4.23103 4.15491 3.99872 4.17778 3.77459 4.13321C3.55046 4.08863 3.34459 3.97858 3.18301 3.817C3.02142 3.65541 2.91138 3.44954 2.8668 3.22541C2.82222 3.00128 2.8451 2.76897 2.93255 2.55785C3.02 2.34672 3.16809 2.16627 3.35809 2.03931C3.5481 1.91236 3.77148 1.84459 4 1.84459C4.30629 1.84504 4.59992 1.96692 4.8165 2.1835C5.03308 2.40008 5.15496 2.69371 5.15541 3Z" fill="#005BF0" /><path d="M2 3C2 3.39556 2.1173 3.78224 2.33706 4.11114C2.55683 4.44004 2.86918 4.69638 3.23463 4.84776C3.60009 4.99914 4.00222 5.03874 4.39018 4.96157C4.77814 4.8844 5.13451 4.69392 5.41421 4.41421C5.69392 4.13451 5.8844 3.77814 5.96157 3.39018C6.03874 3.00222 5.99914 2.60009 5.84776 2.23463C5.69638 1.86918 5.44004 1.55683 5.11114 1.33706C4.78225 1.1173 4.39556 1 4 1C3.46971 1.00045 2.96126 1.2113 2.58628 1.58628C2.21131 1.96125 2.00045 2.46971 2 3ZM5.15541 3C5.15541 3.22852 5.08764 3.4519 4.96069 3.64191C4.83373 3.83191 4.65328 3.98001 4.44216 4.06746C4.23103 4.15491 3.99872 4.17778 3.77459 4.13321C3.55046 4.08863 3.34459 3.97858 3.18301 3.817C3.02142 3.65541 2.91138 3.44954 2.8668 3.22541C2.82222 3.00128 2.8451 2.76897 2.93255 2.55785C3.02 2.34672 3.16809 2.16627 3.35809 2.03931C3.5481 1.91236 3.77148 1.84459 4 1.84459C4.30629 1.84504 4.59992 1.96692 4.8165 2.1835C5.03308 2.40008 5.15496 2.69371 5.15541 3Z" stroke="#005BF0" stroke-width="0.2" /><path d="M1.35428 9.68552C1.37787 9.91784 1.45201 10.1407 1.57056 10.3356C1.6891 10.5306 1.84865 10.692 2.03598 10.8066L2.58986 15.214C2.61253 15.4302 2.70756 15.6298 2.85684 15.7748C3.00613 15.9197 3.19924 15.9999 3.39938 16H4.31968C4.52004 15.9998 4.71333 15.9195 4.86265 15.7742C5.01196 15.6289 5.10686 15.4289 5.12919 15.2124L5.40187 12.5115L5.94439 8.00227L6.55222 8.5474C6.72459 8.70216 6.94046 8.78807 7.16396 8.79087C7.38746 8.79368 7.60512 8.7132 7.7807 8.56284L9.61277 6.99232C9.80497 6.83121 9.93637 6.59922 9.98213 6.3401C10.0279 6.08096 9.98497 5.81257 9.8613 5.5855C9.78924 5.45726 9.69293 5.34708 9.57884 5.26224C9.46475 5.17739 9.33541 5.11979 9.19933 5.09324C9.06331 5.06668 8.9236 5.07178 8.78947 5.10818C8.65534 5.14458 8.52983 5.21147 8.42121 5.30444L7.18847 6.36072L5.94439 5.24421C5.7693 5.08697 5.54943 5.00072 5.32234 5.00022H4.75426C4.69118 4.99808 4.62849 5.01156 4.57091 5.03966C4.51334 5.06775 4.46239 5.10971 4.42193 5.16237L3.85385 5.92523L3.29997 5.17009C3.26139 5.11692 3.21218 5.07399 3.15608 5.04455C3.09998 5.01512 3.03845 4.99996 2.97616 5.00022H2.54016C2.32264 5.00034 2.10761 5.05053 1.90922 5.14749C1.71082 5.24445 1.53355 5.38598 1.38907 5.56278C1.24458 5.73958 1.13616 5.94763 1.07093 6.17326C1.00569 6.39889 0.985132 6.63697 1.01059 6.87187L1.35428 9.68552ZM1.92237 6.07503C1.99938 5.97815 2.09467 5.90043 2.20176 5.84714C2.30885 5.79385 2.42523 5.76623 2.543 5.76617H2.83556L3.47181 6.62942C3.5185 6.69314 3.5778 6.74456 3.64529 6.7799C3.71279 6.81531 3.78674 6.83367 3.86166 6.83367C3.93658 6.83367 4.01053 6.81531 4.07803 6.7799C4.14552 6.74456 4.20481 6.69314 4.25151 6.62942L4.88918 5.76463H5.32376C5.38599 5.76425 5.44635 5.78777 5.49419 5.83103L6.96408 7.15447C7.02725 7.20989 7.10594 7.24009 7.18705 7.24009C7.26822 7.24009 7.34691 7.20989 7.41003 7.15447L8.86858 5.90516C8.91592 5.86468 8.97452 5.8429 9.03474 5.84339C9.08098 5.84343 9.12637 5.85638 9.16667 5.88099C9.20696 5.90559 9.24078 5.94103 9.26482 5.98392C9.29753 6.04987 9.307 6.12649 9.29159 6.19949C9.27618 6.27251 9.23689 6.33694 9.18103 6.38079L7.34044 7.95594C7.29236 7.99661 7.23313 8.01874 7.17217 8.01874C7.1112 8.01874 7.05198 7.99661 7.00385 7.95594L5.90179 6.96607C5.85291 6.9222 5.79413 6.89332 5.73154 6.88251C5.66895 6.8717 5.60483 6.87925 5.54585 6.90447C5.48686 6.9297 5.43516 6.97162 5.39611 7.0259C5.35705 7.08018 5.33207 7.14481 5.32376 7.21315L4.69177 12.4204L4.42477 15.1275C4.42198 15.1553 4.40989 15.1811 4.39077 15.1999C4.37166 15.2187 4.34686 15.2292 4.3211 15.2294H3.39938C3.37244 15.2287 3.34671 15.2171 3.32726 15.1968C3.30782 15.1765 3.29605 15.149 3.29429 15.1198L2.71342 10.4947C2.70455 10.4256 2.67861 10.3603 2.63835 10.3059C2.59808 10.2515 2.545 10.21 2.48477 10.1859C2.36972 10.1404 2.26874 10.0608 2.19339 9.95593C2.11804 9.85104 2.07137 9.72521 2.05871 9.59286L1.70934 6.77767C1.69619 6.65064 1.70827 6.52206 1.74478 6.40057C1.78129 6.27909 1.84136 6.16755 1.92095 6.07348L1.92237 6.07503Z" fill="#005BF0" /><path d="M1.35428 9.68552C1.37787 9.91784 1.45201 10.1407 1.57056 10.3356C1.6891 10.5306 1.84865 10.692 2.03598 10.8066L2.58986 15.214C2.61253 15.4302 2.70756 15.6298 2.85684 15.7748C3.00613 15.9197 3.19924 15.9999 3.39938 16H4.31968C4.52004 15.9998 4.71333 15.9195 4.86265 15.7742C5.01196 15.6289 5.10686 15.4289 5.12919 15.2124L5.40187 12.5115L5.94439 8.00227L6.55222 8.5474C6.72459 8.70216 6.94046 8.78807 7.16396 8.79087C7.38746 8.79368 7.60512 8.7132 7.7807 8.56284L9.61277 6.99232C9.80497 6.83121 9.93637 6.59922 9.98213 6.3401C10.0279 6.08096 9.98497 5.81257 9.8613 5.5855C9.78924 5.45726 9.69293 5.34708 9.57884 5.26224C9.46475 5.17739 9.33541 5.11979 9.19933 5.09324C9.06331 5.06668 8.9236 5.07178 8.78947 5.10818C8.65534 5.14458 8.52983 5.21147 8.42121 5.30444L7.18847 6.36072L5.94439 5.24421C5.7693 5.08697 5.54943 5.00072 5.32234 5.00022H4.75426C4.69118 4.99808 4.62849 5.01156 4.57091 5.03966C4.51334 5.06775 4.46239 5.10971 4.42193 5.16237L3.85385 5.92523L3.29997 5.17009C3.26139 5.11692 3.21218 5.07399 3.15608 5.04455C3.09998 5.01512 3.03845 4.99996 2.97616 5.00022H2.54016C2.32264 5.00034 2.10761 5.05053 1.90922 5.14749C1.71082 5.24445 1.53355 5.38598 1.38907 5.56278C1.24458 5.73958 1.13616 5.94763 1.07093 6.17326C1.00569 6.39889 0.985132 6.63697 1.01059 6.87187L1.35428 9.68552ZM1.92237 6.07503C1.99938 5.97815 2.09467 5.90043 2.20176 5.84714C2.30885 5.79385 2.42523 5.76623 2.543 5.76617H2.83556L3.47181 6.62942C3.5185 6.69314 3.5778 6.74456 3.64529 6.7799C3.71279 6.81531 3.78674 6.83367 3.86166 6.83367C3.93658 6.83367 4.01053 6.81531 4.07803 6.7799C4.14552 6.74456 4.20481 6.69314 4.25151 6.62942L4.88918 5.76463H5.32376C5.38599 5.76425 5.44635 5.78777 5.49419 5.83103L6.96408 7.15447C7.02725 7.20989 7.10594 7.24009 7.18705 7.24009C7.26822 7.24009 7.34691 7.20989 7.41003 7.15447L8.86858 5.90516C8.91592 5.86468 8.97452 5.8429 9.03474 5.84339C9.08098 5.84343 9.12637 5.85638 9.16667 5.88099C9.20696 5.90559 9.24078 5.94103 9.26482 5.98392C9.29753 6.04987 9.307 6.12649 9.29159 6.19949C9.27618 6.27251 9.23689 6.33694 9.18103 6.38079L7.34044 7.95594C7.29236 7.99661 7.23313 8.01874 7.17217 8.01874C7.1112 8.01874 7.05198 7.99661 7.00385 7.95594L5.90179 6.96607C5.85291 6.9222 5.79413 6.89332 5.73154 6.88251C5.66895 6.8717 5.60483 6.87925 5.54585 6.90447C5.48686 6.9297 5.43516 6.97162 5.39611 7.0259C5.35705 7.08018 5.33207 7.14481 5.32376 7.21315L4.69177 12.4204L4.42477 15.1275C4.42198 15.1553 4.40989 15.1811 4.39077 15.1999C4.37166 15.2187 4.34686 15.2292 4.3211 15.2294H3.39938C3.37244 15.2287 3.34671 15.2171 3.32726 15.1968C3.30782 15.1765 3.29605 15.149 3.29429 15.1198L2.71342 10.4947C2.70455 10.4256 2.67861 10.3603 2.63835 10.3059C2.59808 10.2515 2.545 10.21 2.48477 10.1859C2.36972 10.1404 2.26874 10.0608 2.19339 9.95593C2.11804 9.85104 2.07137 9.72521 2.05871 9.59286L1.70934 6.77767C1.69619 6.65064 1.70827 6.52206 1.74478 6.40057C1.78129 6.27909 1.84136 6.16755 1.92095 6.07348L1.92237 6.07503Z" stroke="#005BF0" stroke-width="0.2" /><path d="M7 2.35418V4.9043C7 4.99823 7.03947 5.08832 7.10976 5.15474C7.18005 5.22116 7.27537 5.25848 7.37475 5.25848C7.47413 5.25848 7.56945 5.22116 7.63974 5.15474C7.71003 5.08832 7.7495 4.99823 7.7495 4.9043V2.70695H15.2565V9.6617H7.37475C7.27537 9.6617 7.18005 9.699 7.10976 9.76543C7.03947 9.83186 7 9.9219 7 10.0159C7 10.1098 7.03947 10.1999 7.10976 10.2663C7.18005 10.3328 7.27537 10.3701 7.37475 10.3701H11.1223V12.7275H8.78081C8.68116 12.7275 8.58339 12.7532 8.49806 12.8019C8.41272 12.8506 8.34305 12.9204 8.29664 13.0038L7.46169 14.48C7.43865 14.5211 7.42444 14.5661 7.41978 14.6124C7.41517 14.6587 7.42022 14.7055 7.43471 14.7499C7.4492 14.7944 7.4728 14.8357 7.50416 14.8716C7.53553 14.9074 7.57412 14.9371 7.61759 14.9589C7.66111 14.9806 7.70869 14.9941 7.75772 14.9984C7.80674 15.0028 7.85615 14.998 7.90323 14.9844C7.95026 14.9707 7.994 14.9484 8.03192 14.9187C8.06984 14.889 8.10121 14.8526 8.12425 14.8115L8.89474 13.4373H14.1038L14.8742 14.8115C14.8973 14.8526 14.9287 14.889 14.9666 14.9187C15.0045 14.9484 15.0482 14.9707 15.0953 14.9844C15.1423 14.998 15.1918 15.0028 15.2408 14.9984C15.2898 14.9941 15.3374 14.9806 15.3809 14.9589C15.4244 14.9371 15.463 14.9074 15.4943 14.8716C15.5257 14.8357 15.5493 14.7944 15.5638 14.7499C15.5783 14.7055 15.5833 14.6587 15.5787 14.6124C15.5741 14.5661 15.5598 14.5211 15.5368 14.48L14.7094 13.0038C14.6629 12.9204 14.5933 12.8506 14.508 12.8019C14.4227 12.7532 14.3248 12.7275 14.2252 12.7275H11.8777V10.3701H15.6252C15.7246 10.3701 15.82 10.3328 15.8902 10.2663C15.9605 10.1999 16 10.1098 16 10.0159V2.35418C16 2.26025 15.9605 2.17016 15.8902 2.10374C15.82 2.03732 15.7246 2 15.6252 2H7.37475C7.27537 2 7.18005 2.03732 7.10976 2.10374C7.03947 2.17016 7 2.26025 7 2.35418Z" fill="#005BF0" /><path d="M7 2.35418V4.9043C7 4.99823 7.03947 5.08832 7.10976 5.15474C7.18005 5.22116 7.27537 5.25848 7.37475 5.25848C7.47413 5.25848 7.56945 5.22116 7.63974 5.15474C7.71003 5.08832 7.7495 4.99823 7.7495 4.9043V2.70695H15.2565V9.6617H7.37475C7.27537 9.6617 7.18005 9.699 7.10976 9.76543C7.03947 9.83186 7 9.9219 7 10.0159C7 10.1098 7.03947 10.1999 7.10976 10.2663C7.18005 10.3328 7.27537 10.3701 7.37475 10.3701H11.1223V12.7275H8.78081C8.68116 12.7275 8.58339 12.7532 8.49806 12.8019C8.41272 12.8506 8.34305 12.9204 8.29664 13.0038L7.46169 14.48C7.43865 14.5211 7.42444 14.5661 7.41978 14.6124C7.41517 14.6587 7.42022 14.7055 7.43471 14.7499C7.4492 14.7944 7.4728 14.8357 7.50416 14.8716C7.53553 14.9074 7.57412 14.9371 7.61759 14.9589C7.66111 14.9806 7.70869 14.9941 7.75772 14.9984C7.80674 15.0028 7.85615 14.998 7.90323 14.9844C7.95026 14.9707 7.994 14.9484 8.03192 14.9187C8.06984 14.889 8.10121 14.8526 8.12425 14.8115L8.89474 13.4373H14.1038L14.8742 14.8115C14.8973 14.8526 14.9287 14.889 14.9666 14.9187C15.0045 14.9484 15.0482 14.9707 15.0953 14.9844C15.1423 14.998 15.1918 15.0028 15.2408 14.9984C15.2898 14.9941 15.3374 14.9806 15.3809 14.9589C15.4244 14.9371 15.463 14.9074 15.4943 14.8716C15.5257 14.8357 15.5493 14.7944 15.5638 14.7499C15.5783 14.7055 15.5833 14.6587 15.5787 14.6124C15.5741 14.5661 15.5598 14.5211 15.5368 14.48L14.7094 13.0038C14.6629 12.9204 14.5933 12.8506 14.508 12.8019C14.4227 12.7532 14.3248 12.7275 14.2252 12.7275H11.8777V10.3701H15.6252C15.7246 10.3701 15.82 10.3328 15.8902 10.2663C15.9605 10.1999 16 10.1098 16 10.0159V2.35418C16 2.26025 15.9605 2.17016 15.8902 2.10374C15.82 2.03732 15.7246 2 15.6252 2H7.37475C7.27537 2 7.18005 2.03732 7.10976 2.10374C7.03947 2.17016 7 2.26025 7 2.35418Z" stroke="#005BF0" stroke-width="0.2" /></g></svg>',play_testme:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 20 26" fill="none"><path d="M1.54651 21.1221V5.72034H3.75581V6.61319C3.75581 7.05962 4.08721 7.39444 4.52907 7.39444H12.0407C12.4826 7.39444 12.814 7.05962 12.814 6.61319V5.72034H15.0233V12.0819V14.3141H16.5698V12.64V5.05069C16.5698 4.60426 16.2384 4.26944 15.7965 4.26944H12.814V3.37659C12.814 2.93016 12.4826 2.59534 12.0407 2.59534H11.157C10.936 0.921228 9.5 -0.194843 7.84302 0.0283712C6.51744 0.139978 5.52326 1.25605 5.30232 2.59534H4.52907C4.08721 2.59534 3.75581 2.93016 3.75581 3.37659V4.26944H0.773256C0.331395 4.26944 0 4.60426 0 5.05069V21.9034C0 22.3498 0.331395 22.6846 0.773256 22.6846H9.38953V21.1221H6.73837H1.54651ZM8.28488 1.47926C8.94767 1.47926 9.5 1.92569 9.72093 2.59534H6.84884C6.9593 1.92569 7.62209 1.47926 8.28488 1.47926ZM5.19186 4.15784H11.2674V5.83194H5.19186V4.15784Z" fill="#005BF0" /><circle cx="12.5" cy="18.5" r="6.7" fill="white" stroke="#005BF0" stroke-width="1.6" /><path d="M11.6804 20.9037C11.6136 20.9655 11.5224 21 11.4277 21C11.333 21 11.2419 20.9655 11.1751 20.9037L9.15707 19.047C8.94764 18.8544 8.94764 18.542 9.15707 18.3497L9.40975 18.1172C9.61924 17.9246 9.95844 17.9246 10.1679 18.1172L11.4277 19.2762L14.8321 16.1445C15.0416 15.9518 15.3812 15.9518 15.5902 16.1445L15.8429 16.377C16.0524 16.5696 16.0524 16.882 15.8429 17.0743L11.6804 20.9037Z" fill="#005BF0" /></svg>',play_showme:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100"  viewBox="0 0 20 20"><path class="mgPlayerJSProd_showme-path" fill="#005BF0" fill-rule="nonzero" d="M4.305 7.133a3.81 3.81 0 1 1 .095 7.619 3.81 3.81 0 0 1-.095-7.619zm0 6.667v.029a2.857 2.857 0 0 0 2.857-2.886A2.857 2.857 0 1 0 4.305 13.8zm11.39-6.667a3.857 3.857 0 0 1 3.81 3.81 3.81 3.81 0 1 1-3.81-3.81zm0 6.667v.029a2.857 2.857 0 0 0 2.857-2.886 2.857 2.857 0 1 0-2.857 2.857zM10 8.638a.838.838 0 1 1 0-1.676.838.838 0 0 1 0 1.676zm3.429-1.152A4.162 4.162 0 0 0 11.505 11c0 .512.098 1.02.285 1.495a2.181 2.181 0 0 0-3.58 0 4.143 4.143 0 0 0-1.639-5.01h1.277a2.181 2.181 0 0 1 4.304 0h1.277zM10 8.97c.61-.05 1.078-.56 1.076-1.171v-.095a.162.162 0 0 1 0-.067v-.076-.076a1.171 1.171 0 0 0-2.247 0v.152a.162.162 0 0 1 0 .067V7.8c0 .647.524 1.171 1.171 1.171z"/></svg>',default_guide:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M12 27.555C12 27.555 20.838 24.372 22.606 22.606C24.374 20.838 27.555 12 27.555 12C27.555 12 18.717 15.183 16.95 16.95C15.183 18.717 12 27.555 12 27.555ZM18.364 18.364L21.192 21.192C21.899 21.899 14.829 24.727 14.829 24.727C14.829 24.727 17.657 17.657 18.364 18.364Z" fill="#ACADC1" stroke="#ACADC1" stroke-width="0" /></svg>',bell:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" width="18" height="21" viewBox="0 0 18 21" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.868 17.08H3.34796V8.44001C3.34796 6.91236 3.95481 5.44728 5.03502 4.36707C6.11523 3.28686 7.58031 2.68001 9.10796 2.68001C10.6356 2.68001 12.1007 3.28686 13.1809 4.36707C14.2611 5.44728 14.868 6.91236 14.868 8.44001V17.08ZM16.788 17.08V8.44001C16.788 6.40315 15.9788 4.44971 14.5385 3.00943C13.0983 1.56915 11.1448 0.76001 9.10796 0.76001C7.07109 0.76001 5.11766 1.56915 3.67738 3.00943C2.2371 4.44971 1.42796 6.40315 1.42796 8.44001V17.08C1.17335 17.08 0.929169 17.1812 0.749134 17.3612C0.569099 17.5412 0.467957 17.7854 0.467957 18.04C0.467957 18.2946 0.569099 18.5388 0.749134 18.7188C0.929169 18.8989 1.17335 19 1.42796 19H7.18796C7.18796 19.2521 7.23762 19.5018 7.33411 19.7348C7.4306 19.9677 7.57202 20.1794 7.75031 20.3577C7.9286 20.5359 8.14026 20.6774 8.3732 20.7739C8.60615 20.8703 8.85582 20.92 9.10796 20.92C9.3601 20.92 9.60976 20.8703 9.84271 20.7739C10.0757 20.6774 10.2873 20.5359 10.4656 20.3577C10.6439 20.1794 10.7853 19.9677 10.8818 19.7348C10.9783 19.5018 11.028 19.2521 11.028 19H16.788C17.0426 19 17.2867 18.8989 17.4668 18.7188C17.6468 18.5388 17.748 18.2946 17.748 18.04C17.748 17.7854 17.6468 17.5412 17.4668 17.3612C17.2867 17.1812 17.0426 17.08 16.788 17.08Z" fill="#555555"/></svg>',close_push:'<svg class="mgPlayerJSProd_width-height-100"  viewBox="0 0 15 15" fill="none"><path d="M15 1.51071L13.4893 0L7.5 5.98929L1.51071 0L0 1.51071L5.98929 7.5L0 13.4893L1.51071 15L7.5 9.01071L13.4893 15L15 13.4893L9.01071 7.5L15 1.51071Z" fill="#757575" /></svg>',oops:'<svg  width="35" height="48" viewBox="0 0 35 48" fill="none"><path d="M17.0179 0C12.4536 0.0642491 8.10087 1.91699 4.9118 5.15292C1.72273 8.38885 -0.0430337 12.7445 0.00079691 17.2671C0.00079691 29.1103 15.2342 46.4688 15.88 47.2001C16.0195 47.3629 16.1931 47.4936 16.3887 47.5832C16.5843 47.6729 16.7972 47.7193 17.0127 47.7193C17.2283 47.7193 17.4412 47.6729 17.6368 47.5832C17.8324 47.4936 18.006 47.3629 18.1455 47.2001C18.7913 46.4688 34.0247 29.1103 34.0247 17.2773C34.0794 12.7523 32.3189 8.3909 29.13 5.15129C25.9411 1.91169 21.5847 0.0588995 17.0179 0V0Z" fill="#454560" /><g clip-path="url(#clip0)"><path d="M17.1345 5.96484C10.9851 5.96484 6 10.9499 6 17.0993C6 23.2488 10.9851 28.2339 17.1345 28.2339C23.2839 28.2339 28.269 23.2488 28.269 17.0993C28.269 10.9499 23.2839 5.96484 17.1345 5.96484ZM17.1345 26.842C11.7538 26.842 7.39181 22.4801 7.39181 17.0993C7.39181 11.7186 11.7538 7.35666 17.1345 7.35666C22.5153 7.35666 26.8772 11.7186 26.8772 17.0993C26.8772 22.4801 22.5153 26.842 17.1345 26.842Z" fill="#56E7CE" /><path d="M13.6545 15.0121C14.4232 15.0121 15.0463 14.389 15.0463 13.6203C15.0463 12.8517 14.4232 12.2285 13.6545 12.2285C12.8858 12.2285 12.2627 12.8517 12.2627 13.6203C12.2627 14.389 12.8858 15.0121 13.6545 15.0121Z" fill="#56E7CE" /><path d="M20.6145 15.0121C21.3831 15.0121 22.0063 14.389 22.0063 13.6203C22.0063 12.8517 21.3831 12.2285 20.6145 12.2285C19.8458 12.2285 19.2227 12.8517 19.2227 13.6203C19.2227 14.389 19.8458 15.0121 20.6145 15.0121Z" fill="#56E7CE" /><path d="M17.1343 16.4043C13.6752 16.4043 10.8711 19.2084 10.8711 22.6675H12.2629C12.2629 19.9771 14.4439 17.7961 17.1343 17.7961C19.8246 17.7961 22.0056 19.9771 22.0056 22.6675H23.3974C23.3974 19.2084 20.5933 16.4043 17.1343 16.4043Z" fill="#56E7CE" /></g><defs><clipPath class="clip0"><rect x="6" y="5.96484" width="22.269" height="22.269" fill="white" /></clipPath></defs></svg>',button_back_guide_view:'<svg width="16px" height="14px" viewBox="0 0 16 14" version="1.1"  ><g class="UI-Icon/arrow--left/$ui-05" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M9.00336422,10.9539983 L12.9082684,6.86386869 L14.3611917,8.23828263 L8.00473722,15.0011917 L1.63880827,8.23885341 L3.0906509,6.8632979 L7.00336422,10.9551641 L7.00336422,-0.998808285 L9.00336422,-0.998808285 L9.00336422,10.9539983 Z" class="arrow" fill="#FFFFFF" fill-rule="nonzero" transform="translate(8.000000, 7.001192) rotate(90.000000) translate(-8.000000, -7.001192) "></path></g></svg>',my_guide:'<svg  width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M0 15.555C0 15.555 8.838 12.372 10.606 10.606C12.374 8.838 15.555 0 15.555 0C15.555 0 6.717 3.183 4.95 4.95C3.183 6.717 0 15.555 0 15.555ZM6.364 6.364L9.192 9.192C9.899 9.899 2.829 12.727 2.829 12.727C2.829 12.727 5.657 5.657 6.364 6.364Z" fill="#6f708b" /></svg>',my_show:'<svg  width="20" height="11" viewBox="0 0 20 11" fill="none"><path d="M13.0465 1.05294L13.0896 1.09273H13.1482H15.1375C17.731 1.09273 19.8499 3.27659 19.85 5.97134C19.85 8.66605 17.7312 10.85 15.1377 10.85C12.5442 10.85 10.4253 8.66604 10.4253 5.97134C10.4253 5.93554 10.4256 5.89996 10.4264 5.86449L10.4299 5.71111H10.2764H9.72347H9.57026L9.5735 5.86429C9.57426 5.90007 9.57464 5.93568 9.57464 5.97134C9.57464 8.66605 7.45583 10.85 4.86234 10.85C2.26881 10.85 0.15 8.66605 0.15 5.97134C0.15 3.27659 2.2688 1.09273 4.86234 1.09273H6.85159H6.91026L6.95335 1.05293C7.5463 0.50539 8.69319 0.15 9.9999 0.15C11.3066 0.15 12.4535 0.505438 13.0465 1.05294ZM1.82725 5.97134C1.82725 7.69467 3.18397 9.10517 4.86234 9.10517C6.54076 9.10517 7.89749 7.69467 7.89749 5.97134C7.89749 4.24802 6.54077 2.83746 4.86234 2.83746C3.18392 2.83746 1.82725 4.24802 1.82725 5.97134ZM8.69265 3.04H11.3065C11.705 3.04 12.0195 2.70646 12.0195 2.30772C12.0195 1.90897 11.705 1.57544 11.3065 1.57544H8.69265C8.29462 1.57544 7.98026 1.9091 7.98026 2.30772C7.98026 2.70639 8.29463 3.04 8.69265 3.04ZM12.1023 5.97134C12.1023 7.69467 13.459 9.10517 15.1375 9.10517C16.8159 9.10517 18.1726 7.69466 18.1726 5.97134C18.1726 4.24802 16.8157 2.83746 15.1375 2.83746C13.459 2.83746 12.1023 4.24802 12.1023 5.97134Z" fill="#6f708b" stroke="#cfd0dd" stroke-width="0.3" /></svg>',my_test:'<svg  width="20" height="26" viewBox="0 0 20 26" fill="none"><path d="M1.54651 21.1221V5.72034H3.75581V6.61319C3.75581 7.05962 4.08721 7.39444 4.52907 7.39444H12.0407C12.4826 7.39444 12.814 7.05962 12.814 6.61319V5.72034H15.0233V12.0819V14.3141H16.5698V12.64V5.05069C16.5698 4.60426 16.2384 4.26944 15.7965 4.26944H12.814V3.37659C12.814 2.93016 12.4826 2.59534 12.0407 2.59534H11.157C10.936 0.921228 9.5 -0.194843 7.84302 0.0283712C6.51744 0.139978 5.52326 1.25605 5.30232 2.59534H4.52907C4.08721 2.59534 3.75581 2.93016 3.75581 3.37659V4.26944H0.773256C0.331395 4.26944 0 4.60426 0 5.05069V21.9034C0 22.3498 0.331395 22.6846 0.773256 22.6846H9.38953V21.1221H6.73837H1.54651ZM8.28488 1.47926C8.94767 1.47926 9.5 1.92569 9.72093 2.59534H6.84884C6.9593 1.92569 7.62209 1.47926 8.28488 1.47926ZM5.19186 4.15784H11.2674V5.83194H5.19186V4.15784Z" fill="#6f708b" /><circle cx="12.5" cy="18.5" r="6.7" fill="white" stroke="#6f708b" stroke-width="1.6" /><path d="M11.6804 20.9037C11.6136 20.9655 11.5224 21 11.4277 21C11.333 21 11.2419 20.9655 11.1751 20.9037L9.15707 19.047C8.94764 18.8544 8.94764 18.542 9.15707 18.3497L9.40975 18.1172C9.61924 17.9246 9.95844 17.9246 10.1679 18.1172L11.4277 19.2762L14.8321 16.1445C15.0416 15.9518 15.3812 15.9518 15.5902 16.1445L15.8429 16.377C16.0524 16.5696 16.0524 16.882 15.8429 17.0743L11.6804 20.9037Z" fill="#6f708b" /></svg>',vlab:'<svg  width="27" height="27" viewBox="0 0 27 27" fill="none"><path d="M2.2613 3.68801C2.2613 4.32028 2.44879 4.93835 2.80006 5.46406C3.15133 5.98977 3.6506 6.39951 4.23474 6.64147C4.81888 6.88343 5.46165 6.94673 6.08177 6.82338C6.70188 6.70004 7.2715 6.39557 7.71858 5.94849C8.16566 5.50141 8.47013 4.93179 8.59347 4.31168C8.71682 3.69156 8.65352 3.04879 8.41156 2.46465C8.1696 1.88051 7.75986 1.38124 7.23415 1.02997C6.70844 0.6787 6.09037 0.491211 5.4581 0.491211C4.61048 0.491926 3.79777 0.82896 3.19841 1.42832C2.59905 2.02768 2.26202 2.84039 2.2613 3.68801ZM7.3049 3.68801C7.3049 4.05327 7.19659 4.41033 6.99366 4.71404C6.79073 5.01774 6.5023 5.25445 6.16484 5.39423C5.82738 5.53401 5.45605 5.57058 5.09781 5.49933C4.73956 5.42807 4.4105 5.25218 4.15222 4.9939C3.89394 4.73562 3.71805 4.40655 3.64679 4.0483C3.57553 3.69006 3.6121 3.31873 3.75188 2.98127C3.89166 2.64381 4.12837 2.35538 4.43207 2.15245C4.73578 1.94952 5.09284 1.84121 5.4581 1.84121C5.94768 1.84193 6.41701 2.03673 6.7632 2.38291C7.10938 2.7291 7.30419 3.19843 7.3049 3.68801Z" fill="#6f708b" /><path d="M0.673538 15.4681C0.718389 15.8743 0.859332 16.2639 1.0847 16.6048C1.31007 16.9457 1.61339 17.2279 1.96954 17.4283L3.02254 25.1341C3.06563 25.5122 3.24629 25.8611 3.5301 26.1146C3.81391 26.368 4.18104 26.5082 4.56154 26.5084H6.31114C6.69205 26.5081 7.05953 26.3676 7.3434 26.1136C7.62727 25.8596 7.80767 25.5099 7.85014 25.1314L8.36854 20.4091L9.39994 12.5251L10.5555 13.4782C10.8832 13.7488 11.2936 13.899 11.7185 13.9039C12.1434 13.9088 12.5572 13.7681 12.891 13.5052L16.374 10.7593C16.7394 10.4776 16.9892 10.072 17.0762 9.61895C17.1633 9.16587 17.0816 8.6966 16.8465 8.29959C16.7095 8.07538 16.5264 7.88275 16.3095 7.7344C16.0926 7.58605 15.8467 7.48534 15.588 7.43892C15.3294 7.39249 15.0638 7.4014 14.8088 7.46504C14.5538 7.52869 14.3152 7.64564 14.1087 7.80819L11.7651 9.65499L9.39994 7.70289C9.06707 7.42796 8.64906 7.27717 8.21734 7.27629H7.13734C7.01742 7.27254 6.89823 7.29612 6.78877 7.34524C6.67931 7.39435 6.58246 7.46772 6.50554 7.55979L5.42554 8.89359L4.37254 7.57329C4.29919 7.48032 4.20565 7.40526 4.09899 7.3538C3.99233 7.30234 3.87536 7.27584 3.75694 7.27629H2.92804C2.51451 7.2765 2.10572 7.36425 1.72854 7.53377C1.35136 7.7033 1.01435 7.95076 0.739666 8.25987C0.464983 8.56899 0.258855 8.93275 0.13484 9.32724C0.0108257 9.72173 -0.0282655 10.138 0.0201379 10.5487L0.673538 15.4681ZM1.75354 9.15549C1.89996 8.98611 2.08112 8.85022 2.2847 8.75705C2.48829 8.66387 2.70954 8.61559 2.93344 8.61549H3.48964L4.69924 10.1248C4.788 10.2362 4.90073 10.3261 5.02905 10.3879C5.15736 10.4498 5.29796 10.4819 5.44039 10.4819C5.58282 10.4819 5.72342 10.4498 5.85173 10.3879C5.98004 10.3261 6.09277 10.2362 6.18154 10.1248L7.39384 8.61279H8.22004C8.33834 8.61212 8.45309 8.65324 8.54404 8.72889L11.3385 11.0428C11.4586 11.1397 11.6082 11.1925 11.7624 11.1925C11.9167 11.1925 12.0663 11.1397 12.1863 11.0428L14.9592 8.85849C15.0492 8.78771 15.1606 8.74963 15.2751 8.75049C15.363 8.75057 15.4493 8.7732 15.5259 8.81623C15.6025 8.85925 15.6668 8.92121 15.7125 8.99619C15.7747 9.1115 15.7927 9.24546 15.7634 9.37311C15.7341 9.50077 15.6594 9.61342 15.5532 9.69009L12.054 12.4441C11.9626 12.5152 11.85 12.5539 11.7341 12.5539C11.6182 12.5539 11.5056 12.5152 11.4141 12.4441L9.31894 10.7134C9.22602 10.6367 9.11426 10.5862 8.99527 10.5673C8.87628 10.5484 8.75438 10.5616 8.64225 10.6057C8.53011 10.6498 8.43182 10.7231 8.35758 10.818C8.28333 10.9129 8.23584 11.0259 8.22004 11.1454L7.01854 20.2498L6.51094 24.9829C6.50564 25.0316 6.48264 25.0767 6.4463 25.1095C6.40997 25.1424 6.36282 25.1607 6.31384 25.1611H4.56154C4.51031 25.1599 4.46141 25.1395 4.42443 25.104C4.38746 25.0686 4.36509 25.0205 4.36174 24.9694L3.25744 16.8829C3.24058 16.762 3.19125 16.6479 3.11471 16.5528C3.03816 16.4577 2.93725 16.3852 2.82274 16.3429C2.60401 16.2635 2.41204 16.1242 2.26879 15.9409C2.12554 15.7575 2.03681 15.5375 2.01274 15.3061L1.34854 10.384C1.32354 10.1619 1.34652 9.93709 1.41592 9.72468C1.48533 9.51227 1.59954 9.31725 1.75084 9.15279L1.75354 9.15549Z" fill="#6f708b" /><path d="M10.237 1.34977V6.20977C10.237 6.38879 10.3081 6.56048 10.4347 6.68706C10.5613 6.81365 10.733 6.88477 10.912 6.88477C11.091 6.88477 11.2627 6.81365 11.3893 6.68706C11.5159 6.56048 11.587 6.38879 11.587 6.20977V2.02207H25.1086V15.2764H10.912C10.733 15.2764 10.5613 15.3475 10.4347 15.4741C10.3081 15.6007 10.237 15.7723 10.237 15.9514C10.237 16.1304 10.3081 16.3021 10.4347 16.4287C10.5613 16.5553 10.733 16.6264 10.912 16.6264H17.662V21.1192H13.4446C13.2651 21.1192 13.089 21.1682 12.9353 21.261C12.7816 21.3538 12.6561 21.4868 12.5725 21.6457L11.0686 24.4591C11.0271 24.5374 11.0015 24.6232 10.9931 24.7115C10.9848 24.7997 10.9939 24.8888 11.02 24.9735C11.0461 25.0583 11.0886 25.137 11.1451 25.2054C11.2016 25.2737 11.2711 25.3302 11.3494 25.3717C11.4278 25.4132 11.5135 25.4388 11.6018 25.4471C11.6901 25.4555 11.7791 25.4463 11.8639 25.4203C11.9486 25.3942 12.0274 25.3517 12.0957 25.2952C12.164 25.2386 12.2205 25.1692 12.262 25.0909L13.6498 22.4719H23.0323L24.4201 25.0909C24.4616 25.1692 24.5181 25.2386 24.5864 25.2952C24.6547 25.3517 24.7335 25.3942 24.8183 25.4203C24.903 25.4463 24.992 25.4555 25.0803 25.4471C25.1686 25.4388 25.2544 25.4132 25.3327 25.3717C25.4111 25.3302 25.4805 25.2737 25.537 25.2054C25.5935 25.137 25.636 25.0583 25.6621 24.9735C25.6882 24.8888 25.6973 24.7997 25.689 24.7115C25.6806 24.6232 25.655 24.5374 25.6135 24.4591L24.1231 21.6457C24.0395 21.4868 23.9141 21.3538 23.7604 21.261C23.6067 21.1682 23.4305 21.1192 23.251 21.1192H19.0228V16.6264H25.7728C25.9518 16.6264 26.1235 16.5553 26.2501 16.4287C26.3767 16.3021 26.4478 16.1304 26.4478 15.9514V1.34977C26.4478 1.17074 26.3767 0.999056 26.2501 0.872469C26.1235 0.745881 25.9518 0.674766 25.7728 0.674766H10.912C10.733 0.674766 10.5613 0.745881 10.4347 0.872469C10.3081 0.999056 10.237 1.17074 10.237 1.34977Z" fill="#6f708b" /></svg>',popup_icon:`<svg  width="24" height="24" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="11.1" stroke="white" stroke-width="1.8">
</circle>
  <rect x="11" y="11" width="2" height="9" rx="1" fill="white">
  </rect>
<circle cx="12" cy="7.5" r="1.5" fill="white">
</circle></svg>`,app_success_popup:`<svg  width="24" height="24" viewBox="0 0 24 24" fill="none">
<path
				d="M23.3137 3.28104C22.9606 2.92737 22.3878 2.92676 22.0347 3.27954L11.1835 14.1021L7.26837 9.84996C6.93007 9.48274 6.3581 9.45893 5.99028 9.79718C5.62273 10.1355 5.5992 10.7077 5.9375 11.0753L10.4903 16.0197C10.657 16.2009 10.8904 16.3062 11.1364 16.3113C11.143 16.3115 11.1494 16.3115 11.1557 16.3115C11.3948 16.3115 11.6248 16.2166 11.7943 16.0477L23.3119 4.56031C23.6659 4.20757 23.6665 3.63471 23.3137 3.28104Z"
				fill="white"
			></path><path
				d="M23.0955 11.0955C22.5959 11.0955 22.191 11.5004 22.191 12C22.191 17.6195 17.6195 22.191 12 22.191C6.38081 22.191 1.80905 17.6195 1.80905 12C1.80905 6.38081 6.38081 1.80905 12 1.80905C12.4996 1.80905 12.9045 1.40414 12.9045 0.904547C12.9045 0.404906 12.4996 0 12 0C5.38313 0 0 5.38313 0 12C0 18.6166 5.38313 24 12 24C18.6166 24 24 18.6166 24 12C24 11.5004 23.5951 11.0955 23.0955 11.0955Z"
				fill="white"
			></path></svg>`,app_error_popup:`<svg  width="24" height="24" viewBox="0 0 24 24" fill="none">
			<path
							d="M10.4156 0.00307125C10.3216 0.0137105 10.2299 0.0392148 10.1438 0.0786451L0.54375 4.29189C0.382535 4.36192 0.245164 4.47793 0.148551 4.62564C0.0519386 4.77335 0.000302305 4.9463 0 5.1232C0 11.6519 0.388578 15.4501 1.9125 18.3864C3.43642 21.3226 6.00037 23.1696 10.0031 25.8493C10.1505 25.9476 10.3233 26 10.5 26C10.6767 26 10.8495 25.9476 10.9969 25.8493C14.9996 23.1696 17.5636 21.3226 19.0875 18.3864C20.6114 15.4501 21 11.6519 21 5.1232C20.9997 4.9463 20.9481 4.77335 20.8514 4.62564C20.7548 4.47793 20.6175 4.36192 20.4563 4.29189L10.8562 0.0786451C10.718 0.0165238 10.5665 -0.00946891 10.4156 0.00307125ZM10.5 1.90185L19.1906 5.7089C19.1624 11.752 18.7311 15.1616 17.4937 17.5456C16.2724 19.8989 14.1413 21.5433 10.5 23.9977C6.85869 21.5433 4.7276 19.8989 3.50625 17.5456C2.26893 15.1616 1.83763 11.752 1.80938 5.7089L10.5 1.90185ZM10.5 5.44439C9.50589 5.44439 8.7 6.25645 8.7 7.25816L9 13.3041C9 14.1388 9.67157 14.8155 10.5 14.8155C11.3284 14.8155 12 14.1388 12 13.3041L12.3 7.25816C12.3 6.25645 11.4941 5.44439 10.5 5.44439ZM10.5 15.7224C9.34021 15.7224 8.4 16.6698 8.4 17.8385C8.4 19.0071 9.34021 19.9545 10.5 19.9545C11.6598 19.9545 12.6 19.0071 12.6 17.8385C12.6 16.6698 11.6598 15.7224 10.5 15.7224Z"
							fill="white"
						></path></svg>`,my_bot:`<svg  width="22" height="23" viewBox="0 0 22 23" fill="none">
    <path d="M5.14433 17.2464C3.32333 17.2464 1.84711 18.722 1.84711 20.5422V23H3.53993V21.2977C3.53993 19.9325 4.6471 18.8258 6.01285 18.8258H15.4006C16.7663 18.8258 17.8735 19.9325 17.8735 21.2977V23H19.5665V20.5422C19.5665 18.722 18.0903 17.2464 16.2693 17.2464H5.14433Z" fill="#6f708b" />
    <path d="M0 9.98398C0 9.08054 0.73269 8.34815 1.63651 8.34815H2.25725V11.6198H1.63651C0.732691 11.6198 0 10.8874 0 9.98398Z" fill="#6f708b" />
    <path d="M21.4118 9.98398C21.4118 9.08054 20.6791 8.34815 19.7753 8.34815H19.1545V11.6198H19.7753C20.6791 11.6198 21.4118 10.8874 21.4118 9.98398Z" fill="#6f708b" />
    <path d="M10.4232 9.98398C10.4232 10.8874 9.69048 11.6198 8.78666 11.6198C7.88285 11.6198 7.15016 10.8874 7.15016 9.98398C7.15016 9.08054 7.88285 8.34815 8.78666 8.34815C9.69048 8.34815 10.4232 9.08054 10.4232 9.98398Z" fill="#6f708b" />
    <path d="M14.3746 9.98398C14.3746 10.8874 13.6419 11.6198 12.7381 11.6198C11.8342 11.6198 11.1016 10.8874 11.1016 9.98398C11.1016 9.08054 11.8342 8.34815 12.7381 8.34815C13.6419 8.34815 14.3746 9.08054 14.3746 9.98398Z" fill="#6f708b" />
    <path d="M10.0287 2.76082C10.0287 2.6698 10.1025 2.59602 10.1936 2.59602H11.6697C11.7607 2.59602 11.8345 2.6698 11.8345 2.76082V5.98051H10.0287V2.76082Z" fill="#6f708b" />
    <path d="M8.69162 4.62529H7.06454C5.24354 4.62529 3.76732 6.1009 3.76732 7.92116V12.1598C3.76732 13.98 5.24354 15.4557 7.06455 15.4557H14.3522C16.1732 15.4557 17.6494 13.98 17.6494 12.1598V7.92116C17.6494 6.1009 16.1732 4.62529 14.3522 4.62529H13.1746V5.86756H13.6535C15.0192 5.86756 16.1264 6.97427 16.1264 8.33946V11.7441C16.1264 13.1093 15.0192 14.216 13.6535 14.216H7.7645C6.39874 14.216 5.29158 13.1093 5.29158 11.7441V8.33946C5.29158 6.97426 6.39874 5.86756 7.7645 5.86756H8.69162V4.62529Z" fill="#6f708b" />
    <path d="M11.8345 0.90253C11.8345 1.40098 11.4303 1.80506 10.9316 1.80506C10.433 1.80506 10.0287 1.40098 10.0287 0.90253C10.0287 0.404077 10.433 0 10.9316 0C11.4303 0 11.8345 0.404077 11.8345 0.90253Z" fill="#6f708b" />
    </svg>`,branch_head_icon:'<svg width="26px" height="19px" viewBox="0 0 26 19" version="1.1" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.5"><g id="02-branching-Steps-in-Slideshow" transform="translate(-708.000000, -287.000000)" fill="#FFFFFF" fill-rule="nonzero"><g id="Group-17" transform="translate(721.000000, 296.375000) scale(1, -1) rotate(90.000000) translate(-721.000000, -296.375000) translate(712.000000, 284.000000)"><path d="M17.9743355,3.54499151 C17.9743355,5.50285655 16.387209,7.08998302 14.429344,7.08998302 C12.4714789,7.08998302 10.8843525,5.50285655 10.8843525,3.54499151 C10.8843525,1.58714746 12.4714885,-1.50990331e-14 14.429344,-1.50990331e-14 C16.3871994,-1.50990331e-14 17.9743355,1.58714746 17.9743355,3.54499151 Z M16.7519246,3.54499151 C16.7519246,2.26226437 15.7120786,1.22241087 14.429344,1.22241087 C13.1466093,1.22241087 12.1067633,2.26226437 12.1067633,3.54499151 C12.1067633,4.82773767 13.1465978,5.86757216 14.429344,5.86757216 C15.7120901,5.86757216 16.7519246,4.82773767 16.7519246,3.54499151 Z" id="Stroke-1"></path><polygon id="Stroke-3" points="2.93378608 6.47877759 4.15619694 6.47877759 4.15619694 18.2444822 2.93378608 18.2444822"></polygon><path d="M7.08998302,3.54499151 C7.08998302,5.50285655 5.50285655,7.08998302 3.54499151,7.08998302 C1.58712647,7.08998302 -1.03828057e-12,5.50285655 -1.03828057e-12,3.54499151 C-1.03828057e-12,1.58714746 1.58713604,-1.50990331e-14 3.54499151,-1.50990331e-14 C5.50284698,-1.50990331e-14 7.08998302,1.58714746 7.08998302,3.54499151 Z M5.86757216,3.54499151 C5.86757216,2.26226437 4.82772614,1.22241087 3.54499151,1.22241087 C2.26225689,1.22241087 1.22241087,2.26226437 1.22241087,3.54499151 C1.22241087,4.82773767 2.26224535,5.86757216 3.54499151,5.86757216 C4.82773767,5.86757216 5.86757216,4.82773767 5.86757216,3.54499151 Z" id="Stroke-5"></path><path d="M7.08998302,21.1782835 C7.08998302,23.1361276 5.50284698,24.723275 3.54499151,24.723275 C1.58713604,24.723275 -1.03828057e-12,23.1361276 -1.03828057e-12,21.1782835 C-1.03828057e-12,19.2204185 1.58712647,17.633292 3.54499151,17.633292 C5.50285655,17.633292 7.08998302,19.2204185 7.08998302,21.1782835 Z M5.86757216,21.1782835 C5.86757216,19.8955374 4.82773767,18.8557029 3.54499151,18.8557029 C2.26224535,18.8557029 1.22241087,19.8955374 1.22241087,21.1782835 C1.22241087,22.4610107 2.26225689,23.5008642 3.54499151,23.5008642 C4.82772614,23.5008642 5.86757216,22.4610107 5.86757216,21.1782835 Z" id="Stroke-7"></path><path d="M13.8181385,8.63838031 L13.8181385,6.47877759 L15.0405494,6.47877759 L15.0405494,8.63838031 C15.0405494,10.5962244 13.4534134,12.1833718 11.4955579,12.1833718 L6.4787837,12.1833718 L6.4787837,10.960961 L11.4955579,10.960961 C12.7782925,10.960961 13.8181385,9.92110745 13.8181385,8.63838031 Z M6.47877759,10.960961 L6.47877759,12.1833718 C5.19603143,12.1833718 4.15619694,13.2232063 4.15619694,14.5059525 L2.93378608,14.5059525 C2.93378608,12.5480874 4.52091255,10.960961 6.47877759,10.960961 Z" id="Combined-Shape"></path></g></g></g></svg>',down_arrow_icon:'<svg width="10px" height="10px" version="1.1" class="Layer_1" x="0px" y="0px" viewBox="0 0 386.257 386.257" style="enable-background:new 0 0 386.257 386.257;" xml:space="preserve"><polygon points="0,96.879 193.129,289.379 386.257,96.879 "></polygon></svg>',popup_close:'<svg viewBox="0 0 11 11" version="1.1" ><g class="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.800000012"><g class="Desktop" transform="translate(-598.000000, -109.000000)" fill="#333333"><g class="Group-3" transform="translate(546.000000, 108.000000)"><path d="M58.3537478,6.51267909 L62.8600942,1.9175241 C63.0539691,1.70602684 63.0453206,1.37891815 62.8405407,1.1779615 C62.6357608,0.97700485 62.3085543,0.974528998 62.1007571,1.17236383 L57.6015073,5.76042205 L52.9177457,1.16526706 C52.7836541,1.02441675 52.5834203,0.967912822 52.3954816,1.01788948 C52.2075429,1.06786613 52.0618215,1.21636649 52.0154005,1.40521871 C51.9689795,1.59407093 52.0292498,1.79320748 52.1726018,1.92462086 L56.8492668,6.51267909 L52.1726018,11.1007373 C51.9747713,11.3085392 51.9772471,11.6357528 52.1781993,11.8405372 C52.3791516,12.0453216 52.7062531,12.0539703 52.9177457,11.8600911 L57.6015073,7.26493612 L62.1007571,11.8529943 C62.3085543,12.0508292 62.6357608,12.0483533 62.8405407,11.8473967 C63.0453206,11.64644 63.0539691,11.3193313 62.8600942,11.1078341 L58.3537478,6.51267909 Z" class="shape"></path></g></g></g></svg>',iconPopupDrag:'<svg width="17" height="17" viewBox="0 0 17 17" fill="none"><path d="M13.9443 7.55643H9.4991C9.18045 7.55643 8.93013 7.81896 8.93013 8.13378C8.93013 8.45074 9.18256 8.70806 9.4991 8.70806H13.9435L13.0248 9.64754C12.8048 9.87252 12.8048 10.2329 13.0248 10.4579C13.1353 10.5709 13.2802 10.6285 13.4288 10.6285C13.5774 10.6285 13.7224 10.5709 13.8328 10.4579L15.7107 8.53744C15.9307 8.31246 15.9307 7.95203 15.7107 7.72705L13.8328 5.80656C13.6104 5.57906 13.2503 5.57906 13.0278 5.80656C12.8079 6.03152 12.8078 6.39192 13.0278 6.6169L13.0277 6.61678L13.1708 6.47716L13.0278 6.61695L13.9443 7.55643Z" fill="#757575" stroke="#757575" stroke-width="0.4"/><path d="M2.84286 10.4579C2.9533 10.5709 3.09821 10.6285 3.24684 10.6285C3.39547 10.6285 3.54038 10.5709 3.65082 10.4579C3.87081 10.2329 3.87081 9.87252 3.65082 9.64754L2.73219 8.70806H7.17656C7.49416 8.70806 7.74553 8.4466 7.74553 8.13378C7.74553 7.8231 7.49625 7.55643 7.17656 7.55643H2.7314L3.64782 6.61695L3.50482 6.47712L3.64799 6.61678L3.64787 6.6169C3.86781 6.39192 3.8678 6.03152 3.64782 5.80656C3.42538 5.57906 3.0653 5.57906 2.84286 5.80656L0.964993 7.72705C0.745002 7.95203 0.745002 8.31246 0.964993 8.53744L2.84286 10.4579Z" fill="#757575" stroke="#757575" stroke-width="0.4"/><path d="M6.06066 3.32867C6.27841 3.55932 6.64328 3.55681 6.86178 3.32955L7.76905 2.40168V6.94241C7.76905 7.25723 8.01938 7.51976 8.33803 7.51976C8.65668 7.51976 8.907 7.25723 8.907 6.94241V2.40168L9.81493 3.33021C9.92537 3.44316 10.0703 3.50083 10.2189 3.50083C10.3675 3.50083 10.5124 3.44316 10.6229 3.33021C10.8429 3.10523 10.8429 2.7448 10.6229 2.51981L8.74501 0.599317C8.52857 0.377962 8.15649 0.377962 7.94004 0.599317L6.06216 2.51981C5.84267 2.74429 5.84217 3.10358 6.06066 3.32867Z" fill="#757575" stroke="#757575" stroke-width="0.4"/><path d="M7.76917 13.86L6.86126 12.9314C6.63882 12.7039 6.27874 12.7039 6.0563 12.9314C5.83631 13.1564 5.83631 13.5168 6.0563 13.7418L7.93417 15.6623C8.04012 15.7707 8.18439 15.8329 8.33815 15.8329C8.48804 15.8329 8.63556 15.7713 8.74213 15.6623L10.62 13.7418C10.84 13.5168 10.84 13.1564 10.62 12.9314C10.3976 12.7039 10.0375 12.7039 9.81503 12.9314L8.90712 13.86V9.31924H8.90714L8.9071 9.31637C8.90264 9.00646 8.65933 8.74189 8.33815 8.74189C8.0195 8.74189 7.76917 9.00443 7.76917 9.31924V13.86Z" fill="#757575" stroke="#757575" stroke-width="0.4"/></svg>',guide_view_download:'<svg  height="512pt" viewBox="0 0 512 512" width="512pt"><path d="m448 512h-384c-35.285156 0-64-28.714844-64-64v-85.332031c0-11.777344 9.558594-21.335938 21.332031-21.335938 11.777344 0 21.335938 9.558594 21.335938 21.335938v85.332031c0 11.753906 9.578125 21.332031 21.332031 21.332031h384c11.753906 0 21.332031-9.578125 21.332031-21.332031v-85.332031c0-11.777344 9.558594-21.335938 21.335938-21.335938 11.773437 0 21.332031 9.558594 21.332031 21.335938v85.332031c0 35.285156-28.714844 64-64 64zm0 0"/><path d="m356.414062 271.082031-85.332031 85.332031c-8.339843 8.34375-21.824219 8.34375-30.164062 0l-85.332031-85.332031c-6.101563-6.101562-7.9375-15.273437-4.632813-23.253906 3.308594-7.957031 11.09375-13.160156 19.714844-13.160156h64v-213.335938c0-11.773437 9.554687-21.332031 21.332031-21.332031s21.332031 9.558594 21.332031 21.332031v213.335938h64c8.621094 0 16.40625 5.203125 19.714844 13.160156 3.304687 7.980469 1.46875 17.152344-4.632813 23.253906zm0 0"/></svg>',pdf:'<svg class="Layer_1" data-name="Layer 1"  viewBox="0 0 200 200"><defs><style>.cls-1,.cls-3,.cls-4{fill:#005BF0;}.cls-1{opacity:0.3;}.cls-2{fill:#218e79;}.cls-4{font-size:31.1px;font-family:NotoSerif-Bold, Noto Serif;font-weight:700;}</style></defs><path class="cls-1" d="M44.73,184.74H155.27a7.37,7.37,0,0,0,7.37-7.37V52.1L125.79,15.26H44.73a7.37,7.37,0,0,0-7.37,7.37V177.37A7.37,7.37,0,0,0,44.73,184.74Z"/><path class="cls-2" d="M125.79,15.26V44.73a7.37,7.37,0,0,0,7.37,7.37h29.48Z"/><path class="cls-3" d="M163.51,52.05a.85.85,0,0,0,0-.23l0-.09a.87.87,0,0,0-.18-.26L126.42,14.63a.83.83,0,0,0-.26-.17l-.08,0a1,1,0,0,0-.23,0H44.73a8.26,8.26,0,0,0-8.25,8.26V177.37a8.26,8.26,0,0,0,8.25,8.26H155.27a8.26,8.26,0,0,0,8.25-8.26V52.1A.09.09,0,0,0,163.51,52.05ZM126.68,17.4l33.81,33.81H133.16a6.48,6.48,0,0,1-6.48-6.48Zm-82-1.25H124.9V44.73A8.27,8.27,0,0,0,133.16,53h28.59V161.73a.87.87,0,0,0-.39-.1H38.25v-139A6.48,6.48,0,0,1,44.73,16.15Zm110.54,167.7H44.73a6.48,6.48,0,0,1-6.48-6.48v-14H161.36a.87.87,0,0,0,.39-.1v14.07A6.48,6.48,0,0,1,155.27,183.85Z"/><text class="cls-4" transform="translate(69.78 109.96)">PDF</text></svg>',close:'<svg height="15px" width="15px" version="1.1" class="Capa_1" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M46,4C44.9,3,43.2,3,42.1,4L25,21.2L7.9,4C6.8,3,5.1,3,4,4S3,6.8,4,7.9L21.2,25L4,42.1C3,43.2,3,44.9,4,46c0.5,0.5,1.2,0.8,1.9,0.8s1.4-0.3,1.9-0.8L25,28.8L42.1,46c0.5,0.5,1.2,0.8,1.9,0.8c0.7,0,1.4-0.3,1.9-0.8c1.1-1.1,1.1-2.8,0-3.8L28.8,25L46,7.9C47,6.8,47,5.1,46,4z"></path></g></g></svg>',tasklist:' <svg width="40" height="40" viewBox="0 0 58 58" fill="none" ><g filter="url(#filter0_d_task_list_guide)"><circle cx="29" cy="25" r="25" fill="#005BF0"/></g><path d="M20.0067 37.2828V17.3888H22.8733V18.5421C22.8733 19.1187 23.3033 19.5512 23.8767 19.5512H33.6233C34.1967 19.5512 34.6267 19.1187 34.6267 18.5421V17.3888H37.4934V25.6058V39.1747H39C39.2761 39.1747 39.5 38.9509 39.5 38.6747V26.3267V16.5238C39.5 15.9472 39.07 15.5147 38.4966 15.5147H34.6267V14.3614C34.6267 13.7848 34.1967 13.3523 33.6233 13.3523H32.4767C32.1899 11.1899 30.3266 9.74833 28.1766 10.0366C26.4566 10.1808 25.1667 11.6224 24.88 13.3523H23.8767C23.3033 13.3523 22.8733 13.7848 22.8733 14.3614V15.5147H19.0033C18.43 15.5147 18 15.9472 18 16.5238V38.292C18 38.8686 18.43 39.301 19.0033 39.301H38.8424C39.1186 39.301 39.3424 39.0772 39.3424 38.801V37.2828H26.7433H20.0067ZM28.75 11.9107C29.61 11.9107 30.3266 12.4874 30.6133 13.3523H26.8867C27.03 12.4874 27.89 11.9107 28.75 11.9107ZM24.7367 15.3706H32.6199V17.5329H24.7367V15.3706Z" fill="white"/><path d="M22.5796 23.1057H34.7917V24.2226H22.5796V23.1057Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M22.5796 27.6852H34.7917V28.8022H22.5796V27.6852Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M22.5796 32.2648H34.7917V33.3817H22.5796V32.2648Z" fill="white" stroke="white" stroke-width="0.5"/><defs><filter id="filter0_d_task_list_guide" x="0" y="0" width="58" height="58" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dy="4"/><feGaussianBlur stdDeviation="2"/><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/></filter></defs></svg>',guide_showme:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M25.1375 15.9427H23.1482C22.5161 15.359 21.3251 15 19.9999 15C18.6747 15 17.4837 15.359 16.8516 15.9427H14.8623C12.1812 15.9427 10 18.1985 10 20.9713C10 23.7441 12.1812 26 14.8623 26C17.5434 26 19.7246 23.7441 19.7246 20.9713C19.7246 20.9346 19.7242 20.8979 19.7235 20.8611H20.2764C20.2756 20.8979 20.2753 20.9346 20.2753 20.9713C20.2753 23.7441 22.4566 26 25.1377 26C27.8188 26 30 23.7441 30 20.9713C29.9999 18.1985 27.8186 15.9427 25.1375 15.9427ZM14.8623 23.9552C13.2715 23.9552 11.9772 22.6166 11.9772 20.9713C11.9772 19.3261 13.2715 17.9875 14.8623 17.9875C16.4532 17.9875 17.7475 19.3261 17.7475 20.9713C17.7475 22.6166 16.4532 23.9552 14.8623 23.9552ZM21.3065 17.89H18.6926C18.3824 17.89 18.1303 17.6286 18.1303 17.3077C18.1303 16.9869 18.3824 16.7254 18.6926 16.7254H21.3065C21.6173 16.7254 21.8695 16.9869 21.8695 17.3077C21.8695 17.6285 21.6173 17.89 21.3065 17.89ZM25.1375 23.9552C23.5466 23.9552 22.2523 22.6166 22.2523 20.9713C22.2523 19.3261 23.5466 17.9875 25.1375 17.9875C26.7282 17.9875 28.0226 19.3261 28.0226 20.9713C28.0226 22.6166 26.7283 23.9552 25.1375 23.9552Z" fill="#ACADC1" stroke-width="0" /></svg>',guide_doitforme:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M15.8441 24.4972C14.4834 24.4972 13.3803 25.652 13.3803 27.0765V29H14.6452V27.6678C14.6452 26.5993 15.4726 25.7332 16.4931 25.7332H23.5081C24.5287 25.7332 25.356 26.5993 25.356 27.6678V29H26.6211V27.0765C26.6211 25.652 25.518 24.4972 24.1573 24.4972H15.8441Z" fill="#ACADC1" stroke-width="0" /><path d="M12 18.8136C12 18.1065 12.5475 17.5333 13.2229 17.5333H13.6867V20.0938H13.2229C12.5475 20.0938 12 19.5206 12 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M28 18.8136C28 18.1065 27.4525 17.5333 26.7771 17.5333H26.3133V20.0938H26.7771C27.4525 20.0938 28 19.5206 28 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.7887 18.8136C19.7887 19.5206 19.2412 20.0938 18.5659 20.0938C17.8905 20.0938 17.343 19.5206 17.343 18.8136C17.343 18.1065 17.8905 17.5333 18.5659 17.5333C19.2412 17.5333 19.7887 18.1065 19.7887 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M22.7414 18.8136C22.7414 19.5206 22.1939 20.0938 21.5186 20.0938C20.8432 20.0938 20.2957 19.5206 20.2957 18.8136C20.2957 18.1065 20.8432 17.5333 21.5186 17.5333C22.1939 17.5333 22.7414 18.1065 22.7414 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.494 13.1606C19.494 13.0894 19.5492 13.0317 19.6172 13.0317H20.7202C20.7882 13.0317 20.8434 13.0894 20.8434 13.1606V15.6804H19.494V13.1606Z" fill="#ACADC1" stroke-width="0" /><path d="M18.4948 14.6198H17.279C15.9182 14.6198 14.8151 15.7746 14.8151 17.1992V20.5163C14.8151 21.9409 15.9182 23.0957 17.279 23.0957H22.7247C24.0855 23.0957 25.1886 21.9409 25.1886 20.5163V17.1992C25.1886 15.7746 24.0855 14.6198 22.7247 14.6198H21.8448V15.592H22.2026C23.2232 15.592 24.0505 16.4581 24.0505 17.5265V20.191C24.0505 21.2594 23.2232 22.1255 22.2026 22.1255H17.802C16.7815 22.1255 15.9541 21.2594 15.9541 20.191V17.5265C15.9541 16.4581 16.7815 15.592 17.802 15.592H18.4948V14.6198Z" fill="#ACADC1" stroke-width="0" /><path d="M20.8434 11.7063C20.8434 12.0964 20.5413 12.4127 20.1687 12.4127C19.7961 12.4127 19.494 12.0964 19.494 11.7063C19.494 11.3162 19.7961 11 20.1687 11C20.5413 11 20.8434 11.3162 20.8434 11.7063Z" fill="#ACADC1" stroke-width="0" /></svg>',guide_teachme:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" fill="#ACADC1" stroke-width="0.2" /><path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" fill="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" fill="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" stroke="#ACADC1" stroke-width="0.2" /></svg>',iconDownArrow:'<svg width="16" height="10" viewBox="0 0 16 10" fill="none" ><path d="M7.77408 4.13342L7.63281 3.99247L7.49155 4.13342L1.89547 9.71731L0.415655 8.2375L7.63281 1.02034L14.85 8.2375L13.3702 9.71731L7.77408 4.13342Z" fill="black" stroke="white" stroke-width="0.4"/></svg>',iconUpArrow:'<svg width="16" height="10" viewBox="0 0 16 10" fill="none" ><path d="M7.49155 6.60486L7.63281 6.74582L7.77408 6.60486L13.3702 1.02097L14.85 2.50078L7.63281 9.71794L0.415655 2.50078L1.89547 1.02097L7.49155 6.60486Z" fill="black" fill-opacity="0.7" stroke="white" stroke-width="0.4"/></svg>',iconTick:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 14 14" fill="none" ><circle cx="7" cy="7" r="7" fill="#005BF0"/><path d="M6.06335 10.8651C5.98699 10.9517 5.8828 11 5.77457 11C5.66634 11 5.56215 10.9517 5.48579 10.8651L3.17951 8.26584C2.94016 7.99613 2.94016 7.55879 3.17951 7.28959L3.46829 6.96408C3.7077 6.69438 4.09536 6.69438 4.3347 6.96408L5.77457 8.58671L9.6653 4.20228C9.90471 3.93257 10.2927 3.93257 10.5317 4.20228L10.8205 4.52778C11.0598 4.79749 11.0598 5.23475 10.8205 5.50404L6.06335 10.8651Z" fill="white"/></svg>',rules_valid:'<svg width="10px" height="7px" viewBox="0 0 10 7" version="1.1"  ><g class="Guide-Settings-3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="Widget-settings-06" transform="translate(-667.000000, -387.000000)" fill="#09B002" fill-rule="nonzero"><g class="Group-15" transform="translate(295.000000, 335.000000)"><g class="Create-Rules"><g class="Group-13" transform="translate(366.000000, 45.000000)"><path d="M14.4641065,7.17913453 L9.05523893,12.5531704 L7.03997546,10.527955 C6.80112943,10.289109 6.41798057,10.289109 6.17913453,10.527955 C5.94028849,10.7668011 5.94028849,11.1499499 6.17913453,11.388796 L8.62233048,13.8469198 C8.73677754,13.9613669 8.89103227,14.0260543 9.05523893,14.0260543 L9.05523893,14.0260543 C9.21446962,14.0260543 9.36872435,13.9613669 9.48317141,13.8469198 L15.3249475,8.03997546 C15.5637935,7.80112943 15.5637935,7.41798057 15.3249475,7.17913453 C15.0861014,6.94028849 14.7029526,6.94028849 14.4641065,7.17913453 Z" class="shape"></path></g></g></g></g></g></svg>',start_point:'<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 16.00001480672206 30.000002376293313" width="16.00001480672206" height="20.000002376293313" style="padding-right:5px;"><g transform="translate(0, 0)"><g transform="translate(0.000007403361028701504, 0.000002376293311883793) rotate(0)"><path d="M8,18.21576c-0.67536,0 -1.33571,-0.08038 -1.99605,-0.25723v10.96433c0.01501,0.59484 0.45024,1.06106 1.00553,1.07714h1.99605c0.55529,-0.01608 0.99052,-0.4823 1.00553,-1.07714v-10.96433c-0.66035,0.17684 -1.33571,0.25723 -2.01106,0.25723zM8,0.00083c-2.13113,-0.03215 -4.1722,0.86814 -5.65799,2.50797c-1.53081,1.5916 -2.37125,3.77803 -2.34124,6.06093c-0.03002,2.28289 0.81043,4.46933 2.34124,6.06093c1.48578,1.63983 3.52686,2.54012 5.65799,2.50797c2.13113,0.03215 4.1722,-0.86814 5.65799,-2.50797c1.53081,-1.5916 2.37125,-3.77803 2.34124,-6.06093c0.03002,-2.28289 -0.81043,-4.46933 -2.34124,-6.06093c-1.48578,-1.63983 -3.52686,-2.54012 -5.65799,-2.50797zM8,3.74671c-2.49132,0 -4.50238,2.15428 -4.50238,4.82302c0,0.30546 -0.22512,0.54661 -0.51027,0.54661c-0.28515,0 -0.49526,-0.24115 -0.49526,-0.54661c0,-3.2475 2.4613,-5.88408 5.4929,-5.88408h0.01501c0.27014,0 0.49526,0.24115 0.49526,0.53053c0,0.28938 -0.22512,0.53053 -0.49526,0.53053z" style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter; fill: rgb(122, 98, 171);" vector-effect="non-scaling-stroke"/></g><defs><path class="path-1636604223336103" d="M8,18.21576c-0.67536,0 -1.33571,-0.08038 -1.99605,-0.25723v10.96433c0.01501,0.59484 0.45024,1.06106 1.00553,1.07714h1.99605c0.55529,-0.01608 0.99052,-0.4823 1.00553,-1.07714v-10.96433c-0.66035,0.17684 -1.33571,0.25723 -2.01106,0.25723zM8,0.00083c-2.13113,-0.03215 -4.1722,0.86814 -5.65799,2.50797c-1.53081,1.5916 -2.37125,3.77803 -2.34124,6.06093c-0.03002,2.28289 0.81043,4.46933 2.34124,6.06093c1.48578,1.63983 3.52686,2.54012 5.65799,2.50797c2.13113,0.03215 4.1722,-0.86814 5.65799,-2.50797c1.53081,-1.5916 2.37125,-3.77803 2.34124,-6.06093c0.03002,-2.28289 -0.81043,-4.46933 -2.34124,-6.06093c-1.48578,-1.63983 -3.52686,-2.54012 -5.65799,-2.50797zM8,3.74671c-2.49132,0 -4.50238,2.15428 -4.50238,4.82302c0,0.30546 -0.22512,0.54661 -0.51027,0.54661c-0.28515,0 -0.49526,-0.24115 -0.49526,-0.54661c0,-3.2475 2.4613,-5.88408 5.4929,-5.88408h0.01501c0.27014,0 0.49526,0.24115 0.49526,0.53053c0,0.28938 -0.22512,0.53053 -0.49526,0.53053z" vector-effect="non-scaling-stroke"/></defs></g></svg>',guideShowMe:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M25.1375 15.9427H23.1482C22.5161 15.359 21.3251 15 19.9999 15C18.6747 15 17.4837 15.359 16.8516 15.9427H14.8623C12.1812 15.9427 10 18.1985 10 20.9713C10 23.7441 12.1812 26 14.8623 26C17.5434 26 19.7246 23.7441 19.7246 20.9713C19.7246 20.9346 19.7242 20.8979 19.7235 20.8611H20.2764C20.2756 20.8979 20.2753 20.9346 20.2753 20.9713C20.2753 23.7441 22.4566 26 25.1377 26C27.8188 26 30 23.7441 30 20.9713C29.9999 18.1985 27.8186 15.9427 25.1375 15.9427ZM14.8623 23.9552C13.2715 23.9552 11.9772 22.6166 11.9772 20.9713C11.9772 19.3261 13.2715 17.9875 14.8623 17.9875C16.4532 17.9875 17.7475 19.3261 17.7475 20.9713C17.7475 22.6166 16.4532 23.9552 14.8623 23.9552ZM21.3065 17.89H18.6926C18.3824 17.89 18.1303 17.6286 18.1303 17.3077C18.1303 16.9869 18.3824 16.7254 18.6926 16.7254H21.3065C21.6173 16.7254 21.8695 16.9869 21.8695 17.3077C21.8695 17.6285 21.6173 17.89 21.3065 17.89ZM25.1375 23.9552C23.5466 23.9552 22.2523 22.6166 22.2523 20.9713C22.2523 19.3261 23.5466 17.9875 25.1375 17.9875C26.7282 17.9875 28.0226 19.3261 28.0226 20.9713C28.0226 22.6166 26.7283 23.9552 25.1375 23.9552Z" fill="#ACADC1" stroke-width="0" /></svg>',guideDoItForMe:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M15.8441 24.4972C14.4834 24.4972 13.3803 25.652 13.3803 27.0765V29H14.6452V27.6678C14.6452 26.5993 15.4726 25.7332 16.4931 25.7332H23.5081C24.5287 25.7332 25.356 26.5993 25.356 27.6678V29H26.6211V27.0765C26.6211 25.652 25.518 24.4972 24.1573 24.4972H15.8441Z" fill="#ACADC1" stroke-width="0" /><path d="M12 18.8136C12 18.1065 12.5475 17.5333 13.2229 17.5333H13.6867V20.0938H13.2229C12.5475 20.0938 12 19.5206 12 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M28 18.8136C28 18.1065 27.4525 17.5333 26.7771 17.5333H26.3133V20.0938H26.7771C27.4525 20.0938 28 19.5206 28 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.7887 18.8136C19.7887 19.5206 19.2412 20.0938 18.5659 20.0938C17.8905 20.0938 17.343 19.5206 17.343 18.8136C17.343 18.1065 17.8905 17.5333 18.5659 17.5333C19.2412 17.5333 19.7887 18.1065 19.7887 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M22.7414 18.8136C22.7414 19.5206 22.1939 20.0938 21.5186 20.0938C20.8432 20.0938 20.2957 19.5206 20.2957 18.8136C20.2957 18.1065 20.8432 17.5333 21.5186 17.5333C22.1939 17.5333 22.7414 18.1065 22.7414 18.8136Z" fill="#ACADC1" stroke-width="0" /><path d="M19.494 13.1606C19.494 13.0894 19.5492 13.0317 19.6172 13.0317H20.7202C20.7882 13.0317 20.8434 13.0894 20.8434 13.1606V15.6804H19.494V13.1606Z" fill="#ACADC1" stroke-width="0" /><path d="M18.4948 14.6198H17.279C15.9182 14.6198 14.8151 15.7746 14.8151 17.1992V20.5163C14.8151 21.9409 15.9182 23.0957 17.279 23.0957H22.7247C24.0855 23.0957 25.1886 21.9409 25.1886 20.5163V17.1992C25.1886 15.7746 24.0855 14.6198 22.7247 14.6198H21.8448V15.592H22.2026C23.2232 15.592 24.0505 16.4581 24.0505 17.5265V20.191C24.0505 21.2594 23.2232 22.1255 22.2026 22.1255H17.802C16.7815 22.1255 15.9541 21.2594 15.9541 20.191V17.5265C15.9541 16.4581 16.7815 15.592 17.802 15.592H18.4948V14.6198Z" fill="#ACADC1" stroke-width="0" /><path d="M20.8434 11.7063C20.8434 12.0964 20.5413 12.4127 20.1687 12.4127C19.7961 12.4127 19.494 12.0964 19.494 11.7063C19.494 11.3162 19.7961 11 20.1687 11C20.5413 11 20.8434 11.3162 20.8434 11.7063Z" fill="#ACADC1" stroke-width="0" /></svg>',guideTeachMe:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none"><rect x="0.7" y="0.7" width="38.6" height="38.6" rx="19.3" fill="#F8F8FB" stroke="#ACADC1" stroke-width="1.4"></rect><path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" fill="#ACADC1" stroke-width="0.2" /><path d="M13 15C13 15.3956 13.1173 15.7822 13.3371 16.1111C13.5568 16.44 13.8692 16.6964 14.2346 16.8478C14.6001 16.9991 15.0022 17.0387 15.3902 16.9616C15.7781 16.8844 16.1345 16.6939 16.4142 16.4142C16.6939 16.1345 16.8844 15.7781 16.9616 15.3902C17.0387 15.0022 16.9991 14.6001 16.8478 14.2346C16.6964 13.8692 16.44 13.5568 16.1111 13.3371C15.7822 13.1173 15.3956 13 15 13C14.4697 13.0004 13.9613 13.2113 13.5863 13.5863C13.2113 13.9613 13.0005 14.4697 13 15ZM16.1554 15C16.1554 15.2285 16.0876 15.4519 15.9607 15.6419C15.8337 15.8319 15.6533 15.98 15.4422 16.0675C15.231 16.1549 14.9987 16.1778 14.7746 16.1332C14.5505 16.0886 14.3446 15.9786 14.183 15.817C14.0214 15.6554 13.9114 15.4495 13.8668 15.2254C13.8222 15.0013 13.8451 14.769 13.9325 14.5578C14.02 14.3467 14.1681 14.1663 14.3581 14.0393C14.5481 13.9124 14.7715 13.8446 15 13.8446C15.3063 13.845 15.5999 13.9669 15.8165 14.1835C16.0331 14.4001 16.155 14.6937 16.1554 15Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" fill="#ACADC1" stroke-width="0.2" /><path d="M12.3543 21.6855C12.3779 21.9178 12.452 22.1407 12.5706 22.3356C12.6891 22.5306 12.8486 22.692 13.036 22.8066L13.5899 27.214C13.6125 27.4302 13.7076 27.6298 13.8568 27.7748C14.0061 27.9197 14.1992 27.9999 14.3994 28H15.3197C15.52 27.9998 15.7133 27.9195 15.8626 27.7742C16.012 27.6289 16.1069 27.4289 16.1292 27.2124L16.4019 24.5115L16.9444 20.0023L17.5522 20.5474C17.7246 20.7022 17.9405 20.7881 18.164 20.7909C18.3875 20.7937 18.6051 20.7132 18.7807 20.5628L20.6128 18.9923C20.805 18.8312 20.9364 18.5992 20.9821 18.3401C21.0279 18.081 20.985 17.8126 20.8613 17.5855C20.7892 17.4573 20.6929 17.3471 20.5788 17.2622C20.4648 17.1774 20.3354 17.1198 20.1993 17.0932C20.0633 17.0667 19.9236 17.0718 19.7895 17.1082C19.6553 17.1446 19.5298 17.2115 19.4212 17.3044L18.1885 18.3607L16.9444 17.2442C16.7693 17.087 16.5494 17.0007 16.3223 17.0002H15.7543C15.6912 16.9981 15.6285 17.0116 15.5709 17.0397C15.5133 17.0677 15.4624 17.1097 15.4219 17.1624L14.8538 17.9252L14.3 17.1701C14.2614 17.1169 14.2122 17.074 14.1561 17.0446C14.1 17.0151 14.0384 17 13.9762 17.0002H13.5402C13.3226 17.0003 13.1076 17.0505 12.9092 17.1475C12.7108 17.2444 12.5336 17.386 12.3891 17.5628C12.2446 17.7396 12.1362 17.9476 12.0709 18.1733C12.0057 18.3989 11.9851 18.637 12.0106 18.8719L12.3543 21.6855ZM12.9224 18.075C12.9994 17.9782 13.0947 17.9004 13.2018 17.8471C13.3088 17.7938 13.4252 17.7662 13.543 17.7662H13.8356L14.4718 18.6294C14.5185 18.6931 14.5778 18.7446 14.6453 18.7799C14.7128 18.8153 14.7867 18.8337 14.8617 18.8337C14.9366 18.8337 15.0105 18.8153 15.078 18.7799C15.1455 18.7446 15.2048 18.6931 15.2515 18.6294L15.8892 17.7646H16.3238C16.386 17.7642 16.4463 17.7878 16.4942 17.831L17.9641 19.1545C18.0273 19.2099 18.1059 19.2401 18.1871 19.2401C18.2682 19.2401 18.3469 19.2099 18.41 19.1545L19.8686 17.9052C19.9159 17.8647 19.9745 17.8429 20.0347 17.8434C20.081 17.8434 20.1264 17.8564 20.1667 17.881C20.207 17.9056 20.2408 17.941 20.2648 17.9839C20.2975 18.0499 20.307 18.1265 20.2916 18.1995C20.2762 18.2725 20.2369 18.3369 20.181 18.3808L18.3404 19.9559C18.2924 19.9966 18.2331 20.0187 18.1722 20.0187C18.1112 20.0187 18.052 19.9966 18.0038 19.9559L16.9018 18.9661C16.8529 18.9222 16.7941 18.8933 16.7315 18.8825C16.6689 18.8717 16.6048 18.8792 16.5458 18.9045C16.4869 18.9297 16.4352 18.9716 16.3961 19.0259C16.3571 19.0802 16.3321 19.1448 16.3238 19.2132L15.6918 24.4204L15.4248 27.1275C15.422 27.1553 15.4099 27.1811 15.3908 27.1999C15.3717 27.2187 15.3469 27.2292 15.3211 27.2294H14.3994C14.3724 27.2287 14.3467 27.2171 14.3273 27.1968C14.3078 27.1765 14.296 27.149 14.2943 27.1198L13.7134 22.4947C13.7046 22.4256 13.6786 22.3603 13.6383 22.3059C13.5981 22.2515 13.545 22.21 13.4848 22.1859C13.3697 22.1404 13.2687 22.0608 13.1934 21.9559C13.118 21.851 13.0714 21.7252 13.0587 21.5929L12.7093 18.7777C12.6962 18.6506 12.7083 18.5221 12.7448 18.4006C12.7813 18.2791 12.8414 18.1675 12.9209 18.0735L12.9224 18.075Z" stroke="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" fill="#ACADC1" stroke-width="0.2" /><path d="M18 14.3542V16.9043C18 16.9982 18.0395 17.0883 18.1098 17.1547C18.18 17.2212 18.2754 17.2585 18.3747 17.2585C18.4741 17.2585 18.5695 17.2212 18.6397 17.1547C18.71 17.0883 18.7495 16.9982 18.7495 16.9043V14.707H26.2565V21.6617H18.3747C18.2754 21.6617 18.18 21.699 18.1098 21.7654C18.0395 21.8319 18 21.9219 18 22.0159C18 22.1098 18.0395 22.1999 18.1098 22.2663C18.18 22.3328 18.2754 22.3701 18.3747 22.3701H22.1223V24.7275H19.7808C19.6812 24.7275 19.5834 24.7532 19.4981 24.8019C19.4127 24.8506 19.343 24.9204 19.2966 25.0038L18.4617 26.48C18.4387 26.5211 18.4244 26.5661 18.4198 26.6124C18.4152 26.6587 18.4202 26.7055 18.4347 26.7499C18.4492 26.7944 18.4728 26.8357 18.5042 26.8716C18.5355 26.9074 18.5741 26.9371 18.6176 26.9589C18.6611 26.9806 18.7087 26.9941 18.7577 26.9984C18.8067 27.0028 18.8562 26.998 18.9032 26.9844C18.9503 26.9707 18.994 26.9484 19.0319 26.9187C19.0698 26.889 19.1012 26.8526 19.1243 26.8115L19.8947 25.4373H25.1038L25.8742 26.8115C25.8973 26.8526 25.9287 26.889 25.9666 26.9187C26.0045 26.9484 26.0482 26.9707 26.0953 26.9844C26.1423 26.998 26.1918 27.0028 26.2408 26.9984C26.2898 26.9941 26.3374 26.9806 26.3809 26.9589C26.4244 26.9371 26.463 26.9074 26.4943 26.8716C26.5257 26.8357 26.5493 26.7944 26.5638 26.7499C26.5783 26.7055 26.5833 26.6587 26.5787 26.6124C26.5741 26.5661 26.5598 26.5211 26.5368 26.48L25.7094 25.0038C25.6629 24.9204 25.5933 24.8506 25.508 24.8019C25.4227 24.7532 25.3248 24.7275 25.2252 24.7275H22.8777V22.3701H26.6252C26.7246 22.3701 26.82 22.3328 26.8902 22.2663C26.9605 22.1999 27 22.1098 27 22.0159V14.3542C27 14.2602 26.9605 14.1702 26.8902 14.1037C26.82 14.0373 26.7246 14 26.6252 14H18.3747C18.2754 14 18.18 14.0373 18.1098 14.1037C18.0395 14.1702 18 14.2602 18 14.3542Z" stroke="#ACADC1" stroke-width="0.2" /></svg>',iconTaskList:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" width="33" height="32" viewBox="0 0 33 32" fill="none"><rect x="0.5" width="32" height="32" rx="4" fill="#005BF0"/><path d="M10.6813 24.3808V10.6864H12.6546V11.4803C12.6546 11.8772 12.9506 12.1749 13.3453 12.1749H20.0546C20.4493 12.1749 20.7453 11.8772 20.7453 11.4803V10.6864H22.7187V16.3427V25.6832H23.7558C23.9459 25.6832 24.1 25.5291 24.1 25.339V16.839V10.0909C24.1 9.69401 23.804 9.39629 23.4093 9.39629H20.7453V8.60239C20.7453 8.20547 20.4493 7.90775 20.0546 7.90775H19.2653C19.0679 6.41922 17.7853 5.42688 16.3053 5.62532C15.1213 5.72458 14.2333 6.71694 14.036 7.90775H13.3453C12.9506 7.90775 12.6546 8.20547 12.6546 8.60239V9.39629H9.99063C9.59599 9.39629 9.29999 9.69401 9.29999 10.0909V25.0755C9.29999 25.4725 9.59599 25.7701 9.99063 25.7701H23.6473C23.8374 25.7701 23.9915 25.6161 23.9915 25.4259V24.3808H15.3186H10.6813ZM16.7 6.91539C17.292 6.91539 17.7853 7.31238 17.9826 7.90775H15.4173C15.516 7.31238 16.108 6.91539 16.7 6.91539ZM13.9373 9.29709H19.3639V10.7856H13.9373V9.29709Z" fill="white"/><path d="M12.4525 14.6216H20.8589V15.3904H12.4525V14.6216Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M12.4525 17.7742H20.8589V18.5431H12.4525V17.7742Z" fill="white" stroke="white" stroke-width="0.5"/><path d="M12.4525 20.9265H20.8589V21.6954H12.4525V20.9265Z" fill="white" stroke="white" stroke-width="0.5"/></svg>',downloadGuide:'<svg width="21" height="21" viewBox="0 0 21 21" fill="none" ><path d="M18.5079 17.6908C18.5079 18.1402 18.1402 18.5079 17.6908 18.5079C17.2414 18.5079 16.8737 18.1402 16.8737 17.6908C16.8737 17.2414 17.2414 16.8737 17.6908 16.8737C18.1402 16.8737 18.5079 17.2414 18.5079 17.6908ZM15.076 16.8737C14.6266 16.8737 14.2589 17.2414 14.2589 17.6908C14.2589 18.1402 14.6266 18.5079 15.076 18.5079C15.5254 18.5079 15.8932 18.1402 15.8932 17.6908C15.8932 17.2414 15.5254 16.8737 15.076 16.8737ZM20.9593 14.9126V19.1616C20.9593 20.1544 20.1544 20.9593 19.1616 20.9593H1.83868C0.845879 20.9593 0.0410156 20.1544 0.0410156 19.1616V14.9126C0.0410156 13.9198 0.845879 13.1149 1.83868 13.1149H5.89977L3.59549 10.8107C2.56592 9.78109 3.29724 8.0202 4.75172 8.0202H6.90483V1.67526C6.90483 0.772338 7.63615 0.0410156 8.53907 0.0410156H12.4612C13.3642 0.0410156 14.0955 0.772338 14.0955 1.67526V8.0202H16.2486C17.7031 8.0202 18.4303 9.78109 17.4048 10.8107L15.1005 13.1149H19.1616C20.1544 13.1149 20.9593 13.9198 20.9593 14.9126ZM10.2673 15.6358C10.3939 15.7624 10.6023 15.7624 10.729 15.6358L16.4774 9.88732C16.6817 9.68304 16.5387 9.32759 16.2445 9.32759H12.7881V1.67526C12.7881 1.49549 12.641 1.34841 12.4612 1.34841H8.53907C8.3593 1.34841 8.21222 1.49549 8.21222 1.67526V9.32759H4.75172C4.46164 9.32759 4.31456 9.67895 4.51884 9.88732L10.2673 15.6358ZM19.6519 14.9126C19.6519 14.643 19.4313 14.4223 19.1616 14.4223H13.7932L11.6564 16.5591C11.019 17.1965 9.98129 17.1965 9.34393 16.5591L7.20716 14.4223H1.83868C1.56903 14.4223 1.34841 14.643 1.34841 14.9126V19.1616C1.34841 19.4313 1.56903 19.6519 1.83868 19.6519H19.1616C19.4313 19.6519 19.6519 19.4313 19.6519 19.1616V14.9126Z" fill="#CFD0DD"/></svg>',addNewField:'<svg version="1.1" class="Capa_1" x="0px" y="0px" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><path d="M25,1.6C12.1,1.6,1.6,12.1,1.6,25S12.1,48.4,25,48.4S48.4,37.9,48.4,25S37.9,1.6,25,1.6z M36.2,26.8h-9.4v9.9c0,1-0.8,1.8-1.8,1.8s-1.8-0.8-1.8-1.8v-9.9h-9.4c-1,0-1.8-0.8-1.8-1.8s0.8-1.8,1.8-1.8h9.4v-9c0-1,0.8-1.8,1.8-1.8s1.8,0.8,1.8,1.8v9h9.4c1,0,1.8,0.8,1.8,1.8S37.2,26.8,36.2,26.8z" /></svg>',drag_dots:'<svg width="8" height="15" viewBox="0 0 8 15" fill="none"><circle cx="1.5" cy="1.5" r="1.5" fill="#D6D6D6" /><circle cx="6.5" cy="1.5" r="1.5" fill="#D6D6D6" /><circle cx="1.5" cy="7.5" r="1.5" fill="#D6D6D6" /><circle cx="6.5" cy="7.5" r="1.5" fill="#D6D6D6" /><circle cx="1.5" cy="13.5" r="1.5" fill="#D6D6D6" /><circle cx="6.5" cy="13.5" r="1.5" fill="#D6D6D6" /></svg>',accessibility:'<svg class="mgPlayerJSProd_position-center mgPlayerJSProd_width-height-100" viewBox="0 0 27 26" fill="none"><path d="M1.85718 13C1.85718 14.5759 2.16757 16.1363 2.77062 17.5922C3.37368 19.0481 4.25759 20.371 5.3719 21.4853C6.4862 22.5996 7.80907 23.4835 9.26498 24.0866C10.7209 24.6896 12.2813 25 13.8572 25C15.433 25 16.9935 24.6896 18.4494 24.0866C19.9053 23.4835 21.2282 22.5996 22.3425 21.4853C23.4568 20.371 24.3407 19.0481 24.9437 17.5922C25.5468 16.1363 25.8572 14.5759 25.8572 13C25.8572 11.4241 25.5468 9.86371 24.9437 8.4078C24.3407 6.95189 23.4568 5.62902 22.3425 4.51472C21.2282 3.40042 19.9053 2.5165 18.4494 1.91345C16.9935 1.31039 15.433 1 13.8572 1C12.2813 1 10.7209 1.31039 9.26498 1.91345C7.80907 2.5165 6.4862 3.40042 5.3719 4.51472C4.25759 5.62902 3.37368 6.95189 2.77062 8.4078C2.16757 9.86371 1.85718 11.4241 1.85718 13Z" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M11.1905 19L13.8572 15M13.8572 15L16.5238 19M13.8572 15V12.3333M13.8572 12.3333L17.8572 11M13.8572 12.3333L9.85718 11" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M13.8572 7.66658C14.2254 7.66658 14.5239 7.36811 14.5239 6.99992C14.5239 6.63173 14.2254 6.33325 13.8572 6.33325C13.489 6.33325 13.1906 6.63173 13.1906 6.99992C13.1906 7.36811 13.489 7.66658 13.8572 7.66658Z" fill="#555555" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>'};function get_each_context$6(e,t,r){e=e.slice();return e[8]=t[r],e[10]=r,e}function create_if_block_2$a(e){let r,o=svgConst.iconBreadcrumArrow+"";return{c(){attr(r=element("div"),"class","ege-inline-block-div breadcrum-arrow-icon")},m(e,t){insert(e,r,t),r.innerHTML=o},d(e){e&&detach(r)}}}function create_if_block_1$b(e){let r=e[8]+"",o;return{c(){o=text(r)},m(e,t){insert(e,o,t)},p(e,t){1&t&&r!==(r=e[8]+"")&&set_data(o,r)},d(e){e&&detach(o)}}}function create_if_block$c(e){let r=e[8]?.category_title+"",o;return{c(){o=text(r)},m(e,t){insert(e,o,t)},p(e,t){1&t&&r!==(r=e[8]?.category_title+"")&&set_data(o,r)},d(e){e&&detach(o)}}}function create_each_block$6(r){let o,a,i,n,s,l,c,d,p=0<r[10]&&create_if_block_2$a();function u(e){return e[8]?.category_title?create_if_block$c:"All Guides"===e[8]?create_if_block_1$b:void 0}let g=u(r),m=g&&g(r);function h(){return r[3](r[8])}return{c(){o=element("li"),p&&p.c(),a=space(),i=element("button"),m&&m.c(),l=space(),attr(i,"class",n="mgPlayerJSProd_lbl-btn ege-inline-block-div breadcrum-title "+(r[10]===r[0].length-1?"active-breadcrum":"")),attr(i,"aria-label",s=r[8]?.category_title?r[8].category_title:"All Guides"===r[8]?r[8]:""),attr(o,"class","ege-inline-block-div breadcrum-item")},m(e,t){insert(e,o,t),p&&p.m(o,null),append(o,a),append(o,i),m&&m.m(i,null),append(o,l),c||(d=listen(i,"click",h),c=!0)},p(e,t){r=e,g===(g=u(r))&&m?m.p(r,t):(m&&m.d(1),(m=g&&g(r))&&(m.c(),m.m(i,null))),1&t&&n!==(n="mgPlayerJSProd_lbl-btn ege-inline-block-div breadcrum-title "+(r[10]===r[0].length-1?"active-breadcrum":""))&&attr(i,"class",n),1&t&&s!==(s=r[8]?.category_title?r[8].category_title:"All Guides"===r[8]?r[8]:"")&&attr(i,"aria-label",s)},d(e){e&&detach(o),p&&p.d(),m&&m.d(),c=!1,d()}}}function create_fragment$f(r){let o,a,i,n=svgConst.button_back_guide_view+"",s,l,c,d,p,u,g=ensure_array_like(r[0]),m=[];for(let e=0;e<g.length;e+=1)m[e]=create_each_block$6(get_each_context$6(r,g,e));return{c(){o=element("div"),a=element("div"),i=element("button"),s=space(),(l=element("div")).innerHTML='<div class="mgPlayerJSProd_tooltip-title">Back</div>',c=space(),d=element("ol");for(let e=0;e<m.length;e+=1)m[e].c();attr(i,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_back-btn mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),attr(i,"aria-label","back"),attr(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right"),attr(a,"class","mgPlayerJSProd_back-btn-wrapper mgPlayerJSProd_inline-block-vm mgPlayerJSProd_show-text-tooltip mgPlayerJSProd_position-relative mgPlayerJSProd_cursor-pointer"),attr(d,"class","breadcrums-container mgPlayerJSProd_inline-block-vm mgPlayerJSProd_no-margin "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_breadcrums-container-mPlayer":"")),attr(o,"id","mgPlayerJSProd_breadcrums-main-container"),attr(o,"class","mgPlayerJSProd_padding-lr-20")},m(e,t){insert(e,o,t),append(o,a),append(a,i),i.innerHTML=n,append(a,s),append(a,l),append(o,c),append(o,d);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(d,null);p||(u=listen(i,"click",r[2]),p=!0)},p(t,[r]){if(3&r){g=ensure_array_like(t[0]);let e;for(e=0;e<g.length;e+=1){var o=get_each_context$6(t,g,e);m[e]?m[e].p(o,r):(m[e]=create_each_block$6(o),m[e].c(),m[e].m(d,null))}for(;e<m.length;e+=1)m[e].d(1);m.length=g.length}},i:noop,o:noop,d(e){e&&detach(o),destroy_each(m,e),p=!1,u()}}}function instance$e(e,t,r){let o,a=createEventDispatcher(),i=get_store_value(Gm.breadCrumb),n=Gm.breadCrumb.subscribe(e=>{r(0,i=e)}),s=async e=>{o=e?"All Guides"===e?{parent:"All Guides"}:{parent:e,hasTour:e.has_tour,hasChild:e.has_child}:{parent:void 0,hasChild:!1},a("breadcrumbChanged",o)};onDestroy(()=>{n(),l()});let l=Gm.routeAction.subscribe(async e=>{e&&"goToAllGuides"===e.action&&e.app&&(await s("All Guides"),await s("All Guides"),Gm.routeAction.set(null))});return[i,s,()=>{let e;1<i.length&&(e=i[i.length-2]),s(e)},e=>s(e)]}class BreadCrumb extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$f,safe_not_equal,{})}}function create_fragment$e(e){let r,o,a,i=rootScope.svgs.no_guides_image+"",n,s,l;return{c(){r=element("div"),o=element("div"),a=element("div"),n=space(),s=element("div"),(l=element("div")).textContent=""+rootScope.labels.noCategoryCreatedYet,attr(a,"class","mgPlayerJSProd_no-guide-image-cartoon"),attr(o,"class","mgPlayerJSProd_no-guide-image-wrapper mgPlayerJSProd_no-margin"),attr(l,"class","mgPlayerJSProd_no-guide-msg"),attr(l,"tabindex","0"),attr(s,"class","mgPlayerJSProd_no-guide-text-wrapper"),attr(r,"class","no-tour-message-wrapper mgPlayerJSProd_position-center"),toggle_class(r,"mgPlayerJSProd_margin-t-50",!GmCXt.getAppSetting("isMiniPlayer"))},m(e,t){insert(e,r,t),append(r,o),append(o,a),a.innerHTML=i,append(r,n),append(r,s),append(s,l)},p(e,[t]){0&t&&toggle_class(r,"mgPlayerJSProd_margin-t-50",!GmCXt.getAppSetting("isMiniPlayer"))},i:noop,o:noop,d(e){e&&detach(r)}}}class NoGuide extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$e,safe_not_equal,{})}}function get_each_context_2$2(e,t,r){e=e.slice();return e[80]=t[r],e[78]=r,e}function get_each_context_1$3(e,t,r){e=e.slice();return e[76]=t[r],e[78]=r,e}function get_each_context_3$1(e,t,r){e=e.slice();return e[80]=t[r],e}function get_each_context$5(e,t,r){e=e.slice();return e[76]=t[r],e[78]=r,e}function create_if_block_11$5(e){let r,o,a;return(o=new BreadCrumb({})).$on("breadcrumbChanged",e[15]),{c(){r=element("div"),create_component(o.$$.fragment)},m(e,t){insert(e,r,t),mount_component(o,r,null),a=!0},p:noop,i(e){a||(transition_in(o.$$.fragment,e),a=!0)},o(e){transition_out(o.$$.fragment,e),a=!1},d(e){e&&detach(r),destroy_component(o)}}}function create_if_block_3$8(e){let a,r,i,n,s,l,o,c=((a=new FolderView({props:{category:e[7],parent:!0}})).$on("forwardTraversal",e[14]),!e[6].exportEnabled&&e[6].FT.creatorApp&&create_if_block_9$5(e)),d=[create_if_block_4$8,create_if_block_6$8,create_else_block_3$1],p=[];function u(e){return e[2]&&0<e[2].length?0:e[3]?1:2}return n=u(e),s=p[n]=d[n](e),{c(){create_component(a.$$.fragment),r=space(),c&&c.c(),i=space(),s.c(),l=empty()},m(e,t){mount_component(a,e,t),insert(e,r,t),c&&c.m(e,t),insert(e,i,t),p[n].m(e,t),insert(e,l,t),o=!0},p(e,t){var r={};128&t[0]&&(r.category=e[7]),a.$set(r),!e[6].exportEnabled&&e[6].FT.creatorApp?c?(c.p(e,t),64&t[0]&&transition_in(c,1)):((c=create_if_block_9$5(e)).c(),transition_in(c,1),c.m(i.parentNode,i)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros());let o=n;(n=u(e))===o?p[n].p(e,t):(group_outros(),transition_out(p[o],1,1,()=>{p[o]=null}),check_outros(),(s=p[n])?s.p(e,t):(s=p[n]=d[n](e)).c(),transition_in(s,1),s.m(l.parentNode,l))},i(e){o||(transition_in(a.$$.fragment,e),transition_in(c),transition_in(s),o=!0)},o(e){transition_out(a.$$.fragment,e),transition_out(c),transition_out(s),o=!1},d(e){e&&(detach(r),detach(i),detach(l)),destroy_component(a,e),c&&c.d(e),p[n].d(e)}}}function create_if_block_1$a(t){let a,o,i=ensure_array_like(t[0]),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block$5(get_each_context$5(t,i,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();a=empty()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);insert(t,a,r),o=!0},p(t,r){if(294001&r[0]){i=ensure_array_like(t[0]);let e;for(e=0;e<i.length;e+=1){var o=get_each_context$5(t,i,e);n[e]?(n[e].p(o,r),transition_in(n[e],1)):(n[e]=create_each_block$5(o),n[e].c(),transition_in(n[e],1),n[e].m(a.parentNode,a))}for(group_outros(),e=i.length;e<n.length;e+=1)(e=>transition_out(n[e],1,1,()=>{n[e]=null}))(e);check_outros()}},i(e){if(!o){for(let e=0;e<i.length;e+=1)transition_in(n[e]);o=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)transition_out(n[e]);o=!1},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_9$5(t){let a,r,i=ensure_array_like(t[8]),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block_3$1(get_each_context_3$1(t,i,e));return{c(){a=element("div");for(let e=0;e<n.length;e+=1)n[e].c()},m(e,t){insert(e,a,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(a,null);r=!0},p(t,r){if(196928&r[0]){i=ensure_array_like(t[8]);let e;for(e=0;e<i.length;e+=1){var o=get_each_context_3$1(t,i,e);n[e]?(n[e].p(o,r),transition_in(n[e],1)):(n[e]=create_each_block_3$1(o),n[e].c(),transition_in(n[e],1),n[e].m(a,null))}for(group_outros(),e=i.length;e<n.length;e+=1)(e=>transition_out(n[e],1,1,()=>{n[e]=null}))(e);check_outros()}},i(e){if(!r){for(let e=0;e<i.length;e+=1)transition_in(n[e]);r=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)transition_out(n[e]);r=!1},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_10$5(e){let o,a,r,i,n;return(a=new TourView({props:{tour:e[80]}})).$on("updatePinnedTours",e[17]),{c(){o=element("div"),create_component(a.$$.fragment),r=space(),attr(o,"class",i="tour-item mgPlayerJSProd_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":""))},m(e,t){insert(e,o,t),mount_component(a,o,null),append(o,r),n=!0},p(e,t){var r={};256&t[0]&&(r.tour=e[80]),a.$set(r),(!n||64&t[0]&&i!==(i="tour-item mgPlayerJSProd_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")))&&attr(o,"class",i)},i(e){n||(transition_in(a.$$.fragment,e),n=!0)},o(e){transition_out(a.$$.fragment,e),n=!1},d(e){e&&detach(o),destroy_component(a)}}}function create_each_block_3$1(e){let r=e[16](e[80])&&!e[6].guideHideForPlayer(e[80].tour_settings)&&e[80].pin,o,a,i=r&&create_if_block_10$5(e);return{c(){i&&i.c(),o=empty()},m(e,t){i&&i.m(e,t),insert(e,o,t),a=!0},p(e,t){(r=320&t[0]?e[16](e[80])&&!e[6].guideHideForPlayer(e[80].tour_settings)&&e[80].pin:r)?i?(i.p(e,t),320&t[0]&&transition_in(i,1)):((i=create_if_block_10$5(e)).c(),transition_in(i,1),i.m(o.parentNode,o)):i&&(group_outros(),transition_out(i,1,1,()=>{i=null}),check_outros())},i(e){a||(transition_in(i),a=!0)},o(e){transition_out(i),a=!1},d(e){e&&detach(o),i&&i.d(e)}}}function create_else_block_3$1(e){let r,o;return r=new NoGuide({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},p:noop,i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_6$8(t){let a,o,i=ensure_array_like(t[3]),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block_2$2(get_each_context_2$2(t,i,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();a=empty()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);insert(t,a,r),o=!0},p(t,r){if(736376&r[0]){i=ensure_array_like(t[3]);let e;for(e=0;e<i.length;e+=1){var o=get_each_context_2$2(t,i,e);n[e]?(n[e].p(o,r),transition_in(n[e],1)):(n[e]=create_each_block_2$2(o),n[e].c(),transition_in(n[e],1),n[e].m(a.parentNode,a))}for(group_outros(),e=i.length;e<n.length;e+=1)(e=>transition_out(n[e],1,1,()=>{n[e]=null}))(e);check_outros()}},i(e){if(!o){for(let e=0;e<i.length;e+=1)transition_in(n[e]);o=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)transition_out(n[e]);o=!1},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_4$8(t){let a,o,i=ensure_array_like(t[2]),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block_1$3(get_each_context_1$3(t,i,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();a=empty()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);insert(t,a,r),o=!0},p(t,r){if(294004&r[0]){i=ensure_array_like(t[2]);let e;for(e=0;e<i.length;e+=1){var o=get_each_context_1$3(t,i,e);n[e]?(n[e].p(o,r),transition_in(n[e],1)):(n[e]=create_each_block_1$3(o),n[e].c(),transition_in(n[e],1),n[e].m(a.parentNode,a))}for(group_outros(),e=i.length;e<n.length;e+=1)(e=>transition_out(n[e],1,1,()=>{n[e]=null}))(e);check_outros()}},i(e){if(!o){for(let e=0;e<i.length;e+=1)transition_in(n[e]);o=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)transition_out(n[e]);o=!1},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_7$7(e){let o,r,a,i,n,s,l,c=[create_if_block_8$6,create_else_block_2$2],d=[];function p(e,t){return(r=null==(r=64&t[0]?null:r)?!(!e[6].isOwnerOrAppAdmin()||!e[6].FT.creatorApp||e[6].isDesktopApp()||e[6].hideMirrorAppCtrl()):r)?0:1}return a=p(e,[-1,-1,-1]),i=d[a]=c[a](e),{c(){o=element("div"),i.c(),n=space(),attr(o,"class",s="tour-item mgPlayerJSProd_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":""))},m(e,t){insert(e,o,t),d[a].m(o,null),append(o,n),l=!0},p(e,t){let r=a;(a=p(e,t))===r?d[a].p(e,t):(group_outros(),transition_out(d[r],1,1,()=>{d[r]=null}),check_outros(),(i=d[a])?i.p(e,t):(i=d[a]=c[a](e)).c(),transition_in(i,1),i.m(o,n)),(!l||64&t[0]&&s!==(s="tour-item mgPlayerJSProd_guide-list-view "+(e[6].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")))&&attr(o,"class",s)},i(e){l||(transition_in(i),l=!0)},o(e){transition_out(i),l=!1},d(e){e&&detach(o),d[a].d()}}}function create_else_block_2$2(e){let o,r;return(o=new TourView({props:{tour:e[80]}})).$on("updatePinnedTours",e[17]),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};8&t[0]&&(r.tour=e[80]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_if_block_8$6(r){let o,a,i=r[6].svgs.drag_dots+"",n,s,l,c,d;function p(...e){return r[29](r[80],r[78],...e)}function u(...e){return r[31](r[78],...e)}return(s=new TourView({props:{tour:r[80]}})).$on("updatePinnedTours",r[17]),{c(){o=element("div"),a=element("div"),n=space(),create_component(s.$$.fragment),attr(a,"class","mgPlayerJSProd_drag-guide-icon-wrapper ege-inline-block-vm"),attr(o,"draggable","true")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),mount_component(s,o,null),l=!0,c||(d=[listen(o,"dragstart",p),listen(o,"drag",r[30]),listen(o,"dragover",u),listen(o,"dragend",r[32])],c=!0)},p(e,t){r=e,(!l||64&t[0])&&i!==(i=r[6].svgs.drag_dots+"")&&(a.innerHTML=i);e={};8&t[0]&&(e.tour=r[80]),s.$set(e)},i(e){l||(transition_in(s.$$.fragment,e),l=!0)},o(e){transition_out(s.$$.fragment,e),l=!1},d(e){e&&detach(o),destroy_component(s),c=!1,run_all(d)}}}function create_each_block_2$2(e){let r=e[16](e[80])&&!e[6].guideHideForPlayer(e[80].tour_settings),o,a,i=r&&create_if_block_7$7(e);return{c(){i&&i.c(),o=empty()},m(e,t){i&&i.m(e,t),insert(e,o,t),a=!0},p(e,t){(r=72&t[0]?e[16](e[80])&&!e[6].guideHideForPlayer(e[80].tour_settings):r)?i?(i.p(e,t),72&t[0]&&transition_in(i,1)):((i=create_if_block_7$7(e)).c(),transition_in(i,1),i.m(o.parentNode,o)):i&&(group_outros(),transition_out(i,1,1,()=>{i=null}),check_outros())},i(e){a||(transition_in(i),a=!0)},o(e){transition_out(i),a=!1},d(e){e&&detach(o),i&&i.d(e)}}}function create_else_block_1$2(e){let o,r;return(o=new FolderView({props:{category:e[76],parent:!1,subCategory:!0}})).$on("forwardTraversal",e[14]),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};4&t[0]&&(r.category=e[76]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_if_block_5$8(r){let o,a,i,n,s,l;function c(...e){return r[25](r[76],r[78],...e)}function d(...e){return r[27](r[78],...e)}return(a=new FolderView({props:{category:r[76],parent:!1,subCategory:!0}})).$on("forwardTraversal",r[14]),{c(){o=element("div"),create_component(a.$$.fragment),i=space(),attr(o,"draggable","true")},m(e,t){insert(e,o,t),mount_component(a,o,null),append(o,i),n=!0,s||(l=[listen(o,"dragstart",c),listen(o,"drag",r[26]),listen(o,"dragover",d),listen(o,"dragend",r[28])],s=!0)},p(e,t){r=e;e={};4&t[0]&&(e.category=r[76]),a.$set(e)},i(e){n||(transition_in(a.$$.fragment,e),n=!0)},o(e){transition_out(a.$$.fragment,e),n=!1},d(e){e&&detach(o),destroy_component(a),s=!1,run_all(l)}}}function create_each_block_1$3(e){let r,o,a,i,n,s=[create_if_block_5$8,create_else_block_1$2],l=[];function c(e,t){return(r=null==(r=64&t[0]?null:r)?!(!e[6].isOwnerOrAppAdmin()||!e[6].FT.creatorApp||e[6].isDesktopApp()||e[6].hideMirrorAppCtrl()):r)?0:1}return o=c(e,[-1,-1,-1]),a=l[o]=s[o](e),{c(){a.c(),i=empty()},m(e,t){l[o].m(e,t),insert(e,i,t),n=!0},p(e,t){let r=o;(o=c(e,t))===r?l[o].p(e,t):(group_outros(),transition_out(l[r],1,1,()=>{l[r]=null}),check_outros(),(a=l[o])?a.p(e,t):(a=l[o]=s[o](e)).c(),transition_in(a,1),a.m(i.parentNode,i))},i(e){n||(transition_in(a),n=!0)},o(e){transition_out(a),n=!1},d(e){e&&detach(i),l[o].d(e)}}}function create_else_block$6(e){let o,r;return(o=new FolderView({props:{category:e[76],parent:!1}})).$on("forwardTraversal",e[14]),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.category=e[76]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_if_block_2$9(r){let o,a,i,n,s,l;function c(...e){return r[21](r[76],r[78],...e)}function d(...e){return r[23](r[78],...e)}return(a=new FolderView({props:{category:r[76],parent:!1}})).$on("forwardTraversal",r[14]),{c(){o=element("div"),create_component(a.$$.fragment),i=space(),attr(o,"draggable","true")},m(e,t){insert(e,o,t),mount_component(a,o,null),append(o,i),n=!0,s||(l=[listen(o,"dragstart",c),listen(o,"drag",r[22]),listen(o,"dragover",d),listen(o,"dragend",r[24])],s=!0)},p(e,t){r=e;e={};1&t[0]&&(e.category=r[76]),a.$set(e)},i(e){n||(transition_in(a.$$.fragment,e),n=!0)},o(e){transition_out(a.$$.fragment,e),n=!1},d(e){e&&detach(o),destroy_component(a),s=!1,run_all(l)}}}function create_each_block$5(e){let r,o,a,i,n,s=[create_if_block_2$9,create_else_block$6],l=[];function c(e,t){return(r=null==(r=64&t[0]?null:r)?!(!e[6].isOwnerOrAppAdmin()||!e[6].FT.creatorApp||e[6].isDesktopApp()||e[6].hideMirrorAppCtrl()):r)?0:1}return o=c(e,[-1,-1,-1]),a=l[o]=s[o](e),{c(){a.c(),i=empty()},m(e,t){l[o].m(e,t),insert(e,i,t),n=!0},p(e,t){let r=o;(o=c(e,t))===r?l[o].p(e,t):(group_outros(),transition_out(l[r],1,1,()=>{l[r]=null}),check_outros(),(a=l[o])?a.p(e,t):(a=l[o]=s[o](e)).c(),transition_in(a,1),a.m(i.parentNode,i))},i(e){n||(transition_in(a),n=!0)},o(e){transition_out(a),n=!1},d(e){e&&detach(i),l[o].d(e)}}}function create_if_block$b(e){let r,o;return r=new NoGuide({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_fragment$d(r){let o,a,i,n,s,l,c=0<r[1].length&&create_if_block_11$5(r),d=[create_if_block_1$a,create_if_block_3$8],p=[];function u(e){return e[1].length<1?0:0<e[1].length?1:-1}~(i=u(r))&&(n=p[i]=d[i](r));let g=0==r[0].length&&create_if_block$b();return{c(){c&&c.c(),o=space(),a=element("div"),n&&n.c(),s=space(),g&&g.c(),attr(a,"class","category-list"),set_style(a,"height","682px")},m(e,t){c&&c.m(e,t),insert(e,o,t),insert(e,a,t),~i&&p[i].m(a,null),append(a,s),g&&g.m(a,null),r[33](a),l=!0},p(e,t){0<e[1].length?c?(c.p(e,t),2&t[0]&&transition_in(c,1)):((c=create_if_block_11$5(e)).c(),transition_in(c,1),c.m(o.parentNode,o)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros());let r=i;(i=u(e))===r?~i&&p[i].p(e,t):(n&&(group_outros(),transition_out(p[r],1,1,()=>{p[r]=null}),check_outros()),~i?((n=p[i])?n.p(e,t):(n=p[i]=d[i](e)).c(),transition_in(n,1),n.m(a,s)):n=null),0==e[0].length?g?1&t[0]&&transition_in(g,1):((g=create_if_block$b()).c(),transition_in(g,1),g.m(a,null)):g&&(group_outros(),transition_out(g,1,1,()=>{g=null}),check_outros())},i(e){l||(transition_in(c),transition_in(n),transition_in(g),l=!0)},o(e){transition_out(c),transition_out(n),transition_out(g),l=!1},d(e){e&&(detach(o),detach(a)),c&&c.d(e),~i&&p[i].d(),g&&g.d(),r[33](null)}}}let limit$1=50;function instance$d(e,X,i){function t(){var e=mg$$1(".list-page-header").innerHeight()?mg$$1(".list-page-header").innerHeight():0,t=mg$$1("#ege-header").innerHeight()?mg$$1("#ege-header").innerHeight():0,r=mg$$1(".ege-panel-header-sub-menu-urls").innerHeight()?mg$$1(".ege-panel-header-sub-menu-urls").innerHeight():0,o=mg$$1("#mgPlayerJSProd_breadcrums-main-container").innerHeight()?mg$$1("#mgPlayerJSProd_breadcrums-main-container").innerHeight():0,a=mg$$1("#footer").innerHeight()?mg$$1("#footer").innerHeight():0;mg$$1(".category-list").css({height:window.innerHeight-a-r-e-t-o})}function n(r){0===r&&(P=0);var e={category_id:h,limit:limit$1,offset:P};function t(e,t){storage$1.pinnedToursList.set(t),B(r,e,t),e.forEach(function(e,t){e.automate=!1,e.tour_order=parseInt(e.tour_order)}),rootScope.categoryDataForAutomation.forEach(function(t,e){t.category_id===category?.category_id&&(t.tours.length,parseInt(t.total_publish_tour),f.forEach(function(r,e){t.tours.forEach(function(e,t){e.tour_id===r.tour_id&&(r.automate=!0)})}))}),i(6,rootScope.isApiCallOn=!1,rootScope),GmCXt.FT.creatorApp,rootScope.guideSegmentation&&rootScope.FT.isPlayer?GmCXt.checkGuidesBasedOnSegment(f,T,"guideListSeg"):Gm.categoryTours.set(f),Gm.childCategories.set(void 0),Gm.loading.set(!1)}rootScope.FT.publishedGuides&&(e.published_guides="1");let o=rootScope.allTourList["cat_"+h];Gm.loading.set(!0),!rootScope.hasUserEditedTour||GmCXt.isEmpty(o)?api.getTourList(e,t):t(Object.keys(o).map(function(e){return o[e]}),rootScope.pinnedToursList),rootScope.hasUserEditedTour||Gm.loading.set(!0)}function s(t){Gm.loading.set(!0),0===t&&(P=0);var e={parent_id:h,limit:limit$1,offset:P};rootScope.FT.publishedCat&&(e.is_publish="1"),rootScope.getCategoryListApi(e,function(e){V(e,t),Gm.loading.set(!1),i(6,rootScope.isApiCallOn=!1,rootScope)})}let l=[],o=[],c=[],d=[],p,r=[],a=[],u,g,m=!1,h=0,_=[],f=[],y=[],S=[],P=0,v=!0,b=!0,C=!0,w=0,D=0,F=0,O,H,k=rootScope.activeTourId,R=(k=k||0,GmCXt.getLXPLang()&&(g=GmCXt.getLXPLang()),Gm.selectedLang.subscribe(e=>{GmCXt.getLXPLang()||(g=e),i(0,l=rootScope.prepCatLangJson(l,g))}),Gm.categoryTours.subscribe(e=>{if(i(3,a=e),a&&0<=_.length){let t=_.map(e=>e.tour_id);e=a.filter(e=>!t.includes(e.tour_id));i(3,a=e)}})),N=Gm.childCategories.subscribe(e=>{i(2,r=e&&rootScope.prepCatLangJson(e,g))}),B=function(e,t,r){if(t&&0<t.length){if(m=!1,f=e?mg$$1.merge(f,t):t,f=rootScope.filterDefaultGuides(f),f=GmCXt.removeDuplicateGuides(f),rootScope.FT.creatorApp)if(f=rootScope.getTranslatedTours(f),GmCXt.isEmpty(r))i(20,_=[]);else{let t=r.toString();i(20,_=f.filter(function(e){return e.pin=t.includes(e.tour_id),t.includes(e.tour_id)})),f.filter(function(e){return e.pin=t.includes(e.tour_id),!t.includes(e.tour_id)})}F=t.length,i(6,rootScope.totalTours=f.length,rootScope),k&&GmCXt.isDefined(t[k])&&(t[k].screencastInProgress=!0)}else m=!e;b=!0,f=rootScope.getTranslatedTours(f)},V=function(e,r){if(e&&0<e.length){let t=[];D=e.length,e.forEach(function(r,e){t.push(r),r.automationTours=0,rootScope.categoryDataForAutomation.forEach(function(e,t){e.category_id===r.category_id&&(r.automationTours=e.tours.length)})}),rootScope.subCategoryStore&&GmCXt.isEmpty(rootScope.subCategoryStore["cat_"+h])&&rootScope.addMultiCategory(t,h),y=r?mg$$1.merge(y,t):e,y=GmCXt.removeDuplicateCategories(y),(y=GmCXt.inPlayer?rootScope.prepCatLangJson(y,rootScope.language):y).length||(m=!0)}else y.length||(m=!0);Gm.childCategories.set(y),Gm.loading.set(!1),C=!0};function x(e){var t;Gm.childCategories.set(void 0),Gm.categoryTours.set(void 0),Gm.parent.set(e.detail.parent),c.length<1&&c.push("All Guides"),c.some(e=>"object"==typeof e&&e.category_id===p.category_id)||c.push(p),Gm.breadCrumb.set(c),e.detail.hasChild?(t=[],GmCXt.isEmpty(p.sub_categories)&&!GmCXt.inPlayer?(h=e.detail.parent.category_id,s(0)):(t=p.sub_categories.filter(e=>!e.has_tour||0<rootScope.filterGuideByEnv(e.tours).length),Gm.childCategories.set(t)),Gm.categoryTours.set(void 0)):e.detail.hasTour&&(Gm.categoryTours.set([]),GmCXt.isEmpty(p.tours)&&!GmCXt.inPlayer?(h=e.detail.parent.category_id,n(0)):setTimeout(()=>{var e=rootScope.filterGuideByEnv(p.tours);GmCXt.checkGuidesBasedOnSegment(e,T,"guideListSeg"),Gm.childCategories.set(void 0)},1))}function U(e){let t=-1;var r,e=e.detail;let o,a=e.parent;(o=l.find(e=>e.category_id===a.category_id))||!a.category_id||GmCXt.isEmpty(d)?a.category_id&&!GmCXt.inPlayer&&(o=a):o=d.find(e=>e.category_id===a.category_id),Gm.parent.set(o),-1===(t=p&&"All Guides"!==p?c.findIndex(e=>e.category_id===p.category_id):t)?(i(1,c=[]),Gm.breadCrumb.set(c),GmCXt.inPlayer||A()):(i(1,c=c.slice(0,t+1)),Gm.breadCrumb.set(c),e.hasChild&&(r=[],GmCXt.isEmpty(p.sub_categories)&&!GmCXt.inPlayer?(h=e.parent.category_id,s(0)):(r=p.sub_categories.filter(e=>!e.has_tour||0<rootScope.filterGuideByEnv(e.tours).length),Gm.childCategories.set(r)),Gm.categoryTours.set(void 0)),e.hasTour&&(Gm.categoryTours.set([]),GmCXt.isEmpty(p.tours)&&!GmCXt.inPlayer?(h=e.parent.category_id,n(0)):(r=rootScope.filterGuideByEnv(p.tours),GmCXt.checkGuidesBasedOnSegment(r,T,"guideListSeg")),Gm.childCategories.set(void 0)))}function T(t){if(!GmCXt.isEmpty(t)){let e=get_store_value(Gm.categoryTours);e.push(t),e=GmCXt.removeDuplicateGuides(e),Gm.categoryTours.set(e)}}function z(e,t,r){i(6,rootScope.refreshAllGuides=!1,rootScope),GmCXt.isEmpty(e)&&GmCXt.isEmpty(o)?m=!0:(m=!1,e&&(w=e.length,e.forEach(function(t,e){1===t.category_image&&(t.category_image=0),t.automationTours=0,rootScope.categoryDataForAutomation.forEach(function(e){e.category_id===t?.category_id&&(t.automationTours=e.tours.length)}),t.category_order=parseInt(t?.category_order)})),o=(e=>{let r=[],o=[];return mg$$1.each(e,function(e,t){-1===mg$$1.inArray(t.category_id,r)&&(r.push(t.category_id),o.push(t))}),o})(o=t?mg$$1.merge(o,e):e),v=!0,!GmCXt.isEmpty(rootScope.categoryStore)&&GmCXt.isEmpty(rootScope.refreshCache)||(GmCXt.isEmpty(rootScope.refreshCache)&&i(6,rootScope.categoryStore=[],rootScope),rootScope.addMultiCategory(o)),GmCXt.inPlayer&&(o=rootScope.prepCatLangJson(o,r))),GmCXt.isPlayer()||storage$1.refreshCache.remove(),Gm.allCategories.set(o),i(6,rootScope.isApiCallOn=!1,rootScope),rootScope.isAppJsonCalling||Gm.loading.set(!1)}function A(r){rootScope.resetOffset&&(P=0,i(6,rootScope.resetOffset=!1,rootScope)),0===r&&(P=P=0);let e=limit$1;var t;rootScope.categoryStore&&(t=Object.keys(rootScope.categoryStore).length,e=rootScope.getApiLimit(t)),mgError$1.try(function(){let t={parent_id:0,limit:rootScope.refreshAllGuides?e:limit$1,offset:r?P:0};GmCXt.getLXPLang()?t.language=GmCXt.getLXPLang():rootScope.language&&-1===rootScope.language.indexOf("en-")&&!GmCXt.isFalse(rootScope.language)&&(t.language=rootScope.language),rootScope.FT.publishedCat&&(t.is_publish="1"),Gm.loading.set(!0),api.getCategoryList(t,function(e){z(e,r,t.language)})},804)}function j(){let a=rootScope.automationSelectionMode?rootScope.descOrder?"!is_published":"is_published":u||"tour_order";i(8,S=[..._]),i(8,S=S.sort((e,t)=>{let r=e[a],o=t[a];return rootScope.descOrder&&([r,o]=[o,r]),r<o?-1:r>o?1:0}))}function $(t){mgError$1.try(function(){let r=[];t.filter(function(e,t){r.push({category_id:e.category_id,category_order:t+1}),e.category_order=t+1,rootScope.updateCategory(e,"category_order",parseInt(t+1))}),r=GmCXt.removeDuplicates(r);var e={organization_id:rootScope.organization.organization_id,json:r};api.categoriesDrag(e,function(e){rootScope.showPopup(e.message)})},803)}function W(e){let r=[];e.filter(function(e,t){r.push({tour_id:e.tour_id,tour_order:t+1}),e.tour_order=t+1,rootScope.setTour(e,!1)}),r=GmCXt.removeDuplicates(r),e={category_id:e[0].category_id,json:r},api.toursDrag(e,function(e){rootScope.showPopup(e.message[0])})}let q=Gm.breadCrumb.subscribe(e=>{i(1,c=e)}),Z=Gm.activeSortFilterStore.subscribe(e=>{u=e,i(0,l=rootScope.sortDataByActiveFilter(l,"category_title",u)),i(2,r=rootScope.sortDataByActiveFilter(r,"category_title",u)),i(3,a=rootScope.sortDataByActiveFilter(a,"tour_title",u))}),K=Gm.allCategories.subscribe(e=>{i(0,l=e),t()}),Y=(Gm.subCategories.subscribe(e=>{d=e}),Gm.parent.subscribe(e=>{i(7,p=e),t()})),Q=Gm.routeAction.subscribe(e=>{var t,r;e&&"createGuideCompleted"===e.action&&e.data?(t=e.data,(r=get_store_value(Gm.categoryTours)).push(t.tour),Gm.categoryTours.set(r),Gm.routeAction.set(null)):e&&"createCategoryCompleted"===e.action&&e.data?(e.data,Gm.routeAction.set(null)):e&&"on_app_select"===e.action&&e.app?(i(6,rootScope.myGuidesFilter=!1,rootScope),i(6,rootScope.currentUserFilter=!1,rootScope),i(6,rootScope.filterByPublishedGuides="",rootScope),A(),Gm.routeAction.set(null)):e&&"backwardTraversal"===e.action&&e.data&&(U(e.data),Gm.routeAction.set(null))}),L=(onMount(()=>{rootScope.isForwardListenerAttached||(document.addEventListener("forwardTraversal",x),i(6,rootScope.isForwardListenerAttached=!0,rootScope)),Gm.loading.set(!1),GmCXt.inPlayer||(Gm.childCategories.set(void 0),A()),t(),mg$$1("#mgPlayerJSProd_filter-tab-go-to-lib").removeClass("mgPlayerJSProd_filter-active-tab"),mg$$1("#mgPlayerJSProd_filter-tab-current-page").removeClass("mgPlayerJSProd_filter-active-tab"),mg$$1(".category-list").off("scroll").on("scroll",function(){var e=a&&0<a.length&&0<c.length?"tour":r&&0<r.length&&0<c.length?"subcategory":0<l.length||c.length<1?"category":null;if(H!=e&&(P=0,mg$$1(this).scrollTop(0)),"tour"===e){if(!b)return!0;mg$$1(this).scrollTop()+mg$$1(this).innerHeight()>=mg$$1(this)[0].scrollHeight-20&&mg$$1(this)[0].scrollHeight+20>mg$$1(this).innerHeight()&&(b=!1,F===limit$1)&&(P+=limit$1,n(1))}else if("category"===e){if(!v)return!0;mg$$1(this).scrollTop()+mg$$1(this).innerHeight()>=mg$$1(this)[0].scrollHeight-20&&mg$$1(this)[0].scrollHeight+20>mg$$1(this).innerHeight()&&(v=!1,w===limit$1)&&(P+=limit$1,A(1))}else if("subcategory"===e){if(!C)return!0;mg$$1(this).scrollTop()+mg$$1(this).innerHeight()>=mg$$1(this)[0].scrollHeight-20&&mg$$1(this)[0].scrollHeight+20>mg$$1(this).innerHeight()&&(C=!1,D===limit$1)&&(P+=limit$1,s(1))}H=e})}),mg$$1(window).off("resize").on("resize",t),onDestroy(()=>()=>{document.removeEventListener("forwardTraversal",x),i(6,rootScope.isForwardListenerAttached=!1,rootScope),K(),q(),R(),N(),Y(),Q(),Z()}),null),J=null,G=null,E=null,M=null,I=null;l=rootScope.sortDataByActiveFilter(l,"category_title",u),r=rootScope.sortDataByActiveFilter(r,"category_title",u),a=rootScope.sortDataByActiveFilter(a,"tour_title",u);return e.$$.update=()=>{1048576&e.$$.dirty[0]&&0<=_.length&&j(),63&e.$$.dirty[0]&&null!=M&&null!=I&&M!=I&&(c.length<1?i(0,[l[M],l[I]]=[l[I],l[M]],l):r&&0<r.length?i(2,[r[M],r[I]]=[r[I],r[M]],r):a&&i(3,[a[M],a[I]]=[a[I],a[M]],a),i(4,M=I))},[l,c,r,a,M,I,rootScope,p,S,void 0,L,J,G,E,x,U,function(e){return!m&&!("smartTip"===e.tour_type&&"desktop"===e.tour_settings.tour_type||"bot"===e.tour_type&&GmCXt.isPlayer())&&("smartTip"!==e.tour_type||rootScope.FT.creatorApp)},function(e){if("pin"==e.detail.action){let t=e.detail.tour;t.pin=!0,i(20,_=[..._,t]),i(3,a=a.filter(e=>e.tour_id!==t.tour_id))}else if("unpin"==e.detail.action){let t=e.detail.tour;i(20,_=_.filter(e=>e.tour_id!==t.tour_id)),t.pin=!1,i(3,a=[...a,t])}},$,W,_,(e,t,r)=>{i(10,L=r.clientY),i(12,G=e),i(4,M=t),i(13,E=e.category_id),i(11,J=r.target.getBoundingClientRect().y-r.clientY)},e=>{i(10,L=e.clientY)},(e,t)=>{i(5,I=e)},e=>{$(l),i(13,E=null),i(5,I=null)},(e,t,r)=>{i(10,L=r.clientY),i(12,G=e),i(4,M=t),i(13,E=e.category_id),i(11,J=r.target.getBoundingClientRect().y-r.clientY)},e=>{i(10,L=e.clientY)},(e,t)=>{i(5,I=e)},e=>{$(r),i(13,E=null),i(5,I=null)},(e,t,r)=>{i(10,L=r.clientY),i(12,G=e),i(4,M=t),i(13,E=e.tour_id),i(11,J=r.target.getBoundingClientRect().y-r.clientY)},e=>{i(10,L=e.clientY)},(e,t)=>{i(5,I=e)},e=>{W(a),i(13,E=null),i(5,I=null)},function(e){binding_callbacks[e?"unshift":"push"](()=>{O=e,i(9,O)})}]}class AllGuide extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$d,safe_not_equal,{},null,[-1,-1,-1])}}var DoubleTickIcon='<svg width="32px" height="32px" viewBox="0 0 32 32" version="1.1">\r\n    <g class="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r\n        <g class="verified" fill="green" fill-rule="nonzero">\r\n            <path d="M27.3136875,4.68625 C24.2916875,1.6643125 20.27375,0 16,0 C11.7261875,0 7.70825,1.6643125 4.68625,4.68625 C1.6643125,7.70825 0,11.72625 0,16 C0,20.27375 1.6643125,24.2916875 4.68625,27.3136875 C7.70825,30.3356875 11.72625,32 16,32 C20.27375,32 24.2916875,30.3356875 27.3136875,27.31375 C30.3356875,24.2916875 32,20.27375 32,16 C32,11.72625 30.3356875,7.7083125 27.3136875,4.68625 Z M23.644125,12.1920625 L14.7025625,21.1336875 C14.5195,21.31675 14.2795625,21.40825 14.0396875,21.40825 C13.79975,21.40825 13.5598125,21.31675 13.37675,21.1336875 L8.355875,16.112875 C7.98975,15.7468125 7.98975,15.15325 8.355875,14.7870625 C8.7219375,14.4209375 9.3155625,14.4209375 9.6816875,14.7870625 L14.0396875,19.145 L22.3183125,10.86625 C22.684375,10.500125 23.278,10.500125 23.644125,10.86625 C24.01025,11.232375 24.01025,11.8259375 23.644125,12.1920625 Z" class="shape"></path>\r\n        </g>\r\n    </g>\r\n</svg>';function create_if_block_13$2(r){let o,a,i=rootScope.svgs.my_guide+"",n,s,l,c;return{c(){o=element("div"),a=element("button"),n=space(),(s=element("div")).textContent=""+rootScope.labels.preview,attr(a,"id","mgPlayerJSProd_btn-tour-action-preview"),attr(a,"class","mgPlayerJSProd_lbl-btn guide-view-header-panel-icons mgPlayerJSProd_header-icon-preview mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(a,"aria-label","preview smartTip"),attr(s,"class","guide-view-header-panel-icons-text"),attr(o,"id","mgPlayerJSProd_guide-play-mode-preview-container"),attr(o,"class","guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),l||(c=listen(a,"click",r[10]),l=!0)},p:noop,d(e){e&&detach(o),l=!1,c()}}}function create_if_block_10$4(r){let o,a,i,n=rootScope.svgs.my_guide+"",s,l=r[2](r[0])!==rootScope.playGuideMe&&!rootScope.FT.isPlayer&&!r[0].is_published&&!rootScope.hideMirrorAppCtrl(),c,d=r[2](r[0])===rootScope.playGuideMe&&rootScope.FT.creatorApp&&!r[0].is_published,p,u,g,m,h,_=l&&create_if_block_12$3(r),f=d&&create_if_block_11$4();return{c(){o=element("div"),a=element("div"),i=element("button"),s=space(),_&&_.c(),c=space(),f&&f.c(),p=space(),(u=element("div")).textContent=""+rootScope.labels.guideMe,attr(i,"id","mgPlayerJSProd_btn-tour-action-guideme"),attr(i,"class","mgPlayerJSProd_lbl-btn guide-view-header-panel-icons mgPlayerJSProd_header-icon-guideme mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_active-play-mode"),attr(i,"aria-label","GuideMe"),toggle_class(i,"mgPlayerJSProd_active-play-mode","guideMe"===r[2](r[0])),attr(a,"class","mgPlayerJSProd_guide-play-mode-wrapper mgPlayerJSProd_position-relative"),attr(u,"class","guide-view-header-panel-icons-text ng-binding"),attr(o,"id","mgPlayerJSProd_guide-play-mode-guide-container"),attr(o,"class",g="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(r[0].is_published?"published-tour":""))},m(e,t){insert(e,o,t),append(o,a),append(a,i),i.innerHTML=n,append(a,s),_&&_.m(a,null),append(a,c),f&&f.m(a,null),append(o,p),append(o,u),m||(h=listen(i,"click",r[11]),m=!0)},p(e,t){5&t&&toggle_class(i,"mgPlayerJSProd_active-play-mode","guideMe"===e[2](e[0])),(l=1&t?e[2](e[0])!==rootScope.playGuideMe&&!rootScope.FT.isPlayer&&!e[0].is_published&&!rootScope.hideMirrorAppCtrl():l)?_?_.p(e,t):((_=create_if_block_12$3(e)).c(),_.m(a,c)):_&&(_.d(1),_=null),(d=1&t?e[2](e[0])===rootScope.playGuideMe&&rootScope.FT.creatorApp&&!e[0].is_published:d)?f||((f=create_if_block_11$4()).c(),f.m(a,null)):f&&(f.d(1),f=null),1&t&&g!==(g="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(e[0].is_published?"published-tour":""))&&attr(o,"class",g)},d(e){e&&detach(o),_&&_.d(),f&&f.d(),m=!1,h()}}}function create_if_block_12$3(r){let o,a,i;return{c(){attr(o=element("input"),"type","radio"),attr(o,"class","mgPlayerJSProd_input-radio-custom mgPlayerJSProd_opacity mgPlayerJSProd_opacity-2"),attr(o,"name","mgPlayerJSProd_guide-play-mode")},m(e,t){insert(e,o,t),a||(i=listen(o,"click",r[12]),a=!0)},p:noop,d(e){e&&detach(o),a=!1,i()}}}function create_if_block_11$4(e){let r,o,a,i,n;return{c(){r=element("div"),o=element("div"),a=space(),i=element("div"),(n=element("div")).textContent=""+rootScope.labels.defaultGuidePlayAction,attr(n,"class","mgPlayerJSProd_tooltip-title"),attr(i,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-top-right mgPlayerJSProd_margin-tb-5"),attr(r,"class","mgPlayerJSProd_selected-mode-tick mgPlayerJSProd_position-relative")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=DoubleTickIcon,append(r,a),append(r,i),append(i,n)},d(e){e&&detach(r)}}}function create_if_block_7$6(r){let o,a,i,n=rootScope.svgs.my_show+"",s,l=!(r[2](r[0])===rootScope.playSlideshow||rootScope.FT.isPlayer||r[0].is_published||rootScope.hideMirrorAppCtrl()||rootScope.isDesktopApp()),c,d=r[2](r[0])===rootScope.playSlideshow&&rootScope.FT.creatorApp&&!r[0].is_published,p,u,g,m,h,_=l&&create_if_block_9$4(r),f=d&&create_if_block_8$5();return{c(){o=element("div"),a=element("div"),i=element("button"),s=space(),_&&_.c(),c=space(),f&&f.c(),p=space(),(u=element("div")).textContent=""+rootScope.labels.showMe,attr(i,"id","mgPlayerJSProd_btn-tour-action-showme"),attr(i,"class","mgPlayerJSProd_lbl-btn guide-view-header-panel-icons mgPlayerJSProd_header-icon-showme mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),toggle_class(i,"mgPlayerJSProd_active-play-mode","slideshow"===r[2](r[0])),attr(a,"class","mgPlayerJSProd_guide-play-mode-wrapper mgPlayerJSProd_position-relative"),attr(u,"class","guide-view-header-panel-icons-text ng-binding"),attr(o,"id","mgPlayerJSProd_guide-play-mode-showme-container"),attr(o,"class",g="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(r[0].is_published?"published-tour":""))},m(e,t){insert(e,o,t),append(o,a),append(a,i),i.innerHTML=n,append(a,s),_&&_.m(a,null),append(a,c),f&&f.m(a,null),append(o,p),append(o,u),m||(h=listen(i,"click",r[13]),m=!0)},p(e,t){5&t&&toggle_class(i,"mgPlayerJSProd_active-play-mode","slideshow"===e[2](e[0])),(l=1&t?!(e[2](e[0])===rootScope.playSlideshow||rootScope.FT.isPlayer||e[0].is_published||rootScope.hideMirrorAppCtrl()||rootScope.isDesktopApp()):l)?_?_.p(e,t):((_=create_if_block_9$4(e)).c(),_.m(a,c)):_&&(_.d(1),_=null),(d=1&t?e[2](e[0])===rootScope.playSlideshow&&rootScope.FT.creatorApp&&!e[0].is_published:d)?f||((f=create_if_block_8$5()).c(),f.m(a,null)):f&&(f.d(1),f=null),1&t&&g!==(g="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(e[0].is_published?"published-tour":""))&&attr(o,"class",g)},d(e){e&&detach(o),_&&_.d(),f&&f.d(),m=!1,h()}}}function create_if_block_9$4(r){let o,a,i;return{c(){attr(o=element("input"),"type","radio"),attr(o,"class","mgPlayerJSProd_input-radio-custom mgPlayerJSProd_opacity mgPlayerJSProd_opacity-2"),attr(o,"name","mgPlayerJSProd_guide-play-mode")},m(e,t){insert(e,o,t),a||(i=listen(o,"click",r[14]),a=!0)},p:noop,d(e){e&&detach(o),a=!1,i()}}}function create_if_block_8$5(e){let r,o,a,i,n;return{c(){r=element("div"),o=element("div"),a=space(),i=element("div"),(n=element("div")).textContent=""+rootScope.labels.defaultGuidePlayAction,attr(n,"class","mgPlayerJSProd_tooltip-title"),attr(i,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-top-right mgPlayerJSProd_margin-tb-5"),attr(r,"class","mgPlayerJSProd_selected-mode-tick mgPlayerJSProd_position-relative")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=DoubleTickIcon,append(r,a),append(r,i),append(i,n)},d(e){e&&detach(r)}}}function create_if_block_4$7(r){let o,a,i,n=rootScope.svgs.my_bot+"",s,l=r[2](r[0])!==rootScope.playAuto&&!rootScope.FT.isPlayer&&!r[0].is_published&&!rootScope.hideMirrorAppCtrl(),c,d=r[2](r[0])===rootScope.playAuto&&rootScope.FT.creatorApp&&!r[0].is_published,p,u,g,m,h,_=l&&create_if_block_6$7(r),f=d&&create_if_block_5$7();return{c(){o=element("div"),a=element("div"),i=element("button"),s=space(),_&&_.c(),c=space(),f&&f.c(),p=space(),(u=element("div")).textContent=""+rootScope.labels.doItForMe,attr(i,"id","mgPlayerJSProd_btn-tour-action-doitforme"),attr(i,"class","mgPlayerJSProd_lbl-btn guide-view-header-panel-icons mgPlayerJSProd_header-icon-doit mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),toggle_class(i,"mgPlayerJSProd_active-play-mode","doitforme"===r[2](r[0])),attr(a,"class","mgPlayerJSProd_guide-play-mode-wrapper mgPlayerJSProd_position-relative"),attr(u,"class","guide-view-header-panel-icons-text ng-binding"),attr(o,"id","mgPlayerJSProd_guide-play-mode-doitforme-container"),attr(o,"class",g="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(r[0].is_published?"published-tour":""))},m(e,t){insert(e,o,t),append(o,a),append(a,i),i.innerHTML=n,append(a,s),_&&_.m(a,null),append(a,c),f&&f.m(a,null),append(o,p),append(o,u),m||(h=listen(i,"click",r[15]),m=!0)},p(e,t){5&t&&toggle_class(i,"mgPlayerJSProd_active-play-mode","doitforme"===e[2](e[0])),(l=1&t?e[2](e[0])!==rootScope.playAuto&&!rootScope.FT.isPlayer&&!e[0].is_published&&!rootScope.hideMirrorAppCtrl():l)?_?_.p(e,t):((_=create_if_block_6$7(e)).c(),_.m(a,c)):_&&(_.d(1),_=null),(d=1&t?e[2](e[0])===rootScope.playAuto&&rootScope.FT.creatorApp&&!e[0].is_published:d)?f||((f=create_if_block_5$7()).c(),f.m(a,null)):f&&(f.d(1),f=null),1&t&&g!==(g="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(e[0].is_published?"published-tour":""))&&attr(o,"class",g)},d(e){e&&detach(o),_&&_.d(),f&&f.d(),m=!1,h()}}}function create_if_block_6$7(r){let o,a,i;return{c(){attr(o=element("input"),"type","radio"),attr(o,"class","mgPlayerJSProd_input-radio-custom mgPlayerJSProd_opacity mgPlayerJSProd_opacity-2"),attr(o,"name","mgPlayerJSProd_guide-play-mode")},m(e,t){insert(e,o,t),a||(i=listen(o,"click",r[16]),a=!0)},p:noop,d(e){e&&detach(o),a=!1,i()}}}function create_if_block_5$7(e){let r,o,a,i,n;return{c(){r=element("div"),o=element("div"),a=space(),i=element("div"),(n=element("div")).textContent=""+rootScope.labels.defaultGuidePlayAction,attr(n,"class","mgPlayerJSProd_tooltip-title"),attr(i,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-top-right mgPlayerJSProd_margin-tb-5"),attr(r,"class","mgPlayerJSProd_selected-mode-tick mgPlayerJSProd_position-relative")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=DoubleTickIcon,append(r,a),append(r,i),append(i,n)},d(e){e&&detach(r)}}}function create_if_block_3$7(r){let o,a,i=rootScope.svgs.my_test+"",n,s,l,c,d;return{c(){o=element("div"),a=element("button"),n=space(),(s=element("div")).textContent=""+rootScope.labels.testMe,attr(a,"id","mgPlayerJSProd_btn-tour-action-testme"),attr(a,"class","mgPlayerJSProd_lbl-btn guide-view-header-panel-icons mgPlayerJSProd_header-icon-doit mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(a,"aria-label","TestMe"),toggle_class(a,"mgPlayerJSProd_active-play-mode","testMe"===r[2](r[0])),attr(s,"class","guide-view-header-panel-icons-text ng-binding"),attr(o,"id","mgPlayerJSProd_guide-play-mode-testme-container"),attr(o,"class",l="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(r[0].is_published?"published-tour":"disabled"))},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),c||(d=listen(a,"click",r[17]),c=!0)},p(e,t){5&t&&toggle_class(a,"mgPlayerJSProd_active-play-mode","testMe"===e[2](e[0])),1&t&&l!==(l="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(e[0].is_published?"published-tour":"disabled"))&&attr(o,"class",l)},d(e){e&&detach(o),c=!1,d()}}}function create_if_block$a(r){let o,a,i,n=rootScope.svgs.vlab+"",s,l=r[2](r[0])!==rootScope.playVLab&&!rootScope.FT.isPlayer&&!r[0].is_published&&!rootScope.hideMirrorAppCtrl(),c,d=r[2](r[0])===rootScope.playVLab&&rootScope.FT.creatorApp&&!r[0].is_published,p,u,g,m,h,_=l&&create_if_block_2$8(r),f=d&&create_if_block_1$9();return{c(){o=element("div"),a=element("div"),i=element("button"),s=space(),_&&_.c(),c=space(),f&&f.c(),p=space(),(u=element("div")).textContent=""+rootScope.labels.vLab,attr(i,"id","mgPlayerJSProd_btn-tour-action-vlab"),attr(i,"class","mgPlayerJSProd_lbl-btn guide-view-header-panel-icons mgPlayerJSProd_header-icon-doit mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(i,"aria-label","TeachMe"),toggle_class(i,"mgPlayerJSProd_active-play-mode","vLab"===r[2](r[0])),attr(a,"class","mgPlayerJSProd_guide-play-mode-wrapper mgPlayerJSProd_position-relative"),attr(u,"class","guide-view-header-panel-icons-text ng-binding"),attr(o,"id","mgPlayerJSProd_guide-play-mode-teachme-container"),attr(o,"class",g="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(r[0].is_published?"published-tour":""))},m(e,t){insert(e,o,t),append(o,a),append(a,i),i.innerHTML=n,append(a,s),_&&_.m(a,null),append(a,c),f&&f.m(a,null),append(o,p),append(o,u),m||(h=listen(i,"click",r[18]),m=!0)},p(e,t){5&t&&toggle_class(i,"mgPlayerJSProd_active-play-mode","vLab"===e[2](e[0])),(l=1&t?e[2](e[0])!==rootScope.playVLab&&!rootScope.FT.isPlayer&&!e[0].is_published&&!rootScope.hideMirrorAppCtrl():l)?_?_.p(e,t):((_=create_if_block_2$8(e)).c(),_.m(a,c)):_&&(_.d(1),_=null),(d=1&t?e[2](e[0])===rootScope.playVLab&&rootScope.FT.creatorApp&&!e[0].is_published:d)?f||((f=create_if_block_1$9()).c(),f.m(a,null)):f&&(f.d(1),f=null),1&t&&g!==(g="guide-view-header-panel mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column "+(e[0].is_published?"published-tour":""))&&attr(o,"class",g)},d(e){e&&detach(o),_&&_.d(),f&&f.d(),m=!1,h()}}}function create_if_block_2$8(r){let o,a,i;return{c(){attr(o=element("input"),"type","radio"),attr(o,"class","mgPlayerJSProd_input-radio-custom mgPlayerJSProd_opacity mgPlayerJSProd_opacity-2"),attr(o,"name","mgPlayerJSProd_guide-play-mode")},m(e,t){insert(e,o,t),a||(i=listen(o,"click",r[19]),a=!0)},p:noop,d(e){e&&detach(o),a=!1,i()}}}function create_if_block_1$9(e){let r,o,a,i,n;return{c(){r=element("div"),o=element("div"),a=space(),i=element("div"),(n=element("div")).textContent=""+rootScope.labels.defaultGuidePlayAction,attr(n,"class","mgPlayerJSProd_tooltip-title"),attr(i,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-top-right mgPlayerJSProd_margin-tb-5"),attr(r,"class","mgPlayerJSProd_selected-mode-tick mgPlayerJSProd_position-relative")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=DoubleTickIcon,append(r,a),append(r,i),append(i,n)},d(e){e&&detach(r)}}}function create_fragment$c(e){let r,o,a=rootScope.isTooltip(e[0])&&0<e[0].step_count,i,n=e[4](),s,l=e[5](),c,d=e[6](),p,u=e[7](),g,m=e[8](),h=a&&create_if_block_13$2(e),_=n&&create_if_block_10$4(e),f=l&&create_if_block_7$6(e),y=d&&create_if_block_4$7(e),S=u&&create_if_block_3$7(e),P=m&&create_if_block$a(e);return{c(){r=element("div"),o=element("div"),h&&h.c(),i=space(),_&&_.c(),s=space(),f&&f.c(),c=space(),y&&y.c(),p=space(),S&&S.c(),g=space(),P&&P.c(),attr(o,"class","mgPlayerJSProd_inline-block-vm"),attr(r,"class","guide-view-header-panel-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between")},m(e,t){insert(e,r,t),append(r,o),h&&h.m(o,null),append(o,i),_&&_.m(o,null),append(o,s),f&&f.m(o,null),append(o,c),y&&y.m(o,null),append(o,p),S&&S.m(o,null),append(o,g),P&&P.m(o,null)},p(e,[t]){(a=1&t?rootScope.isTooltip(e[0])&&0<e[0].step_count:a)?h?h.p(e,t):((h=create_if_block_13$2(e)).c(),h.m(o,i)):h&&(h.d(1),h=null),n&&_.p(e,t),l&&f.p(e,t),d&&y.p(e,t),u&&S.p(e,t),m&&P.p(e,t)},i:noop,o:noop,d(e){e&&detach(r),h&&h.d(),_&&_.d(),f&&f.d(),y&&y.d(),S&&S.d(),P&&P.d()}}}function instance$c(e,t,r){let o=get_store_value(Gm.currentTour),a=Gm.currentTour.subscribe(e=>{r(0,o=e)}),i=(onDestroy(()=>{a()}),(e,t,r)=>{if(e.stopPropagation(),"doitforme"===t&&GmCXt.disableDoItForMe)return modal.open(rootScope.labels.doitForMeWarning,"warning"),!1;rootScope.guideAction(t,r,o,get_store_value(Gm.CurrentPage),"")});let n=()=>{var e=get_store_value(Gm.currentTour);if(e.steps.filter(function(e){return"inline"===e.step_type}).length)new TestMeWidget({target:document.body,props:{showTestMe:!0,tour:e}});else{let e=new Modal({target:document.body,props:{popupType:"info",msg:rootScope.labels.noInappStepInGuide,onConfirm:()=>e.$destroy()}})}};function s(){(e=JSON.parse(JSON.stringify(o))).is_published=!0;var e={action:"mgPlayerJSProd_action:preview_smarttip",data:[e]};GmCXt.sendToParentWindow(e)}return[o,i,e=>{e=e.tour_settings.defaultPlayAction;return e="Default"===e?GmCXt.getAppSetting("defaultPlayAction"):e},n,()=>{var e,t,r,o=get_store_value(Gm.currentTour);return!!o&&(e=rootScope.existsOrUndefined(GmCXt.getAppSetting("guideMeSetting")),t=!0,void 0!==(r=GmCXt.createDeepCopy(o.tour_settings)).defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(t=r.defaultPlayAction===rootScope.playGuideMe||r.defaultPlayAction===rootScope.playSlideshow&&rootScope.enableGuidemeMode),r=GmCXt.isGuide(o)&&!rootScope.isDesktopGuide(o)&&!rootScope.isMobileGuide(o),!!((r=window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer?GmCXt.isGuide(o)&&rootScope.isDesktopGuide(o)&&!rootScope.isMobileGuide(o):r)&&e&&t))},()=>{var e,t,r,o=get_store_value(Gm.currentTour);return!rootScope.isOnlySurveyGuide(o)&&(e=rootScope.existsOrUndefined(GmCXt.getAppSetting("showMeSetting")),t=!0,void 0!==(r=GmCXt.createDeepCopy(o.tour_settings)).defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(t=r.defaultPlayAction===rootScope.playGuideMe||r.defaultPlayAction===rootScope.playSlideshow),r=GmCXt.isGuide(o)||rootScope.isCADGuide(o)||rootScope.isDesktopGuide(o)||rootScope.isMobileGuide(o)||GmCXt.isOnboarding(o),GmCXt.FT.showMe)&&e&&t&&r},()=>{var e,t,r=get_store_value(Gm.currentTour);return!rootScope.isOnlySurveyGuide(r)&&(e=!0,void 0!==(t=GmCXt.createDeepCopy(r.tour_settings)).defaultPlayAction&&"Default"!==t.defaultPlayAction||(t.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(e=t.defaultPlayAction===rootScope.playAuto),rootScope._doitforme)&&!rootScope.isCADGuide(r)&&GmCXt.isGuide(r)&&!rootScope.isDesktopGuide(r)&&!rootScope.isMobileGuide(r)&&e},()=>{var e,t,r,o=get_store_value(Gm.currentTour);return!rootScope.isOnlySurveyGuide(o)&&(e=rootScope.existsOrUndefined(GmCXt.getAppSetting("testMeSetting")),t=!0,void 0!==(r=GmCXt.createDeepCopy(o.tour_settings)).defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(t=r.defaultPlayAction===rootScope.playGuideMe),r=GmCXt.isGuide(o)&&!rootScope.isDesktopGuide(o)&&!rootScope.isMobileGuide(o)&&!GmCXt.containBranchStep(o),GmCXt.FT.testme)&&e&&t&&r},()=>{var e,t,r,o=get_store_value(Gm.currentTour);return!rootScope.isOnlySurveyGuide(o)&&(e=rootScope.existsOrUndefined(GmCXt.getAppSetting("vLab")),t=!0,void 0!==(r=GmCXt.createDeepCopy(o.tour_settings)).defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(t=r.defaultPlayAction===rootScope.playGuideMe||r.defaultPlayAction===rootScope.playVLab),GmCXt.isGuide(o))&&!rootScope.isDesktopGuide(o)&&!rootScope.isMobileGuide(o)&&!GmCXt.containBranchStep(o)&&e&&t&&rootScope.enableMyteacher},s,()=>s(),e=>i(e,"",""),()=>{r(0,o.tour_settings.defaultPlayAction="guideMe",o),rootScope.updateTourData(o)},e=>i(e,"slideshow"),()=>{r(0,o.tour_settings.defaultPlayAction="slideshow",o),rootScope.updateTourData(o)},e=>i(e,"doitforme"),()=>{r(0,o.tour_settings.defaultPlayAction="doitforme",o),rootScope.updateTourData(o)},e=>n(),e=>i(e,"vLab"),()=>{r(0,o.tour_settings.defaultPlayAction="vLab",o),rootScope.updateTourData(o)}]}class StepModes extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$c,safe_not_equal,{})}}var CopyGuideIcon='<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 450 514" width="14" height="16">\r\n    <g transform="translate(1, 1)">\r\n        <path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z" vector-effect="non-scaling-stroke"/>\r\n    </g>\r\n</svg>',HistoryIcon='<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1">\r\n    <g class="3.-Style" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r\n        <g class="UI-Icons" transform="translate(-571.000000, -535.000000)" fill="#4D4D4D">\r\n            <g class="Group" transform="translate(571.000000, 535.000000)">\r\n                <path d="M7.66676667,0 C4.76476667,0 2.06576667,1.60966667 0.666766667,4.13233333 L0.666766667,0.666666667 C0.666766667,0.482333333 0.517766667,0.333333333 0.333433333,0.333333333 C0.1491,0.333333333 0.0001,0.482333333 0.0001,0.666666667 L0.0001,5 C0.0001,5.18433333 0.1491,5.33333333 0.333433333,5.33333333 L4.66676667,5.33333333 C4.8511,5.33333333 5.0001,5.18433333 5.0001,5 C5.0001,4.81566667 4.8511,4.66666667 4.66676667,4.66666667 L1.1381,4.66666667 C2.3841,2.23266667 4.92643333,0.666666667 7.66676667,0.666666667 C11.7104333,0.666666667 15.0001,3.95633333 15.0001,8 C15.0001,12.0436667 11.7104333,15.3333333 7.66676667,15.3333333 C4.57776667,15.3333333 1.6281,13.009 0.652433333,9.80666667 C0.598766667,9.63066667 0.4131,9.53133333 0.236433333,9.58466667 C0.0604333333,9.63833333 -0.0389,9.82466667 0.0144333333,10.0006667 C1.07376667,13.477 4.29176667,16 7.66676667,16 C12.0777667,16 15.6667667,12.411 15.6667667,8 C15.6667667,3.589 12.0777667,0 7.66676667,0" class="Fill-6"></path>\r\n                <path d="M7.64922281,2.33333333 C7.47459123,2.33333333 7.33343333,2.47449123 7.33343333,2.64912281 L7.33343333,8.01754386 C7.33343333,8.19217544 7.47459123,8.33333333 7.64922281,8.33333333 L11.4386965,8.33333333 C11.6133281,8.33333333 11.754486,8.19217544 11.754486,8.01754386 C11.754486,7.84291228 11.6133281,7.70175439 11.4386965,7.70175439 L7.96501228,7.70175439 L7.96501228,2.64912281 C7.96501228,2.47449123 7.82385439,2.33333333 7.64922281,2.33333333" class="Fill-8"></path>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>',PdfIcon='<svg class="Layer_1" data-name="Layer 1" viewBox="0 0 200 200"><defs><style>.cls-1,.cls-3,.cls-4{fill:#005BF0;}.cls-1{opacity:0.3;}.cls-2{fill:#218e79;}.cls-4{font-size:31.1px;font-family:NotoSerif-Bold, Noto Serif;font-weight:700;}</style></defs><path class="cls-1" d="M44.73,184.74H155.27a7.37,7.37,0,0,0,7.37-7.37V52.1L125.79,15.26H44.73a7.37,7.37,0,0,0-7.37,7.37V177.37A7.37,7.37,0,0,0,44.73,184.74Z"/><path class="cls-2" d="M125.79,15.26V44.73a7.37,7.37,0,0,0,7.37,7.37h29.48Z"/><path class="cls-3" d="M163.51,52.05a.85.85,0,0,0,0-.23l0-.09a.87.87,0,0,0-.18-.26L126.42,14.63a.83.83,0,0,0-.26-.17l-.08,0a1,1,0,0,0-.23,0H44.73a8.26,8.26,0,0,0-8.25,8.26V177.37a8.26,8.26,0,0,0,8.25,8.26H155.27a8.26,8.26,0,0,0,8.25-8.26V52.1A.09.09,0,0,0,163.51,52.05ZM126.68,17.4l33.81,33.81H133.16a6.48,6.48,0,0,1-6.48-6.48Zm-82-1.25H124.9V44.73A8.27,8.27,0,0,0,133.16,53h28.59V161.73a.87.87,0,0,0-.39-.1H38.25v-139A6.48,6.48,0,0,1,44.73,16.15Zm110.54,167.7H44.73a6.48,6.48,0,0,1-6.48-6.48v-14H161.36a.87.87,0,0,0,.39-.1v14.07A6.48,6.48,0,0,1,155.27,183.85Z"/><text class="cls-4" transform="translate(69.78 109.96)">PDF</text></svg>\r\n',GuidePlayIcon='<svg width="9" height="13" viewBox="0 0 9 13" fill="none">\r\n    <path opacity="0.3" d="M0 0L9 6.5L0 13V0Z" fill="black"/>\r\n</svg>',DragStep='<svg width="20" height="20" viewBox="0 0 20 20" fill="none">\r\n<path d="M18.9534 9.77099L18.825 9.57658L16.425 7.17658C16.191 6.94257 15.8094 6.94257 15.5766 7.17658C15.3426 7.4106 15.3426 7.791 15.5766 8.02497L16.9518 9.40018H10.6002V3.04861L11.9754 4.42382C12.2082 4.65783 12.5898 4.65783 12.8238 4.42382C13.0566 4.1898 13.0566 3.8094 12.8238 3.57543L10.4238 1.17539L10.4178 1.1718L10.2294 1.04701L10.0002 1.00019H9.99778L9.77098 1.04701L9.58257 1.1718L9.57536 1.17539L7.17536 3.57539C6.94134 3.8094 6.94134 4.1898 7.17536 4.42378C7.40938 4.65776 7.78977 4.6578 8.02375 4.42378L9.40017 3.04857V9.40018H3.04859L4.42381 8.02497C4.65782 7.79096 4.65782 7.41056 4.42381 7.17658C4.18979 6.9426 3.80939 6.94257 3.57541 7.17658L1.17537 9.57658L1.17179 9.58259L1.047 9.77099L1.00018 10.0002V10.0026L1.047 10.2294L1.17179 10.4166L1.17537 10.4238L3.57538 12.8238C3.80939 13.0579 4.18979 13.0579 4.42377 12.8238C4.65778 12.591 4.65778 12.2094 4.42377 11.9755L3.04859 10.6002H9.40021V16.9518L8.025 15.5766C7.79098 15.3438 7.41058 15.3438 7.17661 15.5766C6.94259 15.8106 6.94259 16.1922 7.17661 16.425L9.57661 18.825L9.77102 18.9546L9.99782 19.0002H10.0002L10.2294 18.9534L10.4238 18.825L12.8238 16.425C13.0566 16.1909 13.0566 15.8094 12.8238 15.5766C12.5898 15.3426 12.2082 15.3426 11.9754 15.5766L10.6002 16.9518V10.6002H16.9518L15.5766 11.9754C15.3438 12.2082 15.3438 12.5898 15.5766 12.8238C15.8106 13.0566 16.1922 13.0566 16.425 12.8238L18.825 10.4238L18.9546 10.2294L19.0002 10.0026V10.0002L18.9534 9.77099Z" fill="#6F708B"/>\r\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19.2357 9.65408L19.3002 9.96985V10.0325L19.2371 10.3466L19.0582 10.6149L16.6372 13.0359C16.2869 13.3862 15.7158 13.3854 15.3651 13.0365L15.364 13.0354C15.015 12.6847 15.0143 12.1135 15.3645 11.7633L16.2276 10.9002H10.9002V16.2275L11.7628 15.365C11.7628 15.3649 11.7627 15.3651 11.7628 15.365C12.1132 15.013 12.6852 15.0136 13.036 15.3644C13.3862 15.7147 13.3855 16.2858 13.0365 16.6365L10.6145 19.0586L10.3463 19.2357L10.0306 19.3002H9.96797L9.65388 19.237L9.3855 19.0581L6.96504 16.6377C6.96494 16.6376 6.96514 16.6378 6.96504 16.6377C6.61313 16.2873 6.61372 15.7152 6.96449 15.3645C7.31551 15.0152 7.88556 15.0147 8.23659 15.3639L9.10022 16.2276V10.9002H3.77284L4.6359 11.7633C4.6359 11.7633 4.63589 11.7633 4.6359 11.7633C4.98668 12.1141 4.98756 12.6858 4.63565 13.0362C4.28447 13.3872 3.71433 13.387 3.36326 13.036L0.928601 10.6013L0.911644 10.5672L0.76501 10.3473L0.700195 10.0333V9.96989L0.764737 9.65389L0.917835 9.42274L0.93694 9.39077L3.36328 6.96447C3.36328 6.96446 3.36327 6.96447 3.36328 6.96447C3.71445 6.61326 4.2848 6.61336 4.63593 6.96443C4.98714 7.31558 4.98711 7.88594 4.63595 8.23711L3.77287 9.10019H9.10018V3.77239L8.23591 4.6359C8.23588 4.63593 8.23595 4.63586 8.23591 4.6359C7.88473 4.98701 7.31436 4.98697 6.96326 4.63593C6.61205 4.28478 6.61208 3.71442 6.96324 3.36326L9.3979 0.928601L9.43239 0.911446L9.65362 0.764917L9.96716 0.700195H10.0305L10.3465 0.76474L10.5776 0.917835L10.6096 0.93694L13.0359 3.3633C13.3852 3.71432 13.3857 4.28436 13.0365 4.6354C12.6857 4.9862 12.1134 4.9876 11.763 4.63571C11.7629 4.6356 11.7631 4.63581 11.763 4.63571L10.9002 3.77287V9.10019H16.2276L15.3645 8.23712C15.3645 8.23712 15.3645 8.23713 15.3645 8.23712C15.0134 7.88606 15.0133 7.3159 15.3642 6.96472C15.7146 6.61279 16.2864 6.61367 16.6371 6.96445L19.0586 9.38592L19.2357 9.65408ZM15.5766 7.17658C15.3426 7.4106 15.3426 7.791 15.5766 8.02497L16.9518 9.40018H10.6002V3.04861L11.9754 4.42382C12.2082 4.65783 12.5898 4.65783 12.8238 4.42382C13.0566 4.1898 13.0566 3.8094 12.8238 3.57543L10.4238 1.17539L10.4178 1.1718L10.2294 1.04701L10.0002 1.00019H9.99778L9.77098 1.04701L9.58257 1.1718L9.57536 1.17539L7.17536 3.57539C6.94134 3.8094 6.94134 4.1898 7.17536 4.42378C7.40938 4.65776 7.78977 4.6578 8.02375 4.42378L9.40017 3.04857V9.40018H3.04859L4.42381 8.02497C4.65782 7.79096 4.65782 7.41056 4.42381 7.17658C4.18979 6.9426 3.80939 6.94257 3.57541 7.17658L1.17537 9.57658L1.17179 9.58259L1.047 9.77099L1.00018 10.0002V10.0026L1.047 10.2294L1.17179 10.4166L1.17537 10.4238L3.57538 12.8238C3.80939 13.0579 4.18979 13.0579 4.42377 12.8238C4.65778 12.591 4.65778 12.2094 4.42377 11.9755L3.04859 10.6002H9.40021V16.9518L8.025 15.5766C7.79098 15.3438 7.41058 15.3438 7.17661 15.5766C6.94259 15.8106 6.94259 16.1922 7.17661 16.425L9.57661 18.825L9.77102 18.9546L9.99782 19.0002H10.0002L10.2294 18.9534L10.4238 18.825L12.8238 16.425C13.0566 16.1909 13.0566 15.8094 12.8238 15.5766C12.5898 15.3426 12.2082 15.3426 11.9754 15.5766L10.6002 16.9518V10.6002H16.9518L15.5766 11.9754C15.3438 12.2082 15.3438 12.5898 15.5766 12.8238C15.8106 13.0566 16.1922 13.0566 16.425 12.8238L18.825 10.4238L18.9546 10.2294L19.0002 10.0026V10.0002L18.9534 9.77099L18.825 9.57658L16.425 7.17658C16.191 6.94257 15.8094 6.94257 15.5766 7.17658Z" fill="#6F708B"/>\r\n</svg>',StartPoint='<svg version="1.2" overflow="visible" preserveAspectRatio="none" viewBox="0 0 16.00001480672206 30.000002376293313" width="16.00001480672206" height="20.000002376293313" style="padding-right:5px;"><g transform="translate(0, 0)"><g transform="translate(0.000007403361028701504, 0.000002376293311883793) rotate(0)"><path d="M8,18.21576c-0.67536,0 -1.33571,-0.08038 -1.99605,-0.25723v10.96433c0.01501,0.59484 0.45024,1.06106 1.00553,1.07714h1.99605c0.55529,-0.01608 0.99052,-0.4823 1.00553,-1.07714v-10.96433c-0.66035,0.17684 -1.33571,0.25723 -2.01106,0.25723zM8,0.00083c-2.13113,-0.03215 -4.1722,0.86814 -5.65799,2.50797c-1.53081,1.5916 -2.37125,3.77803 -2.34124,6.06093c-0.03002,2.28289 0.81043,4.46933 2.34124,6.06093c1.48578,1.63983 3.52686,2.54012 5.65799,2.50797c2.13113,0.03215 4.1722,-0.86814 5.65799,-2.50797c1.53081,-1.5916 2.37125,-3.77803 2.34124,-6.06093c0.03002,-2.28289 -0.81043,-4.46933 -2.34124,-6.06093c-1.48578,-1.63983 -3.52686,-2.54012 -5.65799,-2.50797zM8,3.74671c-2.49132,0 -4.50238,2.15428 -4.50238,4.82302c0,0.30546 -0.22512,0.54661 -0.51027,0.54661c-0.28515,0 -0.49526,-0.24115 -0.49526,-0.54661c0,-3.2475 2.4613,-5.88408 5.4929,-5.88408h0.01501c0.27014,0 0.49526,0.24115 0.49526,0.53053c0,0.28938 -0.22512,0.53053 -0.49526,0.53053z" style="stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter; fill: rgb(122, 98, 171);" vector-effect="non-scaling-stroke"/></g><defs><path class="path-1636604223336103" d="M8,18.21576c-0.67536,0 -1.33571,-0.08038 -1.99605,-0.25723v10.96433c0.01501,0.59484 0.45024,1.06106 1.00553,1.07714h1.99605c0.55529,-0.01608 0.99052,-0.4823 1.00553,-1.07714v-10.96433c-0.66035,0.17684 -1.33571,0.25723 -2.01106,0.25723zM8,0.00083c-2.13113,-0.03215 -4.1722,0.86814 -5.65799,2.50797c-1.53081,1.5916 -2.37125,3.77803 -2.34124,6.06093c-0.03002,2.28289 0.81043,4.46933 2.34124,6.06093c1.48578,1.63983 3.52686,2.54012 5.65799,2.50797c2.13113,0.03215 4.1722,-0.86814 5.65799,-2.50797c1.53081,-1.5916 2.37125,-3.77803 2.34124,-6.06093c0.03002,-2.28289 -0.81043,-4.46933 -2.34124,-6.06093c-1.48578,-1.63983 -3.52686,-2.54012 -5.65799,-2.50797zM8,3.74671c-2.49132,0 -4.50238,2.15428 -4.50238,4.82302c0,0.30546 -0.22512,0.54661 -0.51027,0.54661c-0.28515,0 -0.49526,-0.24115 -0.49526,-0.54661c0,-3.2475 2.4613,-5.88408 5.4929,-5.88408h0.01501c0.27014,0 0.49526,0.24115 0.49526,0.53053c0,0.28938 -0.22512,0.53053 -0.49526,0.53053z" vector-effect="non-scaling-stroke"/></defs></g></svg>';function add_css$1(e){append_styles(e,"svelte-hv9a3t",".mgPlayerJSProd_tg-img.svelte-hv9a3t{width:100%;height:100%}")}function create_else_block_1$1(e){let r,o,a,i,n,s,l,c=[create_if_block_10$3,create_else_block_2$1],d=[];function p(e,t){return(a=null==(a=20&t[0]?null:a)?!!e[2].isTrackingGuide(e[4]):a)?0:1}return i=p(e,[-1,-1]),n=d[i]=c[i](e),{c(){r=element("div"),o=element("div"),n.c(),attr(o,"id",s="step-"+e[0].step_id),attr(o,"class","step-title-description-wrapper"),attr(r,"class","step-item")},m(e,t){insert(e,r,t),append(r,o),d[i].m(o,null),l=!0},p(e,t){let r=i;(i=p(e,t))===r?d[i].p(e,t):(group_outros(),transition_out(d[r],1,1,()=>{d[r]=null}),check_outros(),(n=d[i])?n.p(e,t):(n=d[i]=c[i](e)).c(),transition_in(n,1),n.m(o,null)),(!l||1&t[0]&&s!==(s="step-"+e[0].step_id))&&attr(o,"id",s)},i(e){l||(transition_in(n),l=!0)},o(e){transition_out(n),l=!1},d(e){e&&detach(r),d[i].d()}}}function create_if_block$9(r){let o,a,i=r[1]+1+"",n,s,l,c,d=r[2].FT.creatorApp&&r[2].hasTourAccess(r[4])&&!r[2].hideMirrorAppCtrl()&&!(r[4].is_published&&"video"==r[0].step_type),p,u=0<r[0].step_video||-1==r[0].screen_url.indexOf("default_icon"),g,m=r[2].isUploadTutorial(r[4]),h,_,f=getTutorialDesc(r[0])+"",y,S,P,v,b=r[2].labels.showMe+"",C,w,k,x,T=!(r[2].isUploadTutorial(r[4])&&!r[2].hideMirrorAppCtrl()),A,$,L,J=d&&create_if_block_6$6(r),G=u&&create_if_block_4$6(r),E=m&&create_if_block_3$6(),M=T&&create_if_block_1$8(r);return{c(){o=element("div"),a=element("div"),n=text(i),s=space(),l=element("dnd-nodrag"),c=element("div"),J&&J.c(),p=space(),G&&G.c(),g=space(),E&&E.c(),h=space(),_=element("div"),S=space(),P=element("div"),v=element("div"),C=text(b),w=space(),k=element("div"),x=space(),M&&M.c(),attr(a,"class","mgPlayerJSProd_font-size-15 mgPlayerJSProd_font-weight-550"),attr(c,"class","mgPlayerJSProd_tg-btn-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),set_custom_element_data(l,"class","mgPlayerJSProd_dnd-nodrag-inline-block mgPlayerJSProd_step-action-menu-wrapper"),attr(o,"class","mgPlayerJSProd_tg-view-header mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_padding-20"),attr(_,"class",y="mgPlayerJSProd_tg-content-wrapper "+(0==r[0].step_video&&0<=r[0].screen_url.indexOf("default_icon")?"mgPlayerJSProd_min-tg-content-wrapper":"")),attr(k,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_margin-lr-10"),attr(v,"class","mgPlayerJSProd_play-step-icon-wrapper mgPlayerJSProd_position-center mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_font-size-16"),attr(P,"class","mgPlayerJSProd_step-overlay")},m(e,t){insert(e,o,t),append(o,a),append(a,n),append(o,s),append(o,l),append(l,c),J&&J.m(c,null),insert(e,p,t),G&&G.m(e,t),insert(e,g,t),E&&E.m(e,t),insert(e,h,t),insert(e,_,t),_.innerHTML=f,insert(e,S,t),insert(e,P,t),append(P,v),append(v,C),append(v,w),append(v,k),k.innerHTML=GuidePlayIcon,append(P,x),M&&M.m(P,null),A=!0,$||(L=listen(v,"click",r[22]),$=!0)},p(e,t){(!A||2&t[0])&&i!==(i=e[1]+1+"")&&set_data(n,i),(d=21&t[0]?e[2].FT.creatorApp&&e[2].hasTourAccess(e[4])&&!e[2].hideMirrorAppCtrl()&&!(e[4].is_published&&"video"==e[0].step_type):d)?J?J.p(e,t):((J=create_if_block_6$6(e)).c(),J.m(c,null)):J&&(J.d(1),J=null),(u=1&t[0]?0<e[0].step_video||-1==e[0].screen_url.indexOf("default_icon"):u)?G?G.p(e,t):((G=create_if_block_4$6(e)).c(),G.m(g.parentNode,g)):G&&(G.d(1),G=null),(m=20&t[0]?e[2].isUploadTutorial(e[4]):m)?E||((E=create_if_block_3$6()).c(),E.m(h.parentNode,h)):E&&(E.d(1),E=null),(!A||1&t[0])&&f!==(f=getTutorialDesc(e[0])+"")&&(_.innerHTML=f),(!A||1&t[0]&&y!==(y="mgPlayerJSProd_tg-content-wrapper "+(0==e[0].step_video&&0<=e[0].screen_url.indexOf("default_icon")?"mgPlayerJSProd_min-tg-content-wrapper":"")))&&attr(_,"class",y),(!A||4&t[0])&&b!==(b=e[2].labels.showMe+"")&&set_data(C,b),(T=20&t[0]?!(e[2].isUploadTutorial(e[4])&&!e[2].hideMirrorAppCtrl()):T)?M?(M.p(e,t),20&t[0]&&transition_in(M,1)):((M=create_if_block_1$8(e)).c(),transition_in(M,1),M.m(P,null)):M&&(group_outros(),transition_out(M,1,1,()=>{M=null}),check_outros())},i(e){A||(transition_in(M),A=!0)},o(e){transition_out(M),A=!1},d(e){e&&(detach(o),detach(p),detach(g),detach(h),detach(_),detach(S),detach(P)),J&&J.d(),G&&G.d(e),E&&E.d(e),M&&M.d(),$=!1,L()}}}function create_else_block_2$1(e){let r,o,a,i,n=e[1]+1+"",s,D,F,l,c=e[0].step_title+"",d,p=1<e[4].filteredSteps.length&&!e[4].is_published&&e[2].hasTourAccess(e[4])&&!e[0].step_screen_temp&&!e[2].isDesktopApp()&&!e[2].hideMirrorAppCtrl(),u,g,m=e[2].FT.creatorApp&&e[2].hasTourAccess(e[4])&&!(e[4].is_published&&"video"===e[0].step_type),h,_,f,y=htmlToPlaintext$2(e[0].step_description)+"",S,P,v,b,C,O=e[7](),H,w=e[8]()&&"survey"!==e[0].step_type,R,N=e[10]()&&("inline"==e[0].step_type||"message"==e[0].step_type),B,V=e[13](),U,z=e[14](e[0])&&!e[4].is_published,j,k,x,T=e[0].step_settings.startPoint&&create_if_block_38(),A=p&&create_if_block_37(),$=m&&create_if_block_28(e),L=O&&create_if_block_27(e),J=w&&create_if_block_26(e),G=N&&create_if_block_25(e),E=V&&create_if_block_24(e),M=z&&create_if_block_23(e);function W(e,t){return(k=null==(k=16&t[0]?null:k)?!!GmCXt.isOnboarding(e[4]):k)?create_if_block_19:create_else_block_3}let I=W(e,[-1,-1]),X=I(e);return{c(){r=element("div"),T&&T.c(),o=space(),a=element("dnd-nodrag"),i=element("span"),s=text(n),D=text("."),F=text("\r\n\t\t\t\t\t\tÂ \r\n\t\t\t\t\t\t"),l=element("span"),d=space(),A&&A.c(),u=space(),g=element("dnd-nodrag"),$&&$.c(),h=space(),_=element("dnd-nodrag"),f=element("div"),S=space(),P=element("dnd-nodrag"),v=element("div"),b=element("div"),C=element("div"),L&&L.c(),H=space(),J&&J.c(),R=space(),G&&G.c(),B=space(),E&&E.c(),U=space(),M&&M.c(),j=space(),X.c(),attr(i,"class","ng-binding"),attr(l,"class","ng-binding"),set_custom_element_data(a,"class","mgPlayerJSProd_dnd-nodrag-inline-block"),attr(r,"class","ege-inline-block-vt step-title-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),set_custom_element_data(g,"class","mgPlayerJSProd_dnd-nodrag-inline-block mgPlayerJSProd_step-action-menu-wrapper"),attr(f,"class","step-description-wrapper ng-binding"),set_custom_element_data(_,"class","mgPlayerJSProd_dnd-nodrag-block"),attr(C,"class","mgPlayerJSProd_position-center mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_font-size-16"),attr(b,"class","step-image-overlay"),attr(v,"class","step-image-wrapper"),set_custom_element_data(P,"class","mgPlayerJSProd_dnd-nodrag-block"),set_custom_element_data(P,"draggable","true")},m(e,t){insert(e,r,t),T&&T.m(r,null),append(r,o),append(r,a),append(a,i),append(i,s),append(i,D),append(a,F),append(a,l),l.innerHTML=c,insert(e,d,t),A&&A.m(e,t),insert(e,u,t),insert(e,g,t),$&&$.m(g,null),insert(e,h,t),insert(e,_,t),append(_,f),f.innerHTML=y,insert(e,S,t),insert(e,P,t),append(P,v),append(v,b),append(b,C),L&&L.m(C,null),append(C,H),J&&J.m(C,null),append(C,R),G&&G.m(C,null),append(C,B),E&&E.m(C,null),append(b,U),M&&M.m(b,null),append(v,j),X.m(v,null),x=!0},p(e,t){e[0].step_settings.startPoint?T||((T=create_if_block_38()).c(),T.m(r,o)):T&&(T.d(1),T=null),(!x||2&t[0])&&n!==(n=e[1]+1+"")&&set_data(s,n),(!x||1&t[0])&&c!==(c=e[0].step_title+"")&&(l.innerHTML=c),(p=21&t[0]?1<e[4].filteredSteps.length&&!e[4].is_published&&e[2].hasTourAccess(e[4])&&!e[0].step_screen_temp&&!e[2].isDesktopApp()&&!e[2].hideMirrorAppCtrl():p)?A||((A=create_if_block_37()).c(),A.m(u.parentNode,u)):A&&(A.d(1),A=null),(m=21&t[0]?e[2].FT.creatorApp&&e[2].hasTourAccess(e[4])&&!(e[4].is_published&&"video"===e[0].step_type):m)?$?$.p(e,t):(($=create_if_block_28(e)).c(),$.m(g,null)):$&&($.d(1),$=null),(!x||1&t[0])&&y!==(y=htmlToPlaintext$2(e[0].step_description)+"")&&(f.innerHTML=y),O&&L.p(e,t),(w=1&t[0]?e[8]()&&"survey"!==e[0].step_type:w)?J?J.p(e,t):((J=create_if_block_26(e)).c(),J.m(C,R)):J&&(J.d(1),J=null),(N=1&t[0]?e[10]()&&("inline"==e[0].step_type||"message"==e[0].step_type):N)?G?G.p(e,t):((G=create_if_block_25(e)).c(),G.m(C,B)):G&&(G.d(1),G=null),V&&E.p(e,t),(z=17&t[0]?e[14](e[0])&&!e[4].is_published:z)?M?(M.p(e,t),17&t[0]&&transition_in(M,1)):((M=create_if_block_23(e)).c(),transition_in(M,1),M.m(b,null)):M&&(group_outros(),transition_out(M,1,1,()=>{M=null}),check_outros()),I===(I=W(e,t))&&X?X.p(e,t):(X.d(1),(X=I(e))&&(X.c(),X.m(v,null)))},i(e){x||(transition_in(M),x=!0)},o(e){transition_out(M),x=!1},d(e){e&&(detach(r),detach(d),detach(u),detach(g),detach(h),detach(_),detach(S),detach(P)),T&&T.d(),A&&A.d(e),$&&$.d(),L&&L.d(),J&&J.d(),G&&G.d(),E&&E.d(),M&&M.d(),X.d()}}}function create_if_block_10$3(r){let o,a,i,n,s=r[2].svgs.iconAddStepInline+"",l,c,d=r[2].svgs.endTracking+"",p,u,g=r[2].svgs.terminate+"",m,h,_=r[2].svgs.captureEvents+"",f,y,S,P,v,b=r[2].FT.creatorApp&&r[2].hasTourAccess(r[4])&&!(r[4].is_published&&"video"==r[0].step_type),C,w,k=r[9](),x,T,A,$="smartTip"!==!r[0].step_type&&create_if_block_18(r),L=b&&create_if_block_15$1(r),J=k&&create_if_block_11$3(r);return{c(){o=element("div"),a=element("dnd-nodrag"),i=element("div"),n=element("div"),l=space(),c=element("div"),p=space(),u=element("div"),m=space(),h=element("div"),f=space(),y=element("dnd-nodrag"),S=text("Â \r\n\t\t\t\t\t\t"),$&&$.c(),P=space(),v=element("dnd-nodrag"),L&&L.c(),C=space(),w=element("dnd-nodrag"),J&&J.c(),set_style(n,"display",r[0].step_settings&&"start"===r[0].step_settings.trackerType?"":"none"),attr(n,"class","mgPlayerJSProd_inline-block-vm"),set_style(c,"display",r[0].step_settings&&"cancel"===r[0].step_settings.trackerType?"":"none"),attr(c,"class","mgPlayerJSProd_inline-block-vm"),set_style(u,"display",r[0].step_settings&&"end"===r[0].step_settings.trackerType?"":"none"),attr(u,"class","mgPlayerJSProd_inline-block-vm"),set_style(h,"display","tag"===r[0].step_type?"":"none"),attr(h,"class","mgPlayerJSProd_inline-block-vm"),attr(i,"class","mgPlayerJSProd_icon-step-insights mgPlayerJSProd_inline-block-vm"),set_custom_element_data(a,"class","mgPlayerJSProd_dnd-nodrag-inline-block"),set_custom_element_data(y,"class","mgPlayerJSProd_dnd-nodrag-inline-block"),attr(o,"class","ege-inline-block-vt step-title-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),set_custom_element_data(v,"class","mgPlayerJSProd_dnd-nodrag-inline-block mgPlayerJSProd_step-action-menu-wrapper"),set_custom_element_data(w,"class","mgPlayerJSProd_dnd-nodrag-block")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),n.innerHTML=s,append(i,l),append(i,c),c.innerHTML=d,append(i,p),append(i,u),u.innerHTML=g,append(i,m),append(i,h),h.innerHTML=_,append(o,f),append(o,y),append(y,S),$&&$.m(y,null),insert(e,P,t),insert(e,v,t),L&&L.m(v,null),insert(e,C,t),insert(e,w,t),J&&J.m(w,null),x=!0,T||(A=listen(o,"click",r[23]),T=!0)},p(e,t){(!x||4&t[0])&&s!==(s=e[2].svgs.iconAddStepInline+"")&&(n.innerHTML=s),(!x||1&t[0])&&set_style(n,"display",e[0].step_settings&&"start"===e[0].step_settings.trackerType?"":"none"),(!x||4&t[0])&&d!==(d=e[2].svgs.endTracking+"")&&(c.innerHTML=d),(!x||1&t[0])&&set_style(c,"display",e[0].step_settings&&"cancel"===e[0].step_settings.trackerType?"":"none"),(!x||4&t[0])&&g!==(g=e[2].svgs.terminate+"")&&(u.innerHTML=g),(!x||1&t[0])&&set_style(u,"display",e[0].step_settings&&"end"===e[0].step_settings.trackerType?"":"none"),(!x||4&t[0])&&_!==(_=e[2].svgs.captureEvents+"")&&(h.innerHTML=_),(!x||1&t[0])&&set_style(h,"display","tag"===e[0].step_type?"":"none"),"smartTip"!==!e[0].step_type?$?$.p(e,t):(($=create_if_block_18(e)).c(),$.m(y,null)):$&&($.d(1),$=null),(b=21&t[0]?e[2].FT.creatorApp&&e[2].hasTourAccess(e[4])&&!(e[4].is_published&&"video"==e[0].step_type):b)?L?L.p(e,t):((L=create_if_block_15$1(e)).c(),L.m(v,null)):L&&(L.d(1),L=null),k&&J.p(e,t)},i(e){x||(transition_in(J),x=!0)},o(e){transition_out(J),x=!1},d(e){e&&(detach(o),detach(P),detach(v),detach(C),detach(w)),$&&$.d(),L&&L.d(),J&&J.d(),T=!1,A()}}}function create_if_block_38(e){let r;return{c(){r=element("div")},m(e,t){insert(e,r,t),r.innerHTML=StartPoint},d(e){e&&detach(r)}}}function create_if_block_37(e){let r;return{c(){attr(r=element("div"),"class","mgPlayerJSProd_drag-step-icon-wrapper")},m(e,t){insert(e,r,t),r.innerHTML=DragStep},d(e){e&&detach(r)}}}function create_if_block_28(r){let o,a,i,n,s,l="image"!==r[0].step_type&&"video"!==r[0].step_type&&"guide"!==r[0].step_type&&!r[2].isDesktopGuide(r[4])&&!r[2].isMobileGuide(r[4])&&!r[2].isElectron,c,d=!r[2].isOnboarding(r[4]),p,u=!r[2].isOnboarding(r[4])&&r[2].isOwnerOrAppAdmin()&&"inline"===r[0].step_type,g,m,h,_,f,y,S=r[2].labels.history+"",P,v,b,C,w,k,x=0===r[2].pendingStepCount&&r[2].showAddAutomationOption(r[4])&&"guide"!==r[0].step_type,T,A,$,L=!("video"===r[0].step_type&&r[4].is_published)&&create_if_block_36(r),J=!r[4].is_published&&"guide"!==r[0].step_type&&create_if_block_35(r),G=!r[4].is_published&&"inline"===r[0].step_type&&"guide"!==r[0].step_type&&create_if_block_34(r),E=l&&create_if_block_33(r),M=d&&create_if_block_32(r),I=u&&create_if_block_31(r),X=!r[4].is_published&&create_if_block_30(r),D=x&&create_if_block_29(r);return{c(){o=element("div"),L&&L.c(),a=space(),i=element("div"),J&&J.c(),n=space(),G&&G.c(),s=space(),E&&E.c(),c=space(),M&&M.c(),p=space(),I&&I.c(),g=space(),X&&X.c(),m=space(),h=element("div"),_=element("div"),f=space(),y=element("div"),P=text(S),C=space(),w=element("div"),k=space(),D&&D.c(),attr(_,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(y,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(h,"id",v="mgPlayerJSProd_option-step-history-"+r[0].step_id),attr(h,"class",b="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),attr(w,"class","horizontal-line"),attr(i,"id",T="step-menu-options-"+r[0].step_id),attr(i,"class","step-action-menu-options-dropdown"),attr(o,"class","step-action-menu-container")},m(e,t){insert(e,o,t),L&&L.m(o,null),append(o,a),append(o,i),J&&J.m(i,null),append(i,n),G&&G.m(i,null),append(i,s),E&&E.m(i,null),append(i,c),M&&M.m(i,null),append(i,p),I&&I.m(i,null),append(i,g),X&&X.m(i,null),append(i,m),append(i,h),append(h,_),_.innerHTML=HistoryIcon,append(h,f),append(h,y),append(y,P),append(i,C),append(i,w),append(i,k),D&&D.m(i,null),A||($=listen(h,"click",r[35]),A=!0)},p(e,t){"video"===e[0].step_type&&e[4].is_published?L&&(L.d(1),L=null):L?L.p(e,t):((L=create_if_block_36(e)).c(),L.m(o,a)),e[4].is_published||"guide"===e[0].step_type?J&&(J.d(1),J=null):J?J.p(e,t):((J=create_if_block_35(e)).c(),J.m(i,n)),e[4].is_published||"inline"!==e[0].step_type||"guide"===e[0].step_type?G&&(G.d(1),G=null):G?G.p(e,t):((G=create_if_block_34(e)).c(),G.m(i,s)),(l=21&t[0]?"image"!==e[0].step_type&&"video"!==e[0].step_type&&"guide"!==e[0].step_type&&!e[2].isDesktopGuide(e[4])&&!e[2].isMobileGuide(e[4])&&!e[2].isElectron:l)?E?E.p(e,t):((E=create_if_block_33(e)).c(),E.m(i,c)):E&&(E.d(1),E=null),(d=20&t[0]?!e[2].isOnboarding(e[4]):d)?M?M.p(e,t):((M=create_if_block_32(e)).c(),M.m(i,p)):M&&(M.d(1),M=null),(u=21&t[0]?!e[2].isOnboarding(e[4])&&e[2].isOwnerOrAppAdmin()&&"inline"===e[0].step_type:u)?I?I.p(e,t):((I=create_if_block_31(e)).c(),I.m(i,g)):I&&(I.d(1),I=null),e[4].is_published?X&&(X.d(1),X=null):X?X.p(e,t):((X=create_if_block_30(e)).c(),X.m(i,m)),4&t[0]&&S!==(S=e[2].labels.history+"")&&set_data(P,S),1&t[0]&&v!==(v="mgPlayerJSProd_option-step-history-"+e[0].step_id)&&attr(h,"id",v),1&t[0]&&b!==(b="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(h,"class",b),(x=21&t[0]?0===e[2].pendingStepCount&&e[2].showAddAutomationOption(e[4])&&"guide"!==e[0].step_type:x)?D?D.p(e,t):((D=create_if_block_29(e)).c(),D.m(i,null)):D&&(D.d(1),D=null),1&t[0]&&T!==(T="step-menu-options-"+e[0].step_id)&&attr(i,"id",T)},d(e){e&&detach(o),L&&L.d(),J&&J.d(),G&&G.d(),E&&E.d(),M&&M.d(),I&&I.d(),X&&X.d(),D&&D.d(),A=!1,$()}}}function create_if_block_36(r){let o,a,i,n,s,l,c,d,p,u,g;return{c(){o=element("div"),a=svg_element("svg"),i=svg_element("defs"),n=svg_element("g"),s=svg_element("g"),l=svg_element("g"),attr(c=svg_element("path"),"d","M3.5,9 C2.125,9 1,10.125 1,11.5 C1,12.875 2.125,14 3.5,14 C4.875,14 6,12.875 6,11.5 C6,10.125 4.875,9 3.5,9 L3.5,9 Z M18.5,9 C17.125,9 16,10.125 16,11.5 C16,12.875 17.125,14 18.5,14 C19.875,14 21,12.875 21,11.5 C21,10.125 19.875,9 18.5,9 L18.5,9 Z M11,9 C9.625,9 8.5,10.125 8.5,11.5 C8.5,12.875 9.625,14 11,14 C12.375,14 13.5,12.875 13.5,11.5 C13.5,10.125 12.375,9 11,9 L11,9 Z"),attr(c,"id","Shape"),attr(l,"id","more-actions"),attr(s,"id","step-action-icons"),attr(s,"fill","#757575"),attr(n,"id","Page-1"),attr(n,"stroke","none"),attr(n,"stroke-width","1"),attr(n,"fill","none"),attr(n,"fill-rule","evenodd"),attr(a,"width","18px"),attr(a,"height","18px"),attr(a,"viewBox","0 0 22 22"),attr(a,"version","1.2"),attr(a,"xmlns","http://www.w3.org/2000/svg"),attr(a,"xmlns:xlink","http://www.w3.org/1999/xlink"),attr(o,"class",d="step-pencil-icon "+(0<r[2].pendingStepCount?"mgPlayerJSProd_disable-edit":"")),attr(o,"id",p="step-pencil-icon-"+r[0].step_id)},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(a,n),append(n,s),append(s,l),append(l,c),u||(g=listen(o,"click",r[28]),u=!0)},p(e,t){4&t[0]&&d!==(d="step-pencil-icon "+(0<e[2].pendingStepCount?"mgPlayerJSProd_disable-edit":""))&&attr(o,"class",d),1&t[0]&&p!==(p="step-pencil-icon-"+e[0].step_id)&&attr(o,"id",p)},d(e){e&&detach(o),u=!1,g()}}}function create_if_block_35(r){let o,a,i=r[2].svgs.iconEdit+"",n,s,l=r[2].labels.btnEdit+"",c,d,p,u,g,m,h;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),c=text(l),u=space(),g=element("div"),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(s,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"id",d="mgPlayerJSProd_option-step-edit-"+r[0].step_id),attr(o,"class",p="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),attr(g,"class","horizontal-line")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,c),insert(e,u,t),insert(e,g,t),m||(h=listen(o,"click",r[29]),m=!0)},p(e,t){4&t[0]&&i!==(i=e[2].svgs.iconEdit+"")&&(a.innerHTML=i),4&t[0]&&l!==(l=e[2].labels.btnEdit+"")&&set_data(c,l),1&t[0]&&d!==(d="mgPlayerJSProd_option-step-edit-"+e[0].step_id)&&attr(o,"id",d),1&t[0]&&p!==(p="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(o,"class",p)},d(e){e&&(detach(o),detach(u),detach(g)),m=!1,h()}}}function create_if_block_34(r){let o,a,i=r[2].svgs.iconEdit+"",n,s,l=r[2].labels.editOnImg+"",c,d,p,u,g,m,h;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),c=text(l),u=space(),g=element("div"),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(s,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"id",d="mgPlayerJSProd_option-step-edit-img-"+r[0].step_id),attr(o,"class",p="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),attr(g,"class","horizontal-line")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,c),insert(e,u,t),insert(e,g,t),m||(h=listen(o,"click",r[30]),m=!0)},p(e,t){4&t[0]&&i!==(i=e[2].svgs.iconEdit+"")&&(a.innerHTML=i),4&t[0]&&l!==(l=e[2].labels.editOnImg+"")&&set_data(c,l),1&t[0]&&d!==(d="mgPlayerJSProd_option-step-edit-img-"+e[0].step_id)&&attr(o,"id",d),1&t[0]&&p!==(p="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(o,"class",p)},d(e){e&&(detach(o),detach(u),detach(g)),m=!1,h()}}}function create_if_block_33(r){let o,a,i=r[2].svgs.iconGoToStepUrl+"",n,s,l=r[2].labels.btnGoToStepUrl+"",c,d,p,u,g,m;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),c=text(l),p=space(),u=element("div"),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(s,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"id",d="mgPlayerJSProd_option-step-goto-step-url-"+r[0].step_id),attr(o,"class","step-action-menu-options-dropdown-item"),attr(u,"class","horizontal-line")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,c),insert(e,p,t),insert(e,u,t),g||(m=listen(o,"click",r[31]),g=!0)},p(e,t){4&t[0]&&i!==(i=e[2].svgs.iconGoToStepUrl+"")&&(a.innerHTML=i),4&t[0]&&l!==(l=e[2].labels.btnGoToStepUrl+"")&&set_data(c,l),1&t[0]&&d!==(d="mgPlayerJSProd_option-step-goto-step-url-"+e[0].step_id)&&attr(o,"id",d)},d(e){e&&(detach(o),detach(p),detach(u)),g=!1,m()}}}function create_if_block_32(r){let o,a,i,n,s=r[2].labels.btnCopyStep+"",l,c,d,p,u,g,m;return{c(){o=element("div"),a=element("div"),i=space(),n=element("div"),l=text(s),p=space(),u=element("div"),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(n,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"id",c="mgPlayerJSProd_option-step-copy-"+r[0].step_id),attr(o,"class",d="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),attr(u,"class","horizontal-line")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=CopyGuideIcon,append(o,i),append(o,n),append(n,l),insert(e,p,t),insert(e,u,t),g||(m=listen(o,"click",r[32]),g=!0)},p(e,t){4&t[0]&&s!==(s=e[2].labels.btnCopyStep+"")&&set_data(l,s),1&t[0]&&c!==(c="mgPlayerJSProd_option-step-copy-"+e[0].step_id)&&attr(o,"id",c),1&t[0]&&d!==(d="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(o,"class",d)},d(e){e&&(detach(o),detach(p),detach(u)),g=!1,m()}}}function create_if_block_31(r){let o,a,i,n,s=r[2].labels.findAndReplace+"",l,c,d,p,u,g,m;return{c(){o=element("div"),a=element("div"),i=space(),n=element("div"),l=text(s),p=space(),u=element("div"),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(n,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"id",c="mgPlayerJSProd_option-step-find-replace-"+r[0].step_id),attr(o,"class",d="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),attr(u,"class","horizontal-line")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=CopyGuideIcon,append(o,i),append(o,n),append(n,l),insert(e,p,t),insert(e,u,t),g||(m=listen(o,"click",r[33]),g=!0)},p(e,t){4&t[0]&&s!==(s=e[2].labels.findAndReplace+"")&&set_data(l,s),1&t[0]&&c!==(c="mgPlayerJSProd_option-step-find-replace-"+e[0].step_id)&&attr(o,"id",c),1&t[0]&&d!==(d="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(o,"class",d)},d(e){e&&(detach(o),detach(p),detach(u)),g=!1,m()}}}function create_if_block_30(r){let o,a,i=r[2].svgs.iconDelete+"",n,s,l=r[2].labels.btnDelete+"",c,d,p,u,g,m,h;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),c=text(l),u=space(),g=element("div"),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(s,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"id",d="mgPlayerJSProd_option-step-delete-"+r[0].step_id),attr(o,"class",p="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),attr(g,"class","horizontal-line")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,c),insert(e,u,t),insert(e,g,t),m||(h=listen(o,"click",r[34]),m=!0)},p(e,t){4&t[0]&&i!==(i=e[2].svgs.iconDelete+"")&&(a.innerHTML=i),4&t[0]&&l!==(l=e[2].labels.btnDelete+"")&&set_data(c,l),1&t[0]&&d!==(d="mgPlayerJSProd_option-step-delete-"+e[0].step_id)&&attr(o,"id",d),1&t[0]&&p!==(p="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(o,"class",p)},d(e){e&&(detach(o),detach(u),detach(g)),m=!1,h()}}}function create_if_block_29(r){let o,a,i=r[2].svgs.start_guide_automation_icon+"",n,s,l=r[2].labels.btnConfigAutomation+"",c,d,p;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),c=text(l),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(s,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"class","step-action-menu-options-dropdown-item")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,c),d||(p=listen(o,"click",r[36]),d=!0)},p(e,t){4&t[0]&&i!==(i=e[2].svgs.start_guide_automation_icon+"")&&(a.innerHTML=i),4&t[0]&&l!==(l=e[2].labels.btnConfigAutomation+"")&&set_data(c,l)},d(e){e&&detach(o),d=!1,p()}}}function create_if_block_27(r){let o,a,i=svgConst.my_guide+"",n,s;return{c(){o=element("div"),attr(a=element("div"),"id","mgPlayerJSProd_playback-mode-guideme"),attr(a,"class","mgPlayerJSProd_playback-mode-icon mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(o,"class","mgPlayerJSProd_guide-view-playback-modes-container mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column published-tour")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,n||(s=listen(a,"click",r[37]),n=!0)},p:noop,d(e){e&&detach(o),n=!1,s()}}}function create_if_block_26(r){let o,a,i=svgConst.my_show+"",n,s;return{c(){o=element("div"),attr(a=element("div"),"id","mgPlayerJSProd_playback-mode-showme"),attr(a,"class","mgPlayerJSProd_playback-mode-icon mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(o,"class","mgPlayerJSProd_guide-view-playback-modes-container mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,n||(s=listen(a,"click",r[38]),n=!0)},p:noop,d(e){e&&detach(o),n=!1,s()}}}function create_if_block_25(r){let o,a,i=svgConst.my_bot+"",n,s;return{c(){o=element("div"),attr(a=element("div"),"id","mgPlayerJSProd_playback-mode-doitforme"),attr(a,"class","mgPlayerJSProd_playback-mode-icon mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(o,"class","mgPlayerJSProd_guide-view-playback-modes-container mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column published-tour")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,n||(s=listen(a,"click",r[39]),n=!0)},p:noop,d(e){e&&detach(o),n=!1,s()}}}function create_if_block_24(r){let o,a,i=svgConst.vlab+"",n,s;return{c(){o=element("div"),attr(a=element("div"),"id","mgPlayerJSProd_playback-mode-vlab"),attr(a,"class","mgPlayerJSProd_playback-mode-icon mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center"),attr(o,"class","mgPlayerJSProd_guide-view-playback-modes-container mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_flex-direction-column published-tour")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,n||(s=listen(a,"click",r[40]),n=!0)},p:noop,d(e){e&&detach(o),n=!1,s()}}}function create_if_block_23(e){let o,r;return o=new Empty({props:{step:e[0]}}),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.step=e[0]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_else_block_3(e){let r,o;return{c(){attr(r=element("img"),"class","step-image mgPlayerJSProd_custom-image"),src_url_equal(r.src,o=e[0].step_screen_temp||e[3])||attr(r,"src",o),attr(r,"alt","loading")},m(e,t){insert(e,r,t)},p(e,t){9&t[0]&&!src_url_equal(r.src,o=e[0].step_screen_temp||e[3])&&attr(r,"src",o)},d(e){e&&detach(r)}}}function create_if_block_19(e){let r;function o(e){return"upload"===e[4].tour_settings.tutorial_tour_type?create_if_block_20:0==e[0].step_video?create_if_block_21:0!=e[0].step_video?create_if_block_22:void 0}let a=o(e),i=a&&a(e);return{c(){i&&i.c(),r=empty()},m(e,t){i&&i.m(e,t),insert(e,r,t)},p(e,t){a===(a=o(e))&&i?i.p(e,t):(i&&i.d(1),(i=a&&a(e))&&(i.c(),i.m(r.parentNode,r)))},d(e){e&&detach(r),i&&i.d(e)}}}function create_if_block_22(e){let r,o,a;return{c(){r=element("video"),src_url_equal((o=element("source")).src,a=e[0].step_screen_temp||e[3])||attr(o,"src",a),attr(o,"type","video/mp4"),attr(r,"class","mgPlayerJSProd_tg-img svelte-hv9a3t"),r.controls=!0,attr(r,"controlslist","nodownload"),attr(r,"disablepictureinpicture",""),r.muted=!0},m(e,t){insert(e,r,t),append(r,o)},p(e,t){9&t[0]&&!src_url_equal(o.src,a=e[0].step_screen_temp||e[3])&&attr(o,"src",a)},d(e){e&&detach(r)}}}function create_if_block_21(e){let r,o;return{c(){attr(r=element("img"),"class","step-image mgPlayerJSProd_custom-image"),set_style(r,"object-fit","contain"),set_style(r,"height","250px"),src_url_equal(r.src,o=e[0].step_screen_temp||e[3])||attr(r,"src",o),attr(r,"alt","loading")},m(e,t){insert(e,r,t)},p(e,t){9&t[0]&&!src_url_equal(r.src,o=e[0].step_screen_temp||e[3])&&attr(r,"src",o)},d(e){e&&detach(r)}}}function create_if_block_20(e){let r,o=svgConst.pdf+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_document-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_margin-lr-10")},m(e,t){insert(e,r,t),r.innerHTML=o},p:noop,d(e){e&&detach(r)}}}function create_if_block_18(e){let r,o=e[0].step_title+"";return{c(){r=element("span")},m(e,t){insert(e,r,t),r.innerHTML=o},p(e,t){1&t[0]&&o!==(o=e[0].step_title+"")&&(r.innerHTML=o)},d(e){e&&detach(r)}}}function create_if_block_15$1(r){let o,a,i,n,s,l,c,d,p,u,g,m,h,_,f,y="tag"!==r[0].step_type&&!r[4].is_published&&create_if_block_17$1(r),S="inline"!==r[0].step_type&&!r[4].is_published&&create_if_block_16$1(r);return{c(){o=element("div"),a=element("div"),i=svg_element("svg"),n=svg_element("defs"),s=svg_element("g"),l=svg_element("g"),c=svg_element("g"),d=svg_element("path"),u=space(),g=element("div"),y&&y.c(),m=space(),S&&S.c(),attr(d,"d","M3.5,9 C2.125,9 1,10.125 1,11.5 C1,12.875 2.125,14 3.5,14 C4.875,14 6,12.875 6,11.5 C6,10.125 4.875,9 3.5,9 L3.5,9 Z M18.5,9 C17.125,9 16,10.125 16,11.5 C16,12.875 17.125,14 18.5,14 C19.875,14 21,12.875 21,11.5 C21,10.125 19.875,9 18.5,9 L18.5,9 Z M11,9 C9.625,9 8.5,10.125 8.5,11.5 C8.5,12.875 9.625,14 11,14 C12.375,14 13.5,12.875 13.5,11.5 C13.5,10.125 12.375,9 11,9 L11,9 Z"),attr(d,"class","shape"),attr(c,"id","more-actions"),attr(l,"id","step-action-icons"),attr(l,"fill","#757575"),attr(s,"id","Page-1"),attr(s,"stroke","none"),attr(s,"stroke-width","1"),attr(s,"fill","none"),attr(s,"fill-rule","evenodd"),attr(i,"width","18px"),attr(i,"height","18px"),attr(i,"viewBox","0 0 22 22"),attr(i,"version","1.1"),attr(a,"class","step-pencil-icon"),attr(a,"id",p="step-pencil-icon-"+r[0].step_id),attr(g,"id",h="step-menu-options-"+r[0].step_id),attr(g,"class","step-action-menu-options-dropdown"),attr(o,"class","step-action-menu-container")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(i,s),append(s,l),append(l,c),append(c,d),append(o,u),append(o,g),y&&y.m(g,null),append(g,m),S&&S.m(g,null),_||(f=listen(a,"click",r[24]),_=!0)},p(e,t){1&t[0]&&p!==(p="step-pencil-icon-"+e[0].step_id)&&attr(a,"id",p),"tag"===e[0].step_type||e[4].is_published?y&&(y.d(1),y=null):y?y.p(e,t):((y=create_if_block_17$1(e)).c(),y.m(g,m)),"inline"===e[0].step_type||e[4].is_published?S&&(S.d(1),S=null):S?S.p(e,t):((S=create_if_block_16$1(e)).c(),S.m(g,null)),1&t[0]&&h!==(h="step-menu-options-"+e[0].step_id)&&attr(g,"id",h)},d(e){e&&detach(o),y&&y.d(),S&&S.d(),_=!1,f()}}}function create_if_block_17$1(r){let o,a,i=r[2].svgs.iconEdit+"",n,s,l=r[2].labels.btnEdit+"",c,d,p,u,g,m,h,_,f=r[2].svgs.iconDelete+"",y,S,P=r[2].labels.btnDelete+"",v,b,C,w,k;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),c=text(l),u=space(),g=element("div"),m=space(),h=element("div"),_=element("div"),y=space(),S=element("div"),v=text(P),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(s,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"id",d="mgPlayerJSProd_option-step-edit-"+r[0].step_id),attr(o,"class",p="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),attr(g,"class","horizontal-line"),attr(_,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(S,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(h,"id",b="mgPlayerJSProd_option-step-delete-"+r[0].step_id),attr(h,"class",C="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":""))},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,c),insert(e,u,t),insert(e,g,t),insert(e,m,t),insert(e,h,t),append(h,_),_.innerHTML=f,append(h,y),append(h,S),append(S,v),w||(k=[listen(o,"click",r[25]),listen(h,"click",r[26])],w=!0)},p(e,t){4&t[0]&&i!==(i=e[2].svgs.iconEdit+"")&&(a.innerHTML=i),4&t[0]&&l!==(l=e[2].labels.btnEdit+"")&&set_data(c,l),1&t[0]&&d!==(d="mgPlayerJSProd_option-step-edit-"+e[0].step_id)&&attr(o,"id",d),1&t[0]&&p!==(p="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(o,"class",p),4&t[0]&&f!==(f=e[2].svgs.iconDelete+"")&&(_.innerHTML=f),4&t[0]&&P!==(P=e[2].labels.btnDelete+"")&&set_data(v,P),1&t[0]&&b!==(b="mgPlayerJSProd_option-step-delete-"+e[0].step_id)&&attr(h,"id",b),1&t[0]&&C!==(C="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(h,"class",C)},d(e){e&&(detach(o),detach(u),detach(g),detach(m),detach(h)),w=!1,run_all(k)}}}function create_if_block_16$1(r){let o,a,i=r[2].svgs.iconEdit+"",n,s,l=r[2].labels.btnEdit+"",c,d,p,u,g;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),c=text(l),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(s,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"id",d="mgPlayerJSProd_option-step-edit-"+r[0].step_id),attr(o,"class",p="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":""))},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,c),u||(g=listen(o,"click",r[27]),u=!0)},p(e,t){4&t[0]&&i!==(i=e[2].svgs.iconEdit+"")&&(a.innerHTML=i),4&t[0]&&l!==(l=e[2].labels.btnEdit+"")&&set_data(c,l),1&t[0]&&d!==(d="mgPlayerJSProd_option-step-edit-"+e[0].step_id)&&attr(o,"id",d),1&t[0]&&p!==(p="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(o,"class",p)},d(e){e&&detach(o),u=!1,g()}}}function create_if_block_11$3(e){let r,o,a=e[14](e[0])&&!e[4].is_published,i,n,s=a&&create_if_block_14$1(e);function l(e){return e[0].step_screen_temp?create_if_block_12$2:e[0].image_url?create_if_block_13$1:void 0}let c=l(e),d=c&&c(e);return{c(){r=element("div"),o=element("div"),s&&s.c(),i=space(),d&&d.c(),attr(o,"class","step-image-overlay"),attr(r,"class","step-image-wrapper")},m(e,t){insert(e,r,t),append(r,o),s&&s.m(o,null),append(r,i),d&&d.m(r,null),n=!0},p(e,t){(a=17&t[0]?e[14](e[0])&&!e[4].is_published:a)?s?(s.p(e,t),17&t[0]&&transition_in(s,1)):((s=create_if_block_14$1(e)).c(),transition_in(s,1),s.m(o,null)):s&&(group_outros(),transition_out(s,1,1,()=>{s=null}),check_outros()),c===(c=l(e))&&d?d.p(e,t):(d&&d.d(1),(d=c&&c(e))&&(d.c(),d.m(r,null)))},i(e){n||(transition_in(s),n=!0)},o(e){transition_out(s),n=!1},d(e){e&&detach(r),s&&s.d(),d&&d.d()}}}function create_if_block_14$1(e){let o,r;return o=new Empty({props:{step:e[0]}}),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.step=e[0]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_if_block_13$1(e){let r,o,a;return{c(){attr(r=element("img"),"class","step-image mgPlayerJSProd_custom-image"),src_url_equal(r.src,o=e[0].image_url+e[2].getCdnSign())||attr(r,"src",o),attr(r,"err-src",a=e[2].staticContentPath+"technology.jpg")},m(e,t){insert(e,r,t)},p(e,t){5&t[0]&&!src_url_equal(r.src,o=e[0].image_url+e[2].getCdnSign())&&attr(r,"src",o),4&t[0]&&a!==(a=e[2].staticContentPath+"technology.jpg")&&attr(r,"err-src",a)},d(e){e&&detach(r)}}}function create_if_block_12$2(e){let r,o;return{c(){attr(r=element("img"),"class","step-image"),src_url_equal(r.src,o=e[0].step_screen_temp)||attr(r,"src",o)},m(e,t){insert(e,r,t)},p(e,t){1&t[0]&&!src_url_equal(r.src,o=e[0].step_screen_temp)&&attr(r,"src",o)},d(e){e&&detach(r)}}}function create_if_block_6$6(r){let o,a,i,n,s,l,c,d,p,u,g,m,h,_,f,y,S=!r[4].is_published&&create_if_block_9$3(r),P=!r[0].step_screen_temp&&create_if_block_8$4(r),v=r[2].FT.creatorApp&&create_if_block_7$5(r);return{c(){o=element("div"),a=element("div"),i=svg_element("svg"),n=svg_element("defs"),s=svg_element("g"),l=svg_element("g"),c=svg_element("g"),d=svg_element("path"),u=space(),g=element("div"),S&&S.c(),m=space(),P&&P.c(),h=space(),v&&v.c(),attr(d,"d","M3.5,9 C2.125,9 1,10.125 1,11.5 C1,12.875 2.125,14 3.5,14 C4.875,14 6,12.875 6,11.5 C6,10.125 4.875,9 3.5,9 L3.5,9 Z M18.5,9 C17.125,9 16,10.125 16,11.5 C16,12.875 17.125,14 18.5,14 C19.875,14 21,12.875 21,11.5 C21,10.125 19.875,9 18.5,9 L18.5,9 Z M11,9 C9.625,9 8.5,10.125 8.5,11.5 C8.5,12.875 9.625,14 11,14 C12.375,14 13.5,12.875 13.5,11.5 C13.5,10.125 12.375,9 11,9 L11,9 Z"),attr(d,"class","shape"),attr(c,"id","more-actions"),attr(l,"id","step-action-icons"),attr(l,"fill","#757575"),attr(s,"id","Page-1"),attr(s,"stroke","none"),attr(s,"stroke-width","1"),attr(s,"fill","none"),attr(s,"fill-rule","evenodd"),attr(i,"width","18px"),attr(i,"height","18px"),attr(i,"viewBox","0 0 22 22"),attr(i,"version","1.1"),attr(a,"class","step-pencil-icon"),attr(a,"id",p="step-pencil-icon-"+r[0].step_id),attr(g,"id",_="step-menu-options-"+r[0].step_id),attr(g,"class","step-action-menu-options-dropdown"),attr(o,"class","step-action-menu-container")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(i,s),append(s,l),append(l,c),append(c,d),append(o,u),append(o,g),S&&S.m(g,null),append(g,m),P&&P.m(g,null),append(g,h),v&&v.m(g,null),f||(y=listen(a,"click",r[17]),f=!0)},p(e,t){1&t[0]&&p!==(p="step-pencil-icon-"+e[0].step_id)&&attr(a,"id",p),e[4].is_published?S&&(S.d(1),S=null):S?S.p(e,t):((S=create_if_block_9$3(e)).c(),S.m(g,m)),e[0].step_screen_temp?P&&(P.d(1),P=null):P?P.p(e,t):((P=create_if_block_8$4(e)).c(),P.m(g,h)),e[2].FT.creatorApp?v?v.p(e,t):((v=create_if_block_7$5(e)).c(),v.m(g,null)):v&&(v.d(1),v=null),1&t[0]&&_!==(_="step-menu-options-"+e[0].step_id)&&attr(g,"id",_)},d(e){e&&detach(o),S&&S.d(),P&&P.d(),v&&v.d(),f=!1,y()}}}function create_if_block_9$3(r){let o,a,i=r[2].svgs.iconEdit+"",n,s,l=r[2].labels.btnEdit+"",c,d,p,u,g,m,h,_=r[2].svgs.iconDelete+"",f,y,S=r[2].labels.btnDelete+"",P,v,b,C,w,k;return{c(){o=element("div"),a=element("div"),n=space(),s=element("div"),c=text(l),p=space(),u=element("div"),g=space(),m=element("div"),h=element("div"),f=space(),y=element("div"),P=text(S),b=space(),C=element("div"),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(s,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"class",d="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),attr(u,"class","horizontal-line"),attr(h,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(y,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(m,"class",v="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":"")),attr(C,"class","horizontal-line")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=i,append(o,n),append(o,s),append(s,c),insert(e,p,t),insert(e,u,t),insert(e,g,t),insert(e,m,t),append(m,h),h.innerHTML=_,append(m,f),append(m,y),append(y,P),insert(e,b,t),insert(e,C,t),w||(k=[listen(o,"click",r[18]),listen(m,"click",r[19])],w=!0)},p(e,t){4&t[0]&&i!==(i=e[2].svgs.iconEdit+"")&&(a.innerHTML=i),4&t[0]&&l!==(l=e[2].labels.btnEdit+"")&&set_data(c,l),1&t[0]&&d!==(d="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(o,"class",d),4&t[0]&&_!==(_=e[2].svgs.iconDelete+"")&&(h.innerHTML=_),4&t[0]&&S!==(S=e[2].labels.btnDelete+"")&&set_data(P,S),1&t[0]&&v!==(v="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(m,"class",v)},d(e){e&&(detach(o),detach(p),detach(u),detach(g),detach(m),detach(b),detach(C)),w=!1,run_all(k)}}}function create_if_block_8$4(r){let o,a,i,n,s=r[2].labels.btnCopyStep+"",l,c,d,p,u;return{c(){o=element("div"),a=element("div"),i=space(),n=element("div"),l=text(s),c=space(),d=element("div"),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(n,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"class","step-action-menu-options-dropdown-item"),attr(d,"class","horizontal-line")},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=CopyGuideIcon,append(o,i),append(o,n),append(n,l),insert(e,c,t),insert(e,d,t),p||(u=listen(o,"click",r[20]),p=!0)},p(e,t){4&t[0]&&s!==(s=e[2].labels.btnCopyStep+"")&&set_data(l,s)},d(e){e&&(detach(o),detach(c),detach(d)),p=!1,u()}}}function create_if_block_7$5(r){let o,a,i,n,s=r[2].labels.history+"",l,c,d,p;return{c(){o=element("div"),a=element("div"),i=space(),n=element("div"),l=text(s),attr(a,"class","step-action-menu-options-dropdown-item-icon ege-inline-block-div"),attr(n,"class","step-action-menu-options-dropdown-item-label ege-inline-block-div"),attr(o,"class",c="step-action-menu-options-dropdown-item "+(r[0].step_screen_temp?"mgPlayerJSProd_disabled":""))},m(e,t){insert(e,o,t),append(o,a),a.innerHTML=HistoryIcon,append(o,i),append(o,n),append(n,l),d||(p=listen(o,"click",r[21]),d=!0)},p(e,t){4&t[0]&&s!==(s=e[2].labels.history+"")&&set_data(l,s),1&t[0]&&c!==(c="step-action-menu-options-dropdown-item "+(e[0].step_screen_temp?"mgPlayerJSProd_disabled":""))&&attr(o,"class",c)},d(e){e&&detach(o),d=!1,p()}}}function create_if_block_4$6(e){let r,o;function a(e){return 0==e[0].step_video?create_if_block_5$6:create_else_block$5}let i=a(e),n=i(e);return{c(){r=element("div"),o=element("div"),n.c(),attr(o,"class","mgPlayerJSProd_tg-img-thumb mgPlayerJSProd_position-center"),attr(r,"class","mgPlayerJSProd_tg-step-img-thumb-wrapper")},m(e,t){insert(e,r,t),append(r,o),n.m(o,null)},p(e,t){i===(i=a(e))&&n?n.p(e,t):(n.d(1),(n=i(e))&&(n.c(),n.m(o,null)))},d(e){e&&detach(r),n.d()}}}function create_else_block$5(e){let r,o,a;return{c(){r=element("video"),src_url_equal((o=element("source")).src,a=e[0].step_video_url+e[2].getCdnSign())||attr(o,"src",a),attr(o,"type","video/mp4"),attr(r,"class","mgPlayerJSProd_tg-img svelte-hv9a3t"),r.controls=!0,attr(r,"controlslist","nodownload"),attr(r,"disablepictureinpicture",""),r.muted=!0},m(e,t){insert(e,r,t),append(r,o)},p(e,t){5&t[0]&&!src_url_equal(o.src,a=e[0].step_video_url+e[2].getCdnSign())&&attr(o,"src",a)},d(e){e&&detach(r)}}}function create_if_block_5$6(e){let r,o,a;return{c(){attr(r=element("img"),"class","mgPlayerJSProd_tg-img svelte-hv9a3t"),src_url_equal(r.src,o=e[0].screen_url+e[2].getCdnSign())||attr(r,"src",o),attr(r,"err-src",a=e[2].staticContentPath+"technology.jpg")},m(e,t){insert(e,r,t)},p(e,t){5&t[0]&&!src_url_equal(r.src,o=e[0].screen_url+e[2].getCdnSign())&&attr(r,"src",o),4&t[0]&&a!==(a=e[2].staticContentPath+"technology.jpg")&&attr(r,"err-src",a)},d(e){e&&detach(r)}}}function create_if_block_3$6(e){let r;return{c(){attr(r=element("div"),"class","mgPlayerJSProd_document-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_margin-lr-10")},m(e,t){insert(e,r,t),r.innerHTML=PdfIcon},d(e){e&&detach(r)}}}function create_if_block_1$8(e){let r,o=e[14](e[0])&&!e[4].is_published,a,i=o&&create_if_block_2$7(e);return{c(){r=element("div"),i&&i.c(),attr(r,"class","mgPlayerJSProd_tour-action-wrapper mgPlayerJSProd_position-relative")},m(e,t){insert(e,r,t),i&&i.m(r,null),a=!0},p(e,t){(o=17&t[0]?e[14](e[0])&&!e[4].is_published:o)?i?(i.p(e,t),17&t[0]&&transition_in(i,1)):((i=create_if_block_2$7(e)).c(),transition_in(i,1),i.m(r,null)):i&&(group_outros(),transition_out(i,1,1,()=>{i=null}),check_outros())},i(e){a||(transition_in(i),a=!0)},o(e){transition_out(i),a=!1},d(e){e&&detach(r),i&&i.d()}}}function create_if_block_2$7(e){let o,r;return o=new Empty({props:{step:e[0]}}),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.step=e[0]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_fragment$b(e){let r,o,a,i,n,s=[create_if_block$9,create_else_block_1$1],l=[];function c(e,t){return(r=null==(r=20&t[0]?null:r)?!!e[2].isOnboarding(e[4]):r)?0:1}return o=c(e,[-1,-1]),a=l[o]=s[o](e),{c(){a.c(),i=empty()},m(e,t){l[o].m(e,t),insert(e,i,t),n=!0},p(e,t){let r=o;(o=c(e,t))===r?l[o].p(e,t):(group_outros(),transition_out(l[r],1,1,()=>{l[r]=null}),check_outros(),(a=l[o])?a.p(e,t):(a=l[o]=s[o](e)).c(),transition_in(a,1),a.m(i.parentNode,i))},i(e){n||(transition_in(a),n=!0)},o(e){transition_out(a),n=!1},d(e){e&&detach(i),l[o].d(e)}}}function htmlToPlaintext$2(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent}function getTutorialDesc(e){return GmCXt.isEmpty(e.step_title)?(e.step_description=GmCXt.updateOrgAndAddSignature(e.step_description),e.step_description):e.step_title+e.step_description}function instance$b(r,e,a){let o=e.step,t=e.index,i=!1,n="",s=get_store_value(Gm.currentTour);Gm.currentTour.subscribe(e=>{a(4,s=e)});let l=(e,t,r)=>{if(e.stopPropagation(),"doitforme"===t&&GmCXt.disableDoItForMe)return modal.open(rootScope.labels.doitForMeWarning,"warning"),!1;rootScope.guideAction(t,r,s,get_store_value(Gm.CurrentPage),"")};function c(e,t){rootScope.prevStepData||a(2,rootScope.prevStepData={},rootScope),a(2,rootScope.prevStepData.tour=s,rootScope),Gm.loading.set(!0);e={action:"mgPlayerJSProd_action:edit_elem_tag",data:{elTags:e.steps,prevStepData:rootScope.prevStepData}};GmCXt.sendToParentWindow(e)}function d(t,e){rootScope.hideStepActionDropdown(),modal.open(rootScope.labels.confirmGoToStepUrl,"confirm",function(){var e={action:"mgPlayerJSProd_action:go_to_step_url,task:edit_step",url:t.step_settings.scheme?t.step_settings.scheme+"://"+t.step_url:"//"+t.step_url};GmCXt.sendToParentWindow(e)})}function p(e,t,r,o){r.stopPropagation(),rootScope.hideStepActionDropdown(),a(2,rootScope.copiedStep={step_id:e,step_type:t,t_type:o},rootScope),a(2,rootScope.pasteStep=!0,rootScope),a(2,rootScope.copyStepsList=!1,rootScope)}function u(e,t){t.stopPropagation(),rootScope.hideUserImageDropDown();t=mg$(".step-image-wrapper"),mg$(t).removeClass("active"),mg$(".tour-action-dropdown").slideUp(200),mg$(".detail-view-action-options-dropdown").slideUp(200),mg$(".detail-download-action-options-dropdown").slideUp(200),t=mg$("#step-menu-options-"+e).is(":visible");mg$(".step-action-menu-options-dropdown").slideUp(200),t||mg$("#step-menu-options-"+e).slideDown(200)}onMount(()=>{rootScope.checkCdnSignature().then(()=>{a(16,i=GmCXt.getCdnSign())})});return r.$$set=e=>{"step"in e&&a(0,o=e.step),"index"in e&&a(1,t=e.index)},r.$$.update=()=>{var e,t;65537&r.$$.dirty[0]&&i&&a(3,n=(e=o.screen_url,t=o.step_type,GmCXt.isOnboarding(s)?0!=o.step_video?o.step_video_url+i:e+i:"guide"===t?e.split(".png")[0]+"_thumb.png"+i:"video"===t?e+i:"survey"==t?-1==o.image_url.indexOf("default_icon")?o.image_url+i:rootScope.staticContentPath+"survey_step.png":o.is_screen_url_processed?e.split(".png")[0]+"_cropped.png"+i:o.screen_url+i))},[o,t,rootScope,n,s,l,c,()=>{var e,t,r;return!!s&&(e=rootScope.existsOrUndefined(GmCXt.getAppSetting("guideMeSetting")),t=!0,void 0!==(r=GmCXt.createDeepCopy(s.tour_settings)).defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(t=r.defaultPlayAction===rootScope.playGuideMe||r.defaultPlayAction===rootScope.playSlideshow&&rootScope.enableGuidemeMode),r=GmCXt.isGuide(s)&&!rootScope.isDesktopGuide(s)&&!rootScope.isMobileGuide(s),!!((r=window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer?GmCXt.isGuide(s)&&rootScope.isDesktopGuide(s)&&!rootScope.isMobileGuide(s):r)&&e&&t))},()=>{var e,t,r;return!rootScope.isOnlySurveyGuide(s)&&(e=rootScope.existsOrUndefined(GmCXt.getAppSetting("showMeSetting")),t=!0,void 0!==(r=GmCXt.createDeepCopy(s.tour_settings)).defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(t=r.defaultPlayAction===rootScope.playGuideMe||r.defaultPlayAction===rootScope.playSlideshow),r=GmCXt.isGuide(s)||rootScope.isCADGuide(s)||rootScope.isDesktopGuide(s)||rootScope.isMobileGuide(s)||GmCXt.isOnboarding(s),GmCXt.FT.showMe)&&e&&t&&r},function(){return!rootScope.onPrem||rootScope.FT.showMe},()=>{var e,t;return!rootScope.isOnlySurveyGuide(s)&&(e=!0,void 0!==(t=GmCXt.createDeepCopy(s.tour_settings)).defaultPlayAction&&"Default"!==t.defaultPlayAction||(t.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(e=t.defaultPlayAction===rootScope.playAuto),rootScope._doitforme)&&!rootScope.isCADGuide(s)&&GmCXt.isGuide(s)&&!rootScope.isDesktopGuide(s)&&!rootScope.isMobileGuide(s)&&e},d,p,()=>{var e,t,r;return!rootScope.isOnlySurveyGuide(s)&&(e=rootScope.existsOrUndefined(GmCXt.getAppSetting("vLab")),t=!0,void 0!==(r=GmCXt.createDeepCopy(s.tour_settings)).defaultPlayAction&&"Default"!==r.defaultPlayAction||(r.defaultPlayAction=GmCXt.getAppSetting("defaultPlayAction")),GmCXt.FT.isPlayer&&(t=r.defaultPlayAction===rootScope.playGuideMe||r.defaultPlayAction===rootScope.playVLab),GmCXt.isGuide(s))&&!rootScope.isDesktopGuide(s)&&!rootScope.isMobileGuide(s)&&e&&t&&rootScope.enableMyteacher},function(e){return!e.step_type&&e.type&&(e.step_type=e.type),e.step_type!==GmCXt.STEP_TYPE_BRANCH&&e.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&!(e.step_settings&&e.step_settings.inlineBranch||e.hideStep)},u,i,e=>u(o.step_id,e),()=>{rootScope.editStep(s,o,t),rootScope.hideStepActionDropdown()},()=>{rootScope.deleteStep(o,!1,s),rootScope.hideStepActionDropdown()},e=>p(o.step_id,o.step_type,e,s.tour_settings.tutorial_tour_type),e=>{rootScope.guideHistory(o,e,"step"),rootScope.hideStepActionDropdown()},e=>l(e,rootScope.playSlideshow,o),e=>l(e,"",o),e=>u(o.step_id,e),()=>editStep(o,t),()=>deleteStep(o),()=>c(o),e=>u(o.step_id,e),()=>{rootScope.editStep(s,o,t,!1),rootScope.hideStepActionDropdown()},()=>{rootScope.editStep(s,o,t,!0),rootScope.hideStepActionDropdown()},()=>d(o),e=>p(o.step_id,o.step_type,e),()=>performAction("findNReplace",o),()=>{rootScope.deleteStep(o,!1,s),rootScope.hideStepActionDropdown()},e=>{rootScope.guideHistory(o,e,"step"),rootScope.hideStepActionDropdown()},()=>{rootScope.openAutoConfigurationPopup(s,o),rootScope.hideStepActionDropdown()},e=>l(e,"",o),e=>l(e,"slideshow",o),e=>l(e,"doitforme",o),e=>l(e,"vLab",o)]}class StepView extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$b,safe_not_equal,{step:0,index:1},add_css$1,[-1,-1])}}function add_css(e){append_styles(e,"svelte-1edas9a",".branch.svelte-1edas9a{z-index:99999}")}function get_each_context$4(e,t,r){e=e.slice();return e[33]=t[r],e[35]=r,e}function get_each_context_1$2(e,t,r){e=e.slice();return e[36]=t[r],e[35]=r,e}function create_if_block$8(t){let a,i=ensure_array_like(t[1]),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block$4(get_each_context$4(t,i,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();a=empty()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);insert(t,a,r)},p(t,r){if(127&r[0]){i=ensure_array_like(t[1]);let e;for(e=0;e<i.length;e+=1){var o=get_each_context$4(t,i,e);n[e]?n[e].p(o,r):(n[e]=create_each_block$4(o),n[e].c(),n[e].m(a.parentNode,a))}for(;e<n.length;e+=1)n[e].d(1);n.length=i.length}},d(e){e&&detach(a),destroy_each(n,e)}}}function create_else_block$4(e){let r,o,a,i,n,s=htmlToPlaintext$1(e[33].step_title)+"",l,c,d,p,u=htmlToPlaintext$1(e[33].step_title)+"",g,m,h,_,f,y=e[0]&&create_if_block_2$6(e);return{c(){r=element("div"),o=element("div"),a=element("div"),i=element("div"),n=element("div"),l=text(s),c=space(),d=element("div"),p=element("div"),g=text(u),m=space(),h=element("div"),_=space(),f=element("div"),y&&y.c(),attr(n,"class","mgPlayerJSProd_guide-title mgPlayerJSProd_text-overflow-ellipsis"),attr(p,"class","mgPlayerJSProd_tooltip-title"),attr(d,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y"),attr(i,"class","step-title-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_position-relative"),attr(a,"id","step"),set_style(h,"clear","both"),attr(f,"class","step-image-wrapper"),attr(o,"class","step-item"),attr(r,"class","mgPlayerJSProd_collapse mgPlayerJSProd_player-step step-wrapper branchTreeHead2"),set_style(r,"display","block")},m(e,t){insert(e,r,t),append(r,o),append(o,a),append(a,i),append(i,n),append(n,l),append(i,c),append(i,d),append(d,p),append(p,g),append(o,m),append(o,h),append(o,_),append(o,f),y&&y.m(f,null)},p(e,t){2&t[0]&&s!==(s=htmlToPlaintext$1(e[33].step_title)+"")&&set_data(l,s),2&t[0]&&u!==(u=htmlToPlaintext$1(e[33].step_title)+"")&&set_data(g,u),e[0]?y?y.p(e,t):((y=create_if_block_2$6(e)).c(),y.m(f,null)):y&&(y.d(1),y=null)},d(e){e&&detach(r),y&&y.d()}}}function create_if_block_1$7(o){let r,a,i,n=rootScope.svgs.branch_head_icon+"",s,l,c=htmlToPlaintext$1(o[33].step_title)+"",d,p,u,g,m=(o[2]||o[33].step_settings.branch[0].branchName)+"",h,_,f,y=rootScope.svgs.down_arrow_icon+"",S,P,v,b;function C(...e){return o[8](o[33],...e)}let w=ensure_array_like(o[33].step_settings.branch),k=[];for(let e=0;e<w.length;e+=1)k[e]=create_each_block_1$2(get_each_context_1$2(o,w,e));function x(...e){return o[9](o[35],...e)}return{c(){r=element("div"),a=element("div"),i=element("div"),s=space(),l=element("div"),d=text(c),p=space(),u=element("button"),g=element("div"),h=text(m),_=space(),f=element("div"),S=space(),P=element("div");for(let e=0;e<k.length;e+=1)k[e].c();attr(i,"class","mgPlayerJSProd_head-branch-icon"),attr(l,"class","branch-title"),attr(g,"class","mgPlayerJSProd_branch-dropdown-selected-item mgPlayerJSProd_pointer-events-none"),attr(f,"class","mgPlayerJSProd_filter-dropdown-arrow mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_pointer-events-none"),attr(P,"id","mgPlayerJSProd_branch-dropdown-list-wrapper-"+o[35]),attr(P,"class","mgPlayerJSProd_branch-dropdown-list-wrapper mgPlayerJSProd_branch-dropdown-list-wrapper-"+o[35]+" mgPlayerJSProd_open-down mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y svelte-1edas9a"),attr(u,"id","mgPlayerJSProd_branch-dropdown-wrapper-0"),attr(u,"class","mgPlayerJSProd_branch-dropdown-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_lbl-btn"),attr(a,"class","branch-head"),attr(r,"class","branch-wrapper-player branchTreeHead0")},m(e,t){insert(e,r,t),append(r,a),append(a,i),i.innerHTML=n,append(a,s),append(a,l),append(l,d),append(a,p),append(a,u),append(u,g),append(g,h),append(u,_),append(u,f),f.innerHTML=y,append(u,S),append(u,P);for(let e=0;e<k.length;e+=1)k[e]&&k[e].m(P,null);v||(b=[listen(l,"click",C),listen(u,"click",x)],v=!0)},p(e,t){if(o=e,2&t[0]&&c!==(c=htmlToPlaintext$1(o[33].step_title)+"")&&set_data(d,c),6&t[0]&&m!==(m=(o[2]||o[33].step_settings.branch[0].branchName)+"")&&set_data(h,m),70&t[0]){w=ensure_array_like(o[33].step_settings.branch);let e;for(e=0;e<w.length;e+=1){var r=get_each_context_1$2(o,w,e);k[e]?k[e].p(r,t):(k[e]=create_each_block_1$2(r),k[e].c(),k[e].m(P,null))}for(;e<k.length;e+=1)k[e].d(1);k.length=w.length}},d(e){e&&detach(r),destroy_each(k,e),v=!1,run_all(b)}}}function create_if_block_2$6(e){let r,o;return{c(){attr(r=element("img"),"class","step-image mgPlayerJSProd_custom-image"),src_url_equal(r.src,o=e[3](e[33]))||attr(r,"src",o),attr(r,"alt","loading")},m(e,t){insert(e,r,t)},p(e,t){2&t[0]&&!src_url_equal(r.src,o=e[3](e[33]))&&attr(r,"src",o)},d(e){e&&detach(r)}}}function create_each_block_1$2(r){let o,a=r[36].branchName+"",i,n,s,l;return{c(){o=element("button"),i=text(a),attr(o,"class",n="mgPlayerJSProd_branch-dropdown-list-item mgPlayerJSProd_lbl-btn mgPlayerJSProd_branch-dropdown-list-item "+(r[2]===r[33].step_settings.branch[r[35]].branchName?"mgPlayerJSProd_active-item":"")),o.value=r[35]},m(e,t){insert(e,o,t),append(o,i),s||(l=listen(o,"click",function(){is_function(r[6](r[33],r[35]))&&r[6](r[33],r[35]).apply(this,arguments)}),s=!0)},p(e,t){r=e,2&t[0]&&a!==(a=r[36].branchName+"")&&set_data(i,a),6&t[0]&&n!==(n="mgPlayerJSProd_branch-dropdown-list-item mgPlayerJSProd_lbl-btn mgPlayerJSProd_branch-dropdown-list-item "+(r[2]===r[33].step_settings.branch[r[35]].branchName?"mgPlayerJSProd_active-item":""))&&attr(o,"class",n)},d(e){e&&detach(o),s=!1,l()}}}function create_each_block$4(e){let r,o,a;function i(e,t){return(o=null==(o=2&t[0]?null:o)?!(e[33].step_type!==GmCXt.STEP_TYPE_BRANCH&&e[33].step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER&&!GmCXt.isTrue(e[33].step_settings&&e[33].step_settings.inlineBranch)):o)?create_if_block_1$7:create_else_block$4}let n=i(e,[-1,-1]),s=n(e);return{c(){r=element("div"),s.c(),a=space(),attr(r,"class","svelte-1edas9a"),toggle_class(r,"branch",e[33].step_type===GmCXt.STEP_TYPE_BRANCH||GmCXt.isTrue(e[33].step_settings&&e[33].step_settings.inlineBranch))},m(e,t){insert(e,r,t),s.m(r,null),append(r,a)},p(e,t){n===(n=i(e,t))&&s?s.p(e,t):(s.d(1),(s=n(e))&&(s.c(),s.m(r,a))),2&t[0]&&toggle_class(r,"branch",e[33].step_type===GmCXt.STEP_TYPE_BRANCH||GmCXt.isTrue(e[33].step_settings&&e[33].step_settings.inlineBranch))},d(e){e&&detach(r),s.d()}}}function create_fragment$a(e){let r,o=!rootScope.FT.creatorApp&&create_if_block$8(e);return{c(){r=element("div"),o&&o.c(),attr(r,"class","step-view-type-branching"),set_style(r,"transform","scale(1) translate(0px, 0px)"),toggle_class(r,"no-padding",GmCXt.FT.isPlayer)},m(e,t){insert(e,r,t),o&&o.m(r,null)},p(e,t){rootScope.FT.creatorApp||o.p(e,t)},i:noop,o:noop,d(e){e&&detach(r),o&&o.d()}}}let mergeActive=!1;function htmlToPlaintext$1(e){return e?String(e).replace(/<[^>]+>/gm,""):""}function instance$a(e,t,o){let b=t.currentTour,r=!1,a=!1,i=!1,n=[],s=!1,d,C=!1,l=!1,c=!1,p=[],u,g=Gm.selectedBranch.subscribe(e=>{o(2,s=e)});function m(e){let t=document.querySelector(".step-view-type-branching"),r=(-1!==mg$$1.inArray(e.head[0],p)&&rootScope.FT.creatorApp&&(t=document.querySelector(".branchTreeHead"+e.head[0]),p.push(e.id)),GmCXt.conf.staticContentPath+"technology.jpg"),o=rootScope.staticContentPath+"technology.jpg";if(e.step.step_screen)switch(e.step.step_type){case"inline":case"image":r=e.step.is_screen_url_processed?rootScope.getImageURL(e.step.screen_url,"_cropped.png"):e.step.screen_url+rootScope.getCdnSign();break;case"message":r=e.step.is_screen_url_processed?(e=>{let t=rootScope.staticContentPath+"technology.jpg";var r;return e.screen_url&&(r=e.step_settings.domElems,t=r&&0<r.length&&e.is_thumbnail_processed?rootScope.getImageURL(e.screen_url,"_thumb.png"):e.is_screen_url_processed?rootScope.getImageURL(e.screen_url,"_cropped.png"):e.screen_url+rootScope.getCdnSign()),t})(e.step):e.step.screen_url+rootScope.getCdnSign();break;case"smartTip":r=e.step.screen_url+rootScope.getCdnSign();break;case"guide":r=rootScope.getImageURL(e.step.screen_url,"_thumb.png");break;case"video":r=e.step.image_url+rootScope.getCdnSign();break;case"survey":r=-1!==e.step.image_url.indexOf("default_icon")?rootScope.getDefaultSurveyStepIcon():e.step.image_url+rootScope.getCdnSign()}else e.step.step_video_url&&"video"===e.step.step_type&&(r=e.step.image_url+rootScope.getCdnSign(),o="https://salesuapi.blob.core.windows.net/default/video-thumb.png");new Empty({target:t,props:{node:e,mergeActive:mergeActive,currentTour:b,step_img:r,err_img:o}})}function h(e){var t=(t=>{t=parseInt(t);for(let e=0;e<d.length;e++)if(d[e].id===t)return d[e]})(e.head[0]);let r=document.querySelector(".step-view-type-branching");var o=e.branch&&e.branch.name?e.branch.name:"";let a="";var i=(e=>{if(!e||!d[e])return"mgPlayerJSProd_hide-delete-connection";if(d[e].id===e){if(1<d[e].head.length)return"mgPlayerJSProd_allow-delete-connection";if(d[e].branch){u=d[e].branch;let t=0;for(let e=0;e<u.length;e++)-1===u[e].tail&&t++;return 1<t?"mgPlayerJSProd_allow-delete-connection":"mgPlayerJSProd_hide-delete-connection"}return"mgPlayerJSProd_hide-delete-connection"}})(e.tail);"b"===t.type&&o&&(mg$$1("#mgPlayerJSProd_branch-dropdown-list-wrapper-"+t.id).append("<button class='mgPlayerJSProd_branch-dropdown-list-item mgPlayerJSProd_lbl-btn mgPlayerJSProd_branch-dropdown-list-item-"+e.id+"' value='"+e.id+"'>"+o+"</button>"),!c)&&l&&(c=e.id),-1!==mg$$1.inArray(e.head[0],p)&&rootScope.FT.creatorApp&&(r=document.querySelector(".branchTreeHead"+e.head[0]),a="step-tail-small",p.push(e.id)),a=""!==o?"step-tail-large":a,new Empty({target:r,props:{node:e,deleteClass:i,mergeActive:mergeActive,currentTour:b,branchName:o,lastStepWrapper:a}})}function w(e){l=!1,d=e,c=!1;for(let t=0;t<d.length;t++){var r=d[t].type;let e=void 0;var o,a=d[t].head[0];switch(null!=a&&null!=d[a].head[0]&&(o=d[a].head[0],e=d[o]),d[t].prevNode=e,r){case"s":m(d[t]);break;case"b":{i=void 0;var i=d[t];let e=document.querySelector(".step-view-type-branching");-1!==mg$$1.inArray(i.head[0],p)&&rootScope.FT.creatorApp&&(e=document.querySelector(".branchTreeHead"+i.head[0])),p.push(i.id),new Empty({target:e,props:{node:i,mergeActive:mergeActive,currentTour:b}})}l=!0;break;case"p":d[t].prevNode=d[a],h(d[t])}}mg$$1(".mgPlayerJSProd_collapse").css("display","none"),setTimeout(function(){mg$$1(".mgPlayerJSProd_branch-vconnector").remove(),mg$$1(".mgPlayerJSProd_branch-hconnector").remove();for(let e=0;e<d.length;e++){var o=d[e];if(2<=o.head.length)for(let r=0;r<o.head.length;r++){var a=mg$$1(".branchTreeHead"+o.id).offset().top,i=mg$$1(".branchTreeHead"+o.head[r]).offset().top,n=mg$$1(mg$$1(".branchTreeHead"+o.id).parents(".branch-wrapper")[0]).offset().top,s=mg$$1(".branchTreeHead"+o.id).offset().left,l=mg$$1(".branchTreeHead"+o.head[r]).offset().left,c=mg$$1(mg$$1(".branchTreeHead"+o.id).parents(".branch-wrapper")[0]).offset().left,l=parseInt(l-s),s=parseInt(s-c);let t=i-n;if(a<i){c=parseInt(i-a)+105;mg$$1(".branchTreeHead"+o.id).before("<div class='mgPlayerJSProd_branch-vconnector' style='height:"+c+"px'></div>")}else if(i+120<a){t=i-n+(a-i)-75;let e=parseInt(a-i);mg$$1(".branchTreeHead"+o.head[r]).parent().hasClass("branch-wrapper")?e-=105:e-=65,mg$$1(".branchTreeHead"+o.head[r]).append("<div class='mgPlayerJSProd_branch-vconnector mgPlayerJSProd_branch-vconnector-right' style='height:"+e+"px'></div>")}mg$$1(mg$$1(".branchTreeHead"+o.id).parents(".branch-wrapper")[0]).append("<div class='mgPlayerJSProd_branch-hconnector' style='top:"+t+"px;left:"+s+"px;width:"+l+"px'></div>")}}},0)}function k(e,r){function o(e){var t=rootScope.getStepFromTour(e,r);return GmCXt.isAutomationStep(t)?(e=rootScope.getNode(e,b.tour_settings.play_structure))&&e.tail?o(e.tail):void 0:t}return o(e)}function _(){if(rootScope.FT.creatorApp){let a="p",i="s",p="b",u=1,g=[],m=b.tour_settings.play_structure,h=b.steps;m=GmCXt.repairPlayStructure(m,b.steps);let _,f=(_=m&&0<m.length?m[0].id.toString():null,null),n=0,y=0;if(rootScope.FT.creatorApp)for(let e=0;e<h.length;e++)GmCXt.checkForBranchVariationSteps(h[e])&&y++;var e;function S(e,t,r){if(t=t||null,void 0===r&&(r=null),null!==e&&!1!==e&&-1!==e||1!==u||C||0!==y)if(null===e||!1===e||-1===e)f=v(a,e,t,r),u--;else{var n=JSON.parse(JSON.stringify((t=>{for(let e=0;e<h.length;e++)if(h[e].step_id===t)return h[e]})(e)));if((f=n&&e!==_?v(a,null,null!=t?t:null,r):f)&&null!==r&&P(r,f.id),rootScope.FT.creatorApp){var o=(r=>{let o=-1;for(let e=0,t=g.length;e<t;e++){var a=g[e].step;if(a&&a.step_id===r){o=e;break}}return o})(e);if(-1!==o)return l=o,(l=g[l]).head.push(f.id),P(f.id,o),void(1!==u||C||0!==y?u--:w(g))}if(GmCXt.checkForBranchVariationSteps(n)){var s=n;var l=rootScope.getNode(n.step_id,b.tour_settings.play_structure);rootScope.FT.creatorApp||y++;let t=JSON.parse(JSON.stringify(l.branch)),r=JSON.parse(JSON.stringify(s.step_settings.branch)),o=0,a=v(p,s),i;if(f=a,C=!0,t)for(let e=0;e<t.length;e++){o=e;if(t[e]){0<e&&u++,e===t.length-1&&y--;{c=void 0;d=void 0;var c=t[e];t.indexOf(c)===t.length-1&&(C=!1);var d=k(c.tail,b),d=(i=d?d.step_id:null,{name:r[o].branchName,index:t.indexOf(c).toString(),tail:i,head:a.id,stepType:s.step_type});null!==c.tail&&!1!==c.tail&&-1!==c.tail?S(i,d,a.id):S(null,d,a.id)}}}C=!1}else n&&(f=v(i,n,t),S((t=>{for(let e=0;e<m.length;e++)if(m[e].id===t){t=m[e].tail;break}var e=k(t,b);return e?e.step_id:null})(n.step_id),null,f.id))}else f=v(a,e,t,r),w(g)}function P(e,t){!rootScope.FT.creatorApp&&null!==g[e].tail||(g[e].tail=t)}function v(e,t,r,o){t=t||null,r=r||null,null!=o&&0!==o.length||(o=[],o=f?f.id:null);e={id:n++,type:e,step:t,head:[o],tail:null,branch:r};return g[e.id]=e,o&&P(o,e.id),e}null!==(_=_&&(e=k(_,b))?e.step_id:_)&&S(_)}}function f(t){o(1,a=[]);let r=0;i.forEach(e=>{"branch"!=e.step_type&&(e.countid=++r),t.includes(e.step_id)&&("string"==typeof e.step_settings&&(e.step_settings=JSON.parse(e.step_settings)),a.push(e))})}onMount(()=>{var e;if(rootScope.checkCdnSignature().then(()=>{o(0,r=GmCXt.getCdnSign())}),i=b.steps,GmCXt.containBranchStep(b)){for(e of b.tour_settings.play_structure)e.branch&&0==n.length?(n.push(e.id),n.push(e.branch[0].tail)):e.id===n[n.length-1]?(e.tail&&n.push(e.tail),e.branch&&n.push(e.branch[0].tail)):e.tail&&0==n.length&&(n.push(e.id),n.push(e.tail));f(n)}else o(1,a=i);_()});function y(e,t){e.stopPropagation(),e=rootScope.getStepFromTour(t,b),rootScope.guideAction("",e,b,"","")}function S(e,t){mg$$1(".mgPlayerJSProd_branch-dropdown-list-wrapper").slideUp(200),(e=mg$$1(".mgPlayerJSProd_branch-dropdown-list-wrapper-"+e))&&!e.is(":visible")&&e.slideDown(200)}onDestroy(()=>{g(),Gm.selectedBranch.set(!1)});return e.$$set=e=>{"currentTour"in e&&o(7,b=e.currentTour)},e.$$.update=()=>{128&e.$$.dirty[0]&&b&&(mg$$1(".step-view-type-branching").empty(),_())},[r,a,s,function(e){if(r)return e.screen_url.split(".png")[0]+"_cropped.png"+r},y,S,function(e,t){let r=e.step_id;Gm.selectedBranch.set(e.step_settings.branch[t].branchName);var e=n.indexOf(r)+1,o=n.length-1;n.splice(e,o),b.tour_settings.play_structure.forEach(e=>{n[n.length-1]===r&&e.id===r?n.push(e.branch[t].tail):n[n.length-1]===e.id&&(e.tail&&n.push(e.tail),e.branch)&&n.push(e.branch[0].tail)}),f(n)},b,(e,t)=>y(t,e.step_id),(e,t)=>S(e)]}class BranchView extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$a,safe_not_equal,{currentTour:7},add_css,[-1,-1])}}var NoStepIcon='<svg width="349" height="264" viewBox="0 0 349 264" fill="none">\r\n<path d="M236 84.4294C236 99.0289 224.123 110.906 209.523 110.906H154.078C142.455 110.906 133 101.451 133 89.8286C133 78.4008 142.141 69.0679 153.496 68.7589C151.915 54.2263 163.814 40.0938 179.828 40.0938C191.412 40.0938 201.5 47.5847 205 58.338C221.283 55.5334 236 68.1293 236 84.4294Z" fill="#F5FAFD"/>\r\n<g clip-path="url(#clip0)">\r\n<path d="M138 31.7742C138 36.3099 134.31 40 129.774 40H112.548C108.938 40 106 37.0625 106 33.4516C106 29.9012 108.84 27.0017 112.368 26.9057C111.876 22.3907 115.573 18 120.548 18C124.147 18 127.281 20.3273 128.369 23.6681C133.428 22.7968 138 26.7101 138 31.7742Z" fill="#F5FAFD"/>\r\n</g>\r\n<g clip-path="url(#clip1)">\r\n<path d="M258 12.9073C258 16.0256 255.463 18.5625 252.345 18.5625H240.502C238.02 18.5625 236 16.5429 236 14.0605C236 11.6196 237.953 9.62615 240.378 9.56015C240.04 6.45611 242.582 3.4375 246.002 3.4375C248.476 3.4375 250.631 5.03751 251.379 7.33434C254.857 6.73528 258 9.42567 258 12.9073Z" fill="#F5FAFD"/>\r\n</g>\r\n<path opacity="0.2" d="M301.093 261.757C300.945 262.037 300.772 262.304 300.576 262.554C298.855 261.342 297.104 260.156 295.324 258.994C295.36 258.919 295.399 258.842 295.441 258.764C295.853 257.968 296.473 257.297 297.234 256.822C298.218 256.225 299.327 256.082 300.224 256.565C301.12 257.048 301.646 258.036 301.7 259.182C301.732 260.079 301.522 260.968 301.093 261.757V261.757Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M303.5 257.26C304.583 255.219 304.195 252.896 302.634 252.071C301.073 251.246 298.93 252.231 297.847 254.271C296.764 256.311 297.152 258.634 298.713 259.459C300.274 260.285 302.417 259.3 303.5 257.26Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M305.896 252.745C306.979 250.705 306.591 248.382 305.03 247.556C303.469 246.731 301.326 247.716 300.243 249.756C299.161 251.796 299.549 254.119 301.11 254.945C302.671 255.77 304.814 254.785 305.896 252.745Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M308.293 248.226C309.376 246.186 308.988 243.863 307.427 243.038C305.866 242.212 303.723 243.197 302.64 245.238C301.557 247.278 301.945 249.601 303.506 250.426C305.067 251.251 307.21 250.267 308.293 248.226Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M310.689 243.709C311.772 241.669 311.384 239.346 309.823 238.52C308.262 237.695 306.119 238.68 305.036 240.72C303.954 242.76 304.342 245.083 305.903 245.909C307.464 246.734 309.607 245.749 310.689 243.709Z" fill="#3F3D56"/>\r\n<path d="M313.663 205.69C313.538 205 313.46 204.302 313.429 203.601L321.5 206.31L313.429 202.133C313.547 200.045 314.091 198.003 315.028 196.133C315.965 194.262 317.276 192.603 318.879 191.257L326.699 202.539L320.628 189.986C322.411 188.873 324.406 188.14 326.486 187.83C328.566 187.52 330.688 187.641 332.72 188.185C334.751 188.728 336.649 189.684 338.294 190.991C339.94 192.299 341.299 193.93 342.285 195.784C343.272 197.639 343.866 199.676 344.03 201.769C344.195 203.862 343.925 205.966 343.24 207.951C342.554 209.936 341.467 211.759 340.045 213.306C338.623 214.853 336.898 216.092 334.976 216.945C335.174 218.027 335.254 219.128 335.215 220.227L322.914 220.129L335.027 222.119C334.618 224.632 333.589 227.003 332.031 229.019C330.474 231.034 328.438 232.631 326.107 233.663C326.62 236.489 326.327 239.402 325.26 242.068C324.193 244.735 322.396 247.049 320.075 248.744C317.753 250.44 315 251.449 312.13 251.656C309.261 251.863 306.391 251.26 303.849 249.916C301.307 248.572 299.195 246.541 297.755 244.055C296.314 241.569 295.604 238.729 295.705 235.859C295.805 232.989 296.713 230.206 298.324 227.826C299.935 225.447 302.184 223.569 304.814 222.405C304.203 219.031 304.745 215.549 306.354 212.519C307.962 209.489 310.543 207.086 313.684 205.696L313.663 205.69Z" fill="#F5FAFD"/>\r\n<path d="M333.42 226.839C331.814 229.873 329.231 232.278 326.087 233.666C326.601 236.492 326.307 239.404 325.241 242.071C324.174 244.738 322.377 247.052 320.055 248.747C317.733 250.443 314.98 251.452 312.111 251.659C309.242 251.866 306.372 251.263 303.829 249.919C301.287 248.575 299.175 246.544 297.735 244.058C296.295 241.572 295.584 238.732 295.685 235.862C295.786 232.992 296.694 230.208 298.305 227.829C299.916 225.45 302.165 223.571 304.795 222.408C304.2 219.15 334.227 225.32 333.42 226.839Z" fill="#F5FAFD"/>\r\n<path opacity="0.2" d="M291.489 171.503C291.303 171.981 291.078 172.443 290.816 172.885C287.803 171.283 284.753 169.726 281.666 168.212C281.708 168.084 281.756 167.952 281.807 167.821C282.309 166.462 283.166 165.261 284.288 164.342C285.743 163.178 287.498 162.74 289.07 163.333C290.643 163.927 291.647 165.422 291.961 167.248C292.188 168.683 292.025 170.152 291.489 171.503Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M294.445 163.778C295.778 160.283 294.691 156.627 292.017 155.611C289.343 154.595 286.095 156.604 284.763 160.098C283.43 163.593 284.517 167.249 287.191 168.265C289.865 169.281 293.113 167.272 294.445 163.778Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M297.395 156.045C298.727 152.551 297.64 148.894 294.966 147.878C292.292 146.862 289.044 148.871 287.712 152.366C286.379 155.86 287.466 159.517 290.14 160.533C292.814 161.549 296.062 159.54 297.395 156.045Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M300.344 148.31C301.677 144.815 300.589 141.159 297.915 140.143C295.242 139.127 291.994 141.136 290.661 144.631C289.328 148.125 290.416 151.782 293.09 152.798C295.763 153.814 299.011 151.804 300.344 148.31Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M303.291 140.577C304.624 137.083 303.537 133.426 300.863 132.41C298.189 131.394 294.941 133.404 293.608 136.898C292.276 140.393 293.363 144.049 296.037 145.065C298.711 146.081 301.959 144.072 303.291 140.577Z" fill="#3F3D56"/>\r\n<path d="M300.494 78.9265C300.153 77.835 299.889 76.7214 299.702 75.5935L313.219 78.3417L299.421 73.2154C299.194 69.8492 299.658 66.4724 300.785 63.2914C301.911 60.1104 303.675 57.1923 305.97 54.7156L320.785 71.267L308.529 52.3076C311.174 50.1753 314.23 48.6084 317.507 47.7041C320.783 46.7997 324.212 46.5773 327.578 47.0506C330.945 47.524 334.178 48.6829 337.077 50.4555C339.976 52.2281 342.48 54.5766 344.432 57.3551C346.384 60.1337 347.743 63.2831 348.424 66.6078C349.106 69.9326 349.096 73.3617 348.395 76.6825C347.694 80.0032 346.316 83.1446 344.348 85.9118C342.38 88.679 339.863 91.0128 336.954 92.7686C337.485 94.4692 337.831 96.2218 337.988 97.9963L318.208 100.285L338.066 101.076C337.911 105.194 336.73 109.209 334.63 112.756C332.53 116.304 329.576 119.274 326.037 121.396C327.423 125.831 327.531 130.567 326.349 135.061C325.166 139.555 322.741 143.627 319.35 146.81C315.96 149.994 311.74 152.161 307.174 153.064C302.608 153.967 297.879 153.57 293.529 151.917C289.178 150.265 285.381 147.424 282.571 143.719C279.761 140.015 278.052 135.596 277.639 130.968C277.226 126.34 278.125 121.689 280.235 117.547C282.344 113.405 285.579 109.939 289.568 107.545C287.908 102.242 288.081 96.5364 290.061 91.3443C292.041 86.1523 295.712 81.7755 300.485 78.9175L300.494 78.9265Z" fill="#F5FAFD"/>\r\n<path opacity="0.1" d="M336.454 108.977C334.48 114.17 330.809 118.546 326.033 121.396C327.419 125.831 327.527 130.567 326.345 135.061C325.162 139.555 322.737 143.627 319.346 146.81C315.956 149.994 311.736 152.161 307.17 153.064C302.604 153.967 297.875 153.57 293.525 151.917C289.174 150.265 285.377 147.424 282.567 143.72C279.757 140.015 278.048 135.596 277.635 130.968C277.222 126.34 278.122 121.689 280.231 117.547C282.341 113.405 285.575 109.939 289.564 107.545C287.971 102.433 337.446 106.378 336.454 108.977Z" fill="#F5FAFD"/>\r\n<g opacity="0.2">\r\n<path opacity="0.2" d="M53.3216 197.226C53.4734 197.819 53.6733 198.397 53.9194 198.957C57.7058 197.507 61.535 196.114 65.4071 194.78C65.3742 194.622 65.3413 194.46 65.2995 194.296C64.9089 192.617 64.0761 191.071 62.8872 189.821C61.3387 188.233 59.333 187.457 57.4049 187.929C55.4768 188.4 54.0569 190.017 53.4143 192.121C52.9267 193.784 52.8947 195.547 53.3216 197.226V197.226Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M58.8947 194.022C62.2001 193.216 64.0233 189.062 62.9669 184.742C61.9105 180.423 58.3745 177.575 55.069 178.38C51.7636 179.186 49.9404 183.34 50.9968 187.66C52.0532 191.979 55.5892 194.827 58.8947 194.022Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M56.5548 184.461C59.8603 183.656 61.6835 179.501 60.627 175.182C59.5706 170.863 56.0346 168.014 52.7292 168.82C49.4237 169.625 47.6005 173.78 48.657 178.099C49.7134 182.418 53.2494 185.267 56.5548 184.461Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M54.2228 174.904C57.5283 174.098 59.3514 169.944 58.295 165.624C57.2386 161.305 53.7026 158.457 50.3971 159.262C47.0917 160.068 45.2685 164.222 46.3249 168.541C47.3814 172.861 50.9174 175.709 54.2228 174.904Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M51.8849 165.346C55.1904 164.54 57.0136 160.386 55.9571 156.067C54.9007 151.747 51.3647 148.899 48.0593 149.705C44.7538 150.51 42.9306 154.665 43.987 158.984C45.0435 163.303 48.5795 166.151 51.8849 165.346Z" fill="#3F3D56"/>\r\n<path opacity="0.2" d="M56.371 86.6637C56.9363 85.4266 57.4138 84.1513 57.7998 82.8473L41.4457 84.0975L58.4844 80.0783C59.2509 76.1378 59.2033 72.0825 58.3444 68.161C57.4855 64.2396 55.8334 60.5344 53.4894 57.2728L33.5571 74.6507L50.8259 54.083C48.0216 51.168 44.6464 48.8602 40.9102 47.3032C37.1741 45.7462 33.1569 44.9732 29.1086 45.0325C25.0603 45.0917 21.0675 45.9818 17.3787 47.6475C13.6898 49.3131 10.3838 51.7187 7.66629 54.7144C4.94877 57.7102 2.87789 61.2321 1.58249 65.0611C0.287087 68.8901 -0.205124 72.9442 0.136476 76.9712C0.478076 80.9982 1.64618 84.9119 3.56812 88.4689C5.49005 92.026 8.12471 95.1502 11.3082 97.6472C10.4296 99.5742 9.76118 101.59 9.31435 103.66L32.3166 109.275L8.76731 107.282C8.34053 112.164 9.14014 117.076 11.0938 121.572C13.0474 126.068 16.0934 130.007 19.956 133.033C17.6617 138.064 16.832 143.638 17.5618 149.118C18.2916 154.598 20.5514 159.762 24.083 164.02C27.6145 168.278 32.2752 171.459 37.5321 173.198C42.789 174.936 48.4301 175.164 53.8102 173.853C59.1904 172.542 64.0925 169.747 67.9561 165.787C71.8197 161.826 74.4889 156.86 75.6585 151.457C76.828 146.054 76.4507 140.431 74.5698 135.231C72.6888 130.032 69.3801 125.466 65.0219 122.055C67.7611 116.041 68.3957 109.282 66.8235 102.865C65.2513 96.447 61.5637 90.7433 56.3531 86.6696L56.371 86.6637Z" fill="#0078D4"/>\r\n<path opacity="0.1" d="M9.494 116.83C11.0532 123.253 14.7398 128.962 19.9563 133.032C17.662 138.064 16.8323 143.638 17.5621 149.118C18.2919 154.597 20.5517 159.762 24.0833 164.02C27.6148 168.278 32.2755 171.458 37.5324 173.197C42.7893 174.936 48.4304 175.163 53.8105 173.853C59.1907 172.542 64.0928 169.747 67.9564 165.786C71.82 161.826 74.4892 156.86 75.6588 151.457C76.8283 146.053 76.451 140.43 74.5701 135.231C72.6891 130.032 69.3804 125.466 65.0222 122.055C67.6766 116.242 8.71381 113.616 9.494 116.83Z" fill="#F5FAFD"/>\r\n</g>\r\n<path d="M315.753 78.9326H26.1735C25.8343 78.933 25.4985 79.0001 25.1853 79.13C24.8721 79.2599 24.5877 79.4501 24.3481 79.6898C24.1086 79.9295 23.9186 80.2139 23.7892 80.5268C23.6598 80.8398 23.5934 81.1751 23.5938 81.5136V258.423C23.5926 259.106 23.7262 259.782 23.9869 260.414C24.2477 261.045 24.6305 261.619 25.1135 262.103C25.5964 262.587 26.1702 262.971 26.8018 263.233C27.4335 263.496 28.1108 263.632 28.795 263.633H313.132C313.816 263.632 314.493 263.496 315.125 263.233C315.757 262.971 316.33 262.587 316.813 262.103C317.296 261.619 317.679 261.045 317.94 260.414C318.201 259.782 318.334 259.106 318.333 258.423V81.5136C318.333 81.1751 318.267 80.8398 318.138 80.5268C318.008 80.2139 317.818 79.9295 317.579 79.6898C317.339 79.4501 317.055 79.2599 316.741 79.13C316.428 79.0001 316.092 78.933 315.753 78.9326V78.9326Z" fill="url(#paint0_linear)"/>\r\n<path d="M317.162 89.916V257.381C317.162 258.747 316.619 260.056 315.652 261.022C314.685 261.988 313.374 262.531 312.006 262.532H29.9739C28.6055 262.532 27.2932 261.989 26.3256 261.023C25.358 260.057 24.8145 258.747 24.8145 257.381V89.916H317.162Z" fill="white"/>\r\n<path d="M259 88V263H310.835C312.47 263 314.038 262.456 315.194 261.489C316.35 260.521 317 259.208 317 257.839V88.015L259 88Z" fill="#F0F0F5"/>\r\n<path d="M317.162 82.4741V89.9158H24.8145V82.4741C24.8145 81.7967 25.084 81.147 25.5639 80.668C26.0438 80.189 26.6946 79.9199 27.3732 79.9199H314.604C315.282 79.9199 315.933 80.189 316.413 80.668C316.893 81.147 317.162 81.7967 317.162 82.4741Z" fill="#EDEDF4"/>\r\n<path opacity="0.8" d="M29.4476 86.0336C30.108 86.0336 30.6433 85.4992 30.6433 84.84C30.6433 84.1809 30.108 83.6465 29.4476 83.6465C28.7873 83.6465 28.252 84.1809 28.252 84.84C28.252 85.4992 28.7873 86.0336 29.4476 86.0336Z" fill="#FA5959"/>\r\n<path opacity="0.8" d="M32.7348 86.0336C33.3951 86.0336 33.9305 85.4992 33.9305 84.84C33.9305 84.1809 33.3951 83.6465 32.7348 83.6465C32.0744 83.6465 31.5391 84.1809 31.5391 84.84C31.5391 85.4992 32.0744 86.0336 32.7348 86.0336Z" fill="#FED253"/>\r\n<path opacity="0.8" d="M36.0238 86.0336C36.6842 86.0336 37.2195 85.4992 37.2195 84.84C37.2195 84.1809 36.6842 83.6465 36.0238 83.6465C35.3635 83.6465 34.8281 84.1809 34.8281 84.84C34.8281 85.4992 35.3635 86.0336 36.0238 86.0336Z" fill="#8CCF4D"/>\r\n<path d="M268 105H312V114H268V105Z" fill="white"/>\r\n<path d="M268 124H312V133H268V124Z" fill="white"/>\r\n<path d="M268 143H312V153H268V143Z" fill="white"/>\r\n<path d="M268 163H312V172H268V163Z" fill="white"/>\r\n<path d="M268 182H312V191H268V182Z" fill="white"/>\r\n<path d="M188 75.6506V74.457H186.206V75.6506H188Z" fill="url(#paint1_linear)"/>\r\n<path opacity="0.1" d="M67.0273 210.016C67.1284 209.995 67.2329 209.996 67.3333 210.02C67.4337 210.045 67.5274 210.091 67.6073 210.156C67.7839 210.338 67.9132 210.561 67.9839 210.804C68.2904 211.564 68.7445 212.255 69.3201 212.839" fill="black"/>\r\n<path d="M82 118H239V130H82V118Z" fill="#F0F0F5"/>\r\n<path d="M82 155H239V167H82V155Z" fill="#F0F0F5"/>\r\n<rect x="38" y="239" width="221" height="5" fill="#F0F0F5"/>\r\n<path fill-rule="evenodd" clip-rule="evenodd" d="M184.678 192C184.678 190.343 183.335 189 181.678 189H116C114.343 189 113 190.343 113 192V226.959C113 228.616 114.343 229.959 116 229.959H142.581C143.377 229.959 144.14 230.275 144.702 230.838L147.744 233.879C148.915 235.051 150.815 235.051 151.986 233.879L155.028 230.838C155.591 230.275 156.354 229.959 157.149 229.959H181.678C183.335 229.959 184.678 228.616 184.678 226.959V192Z" fill="#F0F0F5"/>\r\n<rect x="45.7" y="110.7" width="25.6" height="25.6" rx="12.8" stroke="#F0F0F5" stroke-width="1.4"/>\r\n<path d="M53 129C53 129 59.25 126.749 60.5002 125.5C61.7505 124.25 64 118 64 118C64 118 57.75 120.251 56.5005 121.5C55.2509 122.75 53 129 53 129ZM57.5004 122.5L59.5003 124.5C60.0003 125 55.0006 127 55.0006 127C55.0006 127 57.0005 122 57.5004 122.5Z" fill="#F0F0F5"/>\r\n<path d="M53 166C53 166 59.25 163.749 60.5002 162.5C61.7505 161.25 64 155 64 155C64 155 57.75 157.251 56.5005 158.5C55.2509 159.75 53 166 53 166ZM57.5004 159.5L59.5003 161.5C60.0003 162 55.0006 164 55.0006 164C55.0006 164 57.0005 159 57.5004 159.5Z" fill="#F0F0F5"/>\r\n<path d="M143 215C143 215 149.25 212.749 150.5 211.5C151.75 210.25 154 204 154 204C154 204 147.75 206.251 146.5 207.5C145.251 208.75 143 215 143 215ZM147.5 208.5L149.5 210.5C150 211 145.001 213 145.001 213C145.001 213 147 208 147.5 208.5Z" fill="white"/>\r\n<rect x="45.7" y="147.7" width="25.6" height="25.6" rx="12.8" stroke="#F0F0F5" stroke-width="1.4"/>\r\n<rect x="135.7" y="196.7" width="25.6" height="25.6" rx="12.8" stroke="white" stroke-width="1.4"/>\r\n<defs>\r\n<linearGradient class="paint0_linear" x1="170.963" y1="263.633" x2="170.963" y2="78.9326" gradientUnits="userSpaceOnUse">\r\n<stop stop-color="#808080" stop-opacity="0.25"/>\r\n<stop offset="0.54" stop-color="#808080" stop-opacity="0.12"/>\r\n<stop offset="1" stop-color="#808080" stop-opacity="0.1"/>\r\n</linearGradient>\r\n<linearGradient class="paint1_linear" x1="-1628.22" y1="775.14" x2="-1617.45" y2="775.14" gradientUnits="userSpaceOnUse">\r\n<stop stop-color="#808080" stop-opacity="0.25"/>\r\n<stop offset="0.54" stop-color="#808080" stop-opacity="0.12"/>\r\n<stop offset="1" stop-color="#808080" stop-opacity="0.1"/>\r\n</linearGradient>\r\n<clipPath class="clip0">\r\n<rect x="106" y="13" width="32" height="32" fill="white"/>\r\n</clipPath>\r\n<clipPath class="clip1">\r\n<rect x="236" width="22" height="22" fill="white"/>\r\n</clipPath>\r\n</defs>\r\n</svg>';function get_each_context$3(e,t,r){e=e.slice();return e[55]=t[r],e[56]=t,e[57]=r,e}function get_each_context_2$1(e,t,r){e=e.slice();return e[55]=t[r],e[59]=r,e}function get_each_context_1$1(e,t,r){e=e.slice();return e[55]=t[r],e[59]=r,e}function create_if_block_12$1(e){let r,o;return r=new StepModes({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_5$5(e){let o,r,a,i,n,s,l=[create_if_block_6$5,create_if_block_10$2,create_if_block_11$2],c=[];function d(e,t){return 9&t[0]&&(r=null),9&t[0]&&(a=null),e[0].filteredSteps&&0<e[0].filteredSteps.length?0:(r=null==r?!!e[3].isLocked(e[0]):r)?1:(a=null==a?!(0<e[0]?.filteredSteps?.length||0===e[0]?.filteredSteps?.length&&e[3].isLocked(e[0])):a)?2:-1}return~(i=d(e,[-1,-1]))&&(n=c[i]=l[i](e)),{c(){o=element("div"),n&&n.c(),attr(o,"class","category-list"),attr(o,"id","mgPlayerJSProd_category-list")},m(e,t){insert(e,o,t),~i&&c[i].m(o,null),s=!0},p(e,t){let r=i;(i=d(e,t))===r?~i&&c[i].p(e,t):(n&&(group_outros(),transition_out(c[r],1,1,()=>{c[r]=null}),check_outros()),~i?((n=c[i])?n.p(e,t):(n=c[i]=l[i](e)).c(),transition_in(n,1),n.m(o,null)):n=null)},i(e){s||(transition_in(n),s=!0)},o(e){transition_out(n),s=!1},d(e){e&&detach(o),~i&&c[i].d()}}}function create_if_block_11$2(e){let r,o,a,i,n=e[3].labels.startYoursmartWalkthrough+"",s,l,c,d;return c=new Empty({props:{step:{}}}),{c(){r=element("div"),o=element("div"),a=space(),i=element("label"),s=text(n),l=space(),create_component(c.$$.fragment),attr(o,"class","mgPlayerJSProd_no-step-created"),attr(r,"class","add-branching-container")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=NoStepIcon,append(r,a),append(r,i),append(i,s),append(r,l),mount_component(c,r,null),d=!0},p(e,t){(!d||8&t[0])&&n!==(n=e[3].labels.startYoursmartWalkthrough+"")&&set_data(s,n)},i(e){d||(transition_in(c.$$.fragment,e),d=!0)},o(e){transition_out(c.$$.fragment,e),d=!1},d(e){e&&detach(r),destroy_component(c)}}}function create_if_block_10$2(e){let r,o,a,i=e[3].svgs.no_guides_image+"",n,s,l,c=e[3].labels.lockedTourNoStep+"",d;return{c(){r=element("div"),o=element("div"),a=element("div"),n=space(),s=element("div"),l=element("div"),d=text(c),attr(a,"class","mgPlayerJSProd_no-guide-image-cartoon"),attr(o,"class","mgPlayerJSProd_no-guide-image-wrapper"),attr(l,"class","mgPlayerJSProd_no-guide-msg"),attr(l,"tabindex","0"),attr(s,"class","mgPlayerJSProd_no-guide-text-wrapper"),attr(r,"class","no-tour-message-wrapper mgPlayerJSProd_position-center")},m(e,t){insert(e,r,t),append(r,o),append(o,a),a.innerHTML=i,append(r,n),append(r,s),append(s,l),append(l,d)},p(e,t){8&t[0]&&i!==(i=e[3].svgs.no_guides_image+"")&&(a.innerHTML=i),8&t[0]&&c!==(c=e[3].labels.lockedTourNoStep+"")&&set_data(d,c)},i:noop,o:noop,d(e){e&&detach(r)}}}function create_if_block_6$5(e){let r,o,a,i,n,s,l=[create_if_block_7$4,create_if_block_8$3,create_else_block_2],c=[];function d(e,t){return 1&t[0]&&(r=null),9&t[0]&&(o=null),(r=null==r?!!GmCXt.containBranchStep(e[0]):r)?0:(o=null==o?!e[3].isOnboarding(e[0]):o)?1:2}return a=d(e,[-1,-1]),i=c[a]=l[a](e),{c(){i.c(),n=empty()},m(e,t){c[a].m(e,t),insert(e,n,t),s=!0},p(e,t){let r=a;(a=d(e,t))===r?c[a].p(e,t):(group_outros(),transition_out(c[r],1,1,()=>{c[r]=null}),check_outros(),(i=c[a])?i.p(e,t):(i=c[a]=l[a](e)).c(),transition_in(i,1),i.m(n.parentNode,n))},i(e){s||(transition_in(i),s=!0)},o(e){transition_out(i),s=!1},d(e){e&&detach(n),c[a].d(e)}}}function create_else_block_2(t){let a,o,i=ensure_array_like(t[0].filteredSteps),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block_2$1(get_each_context_2$1(t,i,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();a=empty()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);insert(t,a,r),o=!0},p(t,r){if(1&r[0]){i=ensure_array_like(t[0].filteredSteps);let e;for(e=0;e<i.length;e+=1){var o=get_each_context_2$1(t,i,e);n[e]?(n[e].p(o,r),transition_in(n[e],1)):(n[e]=create_each_block_2$1(o),n[e].c(),transition_in(n[e],1),n[e].m(a.parentNode,a))}for(group_outros(),e=i.length;e<n.length;e+=1)(e=>transition_out(n[e],1,1,()=>{n[e]=null}))(e);check_outros()}},i(e){if(!o){for(let e=0;e<i.length;e+=1)transition_in(n[e]);o=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)transition_out(n[e]);o=!1},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_8$3(t){let a,r,i=ensure_array_like(t[0].filteredSteps),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block_1$1(get_each_context_1$1(t,i,e));return{c(){a=element("div");for(let e=0;e<n.length;e+=1)n[e].c();attr(a,"class","step-view-type-default")},m(e,t){insert(e,a,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(a,null);r=!0},p(t,r){if(528143&r[0]){i=ensure_array_like(t[0].filteredSteps);let e;for(e=0;e<i.length;e+=1){var o=get_each_context_1$1(t,i,e);n[e]?(n[e].p(o,r),transition_in(n[e],1)):(n[e]=create_each_block_1$1(o),n[e].c(),transition_in(n[e],1),n[e].m(a,null))}for(group_outros(),e=i.length;e<n.length;e+=1)(e=>transition_out(n[e],1,1,()=>{n[e]=null}))(e);check_outros()}},i(e){if(!r){for(let e=0;e<i.length;e+=1)transition_in(n[e]);r=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)transition_out(n[e]);r=!1},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_7$4(e){let o,r;return o=new BranchView({props:{currentTour:e[0]}}),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.currentTour=e[0]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_each_block_2$1(e){let o,a,r,i,n;return a=new StepView({props:{step:e[55],index:e[59],currentTour:e[0]}}),{c(){o=element("div"),create_component(a.$$.fragment),r=space(),attr(o,"class","mgPlayerJSProd_tg-view-container"),attr(o,"id",i="mgPlayerJSProd_tg-view-container-"+e[55].step_id)},m(e,t){insert(e,o,t),mount_component(a,o,null),append(o,r),n=!0},p(e,t){var r={};1&t[0]&&(r.step=e[55]),1&t[0]&&(r.currentTour=e[0]),a.$set(r),(!n||1&t[0]&&i!==(i="mgPlayerJSProd_tg-view-container-"+e[55].step_id))&&attr(o,"id",i)},i(e){n||(transition_in(a.$$.fragment,e),n=!0)},o(e){transition_out(a.$$.fragment,e),n=!1},d(e){e&&detach(o),destroy_component(a)}}}function create_else_block_1(e){let o,r;return o=new StepView({props:{step:e[55],index:e[59],currentTour:e[0]}}),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};1&t[0]&&(r.step=e[55]),1&t[0]&&(r.currentTour=e[0]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_if_block_9$2(r){let o,a,i,n,s,l;function c(...e){return r[20](r[55],r[59],...e)}function d(...e){return r[22](r[59],...e)}return a=new StepView({props:{step:r[55],index:r[59],currentTour:r[0]}}),{c(){o=element("div"),create_component(a.$$.fragment),i=space(),attr(o,"draggable","true")},m(e,t){insert(e,o,t),mount_component(a,o,null),append(o,i),n=!0,s||(l=[listen(o,"dragstart",c),listen(o,"drag",r[21]),listen(o,"dragover",d),listen(o,"dragend",r[23])],s=!0)},p(e,t){r=e;e={};1&t[0]&&(e.step=r[55]),1&t[0]&&(e.currentTour=r[0]),a.$set(e)},i(e){n||(transition_in(a.$$.fragment,e),n=!0)},o(e){transition_out(a.$$.fragment,e),n=!1},d(e){e&&detach(o),destroy_component(a),s=!1,run_all(l)}}}function create_each_block_1$1(e){let r,o,a,i,n,s=[create_if_block_9$2,create_else_block_1],l=[];function c(e,t){return(r=null==(r=9&t[0]?null:r)?!("user"===e[3].user.role||!e[3].FT.creatorApp||e[0].is_published||e[3].isLocked(e[0])||e[0].filteredSteps.length<=1||0<e[3].pendingStepCount||e[3].isDesktopApp()||e[3].hideMirrorAppCtrl()):r)?0:1}return o=c(e,[-1,-1]),a=l[o]=s[o](e),{c(){a.c(),i=empty()},m(e,t){l[o].m(e,t),insert(e,i,t),n=!0},p(e,t){let r=o;(o=c(e,t))===r?l[o].p(e,t):(group_outros(),transition_out(l[r],1,1,()=>{l[r]=null}),check_outros(),(a=l[o])?a.p(e,t):(a=l[o]=s[o](e)).c(),transition_in(a,1),a.m(i.parentNode,i))},i(e){n||(transition_in(a),n=!0)},o(e){transition_out(a),n=!1},d(e){e&&detach(i),l[o].d(e)}}}function create_if_block$7(r){let o,a,i,n,s,l,c,d,p,u,g,m=r[3].labels.btnSelectAll+"",h,_,f,y,S,P=r[3].svgs.search+"",v,b,C,w,k,x=r[3].svgs.search_close+"",T,A,$,L=r[12]()&&r[5],J,G;function E(e){return e[5]&&e[7].length?create_if_block_3$5:create_else_block$3}let M=E(r),I=M(r),X=L&&create_if_block_1$6(r);return{c(){o=element("div"),a=element("div"),i=element("div"),n=element("label"),s=element("input"),c=space(),d=element("span"),u=space(),g=element("div"),h=text(m),_=space(),f=element("div"),y=element("div"),S=element("div"),v=space(),b=element("input"),w=space(),k=element("button"),A=space(),I.c(),$=space(),X&&X.c(),attr(s,"type","checkbox"),attr(s,"class","mgPlayerJSProd_export-guide-checkbox mgPlayerJSProd_inline-block-vm mgPlayerJSProd_input-checkbox-custom"),attr(s,"name","export-guide-checkbox"),s.__value=l=r[3].labels.btnSelectAll,set_input_value(s,s.__value),attr(d,"class","mgPlayerJSProd_checkmark"),attr(n,"class",p="mgPlayerJSProd_checkbox-container "+(r[5]?"":"mgPlayerJSProd_disabled")),attr(g,"class","mgPlayerJSProd_margin-lr-25"),attr(S,"class","mgPlayerJSProd_search-icon mgPlayerJSProd_inline-block-vm"),attr(b,"id","search-text-input"),attr(b,"class","mgPlayerJSProd_search-input mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100 mgPlayerJSProd_height-100"),attr(b,"maxlength","100"),attr(b,"type","text"),attr(b,"placeholder",C=r[3].labels.btnSearchSteps),attr(b,"autocomplete","off"),attr(k,"id","mgPlayerJSProd_icon-search-close"),attr(k,"class",T="mgPlayerJSProd_search-close-icon mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn "+(r[3].searchStepKeyword&&r[3].searchStepKeyword.length?"mgPlayerJSProd_active":"")),attr(y,"class","mgPlayerJSProd_search-input-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_float-left"),attr(f,"class","mgPlayerJSProd_search-bar-container"),attr(i,"class","mgPlayerJSProd_step-copy-delete-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),attr(a,"class","mgPlayerJSProd_auto-header-bar-container"),attr(o,"class","mgPlayerJSProd_step-copy-delete-container")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(n,s),s.checked=r[6],append(n,c),append(n,d),append(i,u),append(i,g),append(g,h),append(i,_),append(i,f),append(f,y),append(y,S),S.innerHTML=P,append(y,v),append(y,b),set_input_value(b,r[3].searchStepKeyword),append(y,w),append(y,k),k.innerHTML=x,append(o,A),I.m(o,null),append(o,$),X&&X.m(o,null),J||(G=[listen(s,"change",r[24]),listen(s,"click",r[25]),listen(b,"input",r[26]),listen(b,"keyup",r[27]),listen(k,"click",r[28])],J=!0)},p(e,t){8&t[0]&&l!==(l=e[3].labels.btnSelectAll)&&(s.__value=l,set_input_value(s,s.__value)),64&t[0]&&(s.checked=e[6]),32&t[0]&&p!==(p="mgPlayerJSProd_checkbox-container "+(e[5]?"":"mgPlayerJSProd_disabled"))&&attr(n,"class",p),8&t[0]&&m!==(m=e[3].labels.btnSelectAll+"")&&set_data(h,m),8&t[0]&&P!==(P=e[3].svgs.search+"")&&(S.innerHTML=P),8&t[0]&&C!==(C=e[3].labels.btnSearchSteps)&&attr(b,"placeholder",C),8&t[0]&&b.value!==e[3].searchStepKeyword&&set_input_value(b,e[3].searchStepKeyword),8&t[0]&&x!==(x=e[3].svgs.search_close+"")&&(k.innerHTML=x),8&t[0]&&T!==(T="mgPlayerJSProd_search-close-icon mgPlayerJSProd_cursor-pointer mgPlayerJSProd_inline-block-vm mgPlayerJSProd_lbl-btn "+(e[3].searchStepKeyword&&e[3].searchStepKeyword.length?"mgPlayerJSProd_active":""))&&attr(k,"class",T),M===(M=E(e))&&I?I.p(e,t):(I.d(1),(I=M(e))&&(I.c(),I.m(o,$))),(L=32&t[0]?e[12]()&&e[5]:L)?X?X.p(e,t):((X=create_if_block_1$6(e)).c(),X.m(o,null)):X&&(X.d(1),X=null)},d(e){e&&detach(o),I.d(),X&&X.d(),J=!1,run_all(G)}}}function create_else_block$3(e){let r,o,a=e[3].labels.stepNotFound+"",i;return{c(){r=element("div"),o=element("div"),i=text(a),attr(o,"class","mgPlayerJSProd_no-step-found-msg"),attr(r,"class","category-list")},m(e,t){insert(e,r,t),append(r,o),append(o,i)},p(e,t){8&t[0]&&a!==(a=e[3].labels.stepNotFound+"")&&set_data(i,a)},d(e){e&&detach(r)}}}function create_if_block_3$5(t){let a,i=ensure_array_like(t[7]),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block$3(get_each_context$3(t,i,e));return{c(){a=element("div");for(let e=0;e<n.length;e+=1)n[e].c();attr(a,"class","category-list")},m(e,t){insert(e,a,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(a,null)},p(t,r){if(32896&r[0]){i=ensure_array_like(t[7]);let e;for(e=0;e<i.length;e+=1){var o=get_each_context$3(t,i,e);n[e]?n[e].p(o,r):(n[e]=create_each_block$3(o),n[e].c(),n[e].m(a,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=i.length}},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_4$5(r){let o,a,i,n,s,l,c,d,p,u,g=htmlToPlaintext(r[55].step_order+". "+r[55].step_title+" "+r[55].step_description+(r[55].step_settings.smartTip.guidanceMessage||r[55].step_settings.smartTip.validationMessage||""))+"",m,h,_;function f(){r[29].call(n,r[56],r[57])}return{c(){o=element("div"),a=element("div"),i=element("label"),n=element("input"),l=space(),c=element("span"),p=space(),u=element("div"),m=space(),attr(n,"type","checkbox"),attr(n,"class","mgPlayerJSProd_export-guide-checkbox mgPlayerJSProd_inline-block-vm mgPlayerJSProd_input-checkbox-custom"),attr(n,"name","copy-guide-checkbox"),n.__value=s=r[55].step_id,set_input_value(n,n.__value),attr(c,"class",d="mgPlayerJSProd_checkmark "+("branch"===r[55].step_type?"mgPlayerJSProd_disabled":"")),attr(i,"class","mgPlayerJSProd_checkbox-container"),attr(u,"class","mgPlayerJSProd_margin-lr-25 mgPlayerJSProd_text-overflow-ellipsis"),attr(a,"class","tour-list-copy-delete-wrapper"),attr(o,"class","tour-item")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),n.checked=r[55].copy,append(i,l),append(i,c),append(a,p),append(a,u),u.innerHTML=g,append(o,m),h||(_=[listen(n,"change",f),listen(n,"change",r[30])],h=!0)},p(e,t){r=e,128&t[0]&&s!==(s=r[55].step_id)&&(n.__value=s,set_input_value(n,n.__value)),128&t[0]&&(n.checked=r[55].copy),128&t[0]&&d!==(d="mgPlayerJSProd_checkmark "+("branch"===r[55].step_type?"mgPlayerJSProd_disabled":""))&&attr(c,"class",d),128&t[0]&&g!==(g=htmlToPlaintext(r[55].step_order+". "+r[55].step_title+" "+r[55].step_description+(r[55].step_settings.smartTip.guidanceMessage||r[55].step_settings.smartTip.validationMessage||""))+"")&&(u.innerHTML=g)},d(e){e&&detach(o),h=!1,run_all(_)}}}function create_each_block$3(e){let r,o=!e[55].hide&&create_if_block_4$5(e);return{c(){o&&o.c(),r=empty()},m(e,t){o&&o.m(e,t),insert(e,r,t)},p(e,t){e[55].hide?o&&(o.d(1),o=null):o?o.p(e,t):((o=create_if_block_4$5(e)).c(),o.m(r.parentNode,r))},d(e){e&&detach(r),o&&o.d(e)}}}function create_if_block_1$6(r){let o,a,i,n=r[3].labels.btnCancel+"",s,l,c,d,p=r[3].labels.btnCopySteps+"",u,g,m,h=!r[0].is_published&&create_if_block_2$5(r);return{c(){o=element("div"),a=element("div"),i=element("div"),s=text(n),l=space(),h&&h.c(),c=space(),d=element("div"),u=text(p),attr(i,"class","action-btn mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral"),attr(d,"class","action-btn mgPlayerJSProd_btn-default"),attr(a,"class","auto-btn-wrapper"),attr(o,"class","list-page-btn-wrapper mgPlayerJSProd_no-padding")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,s),append(a,l),h&&h.m(a,null),append(a,c),append(a,d),append(d,u),g||(m=[listen(i,"click",r[31]),listen(d,"click",r[33])],g=!0)},p(e,t){8&t[0]&&n!==(n=e[3].labels.btnCancel+"")&&set_data(s,n),e[0].is_published?h&&(h.d(1),h=null):h?h.p(e,t):((h=create_if_block_2$5(e)).c(),h.m(a,c)),8&t[0]&&p!==(p=e[3].labels.btnCopySteps+"")&&set_data(u,p)},d(e){e&&detach(o),h&&h.d(),g=!1,run_all(m)}}}function create_if_block_2$5(r){let o,a=r[3].labels.btnDeleteSteps+"",i,n,s;return{c(){o=element("div"),i=text(a),attr(o,"class","action-btn mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral")},m(e,t){insert(e,o,t),append(o,i),n||(s=listen(o,"click",r[32]),n=!0)},p(e,t){8&t[0]&&a!==(a=e[3].labels.btnDeleteSteps+"")&&set_data(i,a)},d(e){e&&detach(o),n=!1,s()}}}function create_fragment$9(e){let r,o,a,i,n=e[0].filteredSteps&&0<e[0].filteredSteps.length&&"copySteps"!==e[4]&&create_if_block_12$1(),s="copySteps"!==e[4]&&!e[3].isApiCallOn&&create_if_block_5$5(e),l="copySteps"===e[4]&&create_if_block$7(e);return{c(){n&&n.c(),r=space(),s&&s.c(),o=space(),l&&l.c(),a=empty()},m(e,t){n&&n.m(e,t),insert(e,r,t),s&&s.m(e,t),insert(e,o,t),l&&l.m(e,t),insert(e,a,t),i=!0},p(e,t){e[0].filteredSteps&&0<e[0].filteredSteps.length&&"copySteps"!==e[4]?n?17&t[0]&&transition_in(n,1):((n=create_if_block_12$1()).c(),transition_in(n,1),n.m(r.parentNode,r)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros()),"copySteps"===e[4]||e[3].isApiCallOn?s&&(group_outros(),transition_out(s,1,1,()=>{s=null}),check_outros()):s?(s.p(e,t),24&t[0]&&transition_in(s,1)):((s=create_if_block_5$5(e)).c(),transition_in(s,1),s.m(o.parentNode,o)),"copySteps"===e[4]?l?l.p(e,t):((l=create_if_block$7(e)).c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},i(e){i||(transition_in(n),transition_in(s),i=!0)},o(e){transition_out(n),transition_out(s),i=!1},d(e){e&&(detach(r),detach(o),detach(a)),n&&n.d(e),s&&s.d(e),l&&l.d(e)}}}function stepExistsInTour(e,r){let o=!1;return e.forEach(function(e,t){e.step_id!==r.step_id&&e.creation_id!==r.creation_id||(o=!0)}),o}function getVisibleStepIndex(e,t){let r=0,o=0;for(;e!==o&&o<t.length;)GmCXt.isAutomationStep(t[o])||r++,o++;return r}function htmlToPlaintext(e){return e?String(e).replace(/<[^>]+>/gm,""):""}function instance$9(e,X,l){function n(e){var t=e.step,r=p.tour_settings.play_structure;e.prevStepData||(e.prevStepData=rootScope.prevStepData),r?((r=GmCXt.updateTourPlayStructure(e))&&l(0,p.tour_settings.play_structure=r.prevStepData.tour.tour_settings.play_structure,p),rootScope.setTour(p),"guide"===t.step_type||"video"===t.step_type||GmCXt.isDefined(rootScope.copiedStep)||"textSlide"===t.step_type?(l(3,rootScope.pendingStepCount=0,rootScope),Gm.statusBar.set("updateTourPlayStructure"),k()):T(p)):Gm.loading.set(!1)}function c(e){var t;return e.is_screen_url_processed?e.step_settings.element&&e.step_settings.element.version&&(t=GmCXt.decodeVersion(e.step_settings.element.version),"Prod"===GmCXt.conf.env&&40509<t||"Test"===GmCXt.conf.env&&40601<t)?e.step_thumb=rootScope.getImageURL(e.screen_url,"_cropped.png"):e.step_thumb=rootScope.getImageURL(e.screen_url,"_thumb.png"):e.step_thumb=e.screen_url+rootScope.getCdnSign(),e}function t(){let t=[];w.forEach(function(e){e.copy&&t.push(parseInt(e.step_id))}),l(3,rootScope.copyStepsList={steps:t,tourId:p.tour_id,tourType:p.tour_type,stepType:p.steps[0].step_type},rootScope),0<=rootScope.copyStepsList.tourType.indexOf("onboarding_tour")&&l(3,rootScope.copyStepsList.tourType=p.tour_settings.tutorial_tour_type,rootScope),rootScope.copyStepsList.steps.length?(l(3,rootScope.copiedStep=!1,rootScope),l(3,rootScope.pasteStep=!0,rootScope),a()):rootScope.showPopup(GmCXt.label.unselectedStepsErrorMsg,"","warning")}function r(){let t=0;l(5,h=!0),l(7,w=w.map(function(e){return e.step_title.toLowerCase().includes(rootScope.searchStepKeyword.toLowerCase())||e.step_description.toLowerCase().includes(rootScope.searchStepKeyword.toLowerCase())?(e.hide=!1,t+=1):e.hide=!0,e})),0===t&&l(5,h=!1),o()}function o(){let e=!0;for(var t in w)if(!w[t].copy){e=!1;break}l(6,_=e)}function a(){l(7,w=w.map(function(e){return e.copy=!1,e})),l(3,rootScope.copySteps=!1,rootScope),l(3,rootScope.searchStepKeyword="",rootScope),l(6,_=!1),rootScope.setCurrentPage("stepview"),setTimeout(()=>{v()},100)}function i(){l(7,w=w.map(function(e){return e.step_type===GmCXt.STEP_TYPE_BRANCH&&e.step_settings.inlineBranch&&e.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||(e.copy=!_),e})),l(6,_=!_)}function s(){let t=[],r=[],o=(w.forEach(function(e){e.copy?t.push(parseInt(e.step_id)):r.push(e)}),{tour_id:p.tour_id});w.step_count!==t.length&&(o.step_ids="["+t+"]"),t.length?mgError$1.try(function(){rootScope.showPopup(rootScope.labels.confirmDeletMultipleSteps,function(){Gm.loading.set(!0),api.bulkStepDelete(o,function(){var e;l(3,rootScope.pasteStep=!1,rootScope),o.step_ids?(l(0,p.is_locked=!0,p),l(0,p.steps=r,p),l(0,p.step_count=r.length,p),e=GmCXt.getGuidePlayStructure(p),l(0,p.tour_settings.play_structure=e,p)):(l(0,p.tour_settings.play_structure=[],p),l(0,p.steps=[],p),l(0,p.step_count=0,p)),rootScope.setTour(p),T(p)}),a()},"confirm")},117):rootScope.showPopup(GmCXt.label.unselectedStepsErrorMsg,"","warning")}function d(t){mgError$1.try(function(){var r,e;p.is_published||"user"===rootScope.user.role||p.is_locked&&p.user_id!==rootScope.user.user_id||(r=[],t.filter(function(e,t){r.push({step_id:e.step_id,step_order:t+1})}),r=((e,o)=>{for(var t=[],r=0,a=function(e){t.push({step_id:e.step_id,step_order:++r})},i=0;i<o.length&&GmCXt.isAutomationStep(o[i]);i++)a(o[i]);return e.forEach(function(t,e){a(t);var r=o.find(function(e){return e.step_id===t.step_id}),r=rootScope.getAutomationSteps(o,r);0<r.length&&r.forEach(function(e){a(e)})}),t})(r,p.steps),l(0,p.steps=rootScope.sortTourSteps(r,p.steps),p),e={tour_id:p.tour_id,json:r},api.stepsDrag(e,function(e){l(0,p.tour_settings.play_structure=GmCXt.buildGuidePlayStructure(p),p),k(p)},function(e){rootScope.showPopup(e.message)}))},120)}let p=!1,u=!1,g,m,h=(rootScope.activeTourId,!0),_=!1,f=(rootScope.enableTranslation&&(GmCXt.getLXPLang()?g=GmCXt.getLXPLang():rootScope.language&&(g=rootScope.language)),{tour_type:rootScope.currentTour&&rootScope.currentTour.tour_type||""}),y=Gm.currentTour.subscribe(e=>{l(0,p=e)}),S=Gm.CurrentPage.subscribe(e=>{l(4,u=e)}),P=Gm.routeAction.subscribe(e=>{if(e&&e.data)switch(e.action){case"createStepCompleted":b(e.data),Gm.routeAction.set(null);break;case"updateStepCompleted":x(e.data),Gm.routeAction.set(null);break;case"updateTourWithApi":k(e.data),Gm.routeAction.set(null);break;case"createStepPreview":C(e.data),Gm.routeAction.set(null)}}),v=function(){var e=mg$$1(".guide-view-header-panel-container").innerHeight()?mg$$1(".guide-view-header-panel-container").innerHeight():0,t=mg$$1(".list-page-header").innerHeight()?mg$$1(".list-page-header").innerHeight():0,r=mg$$1("#ege-header").innerHeight()?mg$$1("#ege-header").innerHeight():0,o=mg$$1(".ege-panel-header-sub-menu-urls").innerHeight()?mg$$1(".ege-panel-header-sub-menu-urls").innerHeight():0,a=mg$$1("#footer").innerHeight()?mg$$1("#footer").innerHeight():0,i=mg$$1(".list-page-btn-wrapper").innerHeight()?mg$$1(".list-page-btn-wrapper").innerHeight():0;return mg$$1(".category-list").css({height:window.innerHeight-e-a-o-t-r-i-20}),!0},b=(mg$$1(window).off("resize").on("resize",v),setTimeout(function(){v()},500),function(e){let t=GmCXt.validateDataModel(e.step,GmCXt.model.step);if(t.tour_id===p.tour_id){var r=e.prevStepData||null,o=e.stepIndex,a=(m=rootScope.isTrackingGuide(p),p.steps);if(e.tour&&l(0,p=e.tour),l(0,p.steps=a,p),e.linkGuidePlayMode&&"guide"===t.step_type&&(t.linkGuidePlayMode=e.linkGuidePlayMode),r&&(l(3,rootScope.prevStepData=r,rootScope),rootScope.pendingStepCount)&&(l(3,rootScope.prevStepData.step_id=t.step_id,rootScope),l(3,rootScope.prevStepData.step_type=t.step_type,rootScope)),t.step_type!==GmCXt.STEP_TYPE_BRANCH&&t.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER||(t.branch=t.step_settings.branch),e.isPaste?p.steps.splice(o,0,t):m||l(0,p.steps[o]=GmCXt.createDeepCopy(t),p),p.steps[o]&&!m){t.step_screen_temp="",t=c(t);for(var i=o;i<p.steps.length;i++)l(0,p.steps[i].step_order=i+1,p)}l(0,p.step_count=p.steps.length,p),"guide"===t.step_type?n(e):m?GmCXt.isTrue(t.step_settings.inlineBranch)&&n(e):T(p),Gm.loading.set(!1),m?(rootScope.allTourList["cat_"+p.category_id]["tour_"+p.tour_id].steps.push(e.step),$()):(l(3,rootScope.prevStepData=void 0,rootScope),rootScope.setTour(p)),l(3,rootScope.showStepCreatedSuccessMsg=!0,rootScope),Gm.statusBar.set("createStepCompleted")}}),C=function(e){if(!stepExistsInTour(p.steps,e.stepObj)){rootScope.incrementPendingStepCount(),GmCXt.checkForBranchVariationSteps(e.stepObj)&&Gm.loading.set(!0);let r=e.stepIndex;e=e.stepObj;if(e.step_id=GmCXt.getCurrentTimeInMilSec(),l(0,p.step_count++,p),GmCXt.isAutomationStep(e)&&Gm.loading.set(!0),e.step_screen&&100<e.step_screen.length||"guide"===e.step_type){var t=GmCXt.createDeepCopy(e);if(t.step_screen_temp=t.step_screen,t.step_screen="","guide"===t.step_type&&(t.step_screen_temp=rootScope.staticContentPath+"technology.jpg"),p.steps||l(0,p.steps=[],p),rootScope.isTrackingGuide(p))p.filteredSteps.push(t);else{p.steps.splice(r,0,t),T(p);for(let e=t.step_order;e<p.steps.length;e++)l(0,p.steps[e].step_order++,p)}GmCXt.isTrue(e.step_settings.inlineBranch)&&Gm.loading.set(!0)}setTimeout(function(){var e,t=mg$$1(".step-item-auto");p.filteredSteps?r&&(r=getVisibleStepIndex(r,p.steps),(e=mg$$1(".step-item"))[r])&&e[r].scrollIntoView():t&&t[t.length-1]&&t[t.length-1].scrollIntoView()},20)}},w=p.steps,k=function(t){mgError$1.try(function(){Gm.loading.set(!0);var e={category_id:t.category_id,tour_title:t.tour_title,tour_description:t.tour_description,tour_image:t.tour_image,tour_settings:t.tour_settings,tour_type:t.tour_type,tour_url:t.tour_url,tour_id:t.tour_id,is_locked:t.is_locked,keywords:t.keywords};api.tourUpdate(e,function(){},function(e){Gm.loading.set(!1)},function(){Gm.loading.set(!1),A(),GmCXt.isFeatureTags(t)&&T(t)})},121)},x=function(e){e.step?(e.step.step_screen_temp="",o=GmCXt.validateDataModel(e.step,GmCXt.model.step),o=c(o),l(0,p.steps[e.stepIndex]=o,p)):e.langUpdated&&l(0,p.steps[e.stepIndex].step_screen_temp="",p),e.langUpdated&&l(0,p=rootScope.getTranslatedTourAndSteps(p,rootScope.language)),l(0,p.is_locked=!0,p);let t=!1;var r=p.steps[e.stepIndex];if(r.step_type===GmCXt.STEP_TYPE_BRANCH&&"Quick Branch"!==r.step_settings.branch_type){Gm.loading.set(!0);var o=rootScope.getNode(r.step_id,p.tour_settings.play_structure),a=p.tour_settings.play_structure.indexOf(o);l(0,p.tour_settings.play_structure[a].branch=[],p);for(let e=0;e<r.step_settings.branch.length;e++){var i={};i.tail=r.step_settings.branch[e].tail,p.tour_settings.play_structure[a].branch.push(i),t=!0}}rootScope.setTour(p),(t&&rootScope.isGuideInOriginalLang(p)?k:T)(p),Gm.loading.set(!1),l(3,rootScope.showStepCreatedSuccessMsg=!0,rootScope),Gm.statusBar.set("updateStepCompleted")},T=function(e){e.filteredSteps=GmCXt.filterOutAutomationSteps(e.steps),l(0,p=e),(m=rootScope.isTrackingGuide(e))&&l(0,p.filteredSteps=[],p),l(0,p.uuid=GmCXt.getUUID(),p),rootScope.isScreenRecorderClose?l(0,p.screencastInProgress=!1,p):l(0,p.screencastInProgress=!0,p),rootScope.isPublicApp&&l(0,p.is_public=!0,p),!g&&rootScope.language&&(g=rootScope.language),l(3,rootScope.isDefaultLang=GmCXt.checkDefaultLangForTour(p,g),rootScope);let i=!1,n=[],s=0;p.steps.forEach(function(e,t){if(e.step_id&&"string"!=typeof e.step_id&&(e.step_id=e.step_id.toString()),"string"!=typeof(e=c(e)).step_screen&&(e.step_screen=e.step_screen.toString()),"video"===e.step_type&&-1===e.step_screen.indexOf("guideme-defaults/default.png"))e.step_video_thumbnail=e.step_video_url;else if(e.step_type===GmCXt.STEP_TYPE_BRANCH||e.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||GmCXt.isTrue(e.step_settings.inlineBranch)&&"keepNext"!==e.step_settings.completionEvent){i=!0;var r=e.step_settings;e.branch=r.branch;for(var o=0;o<e.branch.length;o++)if(0<e.branch[o].tourId)for(var a=0;a<p.steps.length;a++)p.steps[a].step_id===e.branch[o].tail&&(l(0,p.steps[a].hideStep=!0,p),e.branch[o].tourData=p.steps[a])}m&&(((r=e.step_settings.groupId)?(n[r]||(n[r]=[]),n[r]):p.filteredSteps).push(e),s=Math.max(s,e.step_order))}),i&&rootScope.branchGuideDownloadOpts(p.tour_settings.downloadGuideFiles),l(0,p.downloadOpts=p.tour_settings.downloadGuideFiles,p),"insights"===p.tour_type&&Object.keys(n).forEach(function(e){var t=n[e],e={step_id:e,steps:t,image_url:t[0].thumbnail_url,step_title:t[0].step_settings.groupTitle,step_type:"tag",stepOrder:++s};p.filteredSteps.push(e)}),m||l(0,p=GmCXt.checkAndCorrectPS(p)),rootScope.isOnboarding(p),g&&!rootScope.isGuideInOriginalLang(p)&&(l(0,p.selectedLang=g,p),e=p.language_data)&&e[g]&&l(0,p=rootScope.getTranslatedTourAndSteps(p,g)),setTimeout(function(){v()},200),Gm.currentTour.set(p),l(3,rootScope.isApiCallOn=!1,rootScope),Gm.loading.set(!1),GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:load_step_previews"})},A=function(){Gm.loading.set(!0),p&&p.tour_id||l(0,p=GmCXt.validateDataModel(f,GmCXt.model.guide)),l(3,rootScope.isDefaultLang=GmCXt.checkDefaultLangForTour(p,g),rootScope),p.is_locked;var e={tour_id:p.tour_id,isPublic:!!rootScope.currentTour&&rootScope.currentTour.is_public,category_id:rootScope?.currentTour.category_id};GmCXt.checkDefaultLangForTour(p,g)||(e.language=g),api.getTour(e,T,function(){Gm.loading.set(!1),l(0,p=!1)},!0)},$=function(){Gm.loading.set(!0),A()},L=(rootScope.isScreenRecorderClose&&rootScope.showPopup(rootScope.labels.screeRecordingError,function(){GmCXt.storage().remove(["screen_recorder_close"]),l(3,rootScope.isScreenRecorderClose=!1,rootScope)},"alert"),null),J,G,E=null,M=null,I=null;onMount(()=>{$()}),onDestroy(()=>{y(),S(),P()});return e.$$.update=()=>{7&e.$$.dirty[0]&&null!=M&&null!=I&&M!=I&&(l(0,[p.filteredSteps[M],p.filteredSteps[I]]=[p.filteredSteps[I],p.filteredSteps[M]],p),l(1,M=I))},[p,M,I,rootScope,u,h,_,w,L,null,null,E,v,t,r,o,a,i,s,d,(e,t,r)=>{l(8,L=r.clientY),l(10,G=e),l(1,M=t),l(11,E=e.step_id),l(9,J=r.target.getBoundingClientRect().y-r.clientY)},e=>{l(8,L=e.clientY)},(e,t)=>{l(2,I=e)},e=>{d(p.filteredSteps),l(11,E=null),l(2,I=null)},function(){_=this.checked,l(6,_)},()=>i(),function(){rootScope.searchStepKeyword=this.value,l(3,rootScope)},()=>r(),()=>clearSearch(),function(e,t){e[t].copy=this.checked,l(7,w)},()=>o(),()=>a(),()=>s(),()=>t()]}class StepContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$9,safe_not_equal,{},null,[-1,-1])}}var FullscreenIcon='\r\n<svg version="1.1" class="Capa_1" x="0px" y="0px" viewBox="0 0 28.361 28.361" style="enable-background:new 0 0 28.361 28.361;" xml:space="preserve">\r\n<g>\r\n\t<g class="c115_arrows">\r\n\t\t<path d="M28.36,19.595c0-0.868-0.665-1.57-1.491-1.57c-0.819,0.002-1.492,0.702-1.492,1.57v3.25l-6.018-6.021\r\n\t\t\tc-0.582-0.583-1.524-0.583-2.106,0c-0.582,0.582-0.582,1.527,0,2.109l5.989,5.987h-3.235c-0.881,0.002-1.591,0.669-1.591,1.491\r\n\t\t\tc0,0.824,0.71,1.49,1.591,1.49h6.761c0.881,0,1.59-0.665,1.593-1.49c-0.003-0.022-0.006-0.039-0.009-0.061\r\n\t\t\tc0.003-0.028,0.009-0.058,0.009-0.087v-6.668H28.36z"/>\r\n\t\t<path d="M9,16.824l-6.015,6.021v-3.25c0-0.868-0.672-1.568-1.493-1.57c-0.824,0-1.49,0.702-1.49,1.57L0,26.264\r\n\t\t\tc0,0.029,0.008,0.059,0.01,0.087c-0.002,0.021-0.006,0.038-0.008,0.061c0.002,0.825,0.712,1.49,1.592,1.49h6.762\r\n\t\t\tc0.879,0,1.59-0.666,1.59-1.49c0-0.822-0.711-1.489-1.59-1.491H5.121l5.989-5.987c0.58-0.582,0.58-1.527,0-2.109\r\n\t\t\tC10.527,16.241,9.584,16.241,9,16.824z"/>\r\n\t\t<path d="M19.359,11.535l6.018-6.017v3.25c0,0.865,0.673,1.565,1.492,1.568c0.826,0,1.491-0.703,1.491-1.568V2.097\r\n\t\t\tc0-0.029-0.006-0.059-0.009-0.085c0.003-0.021,0.006-0.041,0.009-0.062c-0.003-0.826-0.712-1.491-1.592-1.491h-6.761\r\n\t\t\tc-0.881,0-1.591,0.665-1.591,1.491c0,0.821,0.71,1.49,1.591,1.492h3.235l-5.989,5.987c-0.582,0.581-0.582,1.524,0,2.105\r\n\t\t\tC17.835,12.12,18.777,12.12,19.359,11.535z"/>\r\n\t\t<path d="M5.121,3.442h3.234c0.879-0.002,1.59-0.671,1.59-1.492c0-0.826-0.711-1.491-1.59-1.491H1.594\r\n\t\t\tc-0.88,0-1.59,0.665-1.592,1.491C0.004,1.971,0.008,1.991,0.01,2.012C0.008,2.038,0,2.067,0,2.097l0.002,6.672\r\n\t\t\tc0,0.865,0.666,1.568,1.49,1.568c0.821-0.003,1.493-0.703,1.493-1.568v-3.25L9,11.535c0.584,0.585,1.527,0.585,2.11,0\r\n\t\t\tc0.58-0.581,0.58-1.524,0-2.105L5.121,3.442z"/>\r\n\t</g>\r\n\t<g class="Capa_1_253_">\r\n\t</g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n',SmallscreenIcon='<svg version="1.1" class="Capa_1" x="0px" y="0px" viewBox="0 0 28.359 28.359" style="enable-background:new 0 0 28.359 28.359;" xml:space="preserve">\r\n<g>\r\n\t<g class="c116_arrows">\r\n\t\t<path d="M21.935,19.368h3.235c0.878-0.003,1.589-0.67,1.589-1.492c0-0.824-0.711-1.492-1.589-1.492h-6.764\r\n\t\t\tc-0.879,0-1.59,0.668-1.591,1.492c0.001,0.019,0.007,0.041,0.007,0.061c0,0.027-0.007,0.057-0.007,0.086v6.673\r\n\t\t\tc0,0.864,0.666,1.566,1.49,1.566c0.822-0.002,1.492-0.702,1.492-1.566v-3.252l6.018,6.02c0.582,0.583,1.525,0.583,2.108,0\r\n\t\t\tc0.58-0.582,0.58-1.526,0-2.108L21.935,19.368z"/>\r\n\t\t<path d="M11.543,17.876c-0.002-0.824-0.712-1.492-1.592-1.492H3.189c-0.877,0-1.593,0.668-1.593,1.492\r\n\t\t\tc0,0.822,0.716,1.489,1.593,1.492h3.235l-5.991,5.986c-0.577,0.582-0.577,1.526,0,2.108c0.584,0.583,1.527,0.583,2.108,0\r\n\t\t\tl6.019-6.02v3.252c0,0.864,0.67,1.564,1.491,1.566c0.826,0,1.491-0.702,1.491-1.566v-6.673c0-0.029-0.008-0.059-0.008-0.086\r\n\t\t\tC11.535,17.917,11.541,17.895,11.543,17.876z"/>\r\n\t\t<path d="M16.815,10.479c0.001,0.824,0.712,1.491,1.591,1.491h6.764c0.878,0,1.589-0.667,1.589-1.491\r\n\t\t\tc0-0.822-0.711-1.487-1.589-1.489h-3.235l5.989-5.987c0.58-0.584,0.58-1.528,0-2.109c-0.583-0.582-1.526-0.582-2.108,0\r\n\t\t\tl-6.018,6.02V3.662c0-0.867-0.67-1.568-1.492-1.568c-0.824,0-1.49,0.701-1.49,1.568v6.671c0,0.03,0.007,0.057,0.007,0.087\r\n\t\t\tC16.822,10.44,16.816,10.456,16.815,10.479z"/>\r\n\t\t<path d="M10.052,2.094c-0.821,0-1.491,0.701-1.491,1.568v3.251l-6.019-6.02c-0.581-0.582-1.524-0.582-2.108,0\r\n\t\t\tc-0.577,0.581-0.577,1.525,0,2.109l5.991,5.987H3.189c-0.876,0.003-1.592,0.668-1.592,1.49c0,0.824,0.716,1.491,1.593,1.491h6.761\r\n\t\t\tc0.88,0,1.59-0.667,1.592-1.491c-0.002-0.023-0.008-0.039-0.008-0.06c0-0.03,0.008-0.057,0.008-0.087v-6.67\r\n\t\t\tC11.543,2.795,10.878,2.094,10.052,2.094z"/>\r\n\t</g>\r\n\t<g class="Capa_1_156_">\r\n\t</g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n<g>\r\n</g>\r\n</svg>\r\n';function create_if_block_8$2(e){let r,o,a=e[1]?.tour_description+"",i;return{c(){r=element("div"),o=element("div"),i=text(a),attr(o,"class","mgPlayerJSProd_tooltip-tour-desc ng-binding"),attr(r,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right")},m(e,t){insert(e,r,t),append(r,o),append(o,i)},p(e,t){2&t&&a!==(a=e[1]?.tour_description+"")&&set_data(i,a)},d(e){e&&detach(r)}}}function create_if_block_7$3(r){let o,a,i,n=r[0].svgs.publish+"",s,l,c,d=r[0].labels.publish+"",p,u,g,m;return{c(){o=element("div"),a=element("div"),i=element("button"),s=space(),l=element("div"),c=element("div"),p=text(d),attr(i,"class","mgPlayerJSProd_lbl-btn ege-inline-block-vt"),attr(i,"aria-label","publish"),attr(c,"class","mgPlayerJSProd_tooltip-title"),attr(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),attr(a,"class","mgPlayerJSProd_status-publish mgPlayerJSProd_status-publish-unpublish mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper ege-inline-block-vt"),attr(o,"id","mgPlayerJSProd_btn-guide-view-publish"),attr(o,"class",u="mgPlayerJSProd_guide-status-wrapper "+(0<r[0].pendingStepCount||r[0].draftExists(r[1].tour_id,r[1].category_id)?"mgPlayerJSProd_disabled":""))},m(e,t){insert(e,o,t),append(o,a),append(a,i),i.innerHTML=n,append(a,s),append(a,l),append(l,c),append(c,p),g||(m=listen(i,"click",r[6]),g=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.publish+"")&&(i.innerHTML=n),1&t&&d!==(d=e[0].labels.publish+"")&&set_data(p,d),3&t&&u!==(u="mgPlayerJSProd_guide-status-wrapper "+(0<e[0].pendingStepCount||e[0].draftExists(e[1].tour_id,e[1].category_id)?"mgPlayerJSProd_disabled":""))&&attr(o,"class",u)},d(e){e&&detach(o),g=!1,m()}}}function create_if_block_6$4(r){let o,a,i,n=r[0].svgs.publish+"",s,l,c,d=r[0].labels.btnScheduledPublish+"",p,u,g,m;return{c(){o=element("div"),a=element("div"),i=element("button"),s=space(),l=element("div"),c=element("div"),p=text(d),attr(i,"class","mgPlayerJSProd_lbl-btn ege-inline-block-vt"),attr(i,"aria-label","publish"),attr(c,"class","mgPlayerJSProd_tooltip-title"),attr(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),attr(a,"class","mgPlayerJSProd_status-publish mgPlayerJSProd_status-publish-unpublish mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper ege-inline-block-vt"),attr(o,"id","mgPlayerJSProd_btn-guide-view-schedule"),attr(o,"class",u="mgPlayerJSProd_guide-status-wrapper "+(0<r[0].pendingStepCount||r[0].draftExists(r[1].tour_id,r[1].category_id)?"mgPlayerJSProd_disabled":""))},m(e,t){insert(e,o,t),append(o,a),append(a,i),i.innerHTML=n,append(a,s),append(a,l),append(l,c),append(c,p),g||(m=listen(i,"click",r[7]),g=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.publish+"")&&(i.innerHTML=n),1&t&&d!==(d=e[0].labels.btnScheduledPublish+"")&&set_data(p,d),3&t&&u!==(u="mgPlayerJSProd_guide-status-wrapper "+(0<e[0].pendingStepCount||e[0].draftExists(e[1].tour_id,e[1].category_id)?"mgPlayerJSProd_disabled":""))&&attr(o,"class",u)},d(e){e&&detach(o),g=!1,m()}}}function create_if_block_5$4(r){let o,a,i,n=r[0].svgs.unpublish+"",s,l,c,d=r[0].labels.btnUnpublish+"",p,u,g;return{c(){o=element("div"),a=element("div"),i=element("button"),s=space(),l=element("div"),c=element("div"),p=text(d),attr(i,"class","mgPlayerJSProd_lbl-btn ege-inline-block-vt"),attr(i,"aria-label","unpublish"),attr(c,"class","mgPlayerJSProd_tooltip-title"),attr(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left"),attr(a,"class","mgPlayerJSProd_status-unpublish mgPlayerJSProd_status-publish-unpublish mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper ege-inline-block-vt"),attr(o,"id","mgPlayerJSProd_btn-guide-view-unpublish"),attr(o,"class","mgPlayerJSProd_guide-status-wrapper")},m(e,t){insert(e,o,t),append(o,a),append(a,i),i.innerHTML=n,append(a,s),append(a,l),append(l,c),append(c,p),u||(g=listen(i,"click",r[8]),u=!0)},p(e,t){1&t&&n!==(n=e[0].svgs.unpublish+"")&&(i.innerHTML=n),1&t&&d!==(d=e[0].labels.btnUnpublish+"")&&set_data(p,d)},d(e){e&&detach(o),u=!1,g()}}}function create_if_block_3$4(e){let r;function o(e){return e[0].guideViewFullScreen?create_else_block$2:create_if_block_4$4}let a=o(e),i=a(e);return{c(){r=element("div"),i.c(),attr(r,"id","mgPlayerJSProd_btn-guide-view-full-screen"),attr(r,"class","guide-view-full-screen")},m(e,t){insert(e,r,t),i.m(r,null)},p(e,t){a===(a=o(e))&&i?i.p(e,t):(i.d(1),(i=a(e))&&(i.c(),i.m(r,null)))},d(e){e&&detach(r),i.d()}}}function create_else_block$2(r){let o,a,i;return{c(){attr(o=element("button"),"class","mgPlayerJSProd_lbl-btn guide-view-full-screen-icon mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper ege-inline-block-vt"),attr(o,"aria-label","smallscreen")},m(e,t){insert(e,o,t),o.innerHTML=SmallscreenIcon,a||(i=listen(o,"click",r[10]),a=!0)},p:noop,d(e){e&&detach(o),a=!1,i()}}}function create_if_block_4$4(r){let o,a,i;return{c(){attr(o=element("button"),"class","mgPlayerJSProd_lbl-btn guide-view-full-screen-icon mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper ege-inline-block-vt"),attr(o,"aria-label","fullscreen")},m(e,t){insert(e,o,t),o.innerHTML=FullscreenIcon,a||(i=listen(o,"click",r[9]),a=!0)},p:noop,d(e){e&&detach(o),a=!1,i()}}}function create_if_block_2$4(e){let o,r;return o=new DownloadMedia({props:{tour:e[1]}}),{c(){create_component(o.$$.fragment)},m(e,t){mount_component(o,e,t),r=!0},p(e,t){var r={};2&t&&(r.tour=e[1]),o.$set(r)},i(e){r||(transition_in(o.$$.fragment,e),r=!0)},o(e){transition_out(o.$$.fragment,e),r=!1},d(e){destroy_component(o,e)}}}function create_if_block_1$5(e){let o,r,a,i,n,s;return a=new Empty({props:{tour:e[1]}}),{c(){o=element("div"),r=element("button"),create_component(a.$$.fragment),attr(r,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_header-icon-wrapper ege-inline-block-div"),attr(r,"aria-label","tour action dropdown"),attr(o,"id",i="tour-pencil-icon-"+(e[2]&&e[2]?.step_id||e[1]?.tour_id||e[3]&&e[3]?.entity_code)),attr(o,"class",n="ege-inline-block-div mgPlayerJSProd_tour-more-option-icon "+(e[1].is_published?"":"tour-pencil-icon-unpublish"))},m(e,t){insert(e,o,t),append(o,r),mount_component(a,r,null),s=!0},p(e,t){var r={};2&t&&(r.tour=e[1]),a.$set(r),(!s||2&t&&i!==(i="tour-pencil-icon-"+(e[2]&&e[2]?.step_id||e[1]?.tour_id||e[3]&&e[3]?.entity_code)))&&attr(o,"id",i),(!s||2&t&&n!==(n="ege-inline-block-div mgPlayerJSProd_tour-more-option-icon "+(e[1].is_published?"":"tour-pencil-icon-unpublish")))&&attr(o,"class",n)},i(e){s||(transition_in(a.$$.fragment,e),s=!0)},o(e){transition_out(a.$$.fragment,e),s=!1},d(e){e&&detach(o),destroy_component(a)}}}function create_if_block$6(r){let o,a=r[0].svgs.iconEdit+"",i,n;return{c(){attr(o=element("div"),"id","mgPlayerJSProd_icon-edit-json"),attr(o,"class","ege-inline-block-div mgPlayerJSProd_tour-more-option-icon mgPlayerJSProd_header-icon-wrapper mgPlayerJSProd_json-editor-icon")},m(e,t){insert(e,o,t),o.innerHTML=a,i||(n=listen(o,"click",r[11]),i=!0)},p(e,t){1&t&&a!==(a=e[0].svgs.iconEdit+"")&&(o.innerHTML=a)},d(e){e&&detach(o),i=!1,n()}}}function create_fragment$8(r){let o,a,i,n,F=svgConst.iconBack+"",s,l,O,c,d,p=r[1].tour_title+"",u,H,R,g,m=r[0].showPublishBtn(r[1])&&!r[0].isDesktopApp()&&!r[0].hideMirrorAppCtrl(),h,_=r[0].showSchedulePublish(r[1])&&!r[0].isDesktopApp()&&!r[0].hideMirrorAppCtrl(),f,y=r[0].FT.publish&&r[1].is_published&&r[0].isOwnerOrAppAdmin()&&!r[0].isDesktopApp()&&!r[0].hideMirrorAppCtrl()&&r[0].showUnpublish(r[1]),S,P=GmCXt.containBranchStep(r[1])&&r[0].FT.creatorApp,v,b=!GmCXt.isFalseObj(r[1].tour_settings.downloadGuideFiles),N,C,w=r[0].FT.creatorApp&&(r[1].is_locked&&r[1].user_id==r[0].user.user_id||!r[1].is_locked||!r[1].is_published||r[0].isOwnerOrAppAdmin())&&!r[0].isUserRole()&&!r[0].isDesktopApp(),k,x,T,A,$,B,L=r[1].tour_description&&create_if_block_8$2(r),J=m&&create_if_block_7$3(r),G=_&&create_if_block_6$4(r),E=y&&create_if_block_5$4(r),M=P&&create_if_block_3$4(r),I=b&&create_if_block_2$4(r),X=w&&create_if_block_1$5(r),D=r[0].jsonEditor&&create_if_block$6(r);return{c(){o=element("div"),a=element("div"),i=element("div"),n=element("button"),s=space(),(l=element("div")).innerHTML='<div class="mgPlayerJSProd_tooltip-title ng-binding">Back</div>',O=space(),c=element("div"),d=element("label"),u=text(p),H=space(),L&&L.c(),R=space(),g=element("div"),J&&J.c(),h=space(),G&&G.c(),f=space(),E&&E.c(),S=space(),M&&M.c(),v=space(),I&&I.c(),N=space(),C=element("div"),X&&X.c(),k=space(),D&&D.c(),x=space(),T=element("div"),attr(n,"class","mgPlayerJSProd_lbl-btn ege-inline-block-vt"),attr(n,"aria-label","back"),set_style(n,"margin-top","13px"),attr(l,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right"),attr(i,"id","mgPlayerJSProd_btn-guide-view-back"),attr(i,"class","mgPlayerJSProd_back-button ege-inline-block-vm"),set_style(i,"padding","0px",1),attr(d,"class","ege-inline-block-vm mgPlayerJSProd_position-relative mgPlayerJSProd_width-100 ng-binding"),attr(c,"class","mgPlayerJSProd_tour-title-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_inline-block-vm"),attr(a,"class","header-detail-view-tour-title"),attr(g,"class","header-detail-view-tour-download-container"),attr(T,"class","mgPlayerJSProd_clear"),attr(C,"class","mgPlayerJSProd_header-detail-view-tour-edit-container"),attr(o,"class","ege-panel-header-detail-view")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),n.innerHTML=F,append(i,s),append(i,l),append(a,O),append(a,c),append(c,d),append(d,u),append(c,H),L&&L.m(c,null),append(o,R),append(o,g),J&&J.m(g,null),append(g,h),G&&G.m(g,null),append(g,f),E&&E.m(g,null),append(g,S),M&&M.m(g,null),append(g,v),I&&I.m(g,null),append(o,N),append(o,C),X&&X.m(C,null),append(C,k),D&&D.m(C,null),append(C,x),append(C,T),A=!0,$||(B=listen(n,"click",r[5]),$=!0)},p(e,[t]){(!A||2&t)&&p!==(p=e[1].tour_title+"")&&set_data(u,p),e[1].tour_description?L?L.p(e,t):((L=create_if_block_8$2(e)).c(),L.m(c,null)):L&&(L.d(1),L=null),(m=3&t?e[0].showPublishBtn(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl():m)?J?J.p(e,t):((J=create_if_block_7$3(e)).c(),J.m(g,h)):J&&(J.d(1),J=null),(_=3&t?e[0].showSchedulePublish(e[1])&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl():_)?G?G.p(e,t):((G=create_if_block_6$4(e)).c(),G.m(g,f)):G&&(G.d(1),G=null),(y=3&t?e[0].FT.publish&&e[1].is_published&&e[0].isOwnerOrAppAdmin()&&!e[0].isDesktopApp()&&!e[0].hideMirrorAppCtrl()&&e[0].showUnpublish(e[1]):y)?E?E.p(e,t):((E=create_if_block_5$4(e)).c(),E.m(g,S)):E&&(E.d(1),E=null),(P=3&t?GmCXt.containBranchStep(e[1])&&e[0].FT.creatorApp:P)?M?M.p(e,t):((M=create_if_block_3$4(e)).c(),M.m(g,v)):M&&(M.d(1),M=null),(b=2&t?!GmCXt.isFalseObj(e[1].tour_settings.downloadGuideFiles):b)?I?(I.p(e,t),2&t&&transition_in(I,1)):((I=create_if_block_2$4(e)).c(),transition_in(I,1),I.m(g,null)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros()),(w=3&t?e[0].FT.creatorApp&&(e[1].is_locked&&e[1].user_id==e[0].user.user_id||!e[1].is_locked||!e[1].is_published||e[0].isOwnerOrAppAdmin())&&!e[0].isUserRole()&&!e[0].isDesktopApp():w)?X?(X.p(e,t),3&t&&transition_in(X,1)):((X=create_if_block_1$5(e)).c(),transition_in(X,1),X.m(C,k)):X&&(group_outros(),transition_out(X,1,1,()=>{X=null}),check_outros()),e[0].jsonEditor?D?D.p(e,t):((D=create_if_block$6(e)).c(),D.m(C,x)):D&&(D.d(1),D=null)},i(e){A||(transition_in(I),transition_in(X),A=!0)},o(e){transition_out(I),transition_out(X),A=!1},d(e){e&&detach(o),L&&L.d(),J&&J.d(),G&&G.d(),E&&E.d(),M&&M.d(),I&&I.d(),X&&X.d(),D&&D.d(),$=!1,B()}}}function instance$8(e,t,r){let o=!1;o=get_store_value(Gm.currentTour);let a;rootScope.isTooltip(o);function i(e){r(0,rootScope.guideViewFullScreen=e,rootScope),rootScope.toggleGuideViewFullScreen()}let n=Gm.currentTour.subscribe(e=>{r(1,o=e)}),s=(Gm.breadCrumb.subscribe(e=>{a=e}),Gm.currentTour.subscribe(e=>{r(1,o=e)}));onDestroy(()=>()=>{n(),s()});return[rootScope,o,void 0,void 0,i,()=>{var e;0<a.length?(e={parent:e=a[a.length-1],hasTour:e.has_tour,hasChild:e.has_child},e=new CustomEvent("backwardTraversal",{detail:e}),Gm.routeAction.set({action:"backwardTraversal",data:e}),rootScope.setCurrentPage("allguides")):rootScope.setCurrentPage("currentpage")},e=>rootScope.changeStatus(o,"publish",0,e),()=>schedulePubTour(o),e=>rootScope.changeStatus(o,"unpublish",0,e),()=>i(!rootScope.guideViewFullScreen),()=>i(!rootScope.guideViewFullScreen),()=>rootScope.editJson(o,"guide")]}class StepHeader extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$8,safe_not_equal,{})}}function get_each_context$2(e,t,r){e=e.slice();return e[9]=t[r],e}function create_else_block$1(t){let a,o,i=ensure_array_like(rootScope.sortDataByActiveFilter(t[0],"tour_title",t[1])),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block$2(get_each_context$2(t,i,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();a=empty()},m(t,r){for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(t,r);insert(t,a,r),o=!0},p(t,r){if(3&r){i=ensure_array_like(rootScope.sortDataByActiveFilter(t[0],"tour_title",t[1]));let e;for(e=0;e<i.length;e+=1){var o=get_each_context$2(t,i,e);n[e]?(n[e].p(o,r),transition_in(n[e],1)):(n[e]=create_each_block$2(o),n[e].c(),transition_in(n[e],1),n[e].m(a.parentNode,a))}for(group_outros(),e=i.length;e<n.length;e+=1)(e=>transition_out(n[e],1,1,()=>{n[e]=null}))(e);check_outros()}},i(e){if(!o){for(let e=0;e<i.length;e+=1)transition_in(n[e]);o=!0}},o(e){n=n.filter(Boolean);for(let e=0;e<n.length;e+=1)transition_out(n[e]);o=!1},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block$5(e){let r,o,a,i=rootScope.svgs.no_guides_image+"",n,s,l,c,d;return{c(){r=element("div"),o=element("div"),a=element("div"),n=space(),s=element("div"),(l=element("div")).textContent=""+rootScope.labels.noGuideAvailableFor,c=space(),(d=element("div")).textContent=""+rootScope.labels.tryModifyingYourSearch,attr(a,"class","mgPlayerJSProd_no-guide-found-search-icon"),attr(o,"class","mgPlayerJSProd_no-guide-image-wrapper mgPlayerJSProd_no-guide-search-wrapper"),attr(l,"class","mgPlayerJSProd_no-guide-msg"),attr(l,"tabindex","0"),attr(d,"class","mgPlayerJSProd_instruction-add-category"),attr(d,"tabindex","0"),attr(s,"class","mgPlayerJSProd_no-guide-text-wrapper mgPlayerJSProd_no-guide-text-search-wrapper "),attr(r,"class","no-tour-message-wrapper mgPlayerJSProd_position-center"),toggle_class(r,"mgPlayerJSProd_margin-t-50",!GmCXt.getAppSetting("isMiniPlayer"))},m(e,t){insert(e,r,t),append(r,o),append(o,a),a.innerHTML=i,append(r,n),append(r,s),append(s,l),append(s,c),append(s,d)},p:noop,i:noop,o:noop,d(e){e&&detach(r)}}}function create_each_block$2(e){let r,o,a,i;return o=new TourView({props:{tour:e[9]}}),{c(){r=element("div"),create_component(o.$$.fragment),a=space(),attr(r,"class","tour-item mgPlayerJSProd_guide-list-view "+(rootScope.isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")),attr(r,"aria-live",rootScope.labels.searchResult)},m(e,t){insert(e,r,t),mount_component(o,r,null),append(r,a),i=!0},p(e,t){var r={};3&t&&(r.tour=e[9]),o.$set(r)},i(e){i||(transition_in(o.$$.fragment,e),i=!0)},o(e){transition_out(o.$$.fragment,e),i=!1},d(e){e&&detach(r),destroy_component(o)}}}function create_fragment$7(e){let o,a,i,r,n=[create_if_block$5,create_else_block$1],s=[];function l(e){return e[0].length<1?0:1}return a=l(e),i=s[a]=n[a](e),{c(){o=element("div"),i.c(),attr(o,"class","search-list")},m(e,t){insert(e,o,t),s[a].m(o,null),r=!0},p(e,[t]){let r=a;(a=l(e))===r?s[a].p(e,t):(group_outros(),transition_out(s[r],1,1,()=>{s[r]=null}),check_outros(),(i=s[a])?i.p(e,t):(i=s[a]=n[a](e)).c(),transition_in(i,1),i.m(o,null))},i(e){r||(transition_in(i),r=!0)},o(e){transition_out(i),r=!1},d(e){e&&detach(o),s[a].d()}}}function instance$7(e,t,r){let o;GmCXt.user;function a(){var e=mg$$1(".guide-view-header-panel-container").innerHeight()?mg$$1(".guide-view-header-panel-container").innerHeight():0,t=mg$$1(".list-page-header").innerHeight()?mg$$1(".list-page-header").innerHeight():0,r=mg$$1("#ege-header").innerHeight()?mg$$1("#ege-header").innerHeight():0,o=mg$$1(".ege-panel-header-sub-menu-urls").innerHeight()?mg$$1(".ege-panel-header-sub-menu-urls").innerHeight():0,a=mg$$1("#footer").innerHeight()?mg$$1("#footer").innerHeight():0;mg$$1(".search-list").css({height:window.innerHeight-e-a-o-t-r})}let i,n;GmCXt.getLXPLang()&&(n=GmCXt.getLXPLang()),Gm.CurrentPage.subscribe(e=>{}),Gm.searchTours.subscribe(e=>{e&&r(0,o=rootScope.getTranslatedTours(e,n))}),Gm.selectedLang.subscribe(e=>{GmCXt.getLXPLang()||(n=e),r(0,o=rootScope.getTranslatedTours(o,n))}),Gm.activeSortFilterStore.subscribe(e=>{r(1,i=e)});return setTimeout(function(){a()},100),mg$$1(window).off("resize").on("resize",a),onMount(()=>{a()}),[o,i]}class SearchPage extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$7,safe_not_equal,{})}}function get_each_context$1(e,t,r){e=e.slice();return e[14]=t[r],e}function create_if_block$4(e){let o,a,i,n;return a=new TourView({props:{tour:e[14]}}),{c(){o=element("div"),create_component(a.$$.fragment),attr(o,"class",i="tour-item mgPlayerJSProd_guide-list-view "+(e[0].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":""))},m(e,t){insert(e,o,t),mount_component(a,o,null),n=!0},p(e,t){var r={};2&t&&(r.tour=e[14]),a.$set(r),(!n||1&t&&i!==(i="tour-item mgPlayerJSProd_guide-list-view "+(e[0].isMicroPlayer?"mgPlayerJSProd_guide-list-view-mplayer":"")))&&attr(o,"class",i)},i(e){n||(transition_in(a.$$.fragment,e),n=!0)},o(e){transition_out(a.$$.fragment,e),n=!1},d(e){e&&detach(o),destroy_component(a)}}}function create_each_block$1(e){let r,o,a="smartTip"!=e[14].tour_type&&create_if_block$4(e);return{c(){a&&a.c(),r=empty()},m(e,t){a&&a.m(e,t),insert(e,r,t),o=!0},p(e,t){"smartTip"!=e[14].tour_type?a?(a.p(e,t),2&t&&transition_in(a,1)):((a=create_if_block$4(e)).c(),transition_in(a,1),a.m(r.parentNode,r)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(e){o||(transition_in(a),o=!0)},o(e){transition_out(a),o=!1},d(e){e&&detach(r),a&&a.d(e)}}}function create_fragment$6(t){let a,i,r,o,n=ensure_array_like(t[1]),s=[];for(let e=0;e<n.length;e+=1)s[e]=create_each_block$1(get_each_context$1(t,n,e));return{c(){a=element("div");for(let e=0;e<s.length;e+=1)s[e].c();i=space(),attr(r=element("div"),"class","ege-clear"),attr(a,"class","category-list")},m(e,t){insert(e,a,t);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(a,null);append(a,i),append(a,r),o=!0},p(t,[r]){if(3&r){n=ensure_array_like(t[1]);let e;for(e=0;e<n.length;e+=1){var o=get_each_context$1(t,n,e);s[e]?(s[e].p(o,r),transition_in(s[e],1)):(s[e]=create_each_block$1(o),s[e].c(),transition_in(s[e],1),s[e].m(a,i))}for(group_outros(),e=n.length;e<s.length;e+=1)(e=>transition_out(s[e],1,1,()=>{s[e]=null}))(e);check_outros()}},i(e){if(!o){for(let e=0;e<n.length;e+=1)transition_in(s[e]);o=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)transition_out(s[e]);o=!1},d(e){e&&detach(a),destroy_each(s,e)}}}let limit=50;function instance$6(e,t,r){rootScope.filterByPublishedGuides,rootScope.currentUserFilter,rootScope.currentAssigneeFilter,rootScope.currentView="filter-list";function o(t){Gm.loading.set(!0);var e={limit:limit,offset:a};e.my_guides=rootScope.user.user_id,GmCXt.getLXPLang()&&(e.language=GmCXt.getLXPLang()),api.getTourList(e,function(e){d(t,e)})}let a=0,i=0,n=[],s=!0,l=rootScope.activeTourId,c=(l=l||0,Gm.MyGuidePageTours.subscribe(e=>{r(1,n=e)})),d=(onDestroy(()=>()=>{c()}),o(0),function(e,t){(t=rootScope.getTranslatedTours(t))&&0<t.length&&(r(1,n=e?mg$$1.merge(n,t):t),Gm.MyGuidePageTours.set(n),i=t.length),s=!0,n.forEach(function(e){e.tour_id===l&&(e.screencastInProgress=!0)}),Gm.MyGuidePageTours.set(n),p()}),p=(mg$$1(".category-list").off("scroll").on("scroll",function(){if(!s)return!0;mg$$1(this).scrollTop()+mg$$1(this).innerHeight()>=mg$$1(this)[0].scrollHeight-20&&mg$$1(this)[0].scrollHeight+20>mg$$1(this).innerHeight()&&(s=!1,i===limit)&&(Gm.loading.set(!0),a+=limit,o(1))}),function(){var e=mg$$1(".list-page-header").innerHeight()?mg$$1(".list-page-header").innerHeight():0,t=mg$$1("#ege-header").innerHeight()?mg$$1("#ege-header").innerHeight():0,r=mg$$1(".ege-panel-header-sub-menu-urls").innerHeight()?mg$$1(".ege-panel-header-sub-menu-urls").innerHeight():0,o=mg$$1("#footer").innerHeight()?mg$$1("#footer").innerHeight():0;mg$$1(".category-list").css({height:window.innerHeight-o-r-e-t})});return mg$$1(window).off("resize").on("resize",p),[rootScope,n]}class MyGuides extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{})}}function create_if_block_17(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_16(e){let r,o,a;return o=new Empty({props:{currentPageRoute:0<e[2].length&&"stepview"!==e[0]?"categorylist":e[0]}}),{c(){r=element("div"),create_component(o.$$.fragment),attr(r,"class","mgPlayerJSProd_float-right mgPlayerJSProd_margin-lr-5")},m(e,t){insert(e,r,t),mount_component(o,r,null),a=!0},p(e,t){var r={};5&t&&(r.currentPageRoute=0<e[2].length&&"stepview"!==e[0]?"categorylist":e[0]),o.$set(r)},i(e){a||(transition_in(o.$$.fragment,e),a=!0)},o(e){transition_out(o.$$.fragment,e),a=!1},d(e){e&&detach(r),destroy_component(o)}}}function create_if_block_15(e){let r,o;return r=new StepHeader({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_13(e){var t="tour-view"!=get_store_value(Gm.activeView)&&"chatbot"!=get_store_value(Gm.activeView)&&"login-view"!=get_store_value(Gm.activeView)&&"forgot-password-view"!=get_store_value(Gm.activeView)&&"task-status-list"!=get_store_value(Gm.activeView)&&"insights-tag-view"!=get_store_value(Gm.activeView)&&"add-guide"!=get_store_value(Gm.activeView)&&"add-category"!=get_store_value(Gm.activeView)&&"add-smartTip"!=get_store_value(Gm.activeView)&&"change-password-view"!=get_store_value(Gm.activeView)&&"survey-step"!=get_store_value(Gm.activeView)&&"bot-conv-step"!=get_store_value(Gm.activeView)&&"video-step"!==rootScope.currentView&&(rootScope.FT.creatorApp||rootScope.showAppSwitcher&&1<rootScope.user.app_access.length)&&!rootScope.maintenance;let r,o,a=t&&create_if_block_14();return{c(){a&&a.c(),r=empty()},m(e,t){a&&a.m(e,t),insert(e,r,t),o=!0},i(e){o||(transition_in(a),o=!0)},o(e){transition_out(a),o=!1},d(e){e&&detach(r),a&&a.d(e)}}}function create_if_block_14(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_else_block(e){let o,a,r,i,n,s,l,c,d=(r=new Filter({}),[create_if_block_8$1,create_if_block_9$1,create_if_block_10$1,create_if_block_11$1,create_if_block_12]),p=[];function u(e){return"currentpage"===e[0]?0:"myguides"===e[0]?1:"allguides"==e[0]?2:"allguidesSearchPage"==e[0]||"currentPageSearchPage"==e[0]?3:"listView"==e[0]?4:-1}return~(n=u(e))&&(s=p[n]=d[n](e)),{c(){o=element("div"),a=element("div"),create_component(r.$$.fragment),i=space(),s&&s.c(),attr(a,"class","tour-list-page-container"),attr(o,"id","home-page-container"),attr(o,"class",l="ege-panel-main-container home-page-container "+("allguidesSearchPage"==e[0]||"currentPageSearchPage"==e[0]?"search-page-container":""))},m(e,t){insert(e,o,t),append(o,a),mount_component(r,a,null),append(a,i),~n&&p[n].m(a,null),c=!0},p(e,t){let r=n;(n=u(e))!==r&&(s&&(group_outros(),transition_out(p[r],1,1,()=>{p[r]=null}),check_outros()),~n?((s=p[n])||(s=p[n]=d[n](e)).c(),transition_in(s,1),s.m(a,null)):s=null),(!c||1&t&&l!==(l="ege-panel-main-container home-page-container "+("allguidesSearchPage"==e[0]||"currentPageSearchPage"==e[0]?"search-page-container":"")))&&attr(o,"class",l)},i(e){c||(transition_in(r.$$.fragment,e),transition_in(s),c=!0)},o(e){transition_out(r.$$.fragment,e),transition_out(s),c=!1},d(e){e&&detach(o),destroy_component(r),~n&&p[n].d()}}}function create_if_block_6$3(e){let r,o,a,i,n=(o=new StepContainer({}),"addLinkGuide"==e[0]&&create_if_block_7$2());return{c(){r=element("div"),create_component(o.$$.fragment),a=space(),n&&n.c(),attr(r,"id","tour-view-page-container"),attr(r,"class","ege-panel-main-container tour-view-page-container")},m(e,t){insert(e,r,t),mount_component(o,r,null),append(r,a),n&&n.m(r,null),i=!0},p(e,t){"addLinkGuide"==e[0]?n?1&t&&transition_in(n,1):((n=create_if_block_7$2()).c(),transition_in(n,1),n.m(r,null)):n&&(group_outros(),transition_out(n,1,1,()=>{n=null}),check_outros())},i(e){i||(transition_in(o.$$.fragment,e),transition_in(n),i=!0)},o(e){transition_out(o.$$.fragment,e),transition_out(n),i=!1},d(e){e&&detach(r),destroy_component(o),n&&n.d()}}}function create_if_block_5$3(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},p:noop,i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_4$3(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},p:noop,i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_3$3(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},p:noop,i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_2$3(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},p:noop,i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_1$4(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},p:noop,i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block$3(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},p:noop,i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_12(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_11$1(e){let r,o;return r=new SearchPage({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_10$1(e){let r,o;return r=new AllGuide({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_9$1(e){let r,o;return r=new MyGuides({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_8$1(e){let r,o;return r=new CurrentPage({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_7$2(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_key_block$1(e){let o,a,r,i,n,s="addCategory"!==e[0]&&"addGuide"!==e[0]&&"addSurveyStep"!==e[0]&&"addVideoStep"!==e[0]&&"addTextSlideStep"!==e[0]&&"copySteps"!==e[0]&&!("stepview"==e[0]&&GmCXt.containBranchStep(e[4])),l,c,d,p,u,g,m,h,_,f,y,S,P,v=e[1]&&create_if_block_17(),b=(i=new UserMenu({}),s&&create_if_block_16(e)),C=("stepview"==e[0]||"addLinkGuide"==e[0]||"copySteps"==e[0])&&create_if_block_15(),w="addCategory"!==e[0]&&"addGuide"!==e[0]&&"stepview"!==e[0]&&"addSurveyStep"!==e[0]&&"addLinkGuide"!==e[0]&&"addVideoStep"!==e[0]&&"addTextSlideStep"!==e[0]&&"copySteps"!==e[0]&&create_if_block_13(),k=[create_if_block$3,create_if_block_1$4,create_if_block_2$3,create_if_block_3$3,create_if_block_4$3,create_if_block_5$3,create_if_block_6$3,create_else_block],x=[];function T(e,t){return(p=null==(p=1&t?null:p)?!(!rootScope.isOwnerOrAppAdmin()||"appsettings"!=e[0]):p)?0:"addCategory"==e[0]?1:"addGuide"==e[0]?2:"addSurveyStep"==e[0]?3:"addVideoStep"==e[0]?4:"addTextSlideStep"==e[0]?5:"stepview"==e[0]||"addLinkGuide"==e[0]||"copySteps"==e[0]?6:7}return u=T(e,-1),g=x[u]=k[u](e),S=new Footer({}),{c(){o=element("div"),v&&v.c(),a=space(),r=element("div"),create_component(i.$$.fragment),n=space(),b&&b.c(),l=space(),C&&C.c(),c=space(),w&&w.c(),d=space(),g.c(),m=space(),h=element("div"),_=space(),f=element("div"),y=space(),create_component(S.$$.fragment),attr(r,"class","mgPlayerJSProd_panel-header-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between "+(GmCXt.getAppSetting("isMiniPlayer")?"mgPlayerJSProd_br-white mgPlayerJSProd_panel-header-micro-wrapper":"")),attr(o,"id","ege-header"),attr(o,"class","ege-panel-header"),attr(h,"id","add-branch-view"),attr(f,"id","add-history-view")},m(e,t){insert(e,o,t),v&&v.m(o,null),append(o,a),append(o,r),mount_component(i,r,null),append(o,n),b&&b.m(o,null),append(o,l),C&&C.m(o,null),append(o,c),w&&w.m(o,null),insert(e,d,t),x[u].m(e,t),insert(e,m,t),insert(e,h,t),insert(e,_,t),insert(e,f,t),insert(e,y,t),mount_component(S,e,t),P=!0},p(e,t){e[1]?v?2&t&&transition_in(v,1):((v=create_if_block_17()).c(),transition_in(v,1),v.m(o,a)):v&&(group_outros(),transition_out(v,1,1,()=>{v=null}),check_outros()),(s=17&t?"addCategory"!==e[0]&&"addGuide"!==e[0]&&"addSurveyStep"!==e[0]&&"addVideoStep"!==e[0]&&"addTextSlideStep"!==e[0]&&"copySteps"!==e[0]&&!("stepview"==e[0]&&GmCXt.containBranchStep(e[4])):s)?b?(b.p(e,t),17&t&&transition_in(b,1)):((b=create_if_block_16(e)).c(),transition_in(b,1),b.m(o,l)):b&&(group_outros(),transition_out(b,1,1,()=>{b=null}),check_outros()),"stepview"==e[0]||"addLinkGuide"==e[0]||"copySteps"==e[0]?C?1&t&&transition_in(C,1):((C=create_if_block_15()).c(),transition_in(C,1),C.m(o,c)):C&&(group_outros(),transition_out(C,1,1,()=>{C=null}),check_outros()),"addCategory"!==e[0]&&"addGuide"!==e[0]&&"stepview"!==e[0]&&"addSurveyStep"!==e[0]&&"addLinkGuide"!==e[0]&&"addVideoStep"!==e[0]&&"addTextSlideStep"!==e[0]&&"copySteps"!==e[0]?w?1&t&&transition_in(w,1):((w=create_if_block_13()).c(),transition_in(w,1),w.m(o,null)):w&&(group_outros(),transition_out(w,1,1,()=>{w=null}),check_outros());let r=u;(u=T(e,t))===r?x[u].p(e,t):(group_outros(),transition_out(x[r],1,1,()=>{x[r]=null}),check_outros(),(g=x[u])?g.p(e,t):(g=x[u]=k[u](e)).c(),transition_in(g,1),g.m(m.parentNode,m))},i(e){P||(transition_in(v),transition_in(i.$$.fragment,e),transition_in(b),transition_in(C),transition_in(w),transition_in(g),transition_in(S.$$.fragment,e),P=!0)},o(e){transition_out(v),transition_out(i.$$.fragment,e),transition_out(b),transition_out(C),transition_out(w),transition_out(g),transition_out(S.$$.fragment,e),P=!1},d(e){e&&(detach(o),detach(d),detach(m),detach(h),detach(_),detach(f),detach(y)),v&&v.d(),destroy_component(i),b&&b.d(),C&&C.d(),w&&w.d(),x[u].d(e),destroy_component(S,e)}}}function create_fragment$5(e){let r=e[3],o,a,i=create_key_block$1(e);return{c(){i.c(),o=empty()},m(e,t){i.m(e,t),insert(e,o,t),a=!0},p(e,[t]){8&t&&safe_not_equal(r,r=e[3])?(group_outros(),transition_out(i,1,1,noop),check_outros(),(i=create_key_block$1(e)).c(),transition_in(i,1),i.m(o.parentNode,o)):i.p(e,t)},i(e){a||(transition_in(i),a=!0)},o(e){transition_out(i),a=!1},d(e){e&&detach(o),i.d(e)}}}function instance$5(e,t,r){let o="",a=!1,i=[],n=0;let s=Gm.breadCrumb.subscribe(e=>{!1===e&&Gm.breadCrumb.set([]),r(2,i=e),storage$1.breadCrumb.set(e)}),l=(Gm.statusBar.subscribe(e=>{r(1,a=!1),setTimeout(()=>{r(1,a=!0)},10)}),Gm.CurrentPage.subscribe(e=>{var t=o;""!==e&&t===e&&r(3,n+=1),""!==e&&(r(0,o=e),"stepview"!==e&&"allguides"!==e&&"myguides"!==e&&"currentpage"!==e||storage$1.currentPage.set(e))})),c=null,d=Gm.currentTour.subscribe(e=>{r(4,c=e),storage$1.currentTour.set(e)});return onMount(()=>{var e;r(2,i=get_store_value(Gm.breadCrumb)),r(0,o=get_store_value(Gm.CurrentPage)),o&&!1!==o||(!rootScope.FT.isPlayer&&rootScope.allGuideView?rootScope.setCurrentPage("allguides"):rootScope.setCurrentPage("currentpage")),r(4,c=get_store_value(Gm.currentTour)),0<i.length&&(e={parent:e=i[i.length-1],hasTour:e.has_tour,hasChild:e.has_child},e=new CustomEvent("forwardTraversal",{detail:e}),rootScope.dispatchEvent(e))}),onDestroy(()=>()=>{s(),l(),d()}),[o,a,i,n,c]}class Home extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{})}}function create_if_block_1$3(t){let r,o,a=t[0].labels.captchaLbl+"",i,n,s,l,c,d,p;function e(e){t[12](e)}function u(e){t[13](e)}function g(e){t[14](e)}var m={};return void 0!==t[2]&&(m.captchaValid=t[2]),void 0!==t[3]&&(m.showCaptchaError=t[3]),void 0!==t[4]&&(m.inputCaptchaRef=t[4]),s=new Captcha({props:m}),binding_callbacks.push(()=>bind(s,"captchaValid",e)),binding_callbacks.push(()=>bind(s,"showCaptchaError",u)),binding_callbacks.push(()=>bind(s,"inputCaptchaRef",g)),{c(){r=element("div"),o=element("div"),i=text(a),n=space(),create_component(s.$$.fragment),attr(o,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),attr(r,"class","mgPlayerJSProd_margin-tb-10")},m(e,t){insert(e,r,t),append(r,o),append(o,i),append(r,n),mount_component(s,r,null),p=!0},p(e,t){(!p||1&t)&&a!==(a=e[0].labels.captchaLbl+"")&&set_data(i,a);var r={};!l&&4&t&&(l=!0,r.captchaValid=e[2],add_flush_callback(()=>l=!1)),!c&&8&t&&(c=!0,r.showCaptchaError=e[3],add_flush_callback(()=>c=!1)),!d&&16&t&&(d=!0,r.inputCaptchaRef=e[4],add_flush_callback(()=>d=!1)),s.$set(r)},i(e){p||(transition_in(s.$$.fragment,e),p=!0)},o(e){transition_out(s.$$.fragment,e),p=!1},d(e){e&&detach(r),destroy_component(s)}}}function create_fragment$4(r){let o,a,i,n,s=r[0].labels.forgetPassTitl+"",l,F,c,d,p,u,g,m,h=r[0].labels.placeholderEmail+"",_,O,f,y,H,S,P=r[0].labels.emailError+"",v,R,N,b,C,w=r[0].labels.forgetPassTitl+"",k,x,T,B,A,$,L=r[0].labels.backToLogin+"",J,G,V,E,M,I,X,U,D=(o=new Header({}),!GmCXt.conf.hideCaptcha&&create_if_block_1$3(r));return M=new Footer({}),{c(){create_component(o.$$.fragment),a=space(),i=element("div"),n=element("h2"),l=text(s),F=space(),c=element("div"),d=element("form"),p=element("div"),u=element("div"),g=element("div"),m=element("div"),_=text(h),O=space(),f=element("input"),H=space(),S=element("div"),v=text(P),R=space(),D&&D.c(),N=space(),b=element("div"),C=element("button"),k=text(w),B=space(),A=element("div"),$=element("button"),J=text(L),V=space(),E=space(),create_component(M.$$.fragment),attr(n,"class","mgPlayerJSProd_font-size-24 mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-25"),attr(m,"class","mgPlayerJSProd_text-align-left mgPlayerJSProd_login-field-label"),attr(f,"id","mgPlayerJSProd_input-forgot-email"),attr(f,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_font-size-16 mgPlayerJSProd_inline-block-vm"),attr(f,"maxlength","50"),attr(f,"spellcheck","true"),attr(f,"type","email"),attr(f,"placeholder",y=r[0].labels.placeholderEmail),attr(f,"name","email"),attr(f,"aria-describedby","mgPlayerJSProd_input-forgot-email-err-msg"),attr(f,"autocomplete","email"),attr(f,"aria-label","Email ID"),f.required=!0,attr(S,"id","mgPlayerJSProd_input-forgot-email-err-msg"),attr(S,"class","error-input-wrapper"),toggle_class(S,"active",r[7]),attr(g,"class","mgPlayerJSProd_input-email-wrapper mgPlayerJSProd_margin-tb-10"),attr(u,"class","mgPlayerJSProd_signin-form-input"),attr(C,"id","mgPlayerJSProd_btn-reset-pass"),attr(C,"type","button"),attr(C,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_font-size-15"),attr(C,"aria-disabled",x=r[7]||!r[2]),attr(C,"aria-label",T=r[0].labels.forgetPassTitl),attr(b,"class","mgPlayerJSProd_btn-login-wrapper mgPlayerJSProd_text-align-center"),attr($,"id","mgPlayerJSProd_label-forgot-back-to-login"),attr($,"class","mgPlayerJSProd_lbl-btn mgPlayerJSProd_back-to-login mgPlayerJSProd_theme-color mgPlayerJSProd_text-align-center mgPlayerJSProd_cursor-pointer mgPlayerJSProd_font-weight-550 mgPlayerJSProd_inline-block-vm"),attr($,"type","button"),attr($,"aria-label",G=r[0].labels.backToLogin),attr(A,"class","mgPlayerJSProd_width-100 mgPlayerJSProd_text-align-center"),attr(p,"class","mgPlayerJSProd_signin-form-container"),attr(d,"name","forgotPasswordForm"),d.noValidate=!0,attr(d,"autocomplete","off"),attr(c,"class","mgPlayerJSProd_signin-page-wrapper"),attr(i,"class","ege-panel-main-container mgPlayerJSProd_signin-page-container forgot-password-page-container")},m(e,t){mount_component(o,e,t),insert(e,a,t),insert(e,i,t),append(i,n),append(n,l),append(i,F),append(i,c),append(c,d),append(d,p),append(p,u),append(u,g),append(g,m),append(m,_),append(g,O),append(g,f),set_input_value(f,r[1]),r[11](f),append(g,H),append(g,S),append(S,v),append(u,R),D&&D.m(u,null),append(p,N),append(p,b),append(b,C),append(C,k),append(p,B),append(p,A),append(A,$),append($,J),append(i,V),insert(e,E,t),mount_component(M,e,t),I=!0,X||(U=[listen(f,"input",r[10]),listen(C,"click",r[9]),listen($,"click",function(){is_function(r[0].goToLogin)&&r[0].goToLogin.apply(this,arguments)})],X=!0)},p(e,[t]){r=e,(!I||1&t)&&s!==(s=r[0].labels.forgetPassTitl+"")&&set_data(l,s),(!I||1&t)&&h!==(h=r[0].labels.placeholderEmail+"")&&set_data(_,h),(!I||1&t&&y!==(y=r[0].labels.placeholderEmail))&&attr(f,"placeholder",y),2&t&&f.value!==r[1]&&set_input_value(f,r[1]),(!I||1&t)&&P!==(P=r[0].labels.emailError+"")&&set_data(v,P),(!I||128&t)&&toggle_class(S,"active",r[7]),GmCXt.conf.hideCaptcha||D.p(r,t),(!I||1&t)&&w!==(w=r[0].labels.forgetPassTitl+"")&&set_data(k,w),(!I||132&t&&x!==(x=r[7]||!r[2]))&&attr(C,"aria-disabled",x),(!I||1&t&&T!==(T=r[0].labels.forgetPassTitl))&&attr(C,"aria-label",T),(!I||1&t)&&L!==(L=r[0].labels.backToLogin+"")&&set_data(J,L),(!I||1&t&&G!==(G=r[0].labels.backToLogin))&&attr($,"aria-label",G)},i(e){I||(transition_in(o.$$.fragment,e),transition_in(D),transition_in(M.$$.fragment,e),I=!0)},o(e){transition_out(o.$$.fragment,e),transition_out(D),transition_out(M.$$.fragment,e),I=!1},d(e){e&&(detach(a),detach(i),detach(E)),destroy_component(o,e),r[11](null),D&&D.d(),destroy_component(M,e),X=!1,run_all(U)}}}function instance$4(e,t,r){let o="",a=!1,i=!1,n,s,l,c;rootScope.currentView="forgot-password-view";let d;function p(){var e={email:o};Gm.loading.set(!0),api.forgetPassword(e,function(e){var t=rootScope.labels.otpSentDesc+" "+GmCXt.conf.adminEmail;modal.open(t,"info",function(){rootScope.goToLogin()},!1,!1,!1,rootScope.labels.forgetPassTitl)},function(e){rootScope.showPopup(e.message)})}return[rootScope,o,a,i,n,"","",!1,d,function(){r(3,i=!1),r(7,c=!1),a||GmCXt.conf.hideCaptcha?""!==o.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(o)?p():(r(7,!0),d?.focus()):(r(3,i=!0),n?.focus())},function(){o=this.value,r(1,o)},function(e){binding_callbacks[e?"unshift":"push"](()=>{d=e,r(8,d)})},function(e){a=e,r(2,a)},function(e){i=e,r(3,i)},function(e){n=e,r(4,n)},function(){o=this.value,r(1,o)},function(){o=this.value,r(1,o)},function(){s=this.value,r(5,s)},function(){l=this.value,r(6,l)}]}class ForgotPwd extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{})}}function create_fragment$3(r){let o,a,i,n,s,l,c,d,p,u,g=r[0].svgs.iconBack+"",m,h,_,f=r[0].labels.back+"",y,S,P,v,b=r[0].labels.chatbot+"",C,w,k,x,T,A,$,L,J,G,E,M;return n=new UserMenu({}),J=new Footer({}),{c(){o=element("div"),a=element("div"),i=element("div"),create_component(n.$$.fragment),s=space(),l=element("div"),c=element("div"),d=element("div"),p=element("div"),u=element("div"),m=space(),h=element("div"),_=element("div"),y=text(f),S=space(),P=element("div"),v=element("span"),C=text(b),w=space(),k=element("div"),x=space(),T=element("div"),A=space(),($=element("div")).innerHTML='<div id="botdiv"></div> <div id="div_bottom"></div>',L=space(),create_component(J.$$.fragment),attr(i,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_width-100"),attr(a,"class","mgPlayerJSProd_panel-header-wrapper mgPlayerJSProd_width-100 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),toggle_class(a,"mgPlayerJSProd_bg-white",GmCXt.getAppSetting("isMiniPlayer")),toggle_class(a,"mgPlayerJSProd_panel-header-micro-wrapper",GmCXt.getAppSetting("isMiniPlayer")),attr(o,"id","ege-header"),attr(o,"class","ege-panel-header"),attr(u,"class","ege-inline-block-vm"),attr(_,"class","mgPlayerJSProd_tooltip-title"),attr(h,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-left"),attr(p,"class","ege-inline-block-vm mgPlayerJSProd_chat-back-btn mgPlayerJSProd_position-relative"),attr(v,"class","mychat-label ege-inline-block-vt"),attr(P,"class","chatbot-add-icon ege-inline-block-div"),attr(k,"class","ege-clear"),attr(T,"class","ege-clear"),attr(c,"class","mgPlayerJSProd_chat-page-header list-page-header"),toggle_class(c,"mgPlayerJSProd_chat-page-header-miniplayer",GmCXt.getAppSetting("isMiniPlayer")),attr($,"id","uilb-main-container"),attr($,"scroll-bottom","uilb-main-container"),attr($,"class","uilb-main-container"),attr(l,"id","chatbot-page-container"),attr(l,"class","ege-panel-main-container mgPlayerJSProd_chatbot-page-container")},m(e,t){insert(e,o,t),append(o,a),append(a,i),mount_component(n,i,null),insert(e,s,t),insert(e,l,t),append(l,c),append(c,d),append(d,p),append(p,u),u.innerHTML=g,append(p,m),append(p,h),append(h,_),append(_,y),append(d,S),append(d,P),append(P,v),append(v,C),append(d,w),append(d,k),append(d,x),append(d,T),append(l,A),append(l,$),append(l,L),mount_component(J,l,null),G=!0,E||(M=listen(p,"click",r[1]),E=!0)},p(e,t){(!G||1&t[0])&&g!==(g=e[0].svgs.iconBack+"")&&(u.innerHTML=g),(!G||1&t[0])&&f!==(f=e[0].labels.back+"")&&set_data(y,f),(!G||1&t[0])&&b!==(b=e[0].labels.chatbot+"")&&set_data(C,b)},i(e){G||(transition_in(n.$$.fragment,e),transition_in(J.$$.fragment,e),G=!0)},o(e){transition_out(n.$$.fragment,e),transition_out(J.$$.fragment,e),G=!1},d(e){e&&(detach(o),detach(s),detach(l)),destroy_component(n),destroy_component(J),E=!1,M()}}}function onRemoveElement(e){e=e.parentElement;null!==e.parentElement&&e.parentElement.removeChild(e)}function addRangeQuestion(t){var r=[];for(let e=t.options[0];e<=t.options[1];e++)r.push({text:e,value:e,cssClass:"animated fadeInRight uilb-button-opt-range"});return r}function addRateQuestion(t){var r=[];for(let e=t.options[0];e<=t.options[1];e++)r.push({id:"mgPlayerJSProd_rate-"+e,text:"&#9733;",value:e,cssClass:"animated fadeInRight uilb-button-opt-range"});return r}function addRateAnswer(t,r){let o="<wmgPlayerJSProd_ class='mgPlayerJSProd_rating' style='font-size:20px;'>";for(let e=t.options[0];e<=t.options[1];e++){var a="mgPlayerJSProd_lbl-btn mgPlayerJSProd_stars-rate";e<parseInt(r)+1?o+="<button class='"+a+"' id='mgPlayerJSProd_rate-"+e+"' aria-label='rate' >&#9733;</button>":o+="<button class='"+a+"' id='mgPlayerJSProd_rate-"+e+"' aria-label='rate' >&#9734;</button>"}return o+="</wmgPlayerJSProd_>"}function filterTourBytext(e,t){return e.filter(function(e){if(-1!==e.tour_title.toLowerCase().indexOf(t.toLowerCase()))return e})}function instance$3(e,t,r){class o{constructor(e){this.domNode=e,this.domNode.classList.add("uilb")}createtypingodots(){var e=document.createElement("div"),t=(e.setAttribute("class","typing-indicator animated fadeInLeft"),document.createElement("uilb-span")),r=document.createElement("uilb-span"),o=document.createElement("uilb-span");return e.appendChild(t),e.appendChild(r),e.appendChild(o),this.domNode.appendChild(e),e}createContainer({human:e,cssClass:t,delay:r,resolve:o}){let a=document.createElement("div");return a.className=`uilb-container ${e?"human":"bot"} `+t,a.style.opacity=0,a.style.transform=`translateX(${e?"":"-"}8%)`,setTimeout(()=>{this.domNode.appendChild(a)},r),setTimeout(()=>{a.style.opacity=1,a.style.transform="translateX(0)",o&&o(a)},r+200),a}htmlToText(e){return e?String(e).replace(/<[^>]+>/gm,""):""}message({id:o,content:a,cssClass:i,delay:n,human:s,isHtmlContent:l}){return new Promise((e,t)=>{var e=this.createContainer({human:s,cssClass:i,delay:n,isHtmlContent:l,resolve:e}),r=document.createElement("div");""!==o&&r.setAttribute("id",o),r.className=`uilb-message showtextdelay  ${s?"human":"bot"} `+i,"msg_search"===o||"msg-vid"===o||l?r.innerHTML=l?a:this.htmlToText(a):(r.innerHTML=""===a?"<div id='wave'><span class='dot'></span><span class='dot'></span><span class='dot'></span></div>":"<div id='hideMe'><div id='wave'><span class='dot'></span><span class='dot'></span><span class='dot'></span></div></div>",r.innerHTML+=this.htmlToText(a)),e.appendChild(r),document.getElementById("uilb-main-container")&&(document.getElementById("uilb-main-container").scrollTop=300)})}action(e){return this[e.type+"Action"](e)}buttonAction({id:s,items:l,delay:c,human:d,cssClass:p}){let u=[];return new Promise((a,e)=>{let i=this.createContainer({human:d,delay:c,cssClass:"no-icon"}),t=(""!==s&&(i.id=s),document.createElement("form"));var r,o;t.className=`uilb-action ${d?"human":"bot"} `+p,t.addEventListener("submit",e=>e.preventDefault()),"uilb-btn-action"===s&&((r=document.createElement("div")).id="uilb-back-chat",r.title="Back",r.setAttribute("class","uilb-action-opt-back"),(o=document.createElement("button")).id="uilb-back-btn",o.className="uilb-back",r.appendChild(o),(o=document.createElement("div")).innerHTML="Back",o.setAttribute("class","uilb-back-label"),r.appendChild(o),t.style="width: 360px;height: 100px;overflow: hidden;",i.appendChild(r));let n=0;l.forEach(r=>{let o=document.createElement("button");""!==r.id&&(o.id=r.id),o.className="uilb-button "+r.cssClass,o.type="button",o.innerHTML=r.text,o.tag=r.tag,"uilb-btn-action"===s&&(o.id="uilb-btnresult"+n,o.style.display=0===n||1===n?"block":"none"),o.title=r.text,o.addEventListener("click",({target:e})=>{if("multiselect"!==r.tag){u&&u.length?a(u):a(r.value),i.style.opacity=0;let e=document.getElementById("uilb-searchagain");e&&"uilb-searchagain"!==o.id&&o.className.includes("uilb-button-opt")?setTimeout(()=>{e.parentElement.removeChild(e),i.parentElement.removeChild(i)},200):setTimeout(()=>this.domNode.removeChild(i),200)}else{var t;u.includes(r.value)?(-1<(t=u.indexOf(r.value))&&u.splice(t,1),e.innerHTML=e.title.replace("&#9989;","&#9744;")):(u.push(r.value),e.innerHTML=e.title.replace("&#9744;","&#9989;"))}}),t.appendChild(o),n+=1}),i.appendChild(t),"uilb-btn-action"===s&&2<n&&((o=document.createElement("div")).id="uilb_totalresult",o.style.fontSize="12px",o.style.marginTop="10px",o.innerHTML="Total Guides: "+n,i.appendChild(o),(r=document.createElement("div")).id="uilb-leftarrow",i.appendChild(r),(o=document.createElement("div")).id="uilb-rightarrow",o.style.display="none",i.appendChild(o))})}textAction({tag:s,validate:l,delay:c,human:d}){return new Promise((e,t)=>{var r=this.createContainer({human:d,delay:c,cssClass:"no-icon"}),o=document.createElement("div"),a=(o.id="uilb-back-chat",o.title="Back",o.setAttribute("class","uilb-action-opt-back"),o.setAttribute("style","margin-left: -60px; margin-top: -10px;"),document.createElement("button")),a=(a.id="uilb-back-btn",a.className="uilb-back",o.appendChild(a),document.createElement("div")),a=(a.innerHTML="Back",a.setAttribute("class","uilb-back-label"),o.appendChild(a),document.createElement("div")),i=(a.className="uilb-text-div",document.createElement("input")),n=(i.className="uilb-text",i.id="txtsearch",i.type="text",i.placeholder="Type here",i.autocomplete="off",i.tag=s,i.validate=l,document.createElement("div"));n.id="uilb-txt-enter",n.className="uilb-enter",a.appendChild(o),a.appendChild(i),a.appendChild(n),r.appendChild(a)})}}function a(){Gm.activeView.set("home"),console.trace()}let i=[],l=(rootScope.botTourPlayList=[],[]),n=[];GmCXt.reduceSidePanel();let u,g,s=0,c=[],d=-1,p=[],m=-1;var h=rootScope.appList["app:"+rootScope.activeAppId].settings;GmCXt.isEmpty(rootScope.chatLabels)&&rootScope.setDefaultChatLabels(),rootScope.getChatLabels(h.chatLabels);let _={noDataFound:"No Data Found"};function f(e,t,r,o,a){return u.message({id:e,content:t,cssClass:r,isHtmlContent:a,delay:o})}function y(e,t){return u.message({human:!0,content:e,cssClass:"animated fadeInRight",isHtmlContent:t,delay:0})}function S(e,t,r,o){return u.action({id:e,type:"button",cssClass:t,items:r,delay:o})}function P(e,t){function r(e){t&&t(e)}var o={},a=(o.conversation_code=e.conversation.conversationCode,o.user=rootScope.user,GmCXt.appList);o.app_code=e.isExit?"":a["app:"+GmCXt.activeAppId].external_id,GmCXt.api.getGetBotConv(o).then(r).catch(function(e){r(!1)})}function v(e,t){if(s!==d){var r=e[d],o=t;switch(r.pageIndex,r.type){case"select":case"yes-no":((a,i)=>{f("",a.question,"animated fadeInLeft",0).then(function(){let o=[];if(a.options&&0<a.options.length){let r="animated fadeInRight uilb-button-opt";"yes-no"===a.type&&(r="animated fadeInUp uilb-button-opt-yesno"),mg$$1.each(a.options,function(e,t){o.push({text:t.option,value:t,cssClass:r}),a.isBranchNode&&p.push(t.nextHopOnBranch)}),S("","animated fadeInRight",o,200).then(function(t){t.optionReferenceLink&&window.open(t.optionReferenceLink,"_blank"),$(a,t.option),y(t.option).then(function(){var e;d<c.length-1?a.isBranchNode?(e=(t=>{let r=-1;for(let e=0;e<c.length;e++)if(c[e].pageIndex===t){r=e;break}return r})(t.nextHopOnBranch),m=t.nextHopOnBranch,d=e,v(c,i)):A(a,i):T()})})}})})(r,o);break;case"multi-select":!function o(a,i){f("",a.question,"animated fadeInLeft",0).then(function(){let r=[];if(a.options&&0<a.options.length){mg$$1.each(a.options,function(e,t){r.push({text:"&#9744; "+t.option,value:t,cssClass:"animated fadeInRight uilb-button-multi-opt",tag:"multiselect"})});let e=[];r.push({text:"Done",value:e,cssClass:"animated fadeInRight uilb-button-multi-opt-done"}),S("mgPlayerJSProd_multi","animated fadeInRight",r,200).then(function(t){let r="";if(t&&t.length){for(let e=0;e<t.length;e++)r=GmCXt.isEmpty(r)?t[e].option:r+" , "+t[e].option;$(a,r),y(r).then(function(){A(a,i)})}else y(rootScope.labels.multiSelectOptionError).then(function(){o(a,i)})})}})}(r,o);break;case"comment":f("",r.question,"animated fadeInLeft",0).then(function(){u.action({type:"text",cssClass:"animated fadeInLeft",delay:100,tag:"comment_"+o.tour_id,validate:r.validateEmail})});break;case"range":f("",r.question,"animated fadeInLeft",0).then(function(){S("uilb-btn-range","animated fadeInRight",addRangeQuestion(r),200).then(function(e){$(r,e),y(e).then(function(){A(r,o)})})});break;case"rating":f("",r.question,"animated fadeInLeft",0).then(function(){S("uilb-btn-rate","animated fadeInRight",addRateQuestion(r),200).then(function(e){$(r,e),y(addRateAnswer(r,e),!0).then(function(){A(r,o)})})})}}}function b(e){var e=GmCXt.getTail(e.step_id,g.tour_settings.play_structure,null,g);e&&(e=GmCXt.getNextBotStepFromTour(e,g))?w(g.steps,e.step_id):T()}function C(t,r){for(let e=0;e<g.steps.length;e++)t.step_id===g.steps[e].step_id&&(g.steps[e].step_settings.automation.defaultData=r,g.steps[e].step_settings.automation.enableDefaultData=!0,g.steps[e].step_settings.automation.hasHumanInteraction=!1)}function w(e,t){let r,o=(r=t||e[0].step_id,GmCXt.getStepFromTourData(r,g));if(o&&o.step_settings&&o.step_settings.automation&&o.step_settings.automation.enableBot&&o.step_settings.automation.botQuestion){t=o.step_settings,e=t.automation.botQuestion;t.element&&t.element.targetInfo&&"SELECT"===t.element.targetInfo.tagName&&t.element.elOptions&&0<t.element.elOptions.length?(d=t.element.elOptions,p=o,f("",e,"animated fadeInLeft",0).then(function(){let r=[];d&&0<d.length&&(mg$$1.each(d,function(e,t){r.push({text:t.name,value:t,cssClass:"animated fadeInRight uilb-button-opt"})}),S("","animated fadeInRight",r,200).then(function(e){C(p,e),y(e.name).then(function(){b(p)})}))})):t.branch&&0<t.branch.length?(l=t.branch,c=o,f("",e,"animated fadeInLeft",0).then(function(){let r=[];l&&0<l.length&&(mg$$1.each(l,function(e,t){r.push({text:t.branchName,value:t,cssClass:"animated fadeInRight uilb-button-opt"})}),S("","animated fadeInRight",r,200).then(function(e){let t=e.tail;var r,o;t||(r=(t=>{let r=g.tour_settings.play_structure,o=null;for(let e=0;e<r.length;e++)parseInt(r[e].id)===parseInt(t)&&(o=r[e]);return o})(c.step_id),o=l.indexOf(e),t=r.branch[o].tail),C(c,e),y(e.branchName).then(function(){var e;t?(e=GmCXt.getNextBotStepFromTour(t,g))?w(g.steps,e.step_id):b(e):T()})}))})):o.step_type!==GmCXt.STEP_TYPE_GUIDE&&f("",e,"animated fadeInLeft",0).then(function(){u.action({type:"text",cssClass:"animated fadeInLeft",delay:100,tag:o})})}else if(o.step_type===GmCXt.STEP_TYPE_GUIDE){var a=o;var i=function(e){w(g.steps,e.step_id)};let r=[];function n(e){g.steps=e,i&&i(r[0])}function s(e){r.length&&(g.tour_settings.play_structure=e,GmCXt.concatLinkGuideSteps(r,g,a.step_id,n))}t={tour_id:a.step_settings.tour_id};GmCXt.apiPlayer&&(t.forceJSONApi=!0),GmCXt.getSteps(t).then(function(e){var t;e&&(t={currentStepId:a.step_id,playStructure:g.tour_settings.play_structure},r=e.steps,GmCXt.updatePlayStructureLinkGuide(e,t,s))})}else if(g.tour_type.includes("onboarding_tour"))if(GmCXt.isEmpty(o.step_settings.tutorialUploadUrl)||"upload"!==g.tour_settings.tutorial_tour_type){let e="<div class='mgPlayerJSProd_chat-tg-content-wrapper'>",t="";o.step_description&&(t=GmCXt.replaceVariableWithValue(GmCXt.updateOrgAndAddSignature(o.step_description))),o&&0<o.step_video&&o.step_video_url?e=e+"<div class='mgPlayerJSProd_chat-guide-info-wrapper mgPlayerJSProd_video-info-wrapper'><video controls autoplay controlsList='nodownload' disablePictureInPicture ><source src='"+o.step_video_url+GmCXt.getCdnSign()+"' type='video/mp4'></video></div>":o&&o.image_url.indexOf("default")<0&&(e=e+"<div class='mgPlayerJSProd_chat-info-wrapper mgPlayerJSProd_img-info-wrapper'><img class='mgPlayerJSProd_chat-tg-image' src='"+o.image_url+GmCXt.getCdnSign()+"' /></div>"),f("",e=e+"<div class='mgPlayerJSProd_chat-tg-step-content' > "+t+" </div></div>","animated fadeInLeft",0,!0).then(function(){b(o)})}else{let e=o.step_settings.tutorialUploadUrl;f("","<a alt='' href='"+(e=-1!==e.indexOf(GmCXt.conf.cdnStorage)?o.step_settings.tutorialUploadUrl+GmCXt.getCdnSign():e)+"' target='_blank' >"+o.step_settings.tutorialUploadUrl+"</a> ","animated fadeInLeft",0,!0).then(function(){b(o)})}else GmCXt.isLastStep(o.step_id,g.tour_settings.play_structure)?T():o&&((e=GmCXt.getNextBotStepFromTour(o.step_id,g))?w(g.steps,e.step_id):T());var l,c,d,p}function k(e){e=rootScope.filterBotGuides(e);if(e&&e.length){i=e;let r=[];mg$$1.each(i,function(e,t){r.push({text:t.tour_title,value:t,cssClass:"animated fadeInRight uilb-button-options"})}),S("","animated fadeInUp",r,200).then(function(e){y((g=e).tour_title).then(function(e){var t={tour_id:g.tour_id,category_id:g.category_id};api.getTour(t,function(e){var t;g=e,GmCXt.containBranchStep(g)||(g.tour_settings.play_structure=GmCXt.buildGuidePlayStructure(g)),rootScope.isBotGuide(g)?(t=g,(e={}).conversation=t.tour_settings.conversation,P(e,function(e){s=e.data.questions.length,c=e.data.questions,d++,v(c,t)})):w(g.steps)})})})}else f("",_.noDataFound,"animated fadeInLeft",100)}function x(){let r=rootScope.readLocalCT(rootScope.pageUrl,GmCXt.pageTitle);if(r&&r.length)k(l=r);else{let t={url:rootScope.pageUrl};api.getContextualTour(t,function(e){GmCXt.log(30,"FETCHED tours from API"),r=rootScope.processContextualGuide(e,t.url),k(l=r)})}}function T(){f("",rootScope.chatLabels.botEndingMessage,"animated fadeInLeft",500).then(function(){S("","animated fadeInUp",[{text:rootScope.labels.btnYes,value:rootScope.labels.btnYes,cssClass:"animated fadeInUp uilb-button-opt-yesno"},{text:rootScope.labels.btnNo,value:rootScope.labels.btnNo,cssClass:"animated fadeInUp uilb-button-opt-yesno"}],100).then(function(e){var t;rootScope.botTourPlayList.push(g),GmCXt.storage().set({botTourPlayList:rootScope.botTourPlayList}),rootScope.isOnboarding(g)&&rootScope.isUploadTutorial(g)?GmCXt.trackerV1.trackTutGuide(g,"upload_tutorial_guide_new_tab","bot"):rootScope.isOnboarding(g)&&GmCXt.trackerV1.trackTutGuide(g,"create_tutorial_guide","bot"),rootScope.isBotGuide(g)&&(t={trigger_source_type:"bot",trigger_source_id:g.tour_id,conversationCode:g.tour_settings.conversation.conversationCode},GmCXt.trackerV1.trackConversationResponse(n,t)),s=0,c=[],d=-1,p=[],m=-1,n=[],e===rootScope.labels.btnNo?y(e).then(function(){(()=>{let e=!0;var t;return rootScope.botTourPlayList&&rootScope.botTourPlayList.length&&(t=rootScope.botTourPlayList.filter(function(e){if(!rootScope.isBotGuide(e)&&-1===e.tour_type.indexOf("onboarding_tour"))return e}),r(0,rootScope.botTourPlayList=t,rootScope),e=0<rootScope.botTourPlayList.length),e})()&&rootScope.guideAction(rootScope.playAuto,null,rootScope.botTourPlayList[0],"bot"),a()}):x()})})}function A(e,t){d<c.length-1?!(e.isBranchNode||m!==c[d+1].pageIndex&&p.includes(c[d+1].pageIndex))||GmCXt.isEmpty(p)?(d++,v(c,t)):(d++,A(e,t)):T()}function $(e,t){var r={question_id:e.questionID||"",question_type:e.type,question_name:e.question||""};switch(e.type){case"yes-no":void 0!==t&&(r.is_answer_yes="Yes"===t);break;case"comment":r.comment=t;break;case"multi-select":r.option=t.split(",");break;case"select":case"range":case"rating":r.option=t.toString().split()}n.push(r)}return mg$$1(document).off("keypress","#txtsearch"),mg$$1(document).on("keypress","#txtsearch",function(r){if(13===(r.keyCode||r.which)){let e=!1;var r=e=r.target.validate?!0:e,o=document.getElementById("txtsearch");if(null!==o&&0<o.value.length){var a,i,n=o.parentElement,s=n.parentElement;let t=o.value;o.tag&&"object"!=typeof o.tag&&-1!==o.tag.indexOf("comment_")&&t?(o.tag.replace("comment_",""),y(t=r?/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,3}$/i.test(t)?o.value:rootScope.labels.emailError:t).then(function(){var e;t===rootScope.labels.emailError?v(c,g):($(e=c[d],t),A(e,g))})):o.tag&&"object"!=typeof o.tag&&"searchGuide"===o.tag&&t?(r=document.getElementsByClassName("uilb-button-options")[0].parentElement,(a=filterTourBytext(l,t))&&(k(a),GmCXt.timeout(onRemoveElement(r),200))):(i=o.tag,s.style.opacity=0,y(t).then(function(e){C(i,t),GmCXt.isLastStep(i.step_id,g.tour_settings.play_structure)?T():b(i)})),GmCXt.timeout(onRemoveElement(n),200)}}}),onMount(()=>{u=new o(document.getElementById("botdiv")),r(0,rootScope.botTourPlayList=[],rootScope),GmCXt.storage().remove(["botTourPlayList"]),f("",rootScope.chatLabels.greetingMessage,"animated fadeInLeft",0).then(function(){x()})}),[rootScope,a]}class Bot extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{},null,[-1,-1])}}function get_each_context(e,t,r){e=e.slice();return e[34]=t[r],e[36]=r,e}function get_each_context_1(e,t,r){e=e.slice();return e[37]=t[r],e[39]=r,e}function get_each_context_2(e,t,r){e=e.slice();return e[40]=t[r],e[42]=r,e}function get_each_context_3(e,t,r){e=e.slice();return e[40]=t[r],e[44]=r,e}function create_if_block_11(e){let r,o,a,i,n,s,l,c;return{c(){r=element("div"),o=element("div"),a=element("span"),i=text(e[2]),n=text("%"),s=space(),(l=element("div")).innerHTML='<div class="mgPlayerJSProd_task-prog-first50-bar"></div> <div class="mgPlayerJSProd_task-prog-value-bar"></div>',attr(l,"class","mgPlayerJSProd_task-prog-left-half-clipper"),attr(o,"class",c="mgPlayerJSProd_task-progress-circle p"+e[2]),toggle_class(o,"over50",50<e[2]),toggle_class(o,"mgPlayerJSProd_task-progress-circle-mplayer",GmCXt.getAppSetting("isMiniPlayer")),attr(r,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center")},m(e,t){insert(e,r,t),append(r,o),append(o,a),append(a,i),append(a,n),append(o,s),append(o,l)},p(e,t){4&t[0]&&set_data(i,e[2]),4&t[0]&&c!==(c="mgPlayerJSProd_task-progress-circle p"+e[2])&&attr(o,"class",c),4&t[0]&&toggle_class(o,"over50",50<e[2]),4&t[0]&&toggle_class(o,"mgPlayerJSProd_task-progress-circle-mplayer",GmCXt.getAppSetting("isMiniPlayer"))},d(e){e&&detach(r)}}}function create_if_block_10(e){let r,o=e[1][e[3]].task_list_title+"",a,i,n,s,l,c,d,p;return{c(){r=element("div"),a=text(o),n=space(),s=element("div"),l=text("Completed task: "),c=text(e[8]),d=text("/"),p=text(e[7]),attr(r,"class","mgPlayerJSProd_task-list-header-title mgPlayerJSProd_inline-block-vm mgPlayerJSProd_font-size-12 mgPlayerJSProd_task-list-header"),attr(r,"title",i=e[1][e[3]].title),toggle_class(r,"mgPlayerJSProd_font-size-14",!e[0].isMicroPlayer),attr(s,"class","mgPlayerJSProd_task-count mgPlayerJSProd_inline-block-vm mgPlayerJSProd_margin-tb-5")},m(e,t){insert(e,r,t),append(r,a),insert(e,n,t),insert(e,s,t),append(s,l),append(s,c),append(s,d),append(s,p)},p(e,t){10&t[0]&&o!==(o=e[1][e[3]].task_list_title+"")&&set_data(a,o),10&t[0]&&i!==(i=e[1][e[3]].title)&&attr(r,"title",i),1&t[0]&&toggle_class(r,"mgPlayerJSProd_font-size-14",!e[0].isMicroPlayer),256&t[0]&&set_data(c,e[8]),128&t[0]&&set_data(p,e[7])},d(e){e&&(detach(r),detach(n),detach(s))}}}function create_if_block_9(e){let r,o=e[0].svgs.iconDownArrow+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_icon-collapse-expand mgPlayerJSProd_float-right ege-inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=o},p(e,t){1&t[0]&&o!==(o=e[0].svgs.iconDownArrow+"")&&(r.innerHTML=o)},d(e){e&&detach(r)}}}function create_if_block_8(e){let r,o=e[0].svgs.iconUpArrow+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_icon-collapse-expand mgPlayerJSProd_float-right ege-inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=o},p(e,t){1&t[0]&&o!==(o=e[0].svgs.iconUpArrow+"")&&(r.innerHTML=o)},d(e){e&&detach(r)}}}function create_if_block_6$2(t){let a,i=ensure_array_like(t[34].guides),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block_3(get_each_context_3(t,i,e));return{c(){a=element("div");for(let e=0;e<n.length;e+=1)n[e].c();attr(a,"class","mgPlayerJSProd_chapter-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_padding-tb-10")},m(e,t){insert(e,a,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(a,null)},p(t,r){if(27155&r[0]){i=ensure_array_like(t[34].guides);let e;for(e=0;e<i.length;e+=1){var o=get_each_context_3(t,i,e);n[e]?n[e].p(o,r):(n[e]=create_each_block_3(o),n[e].c(),n[e].m(a,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=i.length}},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_7$1(e){let r,o,a=e[0].svgs.rules_valid+"";return{c(){r=element("div"),attr(o=element("div"),"class","mgPlayerJSProd_guide-complete-icon"),attr(r,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_guide-complete-wrapper")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[0].svgs.rules_valid+"")&&(o.innerHTML=a)},d(e){e&&detach(r)}}}function create_each_block_3(r){let o,a,i,n,s,l=r[13](r[40])+"",c,d,p,u=r[14](r[40])+"",g,m,h,_,f=r[40].tour_title+"",y,S,P,v,b,C,w=r[40].is_guide_complete&&create_if_block_7$1(r);function k(...e){return r[17](r[40],r[34],...e)}return{c(){o=element("button"),a=element("div"),i=element("div"),n=element("div"),s=element("div"),c=space(),d=element("div"),p=element("div"),g=text(u),m=space(),h=element("div"),_=element("div"),y=text(f),P=space(),w&&w.c(),v=space(),attr(s,"class","mgPlayerJSProd_published-tour-icon mgPlayerJSProd_inline-block-vm"),toggle_class(s,"mgPlayerJSProd_published-tour-icon-disable",r[4]&&r[40].content_order>r[9]),attr(p,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center"),attr(d,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right"),attr(n,"class","mgPlayerJSProd_guide-play-icon-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_position-relative"),attr(_,"class","mgPlayerJSProd_chapter-title mgPlayerJSProd_text-overflow-ellipsis"),attr(_,"title",S=r[40].tour_title),toggle_class(_,"mgPlayerJSProd_chapter-title-complete",r[4]&&r[40].is_guide_complete),attr(h,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_margin-lr-15 mgPlayerJSProd_inline-block-vm"),attr(i,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),attr(a,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),attr(o,"class","mgPlayerJSProd_chapter-box mgPlayerJSProd_chapter-box-folder-guide mgPlayerJSProd_lbl-btn"),toggle_class(o,"mgPlayerJSProd_chapter-box-disable",r[4]&&r[44]+1>r[9])},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(n,s),s.innerHTML=l,append(n,c),append(n,d),append(d,p),append(p,g),append(i,m),append(i,h),append(h,_),append(_,y),append(a,P),w&&w.m(a,null),append(o,v),b||(C=listen(o,"click",k),b=!0)},p(e,t){r=e,2&t[0]&&l!==(l=r[13](r[40])+"")&&(s.innerHTML=l),530&t[0]&&toggle_class(s,"mgPlayerJSProd_published-tour-icon-disable",r[4]&&r[40].content_order>r[9]),2&t[0]&&u!==(u=r[14](r[40])+"")&&set_data(g,u),2&t[0]&&f!==(f=r[40].tour_title+"")&&set_data(y,f),2&t[0]&&S!==(S=r[40].tour_title)&&attr(_,"title",S),18&t[0]&&toggle_class(_,"mgPlayerJSProd_chapter-title-complete",r[4]&&r[40].is_guide_complete),r[40].is_guide_complete?w?w.p(r,t):((w=create_if_block_7$1(r)).c(),w.m(a,null)):w&&(w.d(1),w=null),528&t[0]&&toggle_class(o,"mgPlayerJSProd_chapter-box-disable",r[4]&&r[44]+1>r[9])},d(e){e&&detach(o),w&&w.d(),b=!1,C()}}}function create_if_block$2(t){let a,i=ensure_array_like(t[34].folders),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block_1(get_each_context_1(t,i,e));return{c(){a=element("div");for(let e=0;e<n.length;e+=1)n[e].c();attr(a,"class","mgPlayerJSProd_chapter-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y")},m(e,t){insert(e,a,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(a,null)},p(t,r){if(31347&r[0]){i=ensure_array_like(t[34].folders);let e;for(e=0;e<i.length;e+=1){var o=get_each_context_1(t,i,e);n[e]?n[e].p(o,r):(n[e]=create_each_block_1(o),n[e].c(),n[e].m(a,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=i.length}},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_1$2(r){let o,a,i,n,s=r[0].svgs.folder+"",l,c,d,p=r[37].folder_title+"",u,g,m,h,_,f,y,S,P=r[6]===r[39]&&create_if_block_5$2(r),v=r[6]!==r[39]&&create_if_block_4$2(r),b=0<r[37].guides.length&&r[6]===r[39]&&create_if_block_2$2(r);function C(...e){return r[19](r[37],r[39],r[36],...e)}return{c(){o=element("div"),a=element("button"),i=element("div"),n=element("div"),l=space(),c=element("div"),d=element("div"),u=text(p),m=space(),P&&P.c(),h=space(),v&&v.c(),_=space(),b&&b.c(),f=space(),attr(n,"class","mgPlayerJSProd_category-icon mgPlayerJSProd_inline-block-vm"),attr(d,"class","mgPlayerJSProd_chapter-title mgPlayerJSProd_text-overflow-ellipsis"),attr(d,"title",g=r[37].folder_title),attr(c,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_margin-10 mgPlayerJSProd_inline-block-vm"),attr(i,"class","mgPlayerJSProd_inline-block-vm"),attr(a,"class","mgPlayerJSProd_chapter-box mgPlayerJSProd_chapter-box-folder mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_lbl-btn"),toggle_class(a,"mgPlayerJSProd_chapter-box-disable",r[4]&&-1===r[5].indexOf(r[37].folder_id))},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),n.innerHTML=s,append(i,l),append(i,c),append(c,d),append(d,u),append(a,m),P&&P.m(a,null),append(a,h),v&&v.m(a,null),append(o,_),b&&b.m(o,null),append(o,f),y||(S=listen(o,"click",C),y=!0)},p(e,t){r=e,1&t[0]&&s!==(s=r[0].svgs.folder+"")&&(n.innerHTML=s),2&t[0]&&p!==(p=r[37].folder_title+"")&&set_data(u,p),2&t[0]&&g!==(g=r[37].folder_title)&&attr(d,"title",g),r[6]===r[39]?P?P.p(r,t):((P=create_if_block_5$2(r)).c(),P.m(a,h)):P&&(P.d(1),P=null),r[6]!==r[39]?v?v.p(r,t):((v=create_if_block_4$2(r)).c(),v.m(a,null)):v&&(v.d(1),v=null),50&t[0]&&toggle_class(a,"mgPlayerJSProd_chapter-box-disable",r[4]&&-1===r[5].indexOf(r[37].folder_id)),0<r[37].guides.length&&r[6]===r[39]?b?b.p(r,t):((b=create_if_block_2$2(r)).c(),b.m(o,f)):b&&(b.d(1),b=null)},d(e){e&&detach(o),P&&P.d(),v&&v.d(),b&&b.d(),y=!1,S()}}}function create_if_block_5$2(e){let r,o=e[0].svgs.iconDownArrow+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_icon-collapse-expand mgPlayerJSProd_float-right ege-inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=o},p(e,t){1&t[0]&&o!==(o=e[0].svgs.iconDownArrow+"")&&(r.innerHTML=o)},d(e){e&&detach(r)}}}function create_if_block_4$2(e){let r,o=e[0].svgs.iconUpArrow+"";return{c(){attr(r=element("div"),"class","mgPlayerJSProd_icon-collapse-expand mgPlayerJSProd_float-right ege-inline-block-vm")},m(e,t){insert(e,r,t),r.innerHTML=o},p(e,t){1&t[0]&&o!==(o=e[0].svgs.iconUpArrow+"")&&(r.innerHTML=o)},d(e){e&&detach(r)}}}function create_if_block_2$2(t){let a,i=ensure_array_like(t[37].guides),n=[];for(let e=0;e<i.length;e+=1)n[e]=create_each_block_2(get_each_context_2(t,i,e));return{c(){a=element("div");for(let e=0;e<n.length;e+=1)n[e].c();attr(a,"class","mgPlayerJSProd_chapter-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_ml-15 mgPlayerJSProd_padding-b-15")},m(e,t){insert(e,a,t);for(let e=0;e<n.length;e+=1)n[e]&&n[e].m(a,null)},p(t,r){if(27187&r[0]){i=ensure_array_like(t[37].guides);let e;for(e=0;e<i.length;e+=1){var o=get_each_context_2(t,i,e);n[e]?n[e].p(o,r):(n[e]=create_each_block_2(o),n[e].c(),n[e].m(a,null))}for(;e<n.length;e+=1)n[e].d(1);n.length=i.length}},d(e){e&&detach(a),destroy_each(n,e)}}}function create_if_block_3$2(e){let r,o,a=e[0].svgs.rules_valid+"";return{c(){r=element("div"),attr(o=element("div"),"class","mgPlayerJSProd_guide-complete-icon"),attr(r,"class","mgPlayerJSProd_inline-block-vm mgPlayerJSProd_guide-complete-wrapper")},m(e,t){insert(e,r,t),append(r,o),o.innerHTML=a},p(e,t){1&t[0]&&a!==(a=e[0].svgs.rules_valid+"")&&(o.innerHTML=a)},d(e){e&&detach(r)}}}function create_each_block_2(r){let o,a,i,n,s,l=r[13](r[40])+"",c,d,p,u=r[14](r[40])+"",g,m,h,_,f=r[40].tour_title+"",y,S,P,v,b,C,w=r[40].is_guide_complete&&create_if_block_3$2(r);function k(...e){return r[18](r[40],r[34],...e)}return{c(){o=element("button"),a=element("div"),i=element("div"),n=element("div"),s=element("div"),c=space(),d=element("div"),p=element("div"),g=text(u),m=space(),h=element("div"),_=element("div"),y=text(f),P=space(),w&&w.c(),v=space(),attr(s,"class","mgPlayerJSProd_published-tour-icon mgPlayerJSProd_inline-block-vm"),attr(p,"class","mgPlayerJSProd_tooltip-title mgPlayerJSProd_text-align-center"),attr(d,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-right"),attr(n,"class","mgPlayerJSProd_guide-play-icon-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_position-relative"),attr(_,"class","mgPlayerJSProd_chapter-title mgPlayerJSProd_text-overflow-ellipsis"),attr(_,"title",S=r[40].tour_title),toggle_class(_,"mgPlayerJSProd_chapter-title-complete",r[4]&&r[40].is_guide_complete),attr(h,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_margin-lr-15 mgPlayerJSProd_inline-block-vm mgPlayerJSProd_text-overflow-ellipsis"),attr(i,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),attr(a,"class","mgPlayerJSProd_chapter-content-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between"),attr(o,"class","mgPlayerJSProd_chapter-box mgPlayerJSProd_chapter-box-folder-guide mgPlayerJSProd_lbl-btn"),toggle_class(o,"mgPlayerJSProd_chapter-box-disable",r[4]&&(-1===r[5].indexOf(r[37].folder_id)||r[42]+1>r[9]))},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),append(n,s),s.innerHTML=l,append(n,c),append(n,d),append(d,p),append(p,g),append(i,m),append(i,h),append(h,_),append(_,y),append(a,P),w&&w.m(a,null),append(o,v),b||(C=listen(o,"click",k),b=!0)},p(e,t){r=e,2&t[0]&&l!==(l=r[13](r[40])+"")&&(s.innerHTML=l),2&t[0]&&u!==(u=r[14](r[40])+"")&&set_data(g,u),2&t[0]&&f!==(f=r[40].tour_title+"")&&set_data(y,f),2&t[0]&&S!==(S=r[40].tour_title)&&attr(_,"title",S),18&t[0]&&toggle_class(_,"mgPlayerJSProd_chapter-title-complete",r[4]&&r[40].is_guide_complete),r[40].is_guide_complete?w?w.p(r,t):((w=create_if_block_3$2(r)).c(),w.m(a,null)):w&&(w.d(1),w=null),562&t[0]&&toggle_class(o,"mgPlayerJSProd_chapter-box-disable",r[4]&&(-1===r[5].indexOf(r[37].folder_id)||r[42]+1>r[9]))},d(e){e&&detach(o),w&&w.d(),b=!1,C()}}}function create_each_block_1(e){let r,o=e[37].guides&&0<e[37].guides.length&&create_if_block_1$2(e);return{c(){o&&o.c(),r=empty()},m(e,t){o&&o.m(e,t),insert(e,r,t)},p(e,t){e[37].guides&&0<e[37].guides.length?o?o.p(e,t):((o=create_if_block_1$2(e)).c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(e){e&&detach(r),o&&o.d(e)}}}function create_each_block(r){let o,a,i,n,s=r[0].svgs.tasklist+"",l,c,d,p=r[34].task_list_title+"",u,g,m,h,_,f,y,S,P,v=r[3]===r[36]&&create_if_block_9(r),b=r[3]!==r[36]&&create_if_block_8(r),C=r[34].guides&&0<r[34].guides.length&&r[3]===r[36]&&create_if_block_6$2(r),w=r[34].folders&&0<r[34].folders.length&&r[3]===r[36]&&create_if_block$2(r);function k(){return r[20](r[34],r[36])}return{c(){o=element("div"),a=element("button"),i=element("div"),n=element("div"),l=space(),c=element("div"),d=element("div"),u=text(p),m=space(),v&&v.c(),h=space(),b&&b.c(),_=space(),C&&C.c(),f=space(),w&&w.c(),y=space(),attr(n,"class","mgPlayerJSProd_task-list-icon mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),attr(d,"class","mgPlayerJSProd_assign-title mgPlayerJSProd_margin-lr-5 mgPlayerJSProd_text-overflow-ellipsis"),attr(d,"title",g=r[34].task_list_title),attr(c,"class","mgPlayerJSProd_assign-content-wrapper mgPlayerJSProd_margin-10 mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),attr(i,"class","mgPlayerJSProd_display-flex mgPlayerJSProd_display-inline-flex mgPlayerJSProd_align-items-center"),attr(a,"class","mgPlayerJSProd_assignment-box mgPlayerJSProd_margin-15 mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_lbl-btn")},m(e,t){insert(e,o,t),append(o,a),append(a,i),append(i,n),n.innerHTML=s,append(i,l),append(i,c),append(c,d),append(d,u),append(a,m),v&&v.m(a,null),append(a,h),b&&b.m(a,null),append(o,_),C&&C.m(o,null),append(o,f),w&&w.m(o,null),append(o,y),S||(P=listen(o,"click",k),S=!0)},p(e,t){r=e,1&t[0]&&s!==(s=r[0].svgs.tasklist+"")&&(n.innerHTML=s),2&t[0]&&p!==(p=r[34].task_list_title+"")&&set_data(u,p),2&t[0]&&g!==(g=r[34].task_list_title)&&attr(d,"title",g),r[3]===r[36]?v?v.p(r,t):((v=create_if_block_9(r)).c(),v.m(a,h)):v&&(v.d(1),v=null),r[3]!==r[36]?b?b.p(r,t):((b=create_if_block_8(r)).c(),b.m(a,null)):b&&(b.d(1),b=null),r[34].guides&&0<r[34].guides.length&&r[3]===r[36]?C?C.p(r,t):((C=create_if_block_6$2(r)).c(),C.m(o,f)):C&&(C.d(1),C=null),r[34].folders&&0<r[34].folders.length&&r[3]===r[36]?w?w.p(r,t):((w=create_if_block$2(r)).c(),w.m(o,y)):w&&(w.d(1),w=null)},d(e){e&&detach(o),v&&v.d(),b&&b.d(),C&&C.d(),w&&w.d(),S=!1,P()}}}function create_fragment$2(r){let o,a,i,n,s,l,c,d=r[0].svgs.iconBack+"",p,u,g,e=r[0].labels.back+"",m,h,_,f,y,S,P,v,b,C,w,k,x,T,A,$=(o=new Header({}),-1!==r[3]&&create_if_block_11(r)),L=-1!==r[3]&&create_if_block_10(r),J=ensure_array_like(r[1]),G=[];for(let e=0;e<J.length;e+=1)G[e]=create_each_block(get_each_context(r,J,e));return k=new Footer({}),{c(){create_component(o.$$.fragment),a=space(),i=element("div"),n=element("div"),s=element("div"),l=element("button"),c=element("div"),p=space(),u=element("div"),g=element("div"),m=text(e),h=space(),(_=element("div")).textContent="Task List",f=space(),y=element("div"),$&&$.c(),S=space(),P=element("div"),L&&L.c(),b=space(),C=element("div");for(let e=0;e<G.length;e+=1)G[e].c();w=space(),create_component(k.$$.fragment),attr(c,"class","ege-inline-block-vm"),attr(g,"class","mgPlayerJSProd_tooltip-title"),attr(u,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-left"),attr(l,"class","mgPlayerJSProd_task-back-btn mgPlayerJSProd_position-relative mgPlayerJSProd_lbl-btn"),attr(_,"class","mgPlayerJSProd_task-list-header-title mgPlayerJSProd_font-size-15 mgPlayerJSProd_margin-lr-10"),toggle_class(_,"mgPlayerJSProd_font-size-18",!r[0].isMicroPlayer),attr(s,"class","mgPlayerJSProd_task-list-go-back-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center"),attr(P,"class","mgPlayerJSProd_task-header-details mgPlayerJSProd_display-flex mgPlayerJSProd_flex-direction-column"),attr(y,"class",v="mgPlayerJSProd_progress-details-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center "+(-1!==r[3]&&r[0].isMicroPlayer?"mgPlayerJSProd_padding-5":"")+" "+(-1!==r[3]?"mgPlayerJSProd_margin-b-10 mgPlayerJSProd_progress-alignment":"")),attr(n,"class","mgPlayerJSProd_task-list-header mgPlayerJSProd_display-flex mgPlayerJSProd_justify-content-space-between mgPlayerJSProd_flex-direction-column mgPlayerJSProd_position-relative mgPlayerJSProd_width-100"),attr(C,"class","mgPlayerJSProd_assign-container mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y mgPlayerJSProd_bg-white"),attr(i,"class","mgPlayerJSProd_task-list-container")},m(e,t){mount_component(o,e,t),insert(e,a,t),insert(e,i,t),append(i,n),append(n,s),append(s,l),append(l,c),c.innerHTML=d,append(l,p),append(l,u),append(u,g),append(g,m),append(s,h),append(s,_),append(n,f),append(n,y),$&&$.m(y,null),append(y,S),append(y,P),L&&L.m(P,null),append(i,b),append(i,C);for(let e=0;e<G.length;e+=1)G[e]&&G[e].m(C,null);insert(e,w,t),mount_component(k,e,t),x=!0,T||(A=listen(l,"click",r[16]),T=!0)},p(t,r){if((!x||1&r[0])&&d!==(d=t[0].svgs.iconBack+"")&&(c.innerHTML=d),(!x||1&r[0])&&e!==(e=t[0].labels.back+"")&&set_data(m,e),(!x||1&r[0])&&toggle_class(_,"mgPlayerJSProd_font-size-18",!t[0].isMicroPlayer),-1!==t[3]?$?$.p(t,r):(($=create_if_block_11(t)).c(),$.m(y,S)):$&&($.d(1),$=null),-1!==t[3]?L?L.p(t,r):((L=create_if_block_10(t)).c(),L.m(P,null)):L&&(L.d(1),L=null),(!x||9&r[0]&&v!==(v="mgPlayerJSProd_progress-details-container mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center "+(-1!==t[3]&&t[0].isMicroPlayer?"mgPlayerJSProd_padding-5":"")+" "+(-1!==t[3]?"mgPlayerJSProd_margin-b-10 mgPlayerJSProd_progress-alignment":"")))&&attr(y,"class",v),32379&r[0]){J=ensure_array_like(t[1]);let e;for(e=0;e<J.length;e+=1){var o=get_each_context(t,J,e);G[e]?G[e].p(o,r):(G[e]=create_each_block(o),G[e].c(),G[e].m(C,null))}for(;e<G.length;e+=1)G[e].d(1);G.length=J.length}},i(e){x||(transition_in(o.$$.fragment,e),transition_in(k.$$.fragment,e),x=!0)},o(e){transition_out(o.$$.fragment,e),transition_out(k.$$.fragment,e),x=!1},d(e){e&&(detach(a),detach(i),detach(w)),destroy_component(o,e),$&&$.d(),L&&L.d(),destroy_each(G,e),destroy_component(k,e),T=!1,A()}}}function instance$2(e,t,i){let a,r,o=(rootScope.currentView="taskList",[]),n=0,s=-1,l=(GmCXt.t.ruleTimeOut15ms,!(rootScope.isTaskListActive=!0)),c=[],d=0,p;Gm.loading.set(!0);let u,g;(()=>{Gm.loading.set(!0);!GmCXt.isEmpty(GmCXt.user)&&GmCXt.isPlayer()&&(GmCXt.isEmpty(rootScope.taskList)?i(0,rootScope.taskList=null,rootScope):i(0,rootScope.taskList=rootScope.filterCompleatedTasks(rootScope.taskList),rootScope),rootScope.getTaskListData(function(e){mg$$1(".mgPlayerJSProd_push-notification-container").is(":visible")&&mg$$1(".ege-panel").css({width:"500px",right:"-9550px"}),e.length&&(i(1,o=rootScope.processTaskListByRules(e)),i(3,s=-1),i(6,p=-1)),Gm.loading.set(!1)}))})();let m=(t,r)=>{t&&t.task_list_id&&s!==r?(i(3,s=r),Gm.loading.set(!0),api.getTaskDetails(t.task_list_id).then(function(e){Gm.loading.set(!1),e.data.completion_percent?i(2,n=e.data.completion_percent):i(2,n=0),a=e.data.completed_guide_ids,i(8,g=e.data.completed_count),d=parseInt(e.data.total_count),t.guides&&t.guides.length&&(i(1,o[r]=(e=>{if(e.guides)for(var t=0;t<e.guides.length;t++)if(a.indexOf(e.guides[t].tour_id.toString())!==-1)e.guides[t].is_guide_complete=true;return e})(t),o),y(t.guides)),t.folders&&t.folders.length&&i(1,o[r]=(e=>{if(e.folders){i(5,c=[]);if(e.folders.length>0)c.push(e.folders[0].folder_id);for(var t=0;t<e.folders.length;t++){var r=0;for(var o=0;o<e.folders[t].guides.length;o++){if(a.indexOf(e.folders[t].guides[o].tour_id.toString())!==-1){e.folders[t].guides[o].is_guide_complete=true;r++}if(e.folders[t].guides.length===r&&e.folders[t+1]&&!GmCXt.isEmpty(e.folders[t+1])&&c.indexOf(e.folders[t+1].folder_id)===-1)c.push(e.folders[t+1].folder_id)}}}return e})(t),o),t.task_list_setting.force_completion&&i(4,l=t.task_list_setting.force_completion),i(7,u=e.data.total_count),i(6,p=-1)})):i(3,s=-1),GmCXt.timeout(function(){P()},500)},h=(e,t,o)=>{GmCXt.parseJSON(o.task_list_setting),t.stopPropagation();var a=!1,t=(e.is_guide_complete&&(a=!0),{tour_id:e.tour_id});Gm.loading.set(!0),api.getTour(t,function(e){Gm.loading.set(!1);var t={taskId:o.task_list_id,isComplete:a,complete_count:g,total_count:d},r=(i(3,s=-1),i(6,p=-1),rootScope.getDefaultPlayAction(e));"Default"===r&&(r=GmCXt.getAppSetting("defaultPlayAction")),rootScope.guideAction(r,!1,e,"task_list",e.category_title,t),i(0,rootScope.isTaskListActive=!1,rootScope),Gm.activeView.set("home")},_)};function _(){rootScope.showPopup(rootScope.labels.tourPlayError)}let f=(e,t,r,o)=>{p!==t?(o.stopPropagation(),i(6,p=t),Gm.loading.set(!0),api.getTaskFolderDetails(e.folder_id).then(function(e){Gm.loading.set(!1),y(e.data.content_list)})):i(6,p=-1),GmCXt.timeout(function(){P()},500)},y=e=>{if(e){i(9,r=1);for(var t=0;t<e.length;t++)"1"==e[t].is_guide_complete&&Boolean(Number(e[0].is_guide_complete))&&i(9,r=t+2)}};let S=()=>{i(0,rootScope.isTaskListActive=!1,rootScope),rootScope.refreshCurrentPage(),Gm.activeView.set("home")};function P(){var e=mg$$1("#ege-header").innerHeight()?mg$$1("#ege-header").innerHeight():0,t=mg$$1(".mgPlayerJSProd_task-list-header").innerHeight()?mg$$1(".mgPlayerJSProd_task-list-header").innerHeight():0,r=mg$$1("#footer").innerHeight()?mg$$1("#footer").innerHeight():0;mg$$1(".mgPlayerJSProd_assign-container").css({height:window.innerHeight-e-t-r})}GmCXt.timeout(function(){P()},500),mg$$1(window).off("resize").on("resize",P);return a=[],i(9,r=1),[rootScope,o,n,s,l,c,p,u,g,r,m,h,f,e=>{var t={tour_settings:GmCXt.parseJSON(e.tour_settings)},r=rootScope.getDefaultPlayAction(t);return rootScope.isOnboarding(e)?rootScope.svgs.guide_onboarding:r===rootScope.playSlideshow||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===rootScope.playSlideshow?rootScope.svgs.guide_showme:r===rootScope.playAuto||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===rootScope.playAuto?rootScope.svgs.guide_doitforme:r===rootScope.playVLab||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===rootScope.playVLab?rootScope.svgs.guide_teachme:rootScope.svgs.default_guide},e=>{var t={tour_settings:GmCXt.parseJSON(e.tour_settings)},r=rootScope.getDefaultPlayAction(t);return rootScope.isOnboarding(e)||r===rootScope.playSlideshow||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===rootScope.playSlideshow?rootScope.labels.showMe:r===rootScope.playAuto||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===rootScope.playAuto?rootScope.labels.doItForMe:r===rootScope.playVLab||"Default"===t.tour_settings.defaultPlayAction&&GmCXt.getAppSetting("defaultPlayAction")===rootScope.playVLab?rootScope.labels.vLab:rootScope.labels.guideMe},S,()=>S(),(e,t,r)=>h(e,r,t),(e,t,r)=>h(e,r,t),(e,t,r,o)=>f(e,t,0,o),(e,t)=>m(e,t)]}class TaskList extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{},null,[-1,-1])}}function create_if_block_6$1(e){let r,o=e[0].labels.passFieldIsEmpty+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","mgPlayerJSProd_error-text-color")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0].labels.passFieldIsEmpty+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_5$1(e){let r,o=e[0].labels.passwordError+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","error-input-wrapper password-error-wrapper active")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0].labels.passwordError+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_4$1(e){let r,o=e[0].labels.passFieldIsEmpty+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","mgPlayerJSProd_error-text-color")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0].labels.passFieldIsEmpty+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_3$1(e){let r,o=e[0].labels.passwordError+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","error-input-wrapper password-error-wrapper active")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0].labels.passwordError+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_2$1(e){let r,o=e[0].labels.passFieldIsEmpty+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","mgPlayerJSProd_error-text-color")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0].labels.passFieldIsEmpty+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block_1$1(e){let r,o=e[0].labels.passwordError+"",a;return{c(){r=element("div"),a=text(o),attr(r,"class","error-input-wrapper password-error-wrapper active")},m(e,t){insert(e,r,t),append(r,a)},p(e,t){1&t&&o!==(o=e[0].labels.passwordError+"")&&set_data(a,o)},d(e){e&&detach(r)}}}function create_if_block$1(t){let r,o,a=t[0].labels.captchaLbl+"",i,n,s,l,c,d;function e(e){t[17](e)}function p(e){t[18](e)}var u={};return void 0!==t[4]&&(u.captchaValid=t[4]),void 0!==t[5]&&(u.showCaptchaError=t[5]),s=new Captcha({props:u}),binding_callbacks.push(()=>bind(s,"captchaValid",e)),binding_callbacks.push(()=>bind(s,"showCaptchaError",p)),{c(){r=element("div"),o=element("div"),i=text(a),n=space(),create_component(s.$$.fragment),attr(o,"class","mgPlayerJSProd_change-password-label"),attr(r,"class","mgPlayerJSProd_margin-tb-10")},m(e,t){insert(e,r,t),append(r,o),append(o,i),append(r,n),mount_component(s,r,null),d=!0},p(e,t){(!d||1&t)&&a!==(a=e[0].labels.captchaLbl+"")&&set_data(i,a);var r={};!l&&16&t&&(l=!0,r.captchaValid=e[4],add_flush_callback(()=>l=!1)),!c&&32&t&&(c=!0,r.showCaptchaError=e[5],add_flush_callback(()=>c=!1)),s.$set(r)},i(e){d||(transition_in(s.$$.fragment,e),d=!0)},o(e){transition_out(s.$$.fragment,e),d=!1},d(e){e&&detach(r),destroy_component(s)}}}function create_fragment$1(r){let o,F,a,i,n,s,l=r[0].svgs.iconBack+"",O,c,d,p=r[0].labels.back+"",H,R,u,g=r[0].labels.changePassword+"",N,B,V,m,h,_,f,y,U=r[0].labels.placeholderCurrentPassword+"",z,j,S,W,q,Z,K,P,v,Y=r[0].labels.placeholderNewPassword+"",Q,ee,b,te,re,oe,ae,C,w,ie=r[0].labels.placeholderPasswordC+"",ne,se,k,le,ce,de,pe,ue,x,T,ge=r[0].labels.change+"",me,he,_e,A,fe=r[0].labels.btnCancel+"",ye,Se,Pe,ve,be,Ce,we,$,L,ke,xe,J=(o=new Header({}),r[6]&&create_if_block_6$1(r)),G=r[7]&&create_if_block_5$1(r),E=r[8]&&create_if_block_4$1(r),M=r[9]&&create_if_block_3$1(r),I=r[10]&&create_if_block_2$1(r),X=r[11]&&create_if_block_1$1(r),D=!r[0].config.hideCaptcha&&create_if_block$1(r);return $=new Footer({}),{c(){create_component(o.$$.fragment),F=space(),a=element("div"),i=element("div"),n=element("div"),s=element("div"),O=space(),c=element("div"),d=element("div"),H=text(p),R=space(),u=element("div"),N=text(g),B=space(),V=element("div"),m=element("form"),h=element("div"),_=element("div"),f=element("div"),y=element("div"),z=text(U),j=space(),S=element("input"),q=space(),J&&J.c(),Z=space(),G&&G.c(),K=space(),P=element("div"),v=element("div"),Q=text(Y),ee=space(),b=element("input"),re=space(),E&&E.c(),oe=space(),M&&M.c(),ae=space(),C=element("div"),w=element("div"),ne=text(ie),se=space(),k=element("input"),ce=space(),I&&I.c(),de=space(),X&&X.c(),pe=space(),D&&D.c(),ue=space(),x=element("div"),T=element("button"),me=text(ge),_e=space(),A=element("button"),ye=text(fe),Pe=space(),ve=element("div"),be=space(),Ce=element("div"),we=space(),create_component($.$$.fragment),attr(s,"class","ege-inline-block-vm"),attr(d,"class","mgPlayerJSProd_tooltip-title"),attr(c,"class","mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-center"),attr(n,"id","mgPlayerJSProd_btn-back-change-pass"),attr(n,"class","ege-inline-block-vm back-btn mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_back-btn"),attr(u,"class","ege-inline-block-div header-text mgPlayerJSProd_margin-lr-10 mgPlayerJSProd_font-size-16 mgPlayerJSProd_text-color-white mgPlayerJSProd_text-overflow-ellipsis"),attr(i,"class","mgPlayerJSProd_header-title mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_padding-lr-15"),attr(y,"id","mgPlayerJSProd_current-password-label"),attr(y,"class","mgPlayerJSProd_change-password-label"),attr(S,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_width-100 password-text-text text-input ege-inline-block-vm mgPlayerJSProd_font-size-16"),attr(S,"autocomplete","off"),attr(S,"maxlength","20"),attr(S,"spellcheck","true"),attr(S,"type","password"),attr(S,"placeholder",W=r[0].labels.placeholderCurrentPassword),attr(S,"name","currentPassword"),S.required=!0,attr(f,"class","mgPlayerJSProd_current-password-wrapper"),attr(v,"id","mgPlayerJSProd_new-password-label"),attr(v,"class","mgPlayerJSProd_change-password-label"),attr(b,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_width-100 password-text-text text-input ege-inline-block-vm mgPlayerJSProd_font-size-16"),attr(b,"autocomplete","off"),attr(b,"minlength","8"),attr(b,"maxlength","20"),attr(b,"spellcheck","true"),attr(b,"type","password"),attr(b,"placeholder",te=r[0].labels.placeholderNewPassword),attr(b,"name","newPassword"),b.required=!0,attr(P,"class","mgPlayerJSProd_new-password-wrapper"),attr(w,"id","mgPlayerJSProd_confirm-password-label"),attr(w,"class","mgPlayerJSProd_change-password-label"),attr(k,"class","mgPlayerJSProd_input-type-text mgPlayerJSProd_width-100 password-text-text text-input ege-inline-block-vm mgPlayerJSProd_font-size-16"),attr(k,"autocomplete","off"),attr(k,"minlength","8"),attr(k,"maxlength","20"),attr(k,"spellcheck","true"),attr(k,"type","password"),attr(k,"placeholder",le=r[0].labels.placeholderPasswordC),attr(k,"name","confirmPassword"),k.required=!0,attr(C,"class","mgPlayerJSProd_confirm-password-wrapper"),attr(_,"class","signin-form"),attr(T,"type","button"),attr(T,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral"),attr(T,"aria-label",he=r[0].labels.change),toggle_class(T,"disabled",r[6]||r[7]||r[8]||r[9]||r[10]||r[11]||r[5]),attr(A,"class","mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral"),attr(A,"aria-label",Se=r[0].labels.btnCancel),attr(x,"class","mgPlayerJSProd_change-password-footer mgPlayerJSProd_text-align-center mgPlayerJSProd_margin-tb-15"),attr(ve,"class","ege-clear"),attr(h,"class","signin-form-container mgPlayerJSProd_no-border mgPlayerJSProd_no-border-all mgPlayerJSProd_no-padding mgPlayerJSProd_no-box-shadow"),attr(Ce,"class","ege-clear"),attr(m,"name","cForm"),attr(m,"autocomplete","off"),attr(m,"method","post"),attr(V,"class","signin-page-wrapper mgPlayerJSProd_change-password-wrapper"),attr(a,"class","ege-panel-main-container signin-page-container")},m(e,t){mount_component(o,e,t),insert(e,F,t),insert(e,a,t),append(a,i),append(i,n),append(n,s),s.innerHTML=l,append(n,O),append(n,c),append(c,d),append(d,H),append(i,R),append(i,u),append(u,N),append(a,B),append(a,V),append(V,m),append(m,h),append(h,_),append(_,f),append(f,y),append(y,z),append(f,j),append(f,S),set_input_value(S,r[1]),append(f,q),J&&J.m(f,null),append(f,Z),G&&G.m(f,null),append(_,K),append(_,P),append(P,v),append(v,Q),append(P,ee),append(P,b),set_input_value(b,r[2]),append(P,re),E&&E.m(P,null),append(P,oe),M&&M.m(P,null),append(_,ae),append(_,C),append(C,w),append(w,ne),append(C,se),append(C,k),set_input_value(k,r[3]),append(C,ce),I&&I.m(C,null),append(C,de),X&&X.m(C,null),append(h,pe),D&&D.m(h,null),append(h,ue),append(h,x),append(x,T),append(T,me),append(x,_e),append(x,A),append(A,ye),append(h,Pe),append(h,ve),append(m,be),append(m,Ce),insert(e,we,t),mount_component($,e,t),L=!0,ke||(xe=[listen(n,"click",r[13]),listen(S,"input",r[14]),listen(b,"input",r[15]),listen(k,"input",r[16]),listen(T,"click",r[19]),listen(A,"click",r[20])],ke=!0)},p(e,[t]){(!L||1&t)&&l!==(l=e[0].svgs.iconBack+"")&&(s.innerHTML=l),(!L||1&t)&&p!==(p=e[0].labels.back+"")&&set_data(H,p),(!L||1&t)&&g!==(g=e[0].labels.changePassword+"")&&set_data(N,g),(!L||1&t)&&U!==(U=e[0].labels.placeholderCurrentPassword+"")&&set_data(z,U),(!L||1&t&&W!==(W=e[0].labels.placeholderCurrentPassword))&&attr(S,"placeholder",W),2&t&&S.value!==e[1]&&set_input_value(S,e[1]),e[6]?J?J.p(e,t):((J=create_if_block_6$1(e)).c(),J.m(f,Z)):J&&(J.d(1),J=null),e[7]?G?G.p(e,t):((G=create_if_block_5$1(e)).c(),G.m(f,null)):G&&(G.d(1),G=null),(!L||1&t)&&Y!==(Y=e[0].labels.placeholderNewPassword+"")&&set_data(Q,Y),(!L||1&t&&te!==(te=e[0].labels.placeholderNewPassword))&&attr(b,"placeholder",te),4&t&&b.value!==e[2]&&set_input_value(b,e[2]),e[8]?E?E.p(e,t):((E=create_if_block_4$1(e)).c(),E.m(P,oe)):E&&(E.d(1),E=null),e[9]?M?M.p(e,t):((M=create_if_block_3$1(e)).c(),M.m(P,null)):M&&(M.d(1),M=null),(!L||1&t)&&ie!==(ie=e[0].labels.placeholderPasswordC+"")&&set_data(ne,ie),(!L||1&t&&le!==(le=e[0].labels.placeholderPasswordC))&&attr(k,"placeholder",le),8&t&&k.value!==e[3]&&set_input_value(k,e[3]),e[10]?I?I.p(e,t):((I=create_if_block_2$1(e)).c(),I.m(C,de)):I&&(I.d(1),I=null),e[11]?X?X.p(e,t):((X=create_if_block_1$1(e)).c(),X.m(C,null)):X&&(X.d(1),X=null),e[0].config.hideCaptcha?D&&(group_outros(),transition_out(D,1,1,()=>{D=null}),check_outros()):D?(D.p(e,t),1&t&&transition_in(D,1)):((D=create_if_block$1(e)).c(),transition_in(D,1),D.m(h,ue)),(!L||1&t)&&ge!==(ge=e[0].labels.change+"")&&set_data(me,ge),(!L||1&t&&he!==(he=e[0].labels.change))&&attr(T,"aria-label",he),(!L||4064&t)&&toggle_class(T,"disabled",e[6]||e[7]||e[8]||e[9]||e[10]||e[11]||e[5]),(!L||1&t)&&fe!==(fe=e[0].labels.btnCancel+"")&&set_data(ye,fe),(!L||1&t&&Se!==(Se=e[0].labels.btnCancel))&&attr(A,"aria-label",Se)},i(e){L||(transition_in(o.$$.fragment,e),transition_in(D),transition_in($.$$.fragment,e),L=!0)},o(e){transition_out(o.$$.fragment,e),transition_out(D),transition_out($.$$.fragment,e),L=!1},d(e){e&&(detach(F),detach(a),detach(we)),destroy_component(o,e),J&&J.d(),G&&G.d(),E&&E.d(),M&&M.d(),I&&I.d(),X&&X.d(),D&&D.d(),destroy_component($,e),ke=!1,run_all(xe)}}}function instance$1(e,t,r){rootScope.currentView="change-password-view";let o={},a="",i="",n="",s=!1,l=!1,c=!1,d=!1,p=!1,u=!1,g=!1,m=!1,h=()=>{function t(){rootScope.logout("password_change")}var e;GmCXt.isEmpty(a)?r(6,c=!0):!GmCXt.isEmpty(a)&&a.length<8&&r(7,d=!0),GmCXt.isEmpty(i)?r(8,p=!0):!GmCXt.isEmpty(i)&&i.length<8&&r(9,u=!0),GmCXt.isEmpty(n)?r(10,g=!0):!GmCXt.isEmpty(n)&&n.length<8&&r(11,m=!0),s||GmCXt.conf.hideCaptcha||(r(5,l=!0),Gm.loading.set(!1)),i!==n&&rootScope.showPopup(rootScope.labels.msgConfirmNewPasswordError),c||d||p||u||g||m||!s&&!GmCXt.conf.hideCaptcha||(Gm.loading.set(!0),e={user_id:o.user_id,new_password:i,existing_password:a},api.changePassword(e,function(e){Gm.loading.set(!1),modal.open(rootScope.labels.msgPasswordChangedSuccess,"success",t,t)}))},_=()=>{Gm.activeView.set("home")};o=rootScope.user,Gm.loading.set(!1),onMount(()=>{});return[rootScope,a,i,n,s,l,c,d,p,u,g,m,h,_,function(){a=this.value,r(1,a)},function(){i=this.value,r(2,i)},function(){n=this.value,r(3,n)},function(e){s=e,r(4,s)},function(e){l=e,r(5,l)},()=>h(),()=>_()]}class ChangePassword extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{})}}function create_if_block_7(e){let r,o;return r=new Empty({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_6(e){let r,o;return r=new ChangePassword({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_5(e){let r,o;return r=new TaskList({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_4(e){let r,o;return r=new Bot({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_3(e){let r,o;return r=new ForgotPwd({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_2(e){let r,o;return r=new Home({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block_1(e){let r,o;return r=new SignIn({}),{c(){create_component(r.$$.fragment)},m(e,t){mount_component(r,e,t),o=!0},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(r,e)}}}function create_if_block(e){let r;return{c(){(r=element("div")).innerHTML=`<div class="ege-loader-wrapper-spinner"><img class="mgPlayerJSProd_loader-image" src="${rootScope.loader()}" alt="loader"/></div>`,attr(r,"id","ege-spinner"),attr(r,"class","ege-loader-wrapper")},m(e,t){insert(e,r,t)},d(e){e&&detach(r)}}}function create_key_block(e){let o,a,i,n,r,s,l=[create_if_block_1,create_if_block_2,create_if_block_3,create_if_block_4,create_if_block_5,create_if_block_6,create_if_block_7],c=[];function d(e){return"signin"==e[0]?0:"home"==e[0]?1:"forgotpwd"==e[0]?2:"chatbot"==e[0]?3:"taskList"==e[0]?4:"changePw"==e[0]?5:"taskStatus"==e[0]?6:-1}~(o=d(e))&&(a=c[o]=l[o](e));let p=e[1]&&create_if_block();return{c(){a&&a.c(),i=space(),p&&p.c(),n=space(),attr(r=element("input"),"spellcheck","true"),r.hidden=!0,attr(r,"id","mgPlayerJSProd_add-step-upload-file"),attr(r,"type","file"),attr(r,"tabindex","-1"),attr(r,"accept","image/png,image/jpeg")},m(e,t){~o&&c[o].m(e,t),insert(e,i,t),p&&p.m(e,t),insert(e,n,t),insert(e,r,t),s=!0},p(e,t){let r=o;(o=d(e))!==r&&(a&&(group_outros(),transition_out(c[r],1,1,()=>{c[r]=null}),check_outros()),~o?((a=c[o])||(a=c[o]=l[o](e)).c(),transition_in(a,1),a.m(i.parentNode,i)):a=null),e[1]?p||((p=create_if_block()).c(),p.m(n.parentNode,n)):p&&(p.d(1),p=null)},i(e){s||(transition_in(a),s=!0)},o(e){transition_out(a),s=!1},d(e){e&&(detach(i),detach(n),detach(r)),~o&&c[o].d(e),p&&p.d(e)}}}function create_fragment(e){let r=e[2],o,a,i=create_key_block(e);return{c(){i.c(),o=empty()},m(e,t){i.m(e,t),insert(e,o,t),a=!0},p(e,[t]){4&t&&safe_not_equal(r,r=e[2])?(group_outros(),transition_out(i,1,1,noop),check_outros(),(i=create_key_block(e)).c(),transition_in(i,1),i.m(o.parentNode,o)):i.p(e,t)},i(e){a||(transition_in(i),a=!0)},o(e){transition_out(i),a=!1},d(e){e&&detach(o),i.d(e)}}}function instance(e,t,r){let{loadComp:o="signin"}=t,a=!1,i=(GmCXt.refreshView=!1,0);let n=Gm.activeView.subscribe(e=>{var t=o;""!==e&&t===e&&r(2,i+=1),""!==e&&(r(0,o=e),storage$1.activeView.set(e))}),s=(Gm.loading.subscribe(e=>{r(1,a=e)}),Gm.dialogBox.subscribe(e=>{}));return onMount(()=>{r(0,o=get_store_value(Gm.activeView))}),onDestroy(()=>()=>{s(),n()}),e.$$set=e=>{"loadComp"in e&&r(0,o=e.loadComp)},[o,a,i]}class App extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{loadComp:0})}}let pService={},commonUpdate$1={};function checkTourDelete(r,t,o){t=t||rootScope.publishedTours;for(let e=0;e<t.length;e++){var a=t[e],i=!!a&&(t=>r.filter(function(e){return e.tour_id===parseInt(t.tour_id)}))(a);GmCXt.isEmpty(i)&&rootScope.removeTour(a.category_id,a.tour_id,o)}}function checkIfValidTourSegment(e){var t=!1;if(rootScope.guideSegmentation&&e.tour_segment&&e.tour_segment.length){for(var r=[],o=0;o<e.tour_segment.length;o++)for(var a=0;a<e.tour_segment[o].length;a++)r.push(e.tour_segment[o][a]);GmCXt.areUserSegmentsValid(r)&&(t=!0)}else t=!0;return t}function checkTourUpdates(r){for(let t=0;t<r.length;t++){var o=r[t];let e=!!rootScope.allTourList["cat_"+o.category_id]&&rootScope.allTourList["cat_"+o.category_id]["tour_"+o.tour_id];e=e||rootScope.toursModifiedTime[o.tour_id]||!1,checkIfValidTourSegment(o)&&(!e||0<parseInt(o.modification_date)-parseInt(e.modification_date)?commonUpdate$1.updateTour(o):parseInt(o.tour_order)!==parseInt(e.tour_order)&&(e.tour_order=o.tour_order,commonUpdate$1.updateTour(o,"",e)))}checkTourDelete(r)}function deleteAllCategories(){for(let e=0;e<rootScope.allCategories.length;e++)rootScope.removeCategory(rootScope.allCategories[e]),rootScope.appList["app:"+appId].categories=[]}function checkCatDelete$1(r,o,a){GmCXt.log(70,"CHECK CATEGORY DELETE"),o=o||rootScope.allCategories,Object.keys(o).forEach(function(e){let t=o[e];e=r.filter(function(e){return parseInt(e.category_id)===parseInt(t.category_id)});GmCXt.isEmpty(e)&&(GmCXt.log(70,"Category update not found. Delete "+GmCXt.categoryLog(t)),a||(GmCXt.log(70,"REMOVE CAT from GLOBLE"+GmCXt.categoryLog(t)),rootScope.removeCategory(t)),rootScope.updateCategoryInStorgae(t,!0,a))})}function checkCatUpdates$1(t,r){GmCXt.log(70,"CATEGORY UPDATES for CURRENT APP");function o(e){}function a(e){rootScope.updateCategoryInStorgae(e,!1,r),e.has_tour&&(GmCXt.log(70,"FETCH TOURS FOR: "+GmCXt.categoryLog(e)),rootScope.fetchToursForCategory(e.category_id,o,!0))}function i(e){rootScope.updateCategoryInStorgae(e,!1,r)}for(let e=0;e<t.length;e++){var n=t[e],s=rootScope.getCategory(n.category_id);s?0<parseInt(n.modification_date)-parseInt(s.modification_date)?(GmCXt.log(70,"UPDATE: "+GmCXt.categoryLog(s)),commonUpdate$1.updateCat(n).then(i)):parseInt(n.category_order)!==parseInt(s.category_order)&&(s.category_order=n.category_order,i(s)):(GmCXt.log(70,"ADD: "+GmCXt.categoryLog(s)),commonUpdate$1.updateCat(n).then(a))}checkCatDelete$1(t)}function updateApp(e){api.getAppDetails(e.application_id,function(e){var t=GmCXt.createDeepCopy(rootScope.appList["app:"+e.application_id].categories);e.categories=t,rootScope.appList["app:"+e.application_id]=e,storage$1.appData.set(rootScope.appList)})}function updateNonActiveCategories(r,e,o){function a(t){rootScope.updateCategoryInStorgae(t,!1,o),t.has_tour&&rootScope.fetchToursForCategory(t.category_id,function(e){rootScope.updateToursInCategoryStorage(t.category_id,e,remove,o)},!0,o)}function i(e){rootScope.updateCategoryInStorgae(e,!1,o)}e.forEach(function(e){var t=r["cat_"+e.category_id];t?0<parseInt(e.modification_date)-parseInt(t.modification_date)?commonUpdate$1.updateCat(e,o).then(i):parseInt(e.category_order)!==parseInt(t.category_order)&&(t.category_order=e.category_order,i(t)):commonUpdate$1.updateCat(e,o).then(a)}),checkCatDelete$1(e,r,o)}function updateNonActiveTours(r,e,o){e.forEach(function(e){var t=r.tours["tour_"+e.tour_id];checkIfValidTourSegment(e)&&(!t||0<parseInt(e.modification_date)-parseInt(t.modification_date)?commonUpdate$1.updateTour(e,o):parseInt(e.tour_order)!==parseInt(t.tour_order)&&(t.tour_order=e.tour_order,commonUpdate$1.updateTour(e,o,t)))}),checkTourDelete(e,r.tours,o)}function processNonActiveAppData(o){Object.keys(rootScope.appList).forEach(function(e){var t,r,e=rootScope.appList[e];parseInt(e.application_id)!==parseInt(rootScope.activeAppId)&&(t=o.applications[e.application_id],e)&&e.categories&&e.categories.length&&(updateNonActiveCategories((r=rootScope.processAppData(e)).categories,t.categories,e.application_id),updateNonActiveTours(r,t.tours,e.application_id))})}commonUpdate$1.updateTour=function(t,r,e){let o={tour_id:t.tour_id,category_id:t.category_id};function a(e){GmCXt.inPlayer&&(r&&rootScope.updateTourToStorage(e,!1,r),delete rootScope.toursModifiedTime[t.tour_id],storage$1.toursModifiedTime.set(rootScope.toursModifiedTime))}e?a(e):(e=GmCXt.getLXPLang()?GmCXt.getLXPLang():rootScope.language,GmCXt.checkDefaultLangForTour(t,e)||(o.language=e),api.getTour(o,a,function(){rootScope.toursModifiedTime[t.tour_id]=t,storage$1.toursModifiedTime.set(rootScope.toursModifiedTime),rootScope.removeTour(o.category_id,t.tour_id,r)},!0,r))},commonUpdate$1.updateCat=function(o,a){return new Promise(function(t,e){var r=!!GmCXt.inPlayer;rootScope.getCategoryApi(o.category_id,function(e){t(e)},r,a)})},pService.processUpdates=function(o){var e=o.modification_date,t=GmCXt.organization;if(parseInt(e)-parseInt(t.modification_date)&&(GmCXt.log(70,"GET ORG"),api.getOrgJson(function(e){storage$1.organization.set(e)},!1)),o.applications)if(Object.keys(o.applications).length!==Object.keys(rootScope.appList).length)rootScope.refreshAllData();else{let r;Object.keys(o.applications).forEach(function(e){var e=o.applications[e],t=rootScope.appList["app:"+e.application_id];e&&0<parseInt(e.modification_date)-parseInt(t.modification_date)&&updateApp(t),t.application_id===rootScope.activeAppId&&(r={categories:e.categories,tours:e.tours})}),r.categories?(checkCatUpdates$1(r.categories,r.application_id),r.tours.length&&checkTourUpdates(r.tours)):deleteAllCategories(),processNonActiveAppData(o)}else rootScope.refreshAllData()};let service={};function updateUser(e){var t;e.accesstoken&&(t=GmCXt.user)&&(t.accesstoken=e.accesstoken,t.refreshtoken=e.refreshtoken,GmCXt.isDefined(e.app_access)&&(t.app_access=e.app_access),rootScope.saveUser(t))}function redirectToVideoStepAdd(e){e={tourId:e.tourId,stepId:0,videoUrl:e.videoUrl,type:e.type,order:e.order};Gm.routeAction.set({action:"initAddVideoStep",data:e}),rootScope.setCurrentPage("addVideoStep")}function refreshPlayer(e){rootScope.maintenance=e.maintenance_mode,storage$1.refreshTime.set(e.last_updated_time),storage$1.lastTimeStampSync.set(GmCXt.getCurrentTimeInSec()),e.maintenance_mode||pService.processUpdates(e),(GmCXt.inPlayer||GmCXt.onPrem())&&(e={action:"mgPlayerJSProd_action:update_player_sync_time",data:{refreshTime:e.last_updated_time,lastTimeStampSync:GmCXt.getCurrentTimeInSec()}},GmCXt.isClientJs()?GmCXt.sendToParentWindow(e):GmCXt.sendMessageToBackgroundService(e))}function handleGetSurveyDetail(t,e){function r(e){e.msgId=t.msgId,GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:got_survey_detail",data:e})}var o={};o.sentiment_code=t.sentiment.sentimentCode,o.user=GmCXt.user,o.app_code=t.isExit?"":GmCXt.appList["app:"+GmCXt.activeAppId].external_id,GmCXt.apiGetSentiment(o).then(r).catch(function(e){r(!1)})}function callApi(t){var r=t.data.msgId;switch(GmCXt.log(70,"#$ callApi: "+t.action+": ",t.data),t.data.api){case"tour":var e=t.data.option;api.getTour(e,s,s,e.forceJSONApi);break;case"tour/contextual":e=rootScope.readLocalCT(t.data.option.url,t.data.option.pageTitle);if(e)GmCXt.log(10,"FETCHING tours from CACHE"),n(i(e));else{var o=t;function a(e){n(i(rootScope.processContextualGuide(e,o.data.option.url)))}GmCXt.getLXPLang()?o.data.option.language=GmCXt.getLXPLang():rootScope.language&&-1===rootScope.language.indexOf("en-")&&!GmCXt.isFalse(rootScope.language)&&(o.data.option.language=rootScope.language);let e=GmCXt.user;GmCXt.onPrem()&&!GmCXt.isEmpty(e)?api.getContextualTourStorage(o.data.option,a):api.getContextualTour(o.data.option,a)}break;case"user/token":api.getAccessToken(function(e){rootScope.updateAccessTokenCallBack(e),n(e)});break;case"connectMgDesktop":api.sendMsgToMyBot(t.data.option);break;case"URL":mg$$1.get(t.data.option.url).then(function(e){n(e)})}function i(e){var t=[];return e.filter(function(e){(-1<e.tour_type.indexOf("beacon_tour")||-1<e.tour_type.indexOf("overlay_tour")||-1<e.tour_type.indexOf("smartTip")||-1<e.tour_type.indexOf("insights"))&&t.push(e)}),t}function n(e){e={action:"mgPlayerJSProd_action:call_api_response",data:{msgId:r,items:e}};GmCXt.sendMessageToBackgroundService(e),GmCXt.sendToParentWindow(e)}function s(e){n(e=GmCXt.inPlayer&&rootScope.notDefaultLang()?e&&rootScope.getTranslatedTourAndSteps(e,rootScope.language):e)}}function winListener(e){e=GmCXt.parseMsg(e);e&&e.action&&0===e.action.indexOf("mgPlayerJSProd_action:")&&((e=GmCXt.convertMgdata(e)).data&&e.data.config&&(GmCXt.conf=e.data.config),msgAction(e))}function createStepComplete(t){GmCXt.log(54,"Step Created",t.data);try{let r=t.data.step,e=(rootScope.pendingStepCount=t.data.pendingCount,rootScope.allTourList["cat_"+r.category_id]["tour_"+r.tour_id]);e=e||t.data.tour;var a=GmCXt.createDeepCopy(e);let o=t.data.tour;o.steps=a.steps,r.step_type!==GmCXt.STEP_TYPE_BRANCH&&r.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER||rootScope.branchGuideDownloadOpts(o.tour_settings.downloadGuideFiles),rootScope.isTrackingGuide(o)||(t.data.prevStepData&&t.data.prevStepData.tour&&(o.tour_settings=t.data.prevStepData.tour.tour_settings),o.steps.forEach(function(e,t){r.creation_id&&r.creation_id===e.creation_id&&(o.steps[t]=r)}),GmCXt.checkForBranchVariationSteps(r)&&rootScope.branchGuideDownloadOpts(o.tour_settings.downloadGuideFiles),rootScope.setTour(o),t.data.tour=o),r.tour_id===rootScope.currentTour.tour_id&&rootScope.routeToStepContainer("createStepCompleted",t.data),Gm.statusBar.set("createStepComplete")}catch(e){GmCXt.log(54,"Step Creation Error ",e)}}function tourUpdateSuccess(e){Gm.loading.set(!1),rootScope.decrementPendingStepCount()}function updateTour(e){let t={};var r,o,a,i;t.prevStepData=rootScope.prevStepData,t.step=e.step,(t=GmCXt.updateTourPlayStructure(t))&&(a=(o=(r=t.prevStepData).tour).category_id,i=o.tour_id,rootScope.allTourList["cat_"+a]["tour_"+i].steps=o.steps.splice(e.step.step_order-1,0,e.step),i={category_id:(a=r.tour).category_id,tour_title:a.tour_title,tour_description:a.tour_description,tour_image:a.tour_image,tour_settings:a.tour_settings,tour_type:a.tour_type,tour_url:a.tour_url,tour_id:a.tour_id,is_locked:a.is_locked,keywords:a.keywords},api.tourUpdate(i,function(){},function(){},tourUpdateSuccess))}function saveVideoStep(e){function t(e){var t;e.data?(e=e.data,rootScope.uploadProgressBar=!1,rootScope.updateVideoInProgressList("remove",e.step.tour_id),rootScope.videoUploadMessage=!0,rootScope.videoUploadMessage&&setTimeout(rootScope.closeNotification,5e3),t=new Date,rootScope.lastVideoStepCreated={id:e.step.step_id,time:t.getTime()},updateTour(e)):storage$1.videosInProgress.set([])}e.data.step_id?api.stepUpdate(e.data,t):api.stepCreate(e.data,t)}function createStepJobsPreview(e){e.forEach(function(e){createStepPreview(e)}),rootScope.uploadStepProgressBar=!0,Gm.statusBar.set("createStepJobsPreview")}function createStepPreview(e){e.stepObj=GmCXt.validateDataModel(e.stepObj,GmCXt.model.step),rootScope.routeToStepContainer("createStepPreview",e)}function updateStepComplete(r){var o,a;rootScope.decrementPendingStepCount(),1005===r.data.code?(rootScope.triggerError(r.data),GmCXt.log(54,"ERROR: Failed to update step",r.data),rootScope.routeToStepContainer("updateStepFailed",r.data)):(GmCXt.log(54,"Step updated",r.data),o=r.data.step,(a=rootScope.allTourList["cat_"+o.category_id]["tour_"+o.tour_id]).steps.forEach(function(e,t){o.step_type===GmCXt.STEP_TYPE_TAG?o.step_id===e.step_id&&(r.data.stepIndex=t,a.steps[t]=o):(o.creation_id===e.creation_id||r.data.langUpdated&&o.step_id===e.step_id)&&(a.steps[t]=o)}),r.data.tour&&(a.tour_settings=r.data.tour.tour_settings),rootScope.setTour(a),rootScope.routeToStepContainer("updateStepCompleted",r.data))}function refreshTourView(e){rootScope.uploadInProgress=!1,e.data.error?mgError.on({code:e.data.result.code}):(rootScope.videoUploadMessage=!0,setTimeout(rootScope.closeNotification,5e3),rootScope.setTour(e.data.tour),rootScope.refreshPageView())}function msgAction(t){switch(rootScope.FT.creatorApp&&commonCases(t),t.action){case"mgPlayerJSProd_action:user_signed_in":GmCXt.user&&!GmCXt.isEmpty(GmCXt.user)||t.data.forceLogin?t.data.forceLogin&&rootScope.onUserSignin(t.data.data.user,!0):rootScope.onUserSignin(t.data.data.user,!1);break;case"mgPlayerJSProd_action:init_side_panel_app":(l=t.data)&&(GmCXt.log(21,"LOADING side panel, message from content script",l),rootScope.updatePageUrl(l),GmCXt.pageTitle=l.pageTitle,GmCXt.conf.baseUrl=l.baseUrl,GmCXt.isPlayer()&&(rootScope.orgSecrret=l.orgSecKey||GmCXt.conf.orgSecrret,rootScope.myGuideOrgKey=l.myGuideOrgKey),l.isDesktopReq?(l.deskReq&&GmCXt.sendMessageToStepFrame("mgPlayerJSProd_action:connected_from_app_step",{data:l.deskReq}),rootScope.showWidget(),rootScope.processActiveRequests()):storage$1.user.get().then(function(e){e?rootScope.initApp():rootScope.goToSignIn()}));break;case"mgPlayerJSProd_action:toggle_json_editor":rootScope.jsonEditor=!rootScope.jsonEditor;break;case"mgPlayerJSProd_action:update_debug_mode":storage$1.debugMode.set(t.data.debugMode);break;case"mgPlayerJSProd_action:snow_sign_in":case"mgPlayerJSProd_action:maintenance":break;case"mgPlayerJSProd_action:update_access_token":updateUser(t.data);break;case"mgPlayerJSProd_action:close_video":rootScope.closeAppPopup();break;case"mgPlayerJSProd_action:set_video_iframe_height":mg$$1(".video-iframe").css("height",t.data.pageHeight+13);break;case"mgPlayerJSProd_action:clear_current_page":GmCXt.ruleEngine.clearJobs();break;case"mgPlayerJSProd_action:page_title":GmCXt.pageTitle!==t.data.title&&(GmCXt.isNotificationReqd=!0),GmCXt.pageTitle=t.data.title;break;case"mgPlayerJSProd_action:set_local_storage":t.data&&(i=t.data.msgId,delete t.data.msgId,mg$$1.each(t.data,function(e,t){e=GmCXt.addStoragePrefix(e),localStorage.setItem(e,JSON.stringify(t))}),n={action:"mgPlayerJSProd_action:set_local_storage_response",data:{msgId:i}},GmCXt.sendToParentWindow(n));break;case"mgPlayerJSProd_action:get_local_storage":for(var e=t.data.keys,r={},o=0;o<e.length;o++){var a=GmCXt.addStoragePrefix(e[o]);(s=localStorage.getItem(a))&&"undefined"!==s&&(s=GmCXt.parseJSON(s),r[e[o]]=s)}r&&(n={action:"mgPlayerJSProd_action:get_local_storage_response",data:{msgId:t.data.msgId,items:r}},GmCXt.sendToParentWindow(n));break;case"mgPlayerJSProd_action:remove_local_storage":for(var i=t.data.msgId,e=(delete t.data.msgId,t.data),o=0;o<e.length;o++)e[o]=GmCXt.addStoragePrefix(e[o]),localStorage.removeItem(e[o]);var n={action:"mgPlayerJSProd_action:remove_local_storage_response",data:{msgId:i}};GmCXt.sendToParentWindow(n);break;case"mgPlayerJSProd_action:to_signin_page":rootScope.handleSignIn();break;case"mgPlayerJSProd_action:page_url":i=t.data;t.data&&rootScope.updatePageUrl(i),GmCXt.urlParts=i.urlParts,GmCXt.pageTitle=i.pageTitle;break;case"mgPlayerJSProd_action:open_side_panel":rootScope.isSidePanelOpen=!0,t.data&&"chatbot"===t.data.action?Gm.activeView.set("chatbot"):GmCXt.isEmpty(GmCXt.user)||"home"!==(i=get_store_value(Gm.activeView))&&"signin"!=i&&Gm.activeView.set("home"),Gm.isSidePanelOpen.set(!0);break;case"mgPlayerJSProd_action:refresh_player":refreshPlayer(t.data);break;case"mgPlayerJSProd_action:update_timestamp_sync_time":rootScope.lastTimeStampSync=GmCXt.getCurrentTimeInSec(),storage$1.lastTimeStampSync.set(GmCXt.getCurrentTimeInSec());break;case"mgPlayerJSProd_action:refresh_current_page":i=t.data.eventType||"";rootScope.refreshCurrentPage(i),rootScope.refreshTaskList(),"page_click"!==i&&"stepview"!==get_store_value(Gm.CurrentPage)&&(GmCXt.validatedSegments={});break;case"mgPlayerJSProd_action:get_cdn_signature_from_app":rootScope.getNewCdnSignature();break;case"mgPlayerJSProd_action:set_lang_side_panel":rootScope.updateAppLang(t.data.lang);break;case"mgPlayerJSProd_action:completed;task:select_dom_element_for_rules":GmCXt.ruleEngine.onSuccessDOMRuleMatch(t.data);break;case"mgPlayerJSProd_action:lms_video_assignment_complete":break;case"mgPlayerJSProd_action:update_organization_data":t.data&&t.data.organization&&(GmCXt.organization=t.data.organization,rootScope.saveOrganization(GmCXt.organization));break;case"mgPlayerJSProd_action:call_api":callApi(t);break;case"mgPlayerJSProd_action:show_notifications":GmCXt.stopNotification(!1)&&!t.data.isAutomationRunning||(GmCXt.loadGuideNotifications(t.data.notifications,!1,!1,!1,get_store_value(Gm.isNotificationReqd),t.data.isPageClicked),Gm.isNotificationReqd.set(!1));break;case"mgPlayerJSProd_action:close_notification_popup":GmCXt.closeNotificationPopupSidePanel(t.data.isSidePanelOpen);break;case"mgPlayerJSProd_action:update_user_data":var s;t.data&&t.data.user&&(GmCXt.user=t.data.user,GmCXt.user.signin_user_email?(s={email_id:GmCXt.user.signin_user_email,settings:JSON.stringify(GmCXt.user.settings),organization_id:GmCXt.user.organization_id},GmCXt.setAnonymousUserPrefrence(s)):GmCXt.apiUpdateUserProfile(GmCXt.user),rootScope.saveUser(GmCXt.user));break;case"mgPlayerJSProd_action:update_notification_info":storage$1.notifTours.set(t.data).then(function(e){rootScope.setNotifTours()});break;case"mgPlayerJSProd_action:update_tour_activity":GmCXt.tourActivity=t.data.tourActivity;break;case"mgPlayerJSProd_action:update_played_tour":t.data.length!==get_store_value(Gm.playedTour)&&Gm.playedTour.set(t.data.playedTour);break;case"mgPlayerJSProd_action:update_played_step":rootScope.setPlayedStepsInfo(t.data.playedStep);break;case"mgPlayerJSProd_action:get_survey_detail":handleGetSurveyDetail(t.data);break;case"mgPlayerJSProd_action:get_survey_detail_tooltip":GmCXt.apiGetSentiment({app_code:rootScope.appList["app:"+rootScope.activeAppId].external_id,sentiment_code:t.data.sentiment_code,user:GmCXt.user}).then(function(e){e.tourId=t.data.tourId,e.type="tooltip",e.stepId=t.data.stepId,GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:survey_start;task:show_survey",data:e})});break;case"mgPlayerJSProd_action:clear_user_data":storage$1.user.remove();break;case"mgPlayerJSProd_action:user_signed_failed":var l=t.data;l.paramsData&&(l.params=l.paramsData,l.method_type=l.method,l.errMessage=l.message,rootScope.triggerError(t.data)),rootScope.clearSession();break;case"mgPlayerJSProd_action:mybot_results":n={action:"mgPlayerJSProd_action:mybot_results",data:{p:t.data}};GmCXt.sendMessageToBackgroundService(n),rootScope.categoryDataForAutomation=[];break;case"mgPlayerJSProd_action:clean_tour_player":GmCXt.cleanPlayerI();break;case"mgPlayerJSProd_action:reset_panel_right":mg$$1(".ege-panel").css({right:"initial"});break;case"mgPlayerJSProd_action:logout_user":rootScope.clearSession();break;case"mgPlayerJSProd_action:mark_task_guide_complete":rootScope.markTaskGuideComplete(t.data);break;case"mgPlayerJSProd_action:mark_task_guide_complete_played_outside":rootScope.markTaskGuideCompletePlayedOutside(t.data);break;case"mgPlayerJSProd_action:app_panel_closed":rootScope.isSidePanelOpen=!1,Gm.isSidePanelOpen.set(!1),rootScope.displayChatIcon();break;case"mgPlayerJSProd_action:signin_from_console":rootScope.loginFromConsole(t.data);break;case"mgPlayerJSProd_action:update_registration_secret":rootScope.trackerSecrets={},rootScope.registerClientInsights();break;case"mgPlayerJSProd_action:close_power_form":0<mg$$1(".mgPlayerJSProd_form-injector-wrapper").length&&GmCXt.closePowerFormSp()}}function appListener(e,t,r){switch(e=GmCXt.parseJSON(e),e=GmCXt.convertMgdata(e),rootScope.FT.creatorApp&&commonCases(e),e.action){case"mgPlayerJSProd_action:get_cdn_signature_from_app":rootScope.getNewCdnSignature();break;case"mgPlayerJSProd_action:to_signin_page":rootScope.handleSignIn();break;case"mgPlayerJSProd_action:update_access_token":updateUser(e.data);break;case"mgPlayerJSProd_action:call_api":callApi(e);break;case"mgPlayerJSProd_action:refresh_player":refreshPlayer(e.data);break;case"mgPlayerJSProd_action:update_timestamp_sync_time":rootScope.lastTimeStampSync=GmCXt.getCurrentTimeInSec(),storage$1.lastTimeStampSync.set(GmCXt.getCurrentTimeInSec());break;case"mgPlayerJSProd_action:fetch_user":var o=GmCXt.user;GmCXt.isEmpty(o)?rootScope.clearSession():rootScope.syncUser();break;case"mgPlayerJSProd_action:update_registration_secret":rootScope.trackerSecrets={},rootScope.registerClientInsights();break;case"mgPlayerJSProd_action:user_logged_out":break;case"mgPlayerJSProd_action:logout_user":rootScope.clearSession();break;case"mgPlayerJSProd_action:get_data_from_panel":o={action:"mgPlayerJSProd_action:get_data_from_panel_response",data:{user:GmCXt.user,organization:GmCXt.organization}};GmCXt.sendMessageToBackgroundService(o)}return!0}function commonCases(r){switch(r.action){case"mgPlayerJSProd_action:beacon_rules_donot_match":case"mgPlayerJSProd_action:smartTip_rules_donot_match":rootScope.showPopup(rootScope.labels.noPreview);break;case"mgPlayerJSProd_action:switch_app":rootScope.switchApp(r.data.app);break;case"mgPlayerJSProd_action:create_tags":(tourViewPage=angular.element("#tour-view-page-container").scope())&&tourViewPage.createTags(r.data);break;case"mgPlayerJSProd_action:create_step":createStepPreview(r.data);break;case"mgPlayerJSProd_action:create_step_jobs":createStepJobsPreview(r.data);break;case"mgPlayerJSProd_action:update_step":rootScope.incrementPendingStepCount(),setTimeout(function(){rootScope.updateStep(r.data)},100);break;case"mgPlayerJSProd_action:not_able_to_edit_step":modal.editStepOptions();break;case"mgPlayerJSProd_action:element_not_found_reselect_beacon":GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:open_app_panel"}),modal.editStepOptions("Reselect beacon");break;case"mgPlayerJSProd_action:element_not_found_edit_on_image":t=r.data.step,rootScope.hideWidget(),GmCXt.isEditAnywhere(t)?GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:inline_edit,task:edit_step"}):modal.editStepOptions("Reselect element");break;case"mgPlayerJSProd_action:inline_edit_on_image":t=r.data.step,rootScope.hideWidget(),GmCXt.isEditAnywhere(t)?GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:image_edit,task:edit_inline_step"}):modal.editStepOptions("Reselect element");break;case"mgPlayerJSProd_action:not_able_to_edit_beacon":GmCXt.isExtension()&&modal.open(rootScope.labels.editBeaconMsg,"confirm",function(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:redirect_to_url,task:edit_beacon"})});break;case"mgPlayerJSProd_action:save_beacon_settings":setTimeout(function(){Gm.routeAction.set({action:"saveBeaconSettings",data:r.data})},1e3);break;case"mgPlayerJSProd_action:completed;task:select_new_element_for_dom_select_rule":Gm.routeAction.set({action:"mgPlayerJSProd_action:completed;task:select_new_element_for_dom_select_rule",data:r.data});break;case"mgPlayerJSProd_action:completed;task:select_new_table_for_dom_select_rule":e=r.data;var o=angular.element("#mgPlayerJSProd_rules-engine-container").scope();o&&o.onTableSelectedForDomRule(e);break;case"mgPlayerJSProd_action:update_element_precision;to:side_panel":let e=r.data;e.rulesElement&&(GmCXt.rulesElement=e.rulesElement),Gm.routeAction.set({action:"updateElementPrecision",data:r.data});break;case"mgPlayerJSProd_action:completed;task:select_dom_element_for_matching_in_rules":GmCXt.log(12,"RECEIVED MESSAGE. Element find result"),Gm.routeAction.set({action:"mgPlayerJSProd_action:completed;task:select_dom_element_for_matching_in_rules",data:r.data});break;case"mgPlayerJSProd_action:update_video_progress_bar":rootScope.updateStatusProgressBar(r);break;case"mgPlayerJSProd_action:update_save_video_progress":rootScope.updatedInProgressVariable(r);break;case"mgPlayerJSProd_action:open_survey_creation":rootScope.fromSmartTipPanel=!0,rootScope.openSurveyAnalyticsPortal();break;case"mgPlayerJSProd_action:scroll_to_edit_step":rootScope.scrollToStep(r.data.stepId,!0);break;case"mgPlayerJSProd_action:show_close_screen_cast_btn":mg$$1("#mgPlayerJSProd_stopScreencast").show(),GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:show_recording_on"});break;case"mgPlayerJSProd_action:screencast_recording_denied":rootScope.showPopup(rootScope.labels.userDeniedScreencastMessage);break;case"mgPlayerJSProd_action:clear_active_screencast":storage$1.activeTourId.remove(),rootScope.setStepPendinCount(),"stepview"===get_store_value(Gm.CurrentPage)&&Gm.currentTour.update(e=>({...e,screencastInProgress:!1}));break;case"mgPlayerJSProd_action:replace_element_request_from_insight":rootScope.getStepForReplaceEl(r.data.data.step);break;case"mgPlayerJSProd_action:paste_tour_from_myguide_library":rootScope.isUserLoggedIn()&&(rootScope.copiedTour=r.data.data.tour_id,rootScope.copyGuidesList=!1,rootScope.tourCopiedFromLibrary=!0,modal.open(rootScope.labels.copyGuideFromLibrary,"success"));break;case"mgPlayerJSProd_action:FindReplaceElReq":let t=r.data.step;t&&t.step_settings&&t.step_settings.element&&(state=$state.go("findNReplace",{auto_jquery:t.step_settings.element.criteria.auto_jquery,jquery_selector:t.step_settings.element.criteria.jquery_selector}));break;case"mgPlayerJSProd_action:create_step_completed":case"mgPlayerJSProd_action:create_tag_completed":createStepComplete(r);break;case"mgPlayerJSProd_action:myBot_report_saved":GmCXt.sendToParentWindow(r);break;case"mgPlayerJSProd_action:create_step_failed":createStepFail(r);break;case"mgPlayerJSProd_action:hide_progress_bar":rootScope.setStepPendinCount(),rootScope.hideProgressBar();break;case"mgPlayerJSProd_action:updated_step_completed":case"mgPlayerJSProd_action:updated_tag_completed":updateStepComplete(r);break;case"mgPlayerJSProd_action:updated_step_failed":updateStepFail(r);break;case"mgPlayerJSProd_action:close_tag_completed":Gm.loading.set(!1);break;case"mgPlayerJSProd_action:creator_updates":syncCreatorChanges(r);break;case"mgPlayerJSProd_action:redirect_to_video_step_add":mg$$1("#mgPlayerJSProd_stopScreencast").hide(),redirectToVideoStepAdd(r.data),GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:show_recording_off"});break;case"mgPlayerJSProd_action:refresh_tour_view":refreshTourView(r);break;case"mgPlayerJSProd_action:console_errors_from_background":r.data.errStack&&console.error(r.data.errStack);break;case"mgPlayerJSProd_action:save_video_step":console.log("inside mgPlayerJSProd_action:save_video_step"),saveVideoStep(r);break;case"mgPlayerJSProd_action:create_video_step":GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:open_app_panel",data:{byPassRoute:!0}});$state.go("video-step-add",{tourId:r.data.tourId,stepId:0,videoUrl:r.data.videoUrl,type:"videoScreencast",order:r.data.order});break;case"mgPlayerJSProd_action:save_video_in_background;task:upload_video;completed":GmCXt.sendToParentWindow(r);break;case"mgPlayerJSProd_action:show_message_video_step_failed":rootScope.uploadProgressBar=!1,rootScope.videoUploadMessage=!1,Gm.statusBar.set(video_step_failed),mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-close-button").show(),modal.open(rootScope.labels.videoSubmitFailedMessage,"alert",videoErrClose),rootScope.uploadInProgress=!1,rootScope.updateVideoInProgressList("remove",r.data.tour_id);break;case"mgPlayerJSProd_action:update_video_progress_bar":rootScope.updateStatusProgressBar(r);break;case"mgPlayerJSProd_action:show_message_video_card_submit_failed":rootScope.uploadProgressBar=!1,rootScope.videoUploadMessage=!1,Gm.statusBar.set("video_card_submit_failed"),mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").html("1%"),mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").css("width","1%"),mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-close-button").show(),modal.open(r.data.data,"alert"),rootScope.uploadInProgress=!1;break;case"mgPlayerJSProd_action:update_save_video_progress":rootScope.updatedInProgressVariable(r);break;case"mgPlayerJSProd_action:create_image_steps_failed":rootScope.uploadProgressBar=!1,rootScope.videoUploadMessage=!1,Gm.statusBar.set("image_steps_failed"),mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").html("1%"),mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").css("width","1%"),r.data.code&&rootScope.triggerError(r.data),rootScope.uploadInProgress=!1;break;case"mgPlayerJSProd_action:myBot_report_saved":GmCXt.sendToParentWindow(r);break;case"mgPlayerJSProd_action:to_signin_page":rootScope.handleSignIn()}}service.main=()=>{window.addEventListener("message",winListener),GmCXt.isExtension()&&("chrome"===GmCXt.browserApp?chrome:browser).runtime.onMessage.addListener(appListener)};let commonUpdate={},creatorUpdate=(commonUpdate.updateTour=function(t,r,e){let o={tour_id:t.tour_id,category_id:t.category_id};function a(e){GmCXt.inPlayer&&(r&&rootScope.updateTourToStorage(e,!1,r),delete rootScope.toursModifiedTime[t.tour_id],storage$1.toursModifiedTime.set(rootScope.toursModifiedTime))}e?a(e):(e=GmCXt.getLXPLang()?GmCXt.getLXPLang():rootScope.language,GmCXt.checkDefaultLangForTour(t,e)||(o.language=e),api.getTour(o,a,function(){rootScope.toursModifiedTime[t.tour_id]=t,storage$1.toursModifiedTime.set(rootScope.toursModifiedTime),rootScope.removeTour(o.category_id,t.tour_id,r)},!0,r))},commonUpdate.updateCat=function(o,a){return new Promise(function(t,e){var r=!!GmCXt.inPlayer;rootScope.getCategoryApi(o.category_id,function(e){t(e)},r,a)})},commonUpdate.categoryUpdateCb=function(e,t){delete rootScope.subCategoryStore["cat_"+e.category_id],delete rootScope.allTourList["cat_"+e.category_id],GmCXt.inPlayer||(t.offset=0)},{});function updatePageView(e,t,r){var o=rootScope.getPageScope();if(r)o.category_id===e.category_id&&(o.category=e);else{var a=t?o.categories:o.sub_categories;if(!GmCXt.isEmpty(a))for(var i=0;i<a.length;i++)if(a[i].category_id===e.category_id){a[i]=e;break}}}function checkParentCat(t,e,r){t.categoryId&&(rootScope.isUpdateNeeded(t.categoryId,"category")?commonUpdate.updateCat({category_id:t.categoryId}).then(function(e){updatePageView(e,!1,!0),commonUpdate.categoryUpdateCb(e,t)}):e&&(rootScope.catUpdatePending=!0),-1!==rootScope.serverDeletes.categories.indexOf(t.categoryId))&&rootScope.goBack()}function checkCatDelete(e){-1!==rootScope.serverDeletes.categories.indexOf(e)&&(rootScope.refreshAllGuides=!0)}function checkCatUpdates(e,t,r){var o=!1;return e.forEach(function(e){rootScope.isUpdateNeeded(e.category_id,"category")&&(o=!0,commonUpdate.updateCat(e).then(function(e){updatePageView(e,!0,!1)})),t&&checkCatDelete(r)}),o}function checkForNewCat(){var e=!0;if(!GmCXt.isEmpty(rootScope.serverUpdates))for(var t in rootScope.serverUpdates){if(!e)break;-1!==t.indexOf("category_")&&(t=t.split("_")[1],e=!!rootScope.getCategory(t))}return!e}function checkCatAdded(e,t,r){"team-guides"===rootScope.currentView?rootScope.refreshAllGuides?rootScope.refreshPageView():(!e&&t||rootScope.catUpdatePending)&&(checkForNewCat()&&rootScope.refreshPageView(),rootScope.catUpdatePending=!1):checkParentCat(r,t)}creatorUpdate.updateTour=commonUpdate.updateTour,creatorUpdate.updateCat=commonUpdate.updateCat,creatorUpdate.addTourList=function(r,e){e.forEach(function(e){var t="cat_"+(r||e.category_id);rootScope.allTourList[t]||(rootScope.allTourList[t]={}),rootScope.allTourList[t]["tour_"+e.tour_id]=e}),storage$1.allTourList.set(rootScope.allTourList)},creatorUpdate.setTour=function(e,t){var r="cat_"+e.category_id,o="tour_"+e.tour_id;rootScope.allTourList[r]||(rootScope.allTourList[r]={}),GmCXt.FT.creatorApp&&(e.modification_date=GmCXt.getCurrentTimeInSec(),t||creatorUpdate.updateServerUpdateList(e.tour_id,"tour")),rootScope.allTourList[r][o]=e,GmCXt.inPlayer||storage$1.allTourList.set(rootScope.allTourList)},creatorUpdate.deleteTourServerUpdate=function(e){for(var t in rootScope.allTourList){var r,o;for(r in rootScope.allTourList[t])"tour_"+e===r&&(o=t.split("_")[1],rootScope.removeTour(o,e))}},creatorUpdate.checkCurrentViewForUpdate=function(e){var t;GmCXt.isPlayer()||(t=rootScope.getPageScope())&&("tour-list"===rootScope.currentView?(t.tours.forEach(function(e){rootScope.isUpdateNeeded(e.tour_id,"tour")&&commonUpdate.updateTour(e)}),checkParentCat(t,e)):"team-guides"===rootScope.currentView?checkCatAdded(checkCatUpdates(t.categories,!0,t.categoryId),e,t):"category-list"===rootScope.currentView?checkCatAdded(checkCatUpdates(t.sub_categories,!(rootScope.catUpdatePending=!0),t.categoryId),e,t):"tour-view"===rootScope.currentView&&(rootScope.catUpdatePending=!0,rootScope.isUpdateNeeded(t.tourId,"tour")&&t.refreshView(),0<=rootScope.serverDeletes.tours.indexOf(t.tourId))&&rootScope.goBack())};var getEntity=function(e,t){var r={};return"category"===e?r=rootScope.getCategory(t):"tour"===e&&(r=rootScope.getTourFromId(t)),r};creatorUpdate.isUpdateNeeded=function(e,t){var r,o;return!GmCXt.isEmpty(rootScope.serverUpdates)&&(r=getEntity(t,e),!GmCXt.isEmpty(r))&&(r=parseInt(r.modification_date)||0,o=!1,e="isUpdateNeeded: "+t+"_"+e+" .....?"+(o=2<(t=(rootScope.serverUpdates[t+"_"+e]||0)-r)?!0:o)+"...time difference..."+t,GmCXt.log(61,e),o)},creatorUpdate.deleteCategoryServerUpdate=function(e){var t=rootScope.getCategory(e).parent_id;rootScope.removeCategory({category_id:e}),rootScope.refreshAllGuides=!1,"0"===t&&(rootScope.refreshAllGuides=!0)},creatorUpdate.updateServerUpdateList=function(e,t){delete rootScope.serverUpdates[t+"_"+e],storage$1.serverUpdates.set(rootScope.serverUpdates)},creatorUpdate.updateTourProperty=function(e,t,r){GmCXt.isEmpty(e)||(rootScope.allTourList["cat_"+e.category_id]&&rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id]&&(rootScope.allTourList["cat_"+e.category_id]["tour_"+e.tour_id][r]=t),storage$1.allTourList.set(rootScope.allTourList))},GmCXt.stopCapture=stopCapture,service.main(),GmCXt.logAll=logAll,GmCXt.logLog=logLog,rootScope.playVideoTour="video",rootScope.playSlideshow="slideshow",rootScope.playGiphy="giphy",rootScope.playVLab="vLab",rootScope.playAuto="doitforme",rootScope.playGuideMe="guideMe",rootScope.playTestMe="testMe",rootScope.isClientJs=!1,rootScope.contextTours=[],rootScope.FT=GmCXt.FT,rootScope.showCaptchaError=!1,rootScope.config=GmCXt.conf,rootScope.staticContentPath=GmCXt.conf.staticContentPath,rootScope.webPortalUrl=GmCXt.conf.webPortalUrl,rootScope.analyticsPortalUrl=GmCXt.conf.analyticsPortalUrl,rootScope.appConfig=GmCXt.conf.appConfig,rootScope.appName=GmCXt.conf.appName,rootScope.appType=GmCXt.conf.appType,rootScope.brandName="MyGuide",rootScope.appVersion=GmCXt.conf.version,rootScope.ssoRedirectionUrl=GmCXt.conf.ssoRedirectionUrl,rootScope.ssoApiUrl=GmCXt.conf.ssoApiUrl,rootScope.ssoConfigUrl=GmCXt.conf.ssoConfigUrl,rootScope.ssoId="",rootScope.isLXP=GmCXt.isLXP(),rootScope.isWestpac=GmCXt.isWestpac(),rootScope.isMyGuide=GmCXt.isMyGuide(),rootScope.onPrem=GmCXt.onPrem(),rootScope.isWB=GmCXt.isWB(),rootScope.isMicroPlayer=GmCXt.isMicroPlayer(),rootScope.isClientJs=GmCXt.isClientJs(),rootScope.isElectron=GmCXt.isElectron(),rootScope.isWBMicroPlayer=GmCXt.isWBMicroPlayer(),rootScope.isWBC=GmCXt.isWBC(),rootScope.checkInsightEnabled=GmCXt.checkInsightEnabled,rootScope.isScreenRecorderClose=!1,rootScope.taskListApiCalled=!1,rootScope.countLimit=99,rootScope.languages=[],rootScope.selectedLanguage="",rootScope.userPrefLang=!1,rootScope.tourVideoInProgressArr=[],rootScope.ssoHitCount=0,rootScope.thirtyMinutesInSeconds=1800,rootScope.thirtyDaysInSeconds=2592e3,rootScope.thirtyDaysInMSeconds=2592e6,rootScope.lastCheckBrandLogo=0,rootScope.browserApp=GmCXt.browserApp,rootScope.allowedImageExtensions=["image/png","image/jpeg","image/jpg"],rootScope.appDomainLimit=500,rootScope.showPlayer=!1,rootScope.playerMode=!1,rootScope.isPlayer=GmCXt.isPlayer,rootScope.browserLang=GmCXt.browserLang,rootScope.defaultLang={},rootScope.maintenance=!1,rootScope.appEnvs=[],rootScope.categoryDataForAutomation=[],rootScope.jsonEditor=!1,rootScope.searchFilterDropDownVisible=!1,rootScope.isRefresh=!1,rootScope.isApiCallOn=!1,rootScope.isTaskListActive=!1,rootScope.isAppJsonCalling=!1,rootScope.pendingStepCount=-1,rootScope.isOnboarding=GmCXt.isOnboarding,rootScope.botTourPlayList=[],rootScope.labels=GmCXt.getAllLabels(),rootScope.allCategories=[],rootScope.chatLabels={},rootScope.toursModifiedTime=0,rootScope.refreshTime=0,rootScope.botGuideCount=0,rootScope.isTaskListVisible=!1,rootScope.taskListCount=0,rootScope.languageList=[],rootScope.languages=[],rootScope.svgs=svgConst,rootScope.isForwardListenerAttached=!1,rootScope.isBackwardListenerAttached=!1,GmCXt.isSidePanelApp=!0,rootScope.isOnboarding=GmCXt.isOnboarding;let storageAll=[storage$1.user.get(),storage$1.accessibility.get(),storage$1.organization.get(),storage$1.activeAppId.get(),storage$1.activeTourId.get(),storage$1.activeTab.get(),storage$1.activeView.get(),storage$1.activeLang.get(),storage$1.activeVoice.get(),storage$1.userPrefLang.get(),storage$1.videosInProgress.get(),storage$1.breadCrumbItems.get(),storage$1.currentTour.get(),storage$1.testAuto.get(),storage$1.loginTime.get(),storage$1.edcastLogin.get(),storage$1.allTourList.get(),storage$1.refreshTime.get(),storage$1.lastTimeStampSync.get(),storage$1.activeSortFilter.get(),storage$1.refreshCache.get(),storage$1.segmentGroupData.get(),storage$1.currentStep.get(),storage$1.appData.get(),storage$1.toursModifiedTime.get(),storage$1.stepsPlayed.get(),storage$1.currentPage.get(),storage$1.breadCrumb.get()],sendMessage=(GmCXt.FT.creatorApp&&(storageAll.push(storage$1.showPlayer.get()),storageAll.push(storage$1.serverUpdates.get()),storageAll.push(storage$1.serverDeletes.get()),storage$1.category.get()),rootScope.playVideoTour="video",rootScope.playSlideshow="slideshow",rootScope.playGiphy="giphy",rootScope.playVLab="vLab",rootScope.playAuto="doitforme",rootScope.playGuideMe="guideMe",rootScope.playTestMe="testMe",rootScope.navBarVisible=!1,rootScope.jsonEditor=!1,rootScope.botGuideCount=0,rootScope.isGuide=GmCXt.isGuide,rootScope.orgSecrret=GmCXt.conf.orgSecrret,rootScope.myGuideOrgKey="",function(e){GmCXt.sendToParentWindow(e)});function readStorage(){return Promise.all(storageAll)}function updateCatList(r,e,t){let o;e?(rootScope.subCategoryStore["cat_"+e]||(rootScope.subCategoryStore["cat_"+e]=[]),rootScope.subCategoryStore["cat_"+e].forEach(function(e,t){e.category_id===r.category_id&&(o=t)}),0<=o?t?rootScope.subCategoryStore["cat_"+e].splice(o,1):rootScope.subCategoryStore["cat_"+e].splice(o,1,r):t||rootScope.subCategoryStore["cat_"+e].push(r)):(rootScope.categoryStore.forEach(function(e,t){e.category_id===r.category_id&&(o=t)}),0<=o?t?rootScope.categoryStore.splice(o,1):rootScope.categoryStore.splice(o,1,r):t||rootScope.categoryStore.push(r))}function updateNotificationTours(e){Object.keys(e).forEach(function(e){parseInt(e)&&rootScope.notiTourIds.push(parseInt(e))})}function sortNotifTours(r,o){if(rootScope.resetNotificationData(),r)for(let e=0,t=(r=GmCXt.sortToursByModifcationDate(r)).length;e<t;e++){var a=rootScope.notDefaultLang()?rootScope.getTranslatedTourAndSteps(r[e],rootScope.language):r[e];a&&!a.tour_settings.oneTimeNotification&&(o[a.tour_id]?rootScope.notifications.doNotShowTour.push({tour_id:a.tour_id,tour_title:a.tour_title}):GmCXt.inArray(a.tour_id,rootScope.notiTourIds)&&rootScope.notifications.snoozeTour.push({tour_id:a.tour_id,tour_title:a.tour_title}))}}function updateSettingOnAppSwitch(){var e=GmCXt.organization;GmCXt.isEmpty(e)||(rootScope.updateCustomLabels(e.settings),rootScope.enableOrgFeatures(e))}function getAllLanguagesArr(r){var o=[];if(o.push(GmCXt.defaultLang),r.translations)for(let e=0,t=r.translations.length;e<t;e++)GmCXt.isEmpty(r.translations[e].language)||o.push(r.translations[e]);else for(let e=0,t=r.length;e<t;e++)GmCXt.isEmpty(r[e].language)||o.push(r[e]);return GmCXt.removeDuplicates(o)}function setDefaultOrgFeatures(){rootScope.currentPageBeacon=!1,rootScope.fqdn=!1,rootScope.guideSegmentation=!1,rootScope.mediafileCreation=!1,rootScope.createTooltipMediaFile=!1,GmCXt.trackerUtil.trackPI=!1,rootScope.enableGuidemeMode=!1}function setDefaultAdminFeature(){rootScope.lms=!1,rootScope.chatBot=!1,rootScope.enableMyteacher=!1,rootScope._doitforme=!1,rootScope.maintenance=!1,rootScope.currentPageOnly=!1,rootScope.showAppSwitcher=!1,GmCXt.trackerUtil.enableTracking=!1,GmCXt.trackerUtil.trackPI=!1,rootScope.FT.analytics=!1,rootScope.ruleCheck=!1,rootScope.displayAcceptCookiePopup=!0,rootScope.featureTracking=!1,rootScope.pageTracking=!1,rootScope.allGuideView=!1,rootScope.isMicroPlayer=!1,setDefaultOrgFeatures()}function checkForSubCategories(e,i,n,s){e.forEach(function(a){var e;a.sub_categories?(e=i.length,checkForSubCategories(a.sub_categories,i,n,a),e<i.length&&!i.includes(a)&&(i.push(a),n["cat_"+s.category_id]||(n["cat_"+s.category_id]=[]),n["cat_"+s.category_id].push(a))):a.tours&&0<a.tours.length&&GmCXt.checkGuidesBasedOnSegment(a.tours,function(e){var t,r,o;!GmCXt.isEmpty(e)&&(t=e.tour_settings.app_publish_env,GmCXt.checkDomainInPublishedEnv(t)||rootScope.isDesktopGuide(e))&&(i.push(a),n["cat_"+s.category_id]||(n["cat_"+s.category_id]=[]),r=a,o=!1,0<(t=n["cat_"+s.category_id]).length&&t.forEach(function(e){e.category_id===r.category_id&&(o=!0)}),o||n["cat_"+s.category_id].push(a))})})}function getCurrentAppObj(a){return new Promise(function(t,e){Gm.loading.set(!0);function r(e){if(0<e.length){var r=GmCXt.urlParts;let t=GmCXt.checkDomainInApps(r.fullUrl);GmCXt.onPrem()&&t.appId!==rootScope.activeAppId&&storage$1.activeAppId.set(t.appId),o=e.filter(function(e){return parseInt(e.application_id)===parseInt(rootScope.activeAppId)})[0]||{},GmCXt.isEmpty(o)&&(t.domainMatch?(GmCXt.log(21,"GET APP by domain: "+t.appName),o=e.filter(function(e){return parseInt(e.application_id)===parseInt(t.appId)})[0]):GmCXt.FT.creatorApp&&(o=e[0]))}GmCXt.isEmpty(o)?(Gm.loading.set(!1),t()):(rootScope.initAppDetails(o),Gm.loading.set(!1),t(o))}let o={};a?r(a):rootScope.checkAppList().then(function(){var e,t=[];for(e in rootScope.appList)t.push(rootScope.appList[e]);r(t)})})}function gotApps(e){return new Promise(function(t,r){Gm.loading.set(!0),GmCXt.log(21,"FETCHED apps.",e),getCurrentAppObj(e).then(function(e){GmCXt.isEmpty(e)||GmCXt.isExcludeDomain()?GmCXt.isExcludeDomain()&&r():rootScope.FT.isPlayer||(rootScope.resetOffset=!0,rootScope.refreshPageView()),Gm.loading.set(!1),t()})})}function updateUserLabels(e){for(var t in e)rootScope.labels.hasOwnProperty(t)&&(rootScope.labels[t]=e[t]||rootScope.labels[t]);return e}function updateChatLabels(e){for(var t in e)rootScope.labels.hasOwnProperty(t)&&(rootScope.labels[t]=e[t]||rootScope.labels[t]);return e}function clearCache(){storage$1.allTourList.remove(),storage$1.storageSyncTime.remove()}function filterAppsBasedOnAccess(o){let a=[];return rootScope.isOwner()?o:(mg$$1.each(GmCXt.user.app_access,function(e,t){var r=o.filter(function(e){return parseInt(e.application_id)===parseInt(t)});r.length&&a.push(r[0])}),a)}function resetAll(){rootScope.contextTours=[],storage$1.activeLang.remove()}function showCloseBtn(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:show-panel-close-btn"})}function hideCloseBtn(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:hide-panel-close-btn"})}function hidePlayerModeActions(){rootScope.sortOrderCategory();var e={action:"mgPlayerJSProd_action:hide_player_mode_actions"};GmCXt.sendToParentWindow(e)}function isMicroPlayerMode(){return GmCXt.getAppSetting("isMiniPlayer")?GmCXt.miniPlayer=!0:GmCXt.miniPlayer=!1}function updateAppFeatures(e){var t;rootScope.showPlayer?(t=isMicroPlayerMode(),rootScope.isMicroPlayer=t,window.matchMedia("(max-width: 480px)").matches&&(rootScope.isMicroPlayer=!1),t&&hideCloseBtn()):(rootScope.isMicroPlayer=!1,showCloseBtn()),GmCXt.initPlayerModeFeatures(rootScope.showPlayer,rootScope.isMicroPlayer,rootScope.playerMode),e||rootScope.enableOrgFeatures(rootScope.organization),rootScope.FT=GmCXt.FT,rootScope.updateLabels()}function checkGuideMeMode(e){return("Default"===e||""===e)&&GmCXt.getAppSetting("defaultPlayAction")===rootScope.playGuideMe||e===rootScope.playGuideMe}function getLastPlayedStep(e){var t=GmCXt.tourActivity["t:"+e.tour_id];return rootScope.getStepFromTour(t,e)}function restartGuide(){GmCXt.log(33,"RESTART tour play"+GmCXt.tourLog(rootScope.contTour.tour)),continuePlay("",null,rootScope.contTour.tour,rootScope.contTour.source)}function resumeGuide(){GmCXt.log(33,"RESUME tour play"+GmCXt.tourLog(rootScope.contTour.tour)),continuePlay("",rootScope.contTour.step,rootScope.contTour.tour,rootScope.contTour.source)}function listenTourPlay(e){var t,e=GmCXt.parseMsg(e);e&&e.action&&0===e.action.indexOf("mgPlayerJSProd_action:")&&("mgPlayerJSProd_action:next_step_found_app"===(e=GmCXt.convertMgdata(e)).action&&(rootScope.stepFound=!0,t=rootScope.contTour.step,GmCXt.log(33,"FOUND next step"+GmCXt.stepLog(t.step_id,t.tour_id)),resumeGuide(),window.removeEventListener("message",listenTourPlay)),"mgPlayerJSProd_action:start_point_found_app"===e.action&&(rootScope.contTour.step=e.data.step,resumeGuide(),window.removeEventListener("message",listenTourPlay),delete rootScope.startPoints,delete rootScope.searching_sp),"mgPlayerJSProd_action:start_point_not_found"===e.action)&&(rootScope.searching_sp<rootScope.startPoints.length-1?(rootScope.searching_sp+=1,GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:search_start_point",data:{tour_id:rootScope.contTour.tour_id,startPoint:rootScope.startPoints[rootScope.searching_sp]}})):"inline"!==rootScope.contTour.tour.steps[0].step_type&&continuePlay("",null,rootScope.contTour.tour,rootScope.contTour.source,rootScope.contTour.tour.category_title))}function tourCb(o,a,i,n,s,l){if(i=GmCXt.checkAndCorrectPS(i),o===GmCXt.TOUR_PLAYER_SLIDESHOW){if(rootScope.isOnlySurveyGuide(i))return;i.steps=GmCXt.filterOutAutomationSteps(i.steps)}if("doitforme"===o&&rootScope.checkStepsForDoItForMeMode(i)){let e=new Modal({target:document.body,props:{popupType:"warning",msg:labels.doitForMeWarning,onConfirm:()=>e.$destroy()}})}else i.tour_settings=GmCXt.parseJSON(i.tour_settings),i.tour_settings.play_structure=GmCXt.getGuidePlayStructure(i,o),i.tour_settings.valid_segments=GmCXt.getTourSegments(i),GmCXt.FT.isPlayer&&(i=rootScope.isGuideInOriginalLang(i)?rootScope.getTranslatedTourAndSteps(i,rootScope.language):i),storage$1.appData.get().then(function(e){let r=e;GmCXt.appList=e,storage$1.activeAppId.get().then(e=>{var t=e,e=(GmCXt.activeAppId=e,r["app:"+t]),t=(GmCXt.activeAppData=e).settings,e=(t&&t.domains?i.allDomains=t.domains:i.allDomains=!1,1<GmCXt.urlParts.pathname.length&&GmCXt.urlParts.pathname.toLowerCase(),i.tour_settings.rules),t=!(rootScope.resumeFromStartPoint=!1);if(GmCXt.isEmpty(i.tour_settings.start_point_info)||(t=0<e.length?GmCXt.ruleEngine.evaluateRules(e):t)&&(rootScope.resumeFromStartPoint=!0),!a&&(rootScope.isResumeGuide||rootScope.resumeFromStartPoint)&&rootScope.isPlayer()&&("home"===n||"currentpage"===n||"tour-list"===n||"stepview"===n||"tour-view"===n&&rootScope.resumeFromStartPoint)&&checkGuideMeMode(o)){let t;if(rootScope.resumeFromStartPoint&&!rootScope.isResumeGuide)for(let e=0;e<i.tour_settings.start_point_info.length;e++){t=GmCXt.getStepFromSteps(i.tour_settings.start_point_info[e].step_id,i.steps);break}else t=getLastPlayedStep(i);if(rootScope.contTour={tour:i,step:t,source:n},t){GmCXt.log(33,"Tour was Played "+GmCXt.stepLog(t.step_id,t.tour_id)),rootScope.startPoints=[];for(let e=i.steps.length-1;-1<e;e--)i.steps[e].step_settings.startPoint&&(rootScope.resumeFromStartPoint=!0,rootScope.startPoints.push(i.steps[e]));return void(rootScope.startPoints.length&&!rootScope.isResumeGuide?("inline"===i.steps[0].step_type&&rootScope.startPoints.unshift(i.steps[0]),rootScope.searching_sp=0,window.addEventListener("message",listenTourPlay),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:search_start_point",data:{tour_id:i.tour_id,startPoint:rootScope.startPoints[0]}})):"inline"===t.step_type?(rootScope.stepFound=!1,window.addEventListener("message",listenTourPlay),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:search_next_step",data:{tour_id:i.tour_id,requestId:t.step_id,settings:t.step_settings,windowHost:GmCXt.getPageDomain(),task:"findStep",findOnly:!0,noOutline:!0,timeout:Date.now()+1e3,log_stepInfo:GmCXt.getStepInfoLog(t)}}),GmCXt.timeout(function(){var e;rootScope.stepFound||(e=rootScope.contTour.step,GmCXt.log(33,"NOT FOUND next step "+GmCXt.stepLog(e.step_id,e.tour_id)),window.removeEventListener("message",listenTourPlay),restartGuide())},1e3)):resumeGuide())}}GmCXt.log(33,"PLAYING "+GmCXt.tourLog(i)),continuePlay(o,a,i,n,s,l)})})}function continuePlay(e,t,r,o,a,i){t||(n=r.tour_settings.play_structure[0].id,t=rootScope.getStepFromTour(n,r));var n=t.step_id,n=(GmCXt.log(33,"PLAY TOUR from "+GmCXt.stepLog(t.step_id,t.tour_id)),{data:{tour:r,currentStepId:n,language:rootScope.getTourLangInfo(r),isDefaultLang:GmCXt.checkDefaultLangForTour(r,rootScope.language),source:o,automate:!1,taskObj:i,activeAppId:GmCXt.activeAppId,orgData:GmCXt.organization,user:GmCXt.user},action:"mgPlayerJSProd_action:play_tour"});a&&(n.data.tour.category_name=a),rootScope.startGuideAction(n,e,t,r)}function checkIfCSV(r){return new Promise(function(i,e){var t=GmCXt.createDeepCopy(r.steps);rootScope.checkLinkedGuideStep(t,function(e,t,r){if(0===t){clearInterval(r);for(var o=0;o<e.length;o++){var a=e[o].step_settings.automation;a&&"csv"===a.inputType&&a.csvParam&&(GmCXt.log(33,"CSV input expected"),i(!0))}i(!1)}})})}function containsCategoryWithId(t){var r=get_store_value(Gm.breadCrumb);for(let e=1;e<r.length;e++)if("object"==typeof r[e]&&r[e].id===t)return!0;return!1}function getKeysForTracking(){GmCXt.isDefined(rootScope.trackerSecrets)||(rootScope.trackerSecrets={}),rootScope.trackerSecrets&&GmCXt.isEmpty(rootScope.trackerSecrets.secrets)&&rootScope.registerClientInsights()}function checkAppData(){return new Promise(function(t,e){rootScope.checkAppList().then(function(){var e=GmCXt.urlParts;GmCXt.checkDomainInApps(e.fullUrl).domainMatch?(rootScope.activeAppId&&rootScope.activeAppId!==GmCXt.checkDomainInApps(e.fullUrl).appId&&resetData(),rootScope.FT.creatorApp&&autoSwitchApp(),rootScope.activeAppId=GmCXt.checkDomainInApps(e.fullUrl).appId,(e=rootScope.appList["app:"+rootScope.activeAppId])&&rootScope.initAppDetails(e)):GmCXt.FT.creatorApp||storage$1.activeAppId.remove(),t()})})}function goToApp(){getCurrentAppObj().then(function(e){})}function autoSwitchApp(e){let t=!0;var r=GmCXt.checkDomainInApps(GmCXt.urlParts.fullUrl);return updateSettingOnAppSwitch(),GmCXt.isFQDN()?r.appId!==GmCXt.activeAppId?(rootScope.resetCreatorData(!0),r.domainMatch&&(GmCXt.log(21,"SWITCH app for the current domain: "+r.appName),storage$1.activeAppId.set(r.appId),GmCXt.inPlayer&&resetData(),rootScope.initAppDetails(rootScope.appList["app:"+r.appId]),rootScope.FT.isPlayer?rootScope.setCurrentPage("currentpage"):rootScope.setCurrentPage("allguides"))):t=!1:goToApp(),t}function initCommon(){checkAppData().then(function(){var e=autoSwitchApp();rootScope.syncUser(),e&&(rootScope.processedAppData=!0),rootScope.setMode(),rootScope.setNotifTours(),rootScope.initPlayerMode(),rootScope.showWidget(),rootScope.sendUserInfo()})}function initPlayer(){GmCXt.log(21,"LOADED side panel. Initialising Player"),GmCXt.isEmpty(GmCXt.user)?(GmCXt.conf.appConfig.login.SSO||GmCXt.myGuideInternalCustomers()||GmCXt.isMcKesson())&&rootScope.isAllowedDomain()?GmCXt.urlParts?rootScope.signInWithSso():setTimeout(function(){rootScope.signInWithSso()},1e3):rootScope.clearSession():initCommon()}function initCreator(){GmCXt.log(21,"LOADED side panel. Initialising Creator"),GmCXt.user?initCommon():rootScope.clearSession()}function getSubCat(e,t){let r=e.find(function(e){return parseInt(e.category_id)===parseInt(t)});return r||e.forEach(function(e){e.sub_categories&&(r=getSubCat(e.sub_categories,t))}),r}function updateContextualTourSteps(i){if(!GmCXt.isEmpty(rootScope.contextTours)){let a=!1;Object.keys(rootScope.contextTours).forEach(function(o){a||Object.keys(rootScope.contextTours[o]).forEach(function(t){if(!a){var r=rootScope.contextTours[o][t];for(let e=0;e<r.length;e++)if(parseInt(rootScope.contextTours[o][t][e].tour_id)===parseInt(i.tour_id)){a=!0,rootScope.contextTours[o][t][e]=i;break}}})})}}function resetData(){rootScope.contextTours={},rootScope.applicationDropdown=!1,rootScope.automationDropdown=!1,rootScope.FT.creatorApp&&storage$1.segmentData.remove(),rootScope.resetCreatorData(!0),storage$1.allTourList.set({}),rootScope.cancelAutomationSelection()}function redirectToView(){GmCXt.user&&GmCXt.organization.organization_id&&rootScope.fetchApps().then(function(){rootScope.sendSidePanelInitEvent(!0)})}function onRefreshSettings(e){rootScope.saveOrganization(e),storage$1.refreshTime.set(GmCXt.getCurrentTimeInSec()),rootScope.guideSegmentation&&(Gm.loading.set(!0),"westpac"!==GmCXt.conf.appConfig.customer)?rootScope.getAllSegments().then(function(){redirectToView()}):redirectToView()}function gotAccessToken(){GmCXt.inPlayer?rootScope.loadJsonPlayer().then(function(){rootScope.sendSidePanelInitEvent(!0)}):api.getOrganization(onRefreshSettings,!0)}function initOnPremPlayer(e){GmCXt.log(21,"LOADED side panel. Initialising On Prem Player"),rootScope.getOnPremOrg(e).then(function(){rootScope.processActiveRequests()})}function getSSOWindowOpt(){var e="width=350,height=300,";return(e+="top="+(screen.width-100)+",")+("left="+(screen.height-100))}function getSsoIdUrl(e){return GmCXt.isEmpty(rootScope.myGuideOrgKey)&&(GmCXt.myGuideInternalCustomers()||GmCXt.isMcKesson())?e+""+rootScope.ssoId:e}function closeTabForSso(){rootScope.ssoTab&&rootScope.ssoTab.close()}function createCsv(o,e){var a=[],i="data:text/csv;charset=utf-8,";rootScope.checkLinkedGuideStep(e,function(e,t,r){0===t&&(clearInterval(r),e.forEach(function(e){e=e.step_settings.automation;e&&e.enableDefaultData&&e.csvParam&&a.push(e.csvParam)}),i+=a.join(","),Gm.loading.set(!1),o+=".csv",(t=document.createElement("a")).setAttribute("href",encodeURI(i)),t.setAttribute("download",o),t.click())})}function findStepIndex(e,t){var r=e.steps;let o="";for(let e=0;e<r.length;e++)if(parseInt(r[e].step_id)===parseInt(t)){o=e;break}return o}function getStepOrder(e,t,r,o){let a="";return(a=rootScope.isOnboarding(e)?parseInt(mg$$1("#mgPlayerJSProd_tg-view-container-"+t.step_id).attr("stepOrder")):parseInt(r.target.getAttribute("stepOrder")))&&GmCXt.isNumeric(a)||!t||!t.step_id||(r=findStepIndex(e,t.step_id),a=r+1),a="before"===o?a?parseInt(a):parseInt(e.step_count)+1:(r=rootScope.getAutomationSteps(e.steps,t),a?parseInt(a)+r.length+1:parseInt(e.step_count)+1)}function getDefaultBranch(e,t){var r={};return r.step_type=GmCXt.STEP_TYPE_BRANCH,r.step_title=rootScope.labels.branchTitle,r.branchOpacity=!1,r.branch=[{branchName:"Default",tail:e=e||null,rulesEngine:[],isDefault:!0},{branchName:"Branch 1",tail:null,rulesEngine:[GmCXt.getEmptyRule()],isDefault:!1}],r.branch_type=t,r.step_settings={},r}function createVideo(r,e,o,a){if("videoCapture"===e){var t={tourId:r.tour_id,stepId:0,type:e,order:a,prevStepData:rootScope.prevStepData};Gm.routeAction.set({action:"initAddVideoStep",data:t}),rootScope.setCurrentPage("addVideoStep")}else if("screencast"===e){if(r.screencastInProgress)return r.screencastInProgress=!1,storage$1.activeTourId.remove(),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:stop_screencast",data:{tourId:r.tour_id,prevStepData:rootScope.prevStepData}}),!0;r.screencastInProgress=!0,storage$1.activeTourId.set(r.tour_id),Gm.currentTour.set(r),navigator.mediaDevices.getUserMedia({audio:!0}).then(function(e){var t={action:"mgPlayerJSProd_action:close_app_panel"};GmCXt.sendToParentWindow(t),e.getTracks().forEach(function(e,t){e.stop()}),t={action:"mgPlayerJSProd_action:screencast",data:{tourId:r.tour_id,order:a,step:o}},GmCXt.sendToParentWindow(t)}).catch(function(e){r.screencastInProgress=!1,storage$1.activeTourId.remove(),rootScope.decrementPendingStepCount(),rootScope.showPopup(rootScope.labels.userDeniedMessage)})}}function filterEmptyBranches(e){let t=null;if(e&&e.length){if(1<e.length)for(var r in e){r=e[r];if(r.tail){t=r;break}}t=t||e[0]}return t}rootScope.incrementPendingStepCount=function(){rootScope.pendingStepCount<0&&(rootScope.pendingStepCount=0),rootScope.pendingStepCount++,Gm.statusBar.set("incrementPendingStepCount")},rootScope.decrementPendingStepCount=function(){rootScope.pendingStepCount--,rootScope.pendingStepCount=0<rootScope.pendingStepCount?rootScope.pendingStepCount:0,Gm.statusBar.set("decrementPendingStepCount")},rootScope.setStepPendinCount=function(e){e?rootScope.incrementPendingStepCount():rootScope.decrementPendingStepCount()},rootScope.handleError=function(e){e&&e.name&&("PermissionDeniedError"===e.name||"NotAllowedError"===e.name?rootScope.showPopup(rootScope.labels.userDeniedMessage):"CameraNotFound"===e.name?(rootScope.cameraDisabled=!0,rootScope.showPopup(rootScope.labels.noCamera)):mgError$1.on({code:2200,info:e}))},rootScope.reportInitialization=function(){GmCXt.log(21,"LOADING side panel, globals initialised");var e=GmCXt.organization,e={action:"mgPlayerJSProd_action:initialization:side_panel_loaded",organization:e=GmCXt.isEmpty(e)?!1:e};sendMessage(e)},rootScope.hideUserImageDropDown=function(){mg$$1(".ege-login-logout-wrapper").slideUp(200),mg$$1(".ege-user-image-wrapper").removeClass("active")},rootScope.hideStepViewActionDropdown=function(){mg$$1(".detail-view-action-options-dropdown").slideUp(200)},rootScope.hideStepActionDropdown=function(){mg$$1(".step-action-menu-options-dropdown").slideUp(200)},rootScope.hideStepDownloadActionDropdown=function(){mg$$1(".detail-download-action-options-dropdown").slideUp(200),rootScope.isMediaFileDropdown=!1,mg$$1(".tour-item").removeClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-10"),mg$$1(".header-detail-view-tour-download-wrapper").removeClass("mgPlayerJSProd_dropdown-active")},rootScope.hideLanguDropdown=function(e){e.stopPropagation(),rootScope.lanDropDownVisible=!1,Gm.lanDropDownVisible.set(!1),mg$$1(".mgPlayerJSProd_lang-dropdown-wrapper").slideUp(100)},rootScope.onBodyClick=function(e){var t;GmCXt.failedStepId&&(t=mg$$1("#step-"+GmCXt.failedStepId))&&t.hasClass("step-highlight")&&(t.removeClass("step-highlight"),mg$$1(".step-not-found").remove(),mg$$1(".guide-not-followed").remove(),GmCXt.failedStepId=0),mg$$1(e.target).hasClass("ege-user-image")||mg$$1(e.target).hasClass("ege-user-image-wrapper")||rootScope.hideUserImageDropDown(),!mg$$1(".category-action-dropdown").is(":visible")||mg$$1(e.target).hasClass("category-action-dropdown")||mg$$1(e.target).hasClass("category-pencil-icon")||rootScope.hideActionDropdown(),!mg$$1(".tour-action-dropdown").is(":visible")||mg$$1(e.target).hasClass("tour-action-dropdown")||mg$$1(e.target).hasClass("tour-pencil-icon")||rootScope.hideTourActionDropdown(),mg$$1(".mgPlayerJSProd_checkbox-dropdown-wrapper").is(":visible")&&!mg$$1(e.target).hasClass("mgPlayerJSProd_checkbox-dropdown-wrapper")&&mg$$1(".mgPlayerJSProd_checkbox-dropdown-wrapper").slideUp(200),mg$$1(".mgPlayerJSProd_questions-type-dropdown").is(":visible")&&mg$$1(".mgPlayerJSProd_questions-type-dropdown").slideUp(200),!mg$$1(".ege-header-action-dropdown").is(":visible")||mg$$1(e.target).hasClass("ege-header-action-dropdown")||mg$$1(e.target).hasClass("tour-pencil-icon")||rootScope.hideTourActionDropdown(),!mg$$1(".step-action-menu-options-dropdown").is(":visible")||mg$$1(e.target).hasClass("step-action-menu-options-dropdown")||mg$$1(e.target).hasClass("step-pencil-icon")||mg$$1(e.target).parents(".step-pencil-icon").length||rootScope.hideStepActionDropdown(),!mg$$1(".detail-download-action-options-dropdown").is(":visible")||mg$$1(e.target).hasClass("detail-download-action-options-dropdown")||mg$$1(e.target).hasClass("header-detail-view-tour-download-wrapper")||rootScope.hideStepDownloadActionDropdown(),!mg$$1(".detail-view-action-options-dropdown").is(":visible")||mg$$1(e.target).hasClass("detail-view-action-options-dropdown")||mg$$1(e.target).hasClass("header-detail-view-tour-options-wrapper")||rootScope.hideStepViewActionDropdown(),mg$$1(".download-list").length&&mg$$1(".download-list").is(":visible")&&mg$$1(".download-list").slideToggle(),!rootScope.hideFiltersDropdown||mg$$1(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters-dropdown-user")&&mg$$1(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters-dropdown-published")&&mg$$1(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters-dropdown-assignee")&&mg$$1(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters-dropdown-sort")||mg$$1(e.target).hasClass("mgPlayerJSProd_all-guides-search-filters")||rootScope.hideFiltersDropdown(),!mg$$1(".filter-list").is(":visible")||mg$$1(e.target).hasClass("filter-list")||mg$$1(e.target).hasClass("filter-wrapper")||mg$$1(e.target).hasClass("selected-filter")||rootScope.hideFilterList(),!mg$$1(".mgPlayerJSProd_lang-dropdown-wrapper").is(":visible")||mg$$1(e.target).hasClass("mgPlayerJSProd_selected-lang-wrapper")||mg$$1(e.target).hasClass("mgPlayerJSProd_lang-dropdown-wrapper")||rootScope.hideLanguDropdown(e),mg$$1(".mgPlayerJSProd_setting-dropdown-userPref").is(":visible")&&!mg$$1(e.target).hasClass("mgPlayerJSProd_user-pref-scope")&&rootScope.hideUserPrefDropdown(e),mg$$1(".mgPlayerJSProd_dropdown-list-wrapper").is(":visible")&&!mg$$1(e.target).hasClass("mgPlayerJSProd_filter-dropdown-wrapper")&&rootScope.hideFiltersDropdownList(),mg$$1(".mgPlayerJSProd_branch-dropdown-list-wrapper").is(":visible")&&!mg$$1(e.target).hasClass("mgPlayerJSProd_branch-dropdown-wrapper")&&mg$$1(".mgPlayerJSProd_branch-dropdown-list-wrapper").slideUp(200)},rootScope.subscribeEvents=function(){mg$$1(document.body).off("click"),mg$$1(document.body).click(rootScope.onBodyClick),window.onkeyup=function(e){e&&e.keyCode&&27===e.keyCode&&(GmCXt.playerI&&"live"===GmCXt.playerI.mode&&GmCXt.playerI.linkGuidePlayMode&&"PDF"===GmCXt.playerI.linkGuidePlayMode||rootScope.closeAppPanel())}},rootScope.hideActionDropdown=function(){mg$$1(".category-action-dropdown").slideUp(200)},rootScope.isRawChromeBlob=function(e){return 0===e.indexOf("blob:")},GmCXt.isExtension()&&chrome.storage.sync.get({onPrem_appKey:"",onPrem_apiUrl:"",onPrem_insightsUrl:"",onPrem_cdnUrl:"",onPrem_adminPortal:"",onPrem_insightsPortal:""},function(e){GmCXt.onPremise={appKey:e.onPrem_appKey,apiUrl:e.onPrem_apiUrl,analyticsUrl:e.onPrem_insightsUrl,cdnUrl:e.onPrem_cdnUrl,webPortal:e.onPrem_adminPortal,analyticsPortal:e.onPrem_insightsPortal}}),rootScope.saveUser=function(e){e.organization&&delete e.organization,GmCXt.user=e,storage$1.user.set(e),rootScope.syncUser()},rootScope.saveOrganization=function(e){GmCXt.log(21,"SAVE organization"),storage$1.organization.set(e),GmCXt.orgBucket=e.bucket,GmCXt.organization=e,rootScope.enableOrgFeatures(e),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:save_org",data:e})},rootScope.updateVideoInProgressList=function(o,a){storage$1.videosInProgress.get().then(function(e){var t=e;switch(o){case"add":t?t.push(a):t=[a];break;case"remove":var r=t.indexOf(a);t.splice(r,1)}rootScope.tourVideoInProgressArr=t,storage$1.videosInProgress.set(t)})},rootScope.setAccessibility=function(){rootScope.accessibility=!rootScope.accessibility,Gm.accessibility.set(rootScope.accessibility),storage$1.accessibility.set(rootScope.accessibility)},rootScope.syncAccessibility=function(e){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:update_accessibility",data:e})},rootScope.syncUser=function(){var e=GmCXt.user;GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:sync_user",data:{user:e}})},rootScope.syncAppId=function(){var e={action:"mgPlayerJSProd_action:init_app_id",data:{activeAppId:rootScope.activeAppId}};GmCXt.sendToParentWindow(e)},rootScope.hideTourActionDropdown=function(){var e=mg$$1(".step-image-wrapper");mg$$1(e).removeClass("active"),mg$$1(".tour-action-dropdown").slideUp(200),mg$$1(".ege-header-action-dropdown").slideUp(200),mg$$1(".tour-action-dropdown-embed-menu").slideUp(100),mg$$1(".tour-action-dropdown-video-step-menu").slideUp(100),mg$$1(".tour-action-dropdown-image-step-menu").slideUp(100),mg$$1(".tour-action-menu-active").removeClass("tour-action-menu-active"),mg$$1(".tour-item").removeClass("mgPlayerJSProd_z-index mgPlayerJSProd_z-index-max")},rootScope.updateLabels=function(){var e=GmCXt.organization,t=(!rootScope.language&&e&&e.admin_settings&&e.admin_settings.language_settings&&e.admin_settings.language_settings.default&&(rootScope.language=e.admin_settings.language_settings.default.language,GmCXt.browserLang&&GmCXt.browserLang!==rootScope.language&&GmCXt.checkLangExist(e.admin_settings.language_settings.translations,GmCXt.browserLang)&&(rootScope.language=GmCXt.browserLang),storage$1.activeLang.set(rootScope.language)),!rootScope.language&&e&&e.admin_settings&&e.admin_settings.language_settings&&e.admin_settings.language_settings.default&&(rootScope.language=e.admin_settings.language_settings.default.language),rootScope.labels=GmCXt.getAllLabels(rootScope.language),Gm.selectedLang.set(rootScope.language),{action:"mgPlayerJSProd_action:set_lang_content_script",data:{lang:rootScope.language}});GmCXt.sendToParentWindow(t),e&&e.settings&&rootScope.updateCustomLabels(e.settings)},rootScope.updateAppLang=function(t){var r="";rootScope.languages.filter(function(e){e.language===t&&(r=e)}),r=r||rootScope.defaultLang,GmCXt.isDefined(r)&&(rootScope.selectedLanguage=r.name,GmCXt.mgActiveLang=r.language,storage$1.activeLang.set(r.language),rootScope.updateLabels())},rootScope.processCategories=function(){for(var e in rootScope.allCategories){e=rootScope.allCategories[e];updateCatList(e,parseInt(e.parent_id))}},rootScope.syncSegmentData=function(){GmCXt.allSegments=rootScope.allSegments;var e={action:"mgPlayerJSProd_action:update_segment_group_data",data:{allSegments:rootScope.allSegments}};GmCXt.sendToParentWindow(e)},rootScope.updatePageUrl=function(e){rootScope.pageUrl=e.url,rootScope.urlParts=e.urlParts,GmCXt.urlParts=e.urlParts,GmCXt.pageTitle=e.title,GmCXt.elAppName=e.elAppName,GmCXt.log(1,"Updated urls and page info in side panel")},rootScope.syncTaskList=function(e){var t=e.time+GmCXt.t_.hr24;return Date.now()<t?(rootScope.taskList=e.list,e):(rootScope.taskList=null,storage$1.taskList.remove(),null)},rootScope.setMode=function(){GmCXt.isPlayer()?rootScope.showPlayer=!0:rootScope.playerMode=!0},rootScope.getTourCreationLang=function(e){let t={};e=e.tour_settings;return t=GmCXt.isDefined(e.language_settings)?e.language_settings:t},rootScope.prepSingCatLang=function(e,t){var r=e.language_data;return r&&r[t]&&(r[t].category_title&&(e.category_title=r[t].category_title),r[t].category_description)&&(e.category_description=r[t].category_description),e},rootScope.prepCatLangJson=function(e,t){let r=[...e],o=0;return r.forEach(e=>{e=rootScope.prepSingCatLang(e,t),r[o]=e,o++}),r},rootScope.isGuideInOriginalLang=function(e,t,r){e=rootScope.getTourCreationLang(e);return!(rootScope.language&&rootScope.enableTranslation&&e.language&&e.name&&e.language!==rootScope.language)||-1!==e.language.indexOf("en-")&&e.language.substring(0,3)===rootScope.language.substring(0,3)},rootScope.notDefaultLang=function(){return!(!rootScope.language||!rootScope.defaultLang||rootScope.defaultLang.language===rootScope.language)},rootScope.getTranslatedTourAndSteps=function(e,r){let o={...e};var e=o.language_data;return r=!o.tour_settings.translationEnable&&GmCXt.isGuide(o)?rootScope.defaultLang:rootScope.language,e&&e[r]&&!rootScope.isGuideInOriginalLang(o)&&((e=e[r]).tour_title&&(o.tour_title=e.tour_title,o.tour_description=e.tour_description),mg$$1.each(o.steps,function(e,t){var t=t.language_data;t&&t[r]&&(t[r].step_title||t[r].step_description)&&(t=t[r],o.steps[e].step_title=t.step_title,o.steps[e].step_description=t.step_description||"",o.steps[e].step_audio=t.step_audio,o.steps[e].step_audio_text=t.step_audio_text,t.step_settings=GmCXt.parseJSON(t.step_settings),o.steps[e].step_settings=GmCXt.validateDataModel(t.step_settings,GmCXt.model.stepSettings))})),o},rootScope.setNotifTours=function(){storage$1.notifTours.get().then(function(e){rootScope.notiTourIds=[];var t=GmCXt.user;updateNotificationTours(GmCXt.parseJSON(e.toursClosed));let r={};r=GmCXt.isAnonymousUser()?e.tourIdArray||{}:t?.settings?.viewed_guide_notifications||{},GmCXt.isEmpty(r)||updateNotificationTours(r),rootScope.processNotificationTours(r)})},rootScope.notiTourIds=[],rootScope.resetNotificationData=function(){rootScope.notifications={snoozeTour:[],doNotShowTour:[]}},rootScope.processNotificationTours=function(t){if(0===rootScope.notiTourIds.length)return!1;var e={tour_ids:"["+rootScope.notiTourIds.toString()+"]"};GmCXt.inPlayer?sortNotifTours(rootScope.publishedTours,t):api.getTours(e,function(e){sortNotifTours(e,t)})},rootScope.showAddAutomationOption=function(e){return rootScope.isGuideAutomationEnabledForApp()},rootScope.toggleGuideViewFullScreen=function(){var e;rootScope.guideViewFullScreen?(e={action:"mgPlayerJSProd_action:increase_side_panel_width"},GmCXt.sendToParentWindow(e),mg$$1(".ege-panel").css({width:"90%","max-width":"90%",transition:"width 0s"})):(e={action:"mgPlayerJSProd_action:reduce_side_panel_width"},GmCXt.sendToParentWindow(e),mg$$1(".ege-panel").css({width:"500px","max-width":"500px",transition:"width 0s"}))},rootScope.checkAppList=function(){return new Promise(function(t,e){Gm.loading.set(!0);var r=rootScope.appList;GmCXt.isEmpty(r)?storage$1.appData.get().then(function(e){GmCXt.appList=e,rootScope.syncApps(e),Gm.loading.set(!1),t()}):(Gm.loading.set(!1),t())})},rootScope.selectLanguage=function(e){if(rootScope.userPrefLang){if(rootScope.selectedLanguage===e)return!0}else if(!e)return!0},rootScope.getAppOrgLanguage=function(e){if(rootScope.enableTranslation&&rootScope.organization){var r=rootScope.organization.admin_settings.language_settings;rootScope.defaultLang=r.default,GmCXt.defaultLang=r.default;let t=rootScope.language;t=t||r.default.language,rootScope.languages=getAllLanguagesArr(e||r),rootScope.languages.filter(function(e){e.language===t&&(rootScope.selectedLanguage=e.name)})}else rootScope.languages=[]},rootScope.initAppDetails=function(t,e){GmCXt.log(21,"INIT APP:  ["+t.title+", "+t.application_id+"]"),storage$1.activeAppId.set(t.application_id);var r=GmCXt.activeAppId,r=(GmCXt.externalAppId=GmCXt.appList["app:"+r].external_id,updateSettingOnAppSwitch(),{action:"mgPlayerJSProd_action:app_info_to_background",data:{activeAppId:r,externalAppId:t.external_id}});if(GmCXt.sendMessageToBackgroundService(r),rootScope.appEnvs=[],GmCXt.isDefined(t.settings.app_env)){for(var o in t.settings.app_env)t.settings.app_env[o].checked&&(t.settings.app_env[o].key=o,rootScope.appEnvs.push(t.settings.app_env[o]));rootScope.appEnvs=rootScope.appEnvs.sort(function(e,t){return e.order<t.order?-1:t.order<e.order?1:0}).map(function(e){return e.key})}rootScope.highestEnv=rootScope.appEnvs[rootScope.appEnvs.length-1],(GmCXt.inPlayer||GmCXt.onPrem())&&(t.categories&&t.categories.length?rootScope.processAppDataActiveApp(t):(r=t.application_id,rootScope.isAppJsonCalling=!0,api.getAppJson(r).then(function(e){rootScope.isAppJsonCalling=!1,GmCXt.onPrem()||GmCXt.cdnPlayer?t.categories=e.categories:t.categories=e.data.categories,rootScope.processAppDataActiveApp(t)}))),rootScope.getLanguageList(),t.settings.enable_application_language_settings&&GmCXt.isDefined(t.settings.app_languages)&&0<t.settings.app_languages.length?rootScope.getAppOrgLanguage(t.settings.app_languages):rootScope.getAppOrgLanguage(),mg$$1("#mgPlayerJSProd_header-brand-logo").attr("src",GmCXt.brandLogo())},rootScope.getLanguageList=function(){try{var t=function(e){rootScope.languageList=e,GmCXt.isEmpty(e)||storage$1.languageList.set(e)};storage$1.languageList.get().then(function(e){GmCXt.isEmpty(e)?api.getAllLanguages().then(t):rootScope.languageList=e})}catch(e){console.error(e)}},rootScope.isDesktopGuide=function(e){return!!(e&&e.tour_settings&&e.tour_settings.tour_type&&-1!==e.tour_settings.tour_type.indexOf("desktop"))},rootScope.isDefaultGuide=function(e){return!!(e&&e.tour_settings&&e.tour_settings.tour_type&&-1!==e.tour_settings.tour_type.indexOf("default"))},rootScope.isUploadTutorial=function(e){return!(!rootScope.isOnboarding(e)||"upload"!==e.tour_settings.tutorial_tour_type)},rootScope.getCategory=function(e){e="cat_"+e;return rootScope.allCategories[e]||!1},rootScope.removeCategory=function(e){delete rootScope.allCategories["cat_"+e.category_id],updateCatList(e,parseInt(e.parent_id),!0),GmCXt.inPlayer||storage$1.category.reset(rootScope.allCategories)},rootScope.addCategory=function(e){var t;e.category_title&&(t="cat_"+e.category_id,updateCatList(rootScope.allCategories[t]=e,parseInt(e.parent_id)),GmCXt.inPlayer||storage$1.category.reset(rootScope.allCategories))},rootScope.addMultiCategory=function(e){mg$$1.each(e,function(e,t){var r="cat_"+(t=t[0]?t[0]:t).category_id;rootScope.allCategories[r]=t,GmCXt.inPlayer||updateCatList(t,parseInt(t.parent_id))}),GmCXt.inPlayer||storage$1.category.reset(rootScope.allCategories)},rootScope.draftExists=function(t,r,o){var e=rootScope.allTourList["cat_"+r];if(e){for(var a in e)if(e[a].parent_tour_id===t)return e[a].tour_id}else if(o&&o.length)for(let e=0;e<o.length;e++)if(o[e].parent_tour_id===t&&o[e].category_id===r)return o[e].tour_id;return!1},rootScope.filterGuideByEnv=function(i){if(!GmCXt.isFQDN())return GmCXt.log(1,"SKIP filtering guides to this domain",i),i;let n=GmCXt.getAppEnvByDomain(),s=[];return(!rootScope.appEnvs.length||-1!==rootScope.appEnvs.indexOf(n))&&i&&0<i.length&&i.forEach(function(e){var t,r,o=e.tour_settings.app_publish_env;let a=!1;o&&(a=-1!==o.indexOf(n),rootScope.draftExists(e.tour_id,e.category_id,i)||a||o.length&&0===o[0].indexOf("env_")&&(t=rootScope.appEnvs.indexOf(n),t=t,r=o,rootScope.appEnvs.slice(t).some(function(e){return 0<=r.indexOf(e)}))&&(a=!0)),e.is_published&&(void 0===n||void 0===o||0===o.length||a)&&s.push(e)}),GmCXt.log(21,"FILTER GUIDES published to this domain env ["+n+"]. Filtered guides ",s),s},rootScope.getAllPublishedTours=function(e){let r=[];function t(e,t){r.push(t)}for(var o in e){var a=e[o];a.length||deleteEmpty(o),mg$$1.each(a,t)}var i=rootScope.filterGuideByEnv(r);rootScope.publishedTours=i,rootScope.getContextToursAfterLogin&&(GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:get_context_guides"}),rootScope.getContextToursAfterLogin=!1),Gm.publishedTours.set(i),GmCXt.log(21,"ALL PUBLISHED guides",i)},rootScope.addTourList=function(r,e){e.forEach(function(e){var t="cat_"+(r||e.category_id);rootScope.allTourList[t]||(rootScope.allTourList[t]={}),rootScope.allTourList[t]["tour_"+e.tour_id]=e}),storage$1.allTourList.set(rootScope.allTourList)},rootScope.processAppDataActiveApp=function(e){function s(e,t,r){e=GmCXt.validateDataModel(e,GmCXt.model.category);let o=t||e.category_order;var a,i,n;e.sub_categories&&0<e.sub_categories.length?(c["cat_"+e.category_id]=e.sub_categories,mg$$1.each(e.sub_categories,function(e,t){s(t,o,t.category_order)})):e.tours&&0<e.tours.length?d["cat_"+e.category_id]=(t=e.tours,a=e.category_id,i=o,n=r,t.forEach(function(e){(e=GmCXt.validateDataModel(e,GmCXt.model.guide)).category_order=parseInt(i),e.subCategory_order=parseInt(n)}),rootScope.addTourList(a,t),t):parseInt(e.parent_id)&&(c["cat_"+e.parent_id]||(c["cat_"+e.parent_id]=[]),c["cat_"+e.parent_id].push(e)),e.is_published&&!GmCXt.convertType(e.parent_id)&&l.push(e),GmCXt.convertType(e.parent_id)}let l=[],c={},d={};clearCache(),GmCXt.log(21,"PROCESS app data",e);e.categories&&0<e.categories.length&&e.categories.forEach(function(e){s(e)});var o=[],t=[],a={};l.forEach(function(r){var e;r.tours?GmCXt.checkGuidesBasedOnSegment(r.tours,function(e){var t;GmCXt.isEmpty(e)||(t=e.tour_settings.app_publish_env,(rootScope.isDesktopGuide(e)||GmCXt.checkDomainInPublishedEnv(t))&&-1===mg$$1.inArray(r,o)&&o.push(r))}):r.sub_categories&&(e=t.length,checkForSubCategories(r.sub_categories,t,a,r),e<t.length)&&!o.includes(r)&&o.push(r)}),Gm.allCategories.set(o);e=function t(e,r=[]){return e.forEach(e=>{e.sub_categories&&0<e.sub_categories.length&&t(e.sub_categories,r),r.push(e)}),r}(l),rootScope.categoryStore=o,rootScope.subCategoryStore=a,Gm.subCategories.set(e),rootScope.addMultiCategory(rootScope.categoryStore),rootScope.addMultiCategory(t),rootScope.getAllPublishedTours(d),e=(new Date).getTime();storage$1.storageSyncTime.set(e),storage$1.appData.set(rootScope.appList),rootScope.setActivePage("home")},rootScope.enableOrgFeatures=function(e){var t,r;!GmCXt.isEmpty(e)&&GmCXt.isDefined(e)&&(t=e.admin_settings||{},r=e.settings||{},GmCXt.log(21,"ENABLE org features",e),setDefaultAdminFeature(),GmCXt.isEmpty(e.bucket)||(GmCXt.orgBucket=e.bucket),t.lms&&(rootScope.lms=!0),GmCXt.isChatEnable()&&(rootScope.chatBot=!0),GmCXt.getAppSetting("vLab")&&(rootScope.enableMyteacher=!0),GmCXt.getAppSetting("doitforme")&&(rootScope._doitforme=!0),GmCXt.getAppSetting("all_guide")&&GmCXt.isPlayer()&&(rootScope.currentPageOnly=!0),GmCXt.getAppSetting("defaultGuideView")&&!GmCXt.getAppSetting("all_guide")&&(rootScope.allGuideView=!0),GmCXt.getAppSetting("isMiniPlayer")&&(rootScope.isMicroPlayer=!0,Gm.miniPlayer.set(!0)),t.app_switcher&&(rootScope.showAppSwitcher=t.app_switcher),t.display_accept_cookie_popup||(rootScope.displayAcceptCookiePopup=!1),t.maintenance_mode&&rootScope.goToMaintenance(),t.current_page_beacon&&(rootScope.currentPageBeacon=!0),t.guide_segmentation&&(rootScope.guideSegmentation=!0),t.mediafile_creation&&(rootScope.mediafileCreation=!0),t.create_tooltip_media_file&&(rootScope.createTooltipMediaFile=!0),r.fqdn&&(rootScope.fqdn=!0,rootScope.showAppSwitcher=!r.fqdn),t.language_settings&&t.language_settings.translations.length&&t.guide_translation?(rootScope.enableTranslation=!0,GmCXt.enableTranslation=!0):(rootScope.enableTranslation=!1,GmCXt.enableTranslation=!1,storage$1.activeLang.remove(),storage$1.activeVoice.remove(),rootScope.isDefaultLang=!0),t.insights&&t.insights.enabled&&(t.insights.guide&&(GmCXt.FT.analytics=!0,GmCXt.trackerUtil.enableTracking=!0),t.insights.app)&&((e=t.insights.app[GmCXt.activeAppId])&&e.enable_feature_tracking&&(GmCXt.trackerUtil.featureTracking=!0,rootScope.featureTracking=!0),e)&&e.enable_page_tracking&&(GmCXt.trackerUtil.pageTracking=!0,rootScope.pageTracking=!0),t.isPITrackingEnabled&&(GmCXt.trackerUtil.trackPI=!0),rootScope.isGuideAutomationEnabled=t.myBotEnabled&&!rootScope.currentPageOnly,t.efficient_rule_mode&&(rootScope.ruleCheck=!0),GmCXt.isTrue(t.enable_guideme_as_secondary_option)&&(rootScope.enableGuidemeMode=!0),r={action:"mgPlayerJSProd_action:update_tracking_info",data:{enableTracking:GmCXt.trackerUtil.enableTracking,trackPI:GmCXt.trackerUtil.trackPI,featureTracking:GmCXt.trackerUtil.featureTracking,pageTracking:GmCXt.trackerUtil.pageTracking}},GmCXt.sendToParentWindow(r),GmCXt.sendMessageToBackgroundService(r))},rootScope.removeChatIcon=function(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:remove_chat_icon"})},rootScope.showChatIcon=function(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:show_chat_icon"})},rootScope.getBotGuideCount=function(e){e=rootScope.filterBotGuides(e);e&&e.length?rootScope.botGuideCount=e.length:rootScope.botGuideCount=0},rootScope.displayChatIcon=function(){0===rootScope.botGuideCount?rootScope.removeChatIcon():rootScope.showChatIcon()},rootScope.refreshCurrentPage=function(t){if("currentpage"!==get_store_value(Gm.CurrentPage)||t&&!rootScope.isSidePanelOpen){if(GmCXt.isDomainInActiveApp()){var e=GmCXt.getAppSetting("guide_count_on_widget"),r=GmCXt.getAppSetting("hide_widget_if_noguide");if(e&&!rootScope.isWestpac||r){GmCXt.log(30,"REFRESH CURRENT PAGE guide indicator. Event: "+t);let r=rootScope.readLocalCT(GmCXt.urlParts.fullUrl,GmCXt.pageTitle);if(r&&r.length)GmCXt.log(30,"FETCHED tours from CACHE"),o(r);else{let t={url:GmCXt.urlParts.fullUrl};GmCXt.log(30,"NOT FOUND IN CACHE. FETCHING tours from API"),api.getContextualTour(t,function(e){GmCXt.log(30,"FETCHED tours from API"),o(r=rootScope.processContextualGuide(e,t.url))})}}else rootScope.showWidget()}}else GmCXt.log(30,"REFRESH CURRENT PAGE guides list. Event: ",t),rootScope.setCurrentPage("currentpage");function o(e){var e=rootScope.filterCurrentPageTourTypes(e);rootScope.getBotGuideCount(e),rootScope.displayChatIcon(),GmCXt.isEmpty(e)?GmCXt.log(30,"NO GUIDES"):(e=rootScope.validateAllRulesExceptSelectEl(e,!0)).hasURLMatch||e.hasValidRule?(GmCXt.log(30,"URLMATCH: "+e.hasURLMatch+", ValidRule: "+e.hasValidRule),a()):rootScope.validateSelectElRules(e.tours,t).then(function(e){e&&a()})}function a(){rootScope.showWidget()}},rootScope.showCurrentPageGuidesIndicator=function(e){GmCXt.isPlayer()&&(GmCXt.log(30,"SHOW current page indicator"),rootScope.msgSentCurrentPageCount=!0,GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:show_current_page_guide_indicator",data:{clearRulesJobs:e}}))},rootScope.hideCurrentPageGuidesIndicator=function(){GmCXt.isPlayer()&&(GmCXt.log(30,"HIDE current page indicator"),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:hide_current_page_guide_indicator"}))},rootScope.validateAllRulesExceptSelectEl=function(o,a){var i={tours:[],hasURLMatch:!1,hasValidRule:!1},t=GmCXt.urlParts;if(o){let e="/"===t.pathname?"":t.pathname,r=(e&&0!==e.indexOf("/")&&(e="/"+e),GmCXt.getHostnameFromUrl(t.fullUrl)+e);r=r.toLowerCase();var n=[],s=[],l=[];for(let e=0;e<o.length;e++){var c=o[e],d=c.tour_settings,p=d.rules.length&&d.rules[0].condition;let t=!1;if(c.tour_url&&!p){var u=c.tour_url.toLowerCase();if(0<=u.indexOf(r)&&c.is_published&&(n.push(c),i.hasURLMatch=!0,a))return i}else if(p){if(GmCXt.ruleEngine.hasRuleType(d.rules,["Select Element","Select Table","Get Validity","Variables"]))t=!0;else{let e=!1;if(GmCXt.legacyWildChar(d.version)&&(e=!0),(t=GmCXt.ruleEngine.evaluateRules(d.rules,e))&&(c.ruleValidated=i.hasValidRule=!0,a))return i}t&&s.push(c)}var g=c.tour_settings.start_point_info;if(c.is_published&&g&&g.length)for(let e=0;e<g.length;e++)if(0<=g[e].step_url.toLowerCase().indexOf(r)){l.push(c);break}}i.tours=GmCXt.arrayMerge(l,GmCXt.arrayMerge(n,s))}return i},rootScope.validateSelectElRules=function(i,n){return new Promise(function(t,e){rootScope.msgSentCurrentPageCount=!1;let r=0;for(let e=0;e<i.length&&!rootScope.msgSentCurrentPageCount;e++){var o=i[e];rootScope.queueRuleForCP(o,e,a,n,"currentPageIndicator")}function a(e){rootScope.msgSentCurrentPageCount||(r++,e.valid?t(!0):r===i.length&&t(!1))}})},rootScope.queueRuleForCP=function(e,t,r,o,a){var i=e.tour_settings,i=i.rules&&i.rules.length?i.rules:[];"page_click"===o&&!rootScope.reEvalRules(e)||e.ruleValidated?(GmCXt.log(30,"SKIP RULE CHECK "+a+": "+e),GmCXt.log(30,"SKIP RULE CHECK "+a+": "+GmCXt.tourLog(e)),r({tour:e,valid:!0}),GmCXt.log(30,"RULE CHECK "+a+" :"+GmCXt.tourLog(e))):(GmCXt.log(30,"RULE CHECK "+a+" :"+e),o={tour:e,rules:i,cb:r,index:t,timeoutVal:GmCXt.t.ruleTimeOut15ms,timeout:GmCXt.t.ruleTimeOut15ms,isTour:!0,initiator:a},GmCXt.ruleEngine.queue(o))},rootScope.reEvalRules=function(e){return!rootScope.ruleCheck||!(!e.tour_settings.ruleCheckOnClick&&!GmCXt.isEmpty(rootScope.cTours)&&0<=rootScope.cTours.indexOf(e.tour_id))},rootScope.refreshPageView=function(){rootScope.refreshAllGuides=!0,rootScope.allGuideView=!0;var e=get_store_value(Gm.CurrentPage);e&&!1!==e?rootScope.setCurrentPage(e):rootScope.setActivePage("home")},rootScope.goToSignIn=function(){Gm.activeView.set("signin")},rootScope.fetchApps=function(){return new Promise(function(t,e){GmCXt.log(21,"FETCH apps");api.getAllApps({limit:50,offset:0},function(e){0<e.length&&(e=filterAppsBasedOnAccess(e),rootScope.saveApps(e),storage$1.storageSyncTime.set(Date.now()),setTimeout(function(){gotApps(e).then(function(){t()})},0))})})},rootScope.setDefaultChatLabels=function(){rootScope.chatLabels={greetingMessage:rootScope.labels.defaultGreetingMessage,botEndingMessage:rootScope.labels.defaultBotEndingMessage,errorMessage:rootScope.labels.defaultErrorMessage}},rootScope.getChatLabels=function(e){for(var t in e){var r="default"+GmCXt.capitalizeFirstLetter(t);""!==e[t]?rootScope.chatLabels[t]=e[t]:rootScope.chatLabels[t]=rootScope.labels[r]}},rootScope.updateCustomLabels=function(e){let t=e.userLabels;var r=GmCXt.organization,o=rootScope.appList["app:"+rootScope.activeAppId];let a=[];o&&o.settings?(t=o.settings.userLabels,a=o.settings.chatLabels,mg$$1.extend(t,{userNotFollowingGuideMessage:e.userLabels.userNotFollowingGuideMessage,maintenanceMessage:e.userLabels.maintenanceMessage,serviceErrorMessage:e.userLabels.serviceErrorMessage,resumeGuideMessage:e.userLabels.resumeGuideMessage})):t=r.settings.userLabels,t=updateUserLabels(t),a=updateChatLabels(a),GmCXt.label=rootScope.labels;o={data:{userLabels:t,chatLabels:a},action:"mgPlayerJSProd_action:update_custom_labels"};GmCXt.sendToParentWindow(o)},rootScope.isMgAdmin=function(){return"mg_admin"===rootScope.user.role},rootScope.isSuperAdmin=function(){return"superadmin"===rootScope.user.role},rootScope.isOwner=function(){return!!("owner"===rootScope.user.role||rootScope.isSuperAdmin()||rootScope.isMgAdmin()||rootScope.isPartnerAdmin())},rootScope.isCreator=function(){return"creator"===rootScope.user.role},rootScope.isPartnerAdmin=function(){return"partner_admin"===rootScope.user.role},rootScope.getCdnSign=GmCXt.getCdnSign,rootScope.removeCatFromApplist=function(e){let t=JSON.parse(JSON.stringify(e));return GmCXt.isEmpty(t)||Object.keys(t).forEach(function(e){delete t[e].categories}),t},rootScope.syncApps=function(e){e=rootScope.removeCatFromApplist(e);GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:sync_app_list",data:{appList:e||{}}})},rootScope.saveApps=function(e){rootScope.appList={},e.forEach(function(e){window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer&&"guide"!==e.type?"mobile_web"===e.type&&(rootScope.appList["app:"+e.application_id]=e):"guide"!==e.type&&"electron"!==e.type||(rootScope.appList["app:"+e.application_id]=e)}),GmCXt.appList=rootScope.appList,storage$1.appData.set(rootScope.appList),rootScope.syncApps(GmCXt.createDeepCopy(rootScope.appList)),GmCXt.log(21,"CACHED app details",rootScope.appList)},rootScope.loadJsonPlayer=function(){return new Promise(function(t,e){Gm.loading.set(!0);let r=GmCXt.organization;function o(e){rootScope.updateCustomLabels(r.settings),gotApps(e).then(function(){Gm.loading.set(!1),t()})}GmCXt.orgBucket=r.bucket,GmCXt.log(21,"REFRESHING org JSON"),0<GmCXt.user.app_access.length||rootScope.isOwner()?api.getOrgJson().then(function(e){storage$1.refreshTime.set(GmCXt.getCurrentTimeInSec()),storage$1.lastTimeStampSync.set(GmCXt.getCurrentTimeInSec()),clearCache();var t="",t=GmCXt.onPrem()||GmCXt.cdnPlayer?e:e.data;GmCXt.organization=t,t=GmCXt.validateDataModel(t,GmCXt.model.organization),GmCXt.organization=t;let r=GmCXt.createDeepCopy(GmCXt.validateModelArray(t.applications,GmCXt.model.applications._obj));r=filterAppsBasedOnAccess(r),rootScope.saveApps(r),storage$1.storageSyncTime.set(Date.now()),delete t.applications,rootScope.saveOrganization(t),rootScope.guideSegmentation?rootScope.getSegmentGroupList().then(function(){o(r)}):o(r)}):GmCXt.log(21,"NO ACCESS to any apps")})},rootScope.initializeApp=function(){return GmCXt.log(21,"INITIALISE App"),new Promise(function(e,t){function r(){rootScope.fetchApps().then(function(){e(!0)})}var o;GmCXt.isPlayer()?rootScope.loadJsonPlayer().then(function(){e()}):(o=GmCXt.organization)&&o.organization_id?(rootScope.saveOrgSettings(o.settings),rootScope.guideSegmentation?rootScope.getSegmentGroupList().then(function(){r()}):r()):e()})},rootScope.saveOrgSettings=function(e){e&&(GmCXt.organization&&(GmCXt.organization.settings=e,rootScope.saveOrganization(GmCXt.organization)),mg$$1(".ege-logo-image").attr("src",GmCXt.brandLogo()),rootScope.webUrl=e.web_url,rootScope.updateCustomLabels(e),rootScope.showWidget())},rootScope.sortOrderCategory=function(){GmCXt.isPlayer()||(rootScope.sortType="",rootScope.descOrder=!1)},rootScope.filterPublished=function(e){return e.filter(function(e){return e.is_published})},rootScope.filterUnpublished=function(e){return e.filter(function(e){return!e.is_published})},rootScope.getPlayedStepsInfo=function(){storage$1.stepsPlayed.get().then(function(e){GmCXt.isAnonymousUser()?rootScope.playedSteps=e.stepsPlayed||[]:(e=GmCXt.user,GmCXt.isEmpty(e)||(rootScope.playedSteps=e&&e.settings.guide_view&&e.settings.guide_view.playedSteps?e.settings.guide_view.playedSteps:[]))})},rootScope.initPlayerMode=function(e){updateAppFeatures(e),rootScope.getPlayedStepsInfo();e={action:"mgPlayerJSProd_action:update:player_mode",data:{showPlayer:rootScope.showPlayer,isMiniPlayer:rootScope.isMicroPlayer,playerMode:rootScope.playerMode}};sendMessage(e)},rootScope.onMinMaxChaticon=function(){rootScope.chatBotMin=!0},rootScope.onUserSignin=function(e,t){rootScope.user=e,GmCXt.user=e,GmCXt.log(21,"USER login",e),GmCXt.storage().set({login_state:!0}),GmCXt.updateGlobalUser(e),storage$1.loginTime.set((new Date).getTime()),e.signedInWithSso=t,e.region="US",resetAll(),t&&storage$1.lastSsoRedirectTime.set(""),rootScope.setMode(),rootScope.saveUser(e),rootScope.setNotifTours(),rootScope.registerClientInsights(),GmCXt.lastTooltipSync=GmCXt.getCurrentTimeInSec(),GmCXt.storage().set({lastTooltipSync:GmCXt.lastTooltipSync}),rootScope.getContextToursAfterLogin=!0,rootScope.initializeApp().then(function(){rootScope.initPlayerMode(),rootScope.sendSidePanelInitEvent(),GmCXt.inPlayer&&GmCXt.onPrem()||storage$1.refreshTime.set(GmCXt.getCurrentTimeInSec()),rootScope.showWidget()}),rootScope.onMinMaxChaticon()},rootScope.isTrackingGuide=GmCXt.isFeatureTags,rootScope.getDefaultPlayAction=function(e){var t=GmCXt.getAppSetting("defaultPlayAction");return GmCXt.isFalse(t)||("Default"!==e.tour_settings.defaultPlayAction&&(t=e.tour_settings.defaultPlayAction),rootScope.organization&&!GmCXt.getAppSetting(t)&&(t=GmCXt.model.organization.settings._obj.defaultPlayAction._default)),t},rootScope.isCADGuide=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("desktop")&&-1===e.tour_type.indexOf("mobile"))},rootScope.isDesktopApp=function(){var e=rootScope.appList["app:"+rootScope.activeAppId];return!(!e||"electron"!==e.type)},rootScope.clearSession=function(e){logoutServ.clearSession(e)},rootScope.handleSignIn=function(){rootScope.clearSession("1003: Access token invalid")},rootScope.showPlayOption=function(e,t){if(GmCXt.user){var r=!1,o=rootScope.getDefaultPlayAction(t);if(!rootScope.isDesktopApp())switch(e){case rootScope.playGuideMe:GmCXt.getAppSetting("guideMeSetting")&&o===rootScope.playSlideshow&&rootScope.enableGuidemeMode&&!GmCXt.isOnboarding(t)&&(r=!0);break;case rootScope.playSlideshow:(GmCXt.getAppSetting("showMeSetting")&&o===rootScope.playGuideMe&&GmCXt.FT.showMe||GmCXt.isOnboarding(t))&&(r=!0);break;case rootScope.playTestMe:GmCXt.getAppSetting("testMeSetting")&&o===rootScope.playGuideMe&&GmCXt.FT.testme&&!GmCXt.isOnboarding(t)&&(r=!0);break;case rootScope.playVLab:GmCXt.getAppSetting("vLab")&&o===rootScope.playGuideMe&&rootScope.enableMyteacher&&!GmCXt.isOnboarding(t)&&(r=!0)}return r}},rootScope.guideAction=function(t,r,o,a,i,n){return!!rootScope.isTooltip(o)||(n=n||!1,GmCXt.isOnboarding(o,n)?(rootScope.previewNotification(o,n,r),!0):void rootScope.checkAppList().then(async function(){if("0"===o.step_count||!o.step_count)return Gm.showModal.set(!0),Gm.dialogBox.set({msg:"There are no steps to play",popupType:"info",onConfirm:()=>{GmCXt.showModal.set(!1)},showCancelButton:!1}),!0;var e={tour_id:o.tour_id,category_id:o.category_id};GmCXt.checkDefaultLangForTour(o,rootScope.language)||(e.language=rootScope.language),o.steps.length?tourCb(t,r,o,a,i,n):(Gm.loading.set(!0),api.getTour(e,function(e){Gm.loading.set(!1),tourCb(t,r,e,a,i,n)},function(){Gm.showModal.set(!0),Gm.dialogBox.set({msg:labels.tourPlayError,popupType:"error",onConfirm:()=>{GS.showModal.set(!1)},showCancelButton:!1})}))}))},rootScope.play=function(t,e){if(rootScope.isResumeGuide=e,GmCXt.log(33,"Play tour"+GmCXt.tourLog(t)),t&&"help_article"===t.tour_type)window.open(t.tour_settings.articleUrl,"_blank");else if(rootScope.FT.creatorApp)rootScope.goToTourView(t);else if(GmCXt.isWBMicroPlayer()||rootScope.isDesktopApp())rootScope.guideAction(rootScope.playSlideshow,null,t);else{let e=rootScope.getDefaultPlayAction(t);"Default"===e&&(e=rootScope.getAppSetting("defaultPlayAction")),rootScope.guideAction(e,null,t,get_store_value(Gm.CurrentPage))}},rootScope.previewNotification=function(e,t,r){var o=[];o.push(e),GmCXt.loadGuideNotifications(o,!0,t,r)},rootScope.isOnlySurveyGuide=function(t){let r=!0;if(t&&0<t.steps.length){for(let e=0;e<t.steps.length;e++)if(t.steps[e]&&t.steps[e].step_type!==GmCXt.STEP_TYPE_SURVEY){r=!1;break}}else r=!1;return r},rootScope.displayTaskListWidget=function(e){GmCXt.isEmpty(rootScope.taskList)?(rootScope.isTaskListVisible=!1,Gm.isTaskListVisible.set(rootScope.isTaskListVisible)):(e(rootScope.taskList),rootScope.processTaskListByRules(rootScope.taskList))},rootScope.filterCompleatedTasks=function(e){let t=[];return rootScope.taskList&&rootScope.taskList.filter(function(e){e.completed||t.push(e)}),t},rootScope.closeAppPopup=function(){rootScope.navBarVisible||mg$$1(".ege-panel-overlay")&&mg$$1(".ege-panel-overlay").is(":visible")&&(rootScope.guideViewFullScreen=!1,rootScope.toggleGuideViewFullScreen(),mg$$1(".ege-panel-overlay").css({display:"none"}))},rootScope.closeAppPanel=function(){rootScope.closeAppPopup(),rootScope.applicationDropdown=!1,rootScope.automationDropdown=!1;GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:close_app_panel"}),"no-app"===rootScope.currentView&&GmCXt.FT.isPlayer&&rootScope.hideWidget(),mg$$1(".ege-panel").removeAttr("style")},rootScope.getTranslatedTaskList=function(e,o,a){let i=e;return i.forEach((e,t)=>{var r=GmCXt.parseJSON(e.language_data);r&&o&&r[o]&&((r=r[o]).title&&("taskList"===a?i[t].task_list_title=r.title:"folders"===a&&(i[t].folder_title=r.title)),"guides"===a)&&r.tour_title&&(i[t].tour_title=r.tour_title,i[t].tour_description=r.tour_description),GmCXt.isEmpty(e.guides)||(i[t].guides=rootScope.getTranslatedTaskList(e.guides,o,"guides")),GmCXt.isEmpty(e.folders)||(i[t].folders=rootScope.getTranslatedTaskList(e.folders,o,"folders"))}),i},rootScope.getTaskListData=function(t){rootScope.taskList?(rootScope.language&&(rootScope.taskList=rootScope.getTranslatedTaskList(rootScope.taskList,rootScope.language,"taskList")),rootScope.taskList=rootScope.filterCompleatedTasks(rootScope.taskList),rootScope.guideSegmentation&&GmCXt.inPlayer?rootScope.checkTaskSegmentation(rootScope.taskList,t):rootScope.displayTaskListWidget(t)):GmCXt.onPrem()||api.getTaskList().then(function(e){rootScope.taskListApiCalled=!1,rootScope.taskList=rootScope.notDefaultLang()?rootScope.getTranslatedTaskList(e.data.task_list,rootScope.language,"taskList"):e.data.task_list,GmCXt.isEmpty(rootScope.taskList)||api.getTaskListDetails().then(function(e){e=e.data.task_lists;rootScope.updateDetailInMainTaskList(e),rootScope.taskList=rootScope.filterCompleatedTasks(rootScope.taskList),storage$1.taskList.set(rootScope.taskList),rootScope.guideSegmentation&&GmCXt.inPlayer?rootScope.checkTaskSegmentation(rootScope.taskList,t):(t(rootScope.taskList),rootScope.processTaskListByRules(rootScope.taskList))})}).catch(function(){})},rootScope.checkTaskSegmentation=function(e,t){var r=[],o=[];function a(e){GmCXt.isEmpty(e)||(r.includes(e.task)||r.push(e.task),rootScope.taskList=r,rootScope.displayTaskListWidget(t))}if(0<e.length){for(var i,n=0;n<e.length;n++)GmCXt.isEmpty(e[n].task_list_setting)||(i=GmCXt.parseJSON(e[n].task_list_setting),GmCXt.isEmpty(i.segment_groups))?r.push(e[n]):(i={tour_id:e[n].task_list_id,tour_title:e[n].task_list_title,tour_settings:i,task:e[n]},o.push(i));GmCXt.isEmpty(o)?rootScope.displayTaskListWidget(t):GmCXt.timeout(function(){GmCXt.checkGuidesBasedOnSegment(o,a,"taskListSeg"),rootScope.taskList=r,rootScope.displayTaskListWidget(t)},0)}else rootScope.processTaskListByRules(e)},rootScope.getTaskListIndexById=function(t){var e=-1;return e=rootScope.taskList?rootScope.taskList.findIndex(function(e){return e.task_list_id===t}):e},rootScope.updateDetailInMainTaskList=function(e){var t=rootScope.taskList;if(!GmCXt.isEmpty(e))for(var r=0;r<e.length;r++){var o=rootScope.getTaskListIndexById(e[r].id);-1!==o&&(t[o].user_completed_guide_count=parseInt(e[r].user_completed_guide_count),t[o].guide_count=parseInt(e[r].guide_count),t[o].completed=e[r].completed)}rootScope.taskList=t},rootScope.displyTaskList=function(){var e=GmCXt.activeAppId,t=GmCXt.appList;return!!(GmCXt.isPlayer()&&!GmCXt.inPlayer||GmCXt.inPlayer&&e&&!GmCXt.isEmpty(t)&&!GmCXt.isEmpty(t["app:"+e])&&!GmCXt.isEmpty(t["app:"+e].task_list_count)&&0<parseInt(t["app:"+e].task_list_count))},rootScope.refreshTaskList=function(e){document.getElementsByClassName("mgPlayerJSProd_task-list-container").length?rootScope.setActivePage("taskList"):rootScope.sendMessageToShowTaskListWidget()},rootScope.sendMessageToShowTaskListWidget=function(){var t;rootScope.displyTaskList()&&(t=function(e){rootScope.processTaskListByRules(e)},!GmCXt.isEmpty(GmCXt.user))&&GmCXt.isPlayer()&&storage$1.taskList.get().then(function(e){rootScope.taskList=null,GmCXt.isEmpty(e)||GmCXt.isEmpty(e.list)||(rootScope.taskList=e.list),rootScope.getTaskListData(t)})},rootScope.openTaskList=function(){rootScope.displyTaskList()&&(mg$$1(".mgPlayerJSProd_push-notification-container").is(":visible")?mg$$1(".ege-panel").css({width:"500px",right:"-9550px"}):(mg$$1(".ege-panel").css({width:"100%"}),Gm.activeView.set("taskList")))},rootScope.guideHideForPlayer=function(e){var t=!1;return t=e.guideHideForP&&rootScope.FT.isPlayer?!0:t},rootScope.markTaskGuideComplete=function(r){var e={task_id:r.taskListId,guide_id:r.tourId};function o(){rootScope.taskList=rootScope.filterCompleatedTasks(rootScope.taskList),rootScope.taskListGuidesCount(rootScope.taskList),Gm.loading.set(!1)}Gm.loading.set(!0),api.markTaskGuideComplete(e,function(){var e=rootScope.taskList,t=rootScope.getTaskListIndexById(r.taskListId);-1!==t&&(GmCXt.isEmpty(r.complete_count)||GmCXt.isEmpty(r.total_count)||r.complete_count+1!==r.total_count?e[t].user_completed_guide_count=e[t].user_completed_guide_count+1:(e[t].user_completed_guide_count=e[t].guide_count,e[t].completed=!0),rootScope.updateTaskList(e).then(o))})},rootScope.updateTaskList=function(r){return new Promise(function(t,e){storage$1.taskList.get().then(function(e){GmCXt.isEmpty(e)||GmCXt.isEmpty(e.list)||(storage$1.taskList.remove(),e.list=r,rootScope.taskList=r,storage$1.taskList.set(r,e.time),t())})})},rootScope.markTaskGuideCompletePlayedOutside=function(t){var e;rootScope.taskList&&0<rootScope.taskList.length&&0<(e=rootScope.taskList.filter(function(e){return!(!e.guides||!e.guides.some(function(e){return e.tour_id.toString()===t.tourId}))||!!e.folders&&0<e.folders.filter(function(e){return e.guides&&e.guides.some(function(e){return e.tour_id.toString()===t.tourId})}).length})).length&&e.forEach(function(e){e={taskListId:e.task_list_id,tourId:t.tourId,complete_count:e.user_completed_guide_count,total_count:e.guide_count};rootScope.markTaskGuideComplete(e)})},rootScope.processTaskListByRules=function(e){for(var t=[],r=0;r<e.length;r++){var o,a=e[r];a.task_list_setting&&(a.task_list_setting=GmCXt.parseJSON(a.task_list_setting),o=a.task_list_setting.rules)&&0<o.length&&!GmCXt.ruleEngine.evaluateRules(o)||t.push(a)}return rootScope.taskListGuidesCount(t),t},rootScope.taskListGuidesCount=function(e){GmCXt.FT.isPlayer&&(!(e=e.length)||e<=0?(GmCXt.taskListCount=0,rootScope.taskListCount=0,rootScope.isTaskListVisible=!1):(rootScope.taskListCount=e<100?e:"99+",rootScope.isTaskListVisible=!0),Gm.isTaskListVisible.set(rootScope.isTaskListVisible),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:inform_task_list_guide_count",data:{count:e}}))},rootScope.getSegmentGroupList=function(){var o={organization_id:GmCXt.organization.organization_id},a={list:[],time:Date.now()};return new Promise(function(t,e){function r(e){a.list=e,storage$1.segmentGroupData.set(a),t(a.list)}GmCXt.inPlayer?(a.list=GmCXt.organization.segment_groups,storage$1.segmentGroupData.set(a),t(a.list)):GmCXt.api.getSegmentGroupList(o).then(function(e){GmCXt.validateApiResp(r,"segment/group/list?organization_id=",e.data.groups,GmCXt.model.segmentGroups)}).catch(function(){t(a.list)})})},rootScope.isOnboarding=GmCXt.isOnboarding,rootScope.uploadFileInChunk=function(e,i,r){let o=new FileReader,n="",s="",l="",t,a={},c=524288,d=0,p=0,u=0,g=[];function m(){if(0<p){var e=i.slice(d,d+c),t="block-"+((e,t)=>{let r=""+e;for(;r.length<t;)r="0"+r;return r})(g.length,6);g.push(btoa(t)),o.readAsArrayBuffer(e),d+=c,(p-=c)<c&&(c=p)}else{let e=n+"/"+s+"?comp=blocklist&"+l,t='<?xml version="1.0" encoding="utf-8"?><BlockList>';for(let e=0;e<g.length;e++)t+="<Latest>"+g[e]+"</Latest>";t+="</BlockList>",mg$$1.ajax({url:e,type:"PUT",data:t,beforeSend:function(e){e.setRequestHeader("x-ms-blob-content-type",i.type)},success:function(e,t){r(a)},error:function(e,t,r){console.dir(r)}})}}var h;o.onloadend=function(e){if(e.target.readyState===FileReader.DONE){var t=n+"/"+s+"?comp=block&blockid="+g[g.length-1]+"&"+l;let a=new Uint8Array(e.target.result);mg$$1.ajax({url:t,type:"PUT",data:a,processData:!1,beforeSend:function(e){e.setRequestHeader("x-ms-blob-type","BlockBlob")},success:function(e,t,r){u+=a.length;var o={data:{percentComplete:(parseInt(u)/parseInt(i.size)*100).toFixed(0)}};rootScope.updateStatusProgressBar(o),m()},error:function(e,t,r){rootScope.hideProgressBar(),rootScope.importInProgress=!1}})}},(h=i.size)<c&&(c=h),p=h,h=e.data.upload_url,n=h.blob_uri,s=h.file_name,l=h.signature.split("?")[1],t=h.file_id,a.fileId=t,a.fileName=s,a.blobUri=n,m()},rootScope.importTour=function(o,e){if(!rootScope.importInProgress){let t=o.category_id,r=(e.stopPropagation(),rootScope.hideActionDropdown(),mg$$1("#category-add-dropdown-"+o.category_id).find(".upload-tour-dropdown-item").append("<input style='display:none' id='import-tour-file-input' type='file' tabindex='-1' accept='.tour,.json' />"),mg$$1("#import-tour-file-input").on("click",function(e){e.stopPropagation()}),{});function a(e){rootScope.uploadFileInChunk(e,r,i)}function i(e){e={file_id:e.fileId,category_id:t,application_id:parseInt(rootScope.activeAppId),description:rootScope.labels.importing+": "+r.name};0===t&&delete e.category_id;api.tourUpload(e,function(e){if(rootScope.hideProgressBar(),rootScope.importInProgress=!1,rootScope.importUploadMessage=!0,rootScope.importUploadMessage&&setTimeout(rootScope.closeNotification,5e3),0===o.category_id)return rootScope.setCurrentPage("allguides"),!1})}mg$$1("#import-tour-file-input").off("change").on("change",function(e){r=e.currentTarget.files[0];let t={file_type:"json",mime:""};function i(){api.fileUploadUrl(t).then(a),rootScope.uploadProgressBar=!0,rootScope.importInProgress=!0,rootScope.showPopup(rootScope.labels.importInProgress,"","success")}0<=r.name.indexOf(".json")?(t.mime="application/json",(e=new FileReader).onload=function(e){let t=JSON.parse(e.target.result),r=!0,o=["main_json","linked_json","storage_path","source_env"];for(var a in o)if(!t.hasOwnProperty(o[a])){r=!1;break}r?i():rootScope.showPopup(rootScope.labels.invalidJsonFileError,"","warning")},e.readAsText(r)):0<=r.name.indexOf(".zip")?(t.mime="application/zip",i()):modal.open(rootScope.labels.invalidFileType,"warning")}),setTimeout(function(){mg$$1("#import-tour-file-input").click()},100)}},rootScope.importAtRootLevel=function(e){rootScope.importTour({category_id:0},e)},rootScope.startGuideAction=function(t,e,r,o){if(r&&rootScope.lastVideoStepCreated){var a=(new Date).getTime()-rootScope.lastVideoStepCreated.time;if(rootScope.lastVideoStepCreated.id===r.step_id&&a<6e4)return void rootScope.showPopup(rootScope.labels.processingVideo)}if(o.is_published)switch(e){case rootScope.playVideoTour:if(o.media_files&&"0"===o.media_files[0].video)return void rootScope.showPopup(rootScope.labels.msgVideoNotFound);t.data.type=rootScope.playVideoTour,t.data.mode=t.data.type;break;case rootScope.playGiphy:if("0"===o.media_files[0].gify)return void rootScope.showPopup(rootScope.labels.msgGiphyNotFound);t.data.type=rootScope.playGiphy,t.data.mode=t.data.type}e===rootScope.playSlideshow?(t.data.type=rootScope.playSlideshow,t.data.mode=t.data.type):e===rootScope.playVLab&&(t.data.type=rootScope.playVLab,t.data.mode=t.data.type);function i(e){e&&(e=sortUserData(e),t.data.loops=e.length-1,t.data.currentLoop=0,t.data.csvData=e),GmCXt.sendToParentWindow(t)}t.data.origin=rootScope.activeTab,t.data.taskObj&&t.data.taskObj.taskId&&(t.data.origin="task_list"),t.data.guideOpened="tour-view"===rootScope.currentView,e===rootScope.playAuto?(t.data.automate=!0,t.data.initiator="doitforme",Gm.loading.set(!0),checkIfCSV(o).then(function(e){Gm.loading.set(!1),e?modal.openDoItPopup(i,"Upload CSV"):i()})):i()},rootScope.getTourLangInfo=function(e){let t="";e=e.tour_settings;return GmCXt.isDefined(e.language_settings)&&(t=e.language_settings.language+"-"+e.language_settings.voice),t=rootScope.enableTranslation&&rootScope.language?rootScope.language+"-"+rootScope.languageVoice:t},rootScope.getStepFromTour=function(t,r){if(!t)return!1;for(let e=0;e<r.steps.length;e++)if(parseInt(r.steps[e].step_id)===parseInt(t))return r.steps[e]},rootScope.existsOrUndefined=function(e){return!(!e&&void 0!==e)},rootScope.updateStatusProgressBar=function(e){mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").html(e.data.percentComplete+"%"),mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").css("width",e.data.percentComplete+"%"),Gm.statusBar.set("updateStatusProgressBar"+e.data.percentComplete)},rootScope.updatedInProgressVariable=function(e){e=!(!e.data||!e.data.status);(rootScope.uploadInProgress=e)&&(rootScope.uploadProgressBar=!0)},rootScope.hideProgressBar=function(){rootScope.uploadProgressBar=!1,mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").hide()},rootScope.checkLinkedGuideStep=function(e,t){var o=e,a=0;function i(e){e=e.steps;a--,o=GmCXt.arrayMerge(o,e)}e.forEach(function(t){var e,r;t.step_settings.tour_id&&(o=o.filter(function(e){return e.step_id!==t.step_id}),e={tour_id:t.step_settings.tour_id},a++,r=!1,GmCXt.apiPlayer&&(r=!0),api.getTour(e,i,i,r))});var r=setInterval(function(){t(o,a,r)},500)},rootScope.checkStepsForDoItForMeMode=function(e){let t=0;var r=[GmCXt.STEP_TYPE_SURVEY,GmCXt.STEP_TYPE_IMAGE,GmCXt.STEP_TYPE_VIDEO],o={...e.steps};if(!(e&&0<o.length))return!1;for(let e=0;e<o.length;e++)r.includes(o[e].step_type)&&t++;return t===o.length},rootScope.isBeacon=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("beacon_tour"))},rootScope.checkTourType=function(e){return!(rootScope.isTooltip(e)||rootScope.isBotGuide(e)||GmCXt.isFeatureTags(e)||rootScope.isBeacon(e)&&!rootScope.currentPageBeacon)},rootScope.readLocalCT=function(e,t){return!(!rootScope.contextTours||!rootScope.contextTours[e])&&rootScope.contextTours[e][t]},rootScope.filterCurrentPageTourTypes=function(e){return e=e.filter(function(e){if(rootScope.checkTourType(e))return e}),GmCXt.log(30,"FILTERED current page tours",e),e},rootScope.breadCrumbItemsUpdate=function(e){let t=get_store_value(Gm.breadCrumb);var r;Gm.breadCrumb.subscribe(e=>{t=e}),e.category_id,e.parent_id&&"0"!==e.parent_id?(-1!==(r=t.indexOf("All Guides"))&&t.splice(r,1),t.unshift(e),-1!==r&&t.unshift("All Guides"),rootScope.getCategoryApi(e.parent_id,rootScope.breadCrumbItemsUpdate)):(-1!==(r=t.indexOf("All Guides"))&&t.splice(r,1),t.unshift(e),-1!==r&&t.unshift("All Guides")),Gm.breadCrumb.set(t)},rootScope.getBreadcrumsCategories=function(e,t){"allguidesSearchPage"!==get_store_value(Gm.CurrentPage)||containsCategoryWithId(e.category_id)||(Gm.breadCrumb.set(["All Guides"]),rootScope.getCategoryApi(e.category_id,rootScope.breadCrumbItemsUpdate),get_store_value(Gm.breadCrumb),Gm.breadCrumb.subscribe(e=>{}))},rootScope.getCategoryApi=function(e,t,r,o){var a;e&&(e={category_id:e},rootScope.language&&!GmCXt.isFalse(rootScope.language)&&(e.language=rootScope.language),GmCXt.getLXPLang()&&(e.language=GmCXt.getLXPLang()),a=GmCXt.user,GmCXt.isEmpty(a)&&!GmCXt.onPrem()||api.getCategoryDetails(e,t,r,o))},rootScope.setTour=creatorUpdate.setTour,rootScope.addTourList=creatorUpdate.addTourList,rootScope.deleteCategoryServerUpdate=creatorUpdate.deleteCategoryServerUpdate,rootScope.isUpdateNeeded=creatorUpdate.isUpdateNeeded,rootScope.checkCurrentViewForUpdate=creatorUpdate.checkCurrentViewForUpdate,rootScope.updateServerUpdateList=creatorUpdate.updateServerUpdateList,rootScope.updateTourProperty=creatorUpdate.updateTourProperty,rootScope.deleteTourServerUpdate=creatorUpdate.deleteTourServerUpdate,rootScope.getTourFromId=function(e,t){let r={};if(t&&rootScope.allTourList["cat_"+t])r=rootScope.allTourList["cat_"+t]["tour_"+e];else for(var o in rootScope.allTourList)if(rootScope.allTourList[o]["tour_"+e]){r=rootScope.allTourList[o]["tour_"+e];break}return r},rootScope.getTranslatedTours=function(e,o){let a=[...e];return o=rootScope.language,a.forEach((e,t)=>{var r=e.language_data,r=(o=!e.tour_settings.translationEnable&&GmCXt.isGuide(e)?rootScope.defaultLang:rootScope.language,r&&r[o]&&!rootScope.isGuideInOriginalLang(e)&&(r[o].tour_title&&(e.tour_title=r[o].tour_title),r[o].tour_description&&(e.tour_description=r[o].tour_description),r=r[o].tour_settings)&&(r.beacon&&(e.tour_settings.beacon=r.beacon),r.rules)&&(e.tour_settings.rules=r.rules),rootScope.allCategories["cat_"+e.category_id]);r&&r.language_data&&r.language_data[o]&&(e.category_title=r.language_data[o].category_title),e.steps&&(a[t]=rootScope.getTranslatedTourAndSteps(e,o))}),a},rootScope.filterKeyInputGuides=function(e){rootScope.keyInputGuides=e.filter(function(e){if(e&&e.tour_settings&&!GmCXt.isEmpty(e.tour_settings.keyboardKeyInput))return e});e={action:"mgPlayerJSProd_action:get_key_input_guides",data:{tours:rootScope.keyInputGuides}};GmCXt.sendToParentWindow(e)},rootScope.processContextualGuide=function(e,t){let r=e;return e.data&&(r=e.data.data.tours),rootScope.filterKeyInputGuides(r),GmCXt.isPlayer()&&(r=GmCXt.filterScheduleTours(r)),GmCXt.inPlayer&&rootScope.notDefaultLang()&&(r=rootScope.getTranslatedTours(r)),rootScope.contextTours&&!rootScope.contextTours[t]&&(rootScope.contextTours[t]=[]),rootScope.contextTours[t][GmCXt.pageTitle]=r},rootScope.isUserLogin=function(){return new Promise(function(t,e){storage$1.user.get().then(function(e){e&&!GmCXt.isEmpty(e)&&(GmCXt.user=e)&&e.accesstoken&&t(!0),t(!1)})})},rootScope.goToTourView=function(e){storage$1.currentTour.set(e),Gm.currentTour.set(e),rootScope.setCurrentPage("stepview")},rootScope.trackSearchEvent=function(e){rootScope.trackSearch&&rootScope.trackSearch.track&&(rootScope.trackSearch.track=!1,e={search_text:rootScope.trackSearch.keyword,results_returned:rootScope.trackSearch.results_returned,search_result_clicked:e,startTime:rootScope.trackSearch.startTime},GmCXt.trackerV1.trackGuideSearch(e),rootScope.trackSearch={})},rootScope.trackCurrentPageSearchEvent=function(e){rootScope.trackCurrentPageSearch&&rootScope.trackCurrentPageSearch.track&&(rootScope.trackCurrentPageSearch.track=!1,e={search_text:rootScope.trackCurrentPageSearch.keyword,results_returned:rootScope.trackCurrentPageSearch.results_returned,search_result_clicked:e,startTime:rootScope.trackCurrentPageSearch.startTime},GmCXt.trackerV1.trackGuideSearch(e,rootScope.pageUrl))},rootScope.trackSearchActivity=function(e){rootScope.searchKeyword&&rootScope.trackSearchEvent(e),rootScope.search&&rootScope.trackCurrentPageSearchEvent(e)},rootScope.isRefreshView=function(){return"home"===get_store_value(Gm.activeView)},rootScope.updateCdnSignature=function(){var e;(e={action:"mgPlayerJSProd_action:update_cdn_signature",data:{}}).data.user=rootScope.user,GmCXt.user=rootScope.user,GmCXt.sendToParentWindow(e),GmCXt.reloadFailedImages()},rootScope.fetchOrgFromAPI=function(){return new Promise(function(t,e){api.getOrganization(function(e){rootScope.saveOrganization(e),rootScope.showWidget(),t(!0)})})},rootScope.isFetchingCdn=!1,rootScope.ongoingCdnPromise=null,rootScope.showPublishBtn=function(e){var t=!1,r=e.tour_settings.app_publish_env,o=0<parseInt(e.step_count)||rootScope.isHelpArticle(e)||rootScope.isBotGuide(e),a=!0;return e.is_published&&1===rootScope.appEnvs.length&&(r&&-1!==r.indexOf(rootScope.appEnvs[0])||!r)&&(a=!1),t=rootScope.FT.publish&&rootScope.isOwnerOrAppAdmin()&&o&&(rootScope.fqdn&&a||!e.is_published&&(0===rootScope.appEnvs.length||!r||!rootScope.fqdn))?!0:t},rootScope.getNewCdnSignature=function(){return rootScope.isFetchingCdn||(rootScope.isFetchingCdn=!0,rootScope.ongoingCdnPromise=new Promise(function(r,t){var e,o=GmCXt.organization;function a(){api.getCdnSignature(e,function(e){var t;(e=e.data)&&e.cdn_signature&&e.cdn_signature_expiry&&(t=GmCXt.user)&&(t.cdn_signature=e.cdn_signature,t.cdn_signature_expiry=e.cdn_signature_expiry,rootScope.saveUser(t),rootScope.updateCdnSignature()),rootScope.isFetchingCdn=!1,r()})}GmCXt.onPrem()?r():o&&!GmCXt.isEmpty(o)?(e={},o.organization_id?(e.organization_id=o.organization_id,a()):rootScope.fetchOrgFromAPI().then(function(e){a()}).catch(function(e){t(e)})):rootScope.fetchOrgFromAPI().then(function(e){a()})})),rootScope.ongoingCdnPromise},rootScope.checkCdnSignature=function(){return new Promise(function(t,r){var o=GmCXt.user;if(o&&!GmCXt.isEmpty(o)){if(!o.cdn_signature||!o.cdn_signature_expiry)return void rootScope.getNewCdnSignature().then(t).catch(r);let e=parseInt(o.cdn_signature_expiry);(e=e?1e3*e:0)&&(e-=12e4);o=(new Date).getTime();if(e-o<=0)return void rootScope.getNewCdnSignature().then(t).catch(r)}t()})},rootScope.setInsightsClientKey=function(t,r){GmCXt.api.getClientSecretInsight(t).then(function(e){GmCXt.log(21,"Insights client key is set"),e={registerClientId:t,app_client_secret:e.data.app_client_secret,app_client_timestamp:r},storage$1.trackerSecrets.set(e)}).catch(function(e){GmCXt.log(1,"ERROR: failed to get insights client key"),e&&"006-001-002"===e.errorCode&&(rootScope.trackerSecrets={},rootScope.registerClientInsights())})},rootScope.registerClientInsights=function(){var e,t=(new Date).getTime();e=GmCXt.isEmpty(rootScope.trackerSecrets)?parseInt(t/1e3):parseInt((t-rootScope.trackerSecrets.app_client_timestamp)/1e3),GmCXt.isEmpty(rootScope.trackerSecrets)||!rootScope.trackerSecrets.registerClientId?GmCXt.api.registerClientInsight().then(function(e){rootScope.setInsightsClientKey(e.data.app_client_id,t)}).catch(function(){}):3600<e&&rootScope.setInsightsClientKey(rootScope.trackerSecrets.registerClientId,t)},rootScope.sendUserInfo=function(){rootScope.checkCdnSignature().then(function(){var e=GmCXt.organization;GmCXt.inPlayer&&(GmCXt.orgBucket=e.bucket),rootScope.sendSidePanelInitEvent(),getKeysForTracking()})},rootScope.sendSidePanelInitEvent=function(e){var t,r,o,a;!rootScope.maintenance&&rootScope.activeAppId&&(GmCXt.log(21,"Side panel intialisation completed"),o=GmCXt.appList,a=GmCXt.user,t=GmCXt.organization,r=GmCXt.urlParts,o=rootScope.removeCatFromApplist(o),a={action:"mgPlayerJSProd_action:on_side_panel_init",data:{user:a,activeAppId:rootScope.activeAppId,organization:t,userPrefLang:rootScope.userPrefLang,appList:o,refreshTime:rootScope.refreshTime,lastTimeStampSync:rootScope.lastTimeStampSync,url:r.fullUrl,reset:e}},Gm.activeView.update(e=>"home"===e?"":"home"),GmCXt.onPrem(),sendMessage(a))},rootScope.isAllowedDomain=function(){var e=!0;if(GmCXt.conf.allowedDomains&&GmCXt.conf.allowedDomains.length)for(var e=!1,t=0;t<GmCXt.conf.allowedDomains.length;t++)if(0<=GmCXt.urlParts.host.indexOf(GmCXt.conf.allowedDomains[t])){e=!0;break}return e},rootScope.isAllowedDomain=function(){let t=!0;if(GmCXt.conf.allowedDomains&&GmCXt.conf.allowedDomains.length){t=!1;for(let e=0;e<GmCXt.conf.allowedDomains.length;e++)if(0<=GmCXt.urlParts.host.indexOf(GmCXt.conf.allowedDomains[e])){t=!0;break}}return t},rootScope.initApp=function(){(GmCXt.onPrem()?initOnPremPlayer:GmCXt.isPlayer()?initPlayer:initCreator)()},rootScope.hideWidget=function(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:hide_widget"})},rootScope.showWidget=function(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:show_widget"})},rootScope.validateAndMigrateTour=function(e){e=GmCXt.validateDataModel(e,GmCXt.model.guide);return GmCXt.migrateTour(e)},rootScope.updateGuideInPublishedTour=function(r,o){let a=!1;rootScope.publishedTours.forEach(function(e,t){parseInt(e.tour_id)===parseInt(r.tour_id)&&(a=!0,o?rootScope.publishedTours.splice(t,1):rootScope.publishedTours[t]=r)}),a||o||rootScope.publishedTours.push(r)},rootScope.updateTourToStorage=function(e,r,o){GmCXt.log(70,"UPDATE TOUR: "+GmCXt.tourLog(e)),r||o||(rootScope.setTour(e),GmCXt.log(70,"UPDATE TOUR: Global updated"+GmCXt.tourLog(e)));var t=o||rootScope.activeAppId;let a=e.category_id;var i=e.tour_id;let n=!1;if(updateContextualTourSteps(e),rootScope.appList["app:"+t]&&!(n=rootScope.appList["app:"+t].categories?rootScope.appList["app:"+t].categories.filter(function(e){return parseInt(e.category_id)===parseInt(a)})[0]:n)&&rootScope.appList["app:"+t].categories){var s=rootScope.appList["app:"+t].categories;for(let e=0;e<s.length&&!(n=s[e].sub_categories?getSubCat(s[e].sub_categories,a):n);e++);}if(n){let t;if(n.tours)for(let e=0;e<n.tours.length;e++)if(parseInt(n.tours[e].tour_id)===parseInt(i)){t=e;break}0<=t?r?(n.tours.splice(t,1),GmCXt.log(70,"UPDATE TOUR: tour REMOVED"+GmCXt.tourLog(e))):(n.tours.splice(t,1,e),GmCXt.log(70,"UPDATE TOUR: tour UPDATED"+GmCXt.tourLog(e))):r||(n.tours||(n.tours=[]),n.tours.push(e),GmCXt.log(70,"UPDATE TOUR: tour ADDED"+GmCXt.tourLog(e))),storage$1.appData.set(rootScope.appList),o||rootScope.updateGuideInPublishedTour(e,r)}else GmCXt.log(70,"UPDATE TOUR: category not found"+GmCXt.tourLog(e))},GmCXt.storage().get(["screen_recorder_close"]).then(function(e){e.screen_recorder_close?(rootScope.isScreenRecorderClose=e.screen_recorder_close,GmCXt.sendMessageToBackgroundService({action:"mgPlayerJSProd_action:show_recording_off"})):rootScope.isScreenRecorderClose=!1}),rootScope.getSteps=function(r){return new Promise(function(t,e){api.getTour(r,function(e){rootScope.notDefaultLang()&&(e=rootScope.getTranslatedTourAndSteps(e,rootScope.language),t(e)),t(e)})})},rootScope.isBotGuide=function(e){return!(!e||"bot"!==e.tour_type)},rootScope.isTooltip=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("smartTip"))},rootScope.isHelpArticle=function(e){return!(!e||!e.tour_type||-1===e.tour_type.indexOf("help_article"))},rootScope.isMobileGuide=function(e){return!!(e&&e.tour_settings&&e.tour_settings.tour_type&&-1!==e.tour_settings.tour_type.indexOf("mobile"))},rootScope.pinTourToTop=function(r,o,a){Gm.loading.set(!0);var e={tour_id:r.tour_id,action:o};api.pinUnpinTour(e,function(e){Gm.loading.set(!1)},function(){storage$1.pinnedToursList.get().then(function(e){var t;return GmCXt.isEmpty(e)?(e=[],"pin"===o&&e.push(r.tour_id)):-1!==(t=e.indexOf(r.tour_id))&&"pin"!==o?e.splice(t,1):"pin"===o&&e.push(r.tour_id),storage$1.pinnedToursList.set(e),a&&a(r,o),Promise.resolve()})})},rootScope.isPlayedTour=function(e){var t=get_store_value(Gm.playedTour);return!(!GmCXt.isPlayer()||GmCXt.isEmpty(t)||-1===t.indexOf(e))},rootScope.branchGuideDownloadOpts=function(e){e.video_file=!1,e.gif_file=!1,e.text_file=!1,e.word_file=!1,e.blog_file=!1},rootScope.loader=function(){return GmCXt.loader()},rootScope.addPanelOverlay=function(){mg$$1(".ege-panel-overlay").remove(),mg$$1(".ege-panel").append("<div class='ege-panel-overlay'></div>")},rootScope.showPanelOverlay=function(){mg$$1(".ege-panel-overlay").css({display:"block"})},rootScope.hidePanelOverlay=function(){mg$$1(".ege-panel-overlay")&&mg$$1(".ege-panel-overlay").is(":visible")&&mg$$1(".ege-panel-overlay").css({display:"none"})},rootScope.editJson=function(e,t,r){},rootScope.updateAccessToken=function(){var e={action:"mgPlayerJSProd_action:update_access_token",data:{user:GmCXt.user}};GmCXt.sendToParentWindow(e)},rootScope.updateAccessTokenCallBack=function(e,t,r){var o;e?((o=GmCXt.user).accesstoken=e.accesstoken,o.refreshtoken=e.refreshtoken,GmCXt.isDefined(e.app_access)&&(o.app_access=e.app_access),rootScope.saveUser(o),t&&t(r||o.accesstoken),rootScope.updateAccessToken(),rootScope.updateWidgetIconSendMsg()):GmCXt.log(1,"ERROR: failed to get a new accesstoken")},rootScope.getAccessTokenFromRefreshToken=function(t,r){api.getAccessToken(function(e){rootScope.updateAccessTokenCallBack(e,t,r)})},rootScope.getAllSegments=function(r){return new Promise(function(t,e){r?rootScope.getSegmentGroupList().then(function(e){t(e)}):storage$1.segmentGroupData.get().then(function(e){e.length?t(e):rootScope.getSegmentGroupList().then(function(e){t(e)})})})},rootScope.resetCreatorData=function(e){rootScope.allCategories={},GmCXt.inPlayer||(rootScope.categoryStore=[]),rootScope.subCategoryStore={},rootScope.allTourList={},e&&(GmCXt.inPlayer||storage$1.category.remove(),storage$1.allTourList.remove(),storage$1.serverUpdates.remove(),storage$1.serverDeletes.remove(),storage$1.refreshCache.remove())},rootScope.resetCreatorData(),rootScope.cancelAutomationSelection=function(){rootScope.automationSelectionMode=!1,rootScope.myGuidesFilter=!0,rootScope.categoryDataForAutomation=[]},rootScope.processActiveRequests=function(){rootScope.maintenance||GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:process_active_requests"})},rootScope.getOnPremOrg=function(a){return new Promise(function(t,e){var r=GmCXt.organization;function o(e){rootScope.saveOrgSettings(e.settings),rootScope.enableOrgFeatures(e),getCurrentAppObj().then(function(){rootScope.sendSidePanelInitEvent(),t()})}GmCXt.isEmpty(r)||a?api.getOrgJson().then(function(e){GmCXt.getJsonTimeStamp(GmCXt.getOnPremJsonURL()).then(function(e){storage$1.refreshTime.set(e.last_updated_time)}),Gm.loading.set(!1);var t=(e=e.data).applications,e=GmCXt.validateDataModel(e,GmCXt.model.organization);rootScope.saveOrganization(GmCXt.organization),t=GmCXt.validateModelArray(t,GmCXt.model.applications._obj),rootScope.saveApps(t),o(e)}):o(r)})},rootScope.refreshAllData=function(e){GmCXt.log(21,"REFRESH event"),rootScope.isRefresh=!0,rootScope.FT.isPlayer||(rootScope.isApiCallOn=!0),storage$1.taskList.remove(),storage$1.segmentGroupData.remove(),resetData(),GmCXt.onPrem()?initOnPremPlayer(!0):e?gotAccessToken():rootScope.getAccessTokenFromRefreshToken(gotAccessToken),Gm.loading.set(!1)},rootScope.showLogoutBtn=function(){var e=GmCXt.user;return!(GmCXt.isEmpty(e)||GmCXt.conf.autologin||GmCXt.isLXP()||GmCXt.conf.appConfig.login.SSO)},rootScope.updateWidgetIconSendMsg=function(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:update_widget_icon"})},rootScope.resetAppData=function(){rootScope.appList={},storage$1.activeAppId.remove()},rootScope.clearStorage=function(){return Promise.all([storage$1.user.remove(),storage$1.organization.remove(),storage$1.appData.remove(),storage$1.activeAppId.remove(),storage$1.segmentGroupData.remove(),storage$1.taskList.remove()])},readStorage().then(function(){window.addEventListener("error",function(e){e&&e.target&&GmCXt.onImageLoadError(mg$$1(e.target))},!0),rootScope.subscribeEvents(),rootScope.updateLabels(),rootScope.reportInitialization()}),rootScope.triggerSsoInterval=function(){clearInterval(rootScope.ssoLoginCheck),rootScope.ssoLoginCheck=setInterval(function(){!rootScope.ssoSuccess&&rootScope.ssoHitCount<30?(rootScope.ssoHitCount++,rootScope.signInWithSso()):rootScope.clearSsoInterval()},2e3)},rootScope.getSsoUserInfo=function(){rootScope.ssoHitCount<30&&(rootScope.ssoHitCount++,setTimeout(function(){rootScope.signInWithSso()},2e3))},rootScope.openSsoTab=function(){var e;GmCXt.isEmpty(rootScope.ssoId)&&!rootScope.appConfig.login.SSO||(e=(new Date).getTime(),storage$1.lastSsoRedirectTime.set(e),e=getSSOWindowOpt(),rootScope.ssoTab=window.open(getSsoIdUrl(rootScope.ssoRedirectionUrl),"",e),rootScope.getSsoUserInfo())},rootScope.clearSsoInterval=function(){clearInterval(rootScope.ssoLoginCheck),closeTabForSso(),rootScope.ssoLoginCheck=""},rootScope.getUserInfoWithSSO=function(){return new Promise(async(e,t)=>{try{var r=GmCXt.trimAndLowerCaseURL(GmCXt.urlParts.host),o=getSsoIdUrl(rootScope.ssoApiUrl),a=await fetch(o,{method:"GET",credentials:"include",headers:{"x-mg-host":r,"x-mg-source":GmCXt.conf.appName,"x-mg-orgId":"","Content-Type":"application/json"}});if(!a.ok)throw new Error("Network response was not ok");var i=await a.json();e(GmCXt.parseJSON(i))}catch(e){console.error("Error fetching SSO info:",e),t(e)}})},rootScope.getSsoId=function(){return new Promise(async(e,t)=>{try{var r,o,a=GmCXt.trimAndLowerCaseURL(GmCXt.urlParts.host),i=""+GmCXt.conf.ssoConfigUrl+GmCXt.getMd5(a)+".json",n=await fetch(i,{method:"GET",credentials:"omit",headers:{"Content-Type":"application/json"}});n.ok?(r=await n.json(),o=GmCXt.parseJSON(r),rootScope.ssoId=o.id,e(o)):t(new Error("Network response was not ok"))}catch(e){console.error("Error fetching SSO ID:",e),t(e)}})},rootScope.shouldOpenSsoTab=function(){var o=(new Date).getTime();return new Promise(function(r,e){storage$1.lastSsoRedirectTime.get().then(function(e){var t=o>e+GmCXt.t.openSso;r(!e||t)})})},rootScope.goToMaintenance=function(){Gm.loading.set(!1),rootScope.maintenance=!0,rootScope.chatBot=!1,GmCXt.redirect("#/maintenance")},rootScope.signInWithSso=function(e){function t(){var e=GmCXt.user;GmCXt.isEmpty(e)?rootScope.shouldOpenSsoTab().then(function(e){e?rootScope.openSsoTab():rootScope.getSsoUserInfo()}):closeTabForSso()}function r(){rootScope.getUserInfoWithSSO().then(o).catch(function(e){t()})}function o(e){!1===e.error?(closeTabForSso(),rootScope.onUserSignin(e.data.user,!0)):1001===e.code?t():1002===e.code?(closeTabForSso(),rootScope.hideWidget()):1014===e.code&&(closeTabForSso(),rootScope.goToMaintenance())}GmCXt.isEmpty(rootScope.myGuideOrgKey)&&(GmCXt.myGuideInternalCustomers()||GmCXt.isMcKesson())?rootScope.getSsoId().then(function(e){r()}).catch(function(){GmCXt.log(1,"ERROR: failed to get SSO Id"),rootScope.clearSession()}):r()},rootScope.goToLogin=function(){Gm.activeView.set("signin")},rootScope.showPopup=function(e,t,r,o){r=r||"info",Gm.loading.set(!1),modal.close(),modal.open(e,r,t,!1,o)},rootScope.stopVideoStep=function(){mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").html("1%"),mg$$1(".mgPlayerJSProd_video-upload-progress-bar-wrapper").find(".mgPlayerJSProd_progress-bar-percentage").css("width","1%"),rootScope.videoUploadMessage=!1,rootScope.uploadProgressBar=!1,rootScope.tourVideoInProgressArr=[],storage$1.videosInProgress.set([]),rootScope.uploadInProgress=!1,rootScope.isElectron?GmCXt.stopVideoStep_():Message.send({action:"mgPlayerJSProd_action:stop_video_upload_in_background"})},rootScope.hasVideoInProgress=function(e){return-1!==mg$$1.inArray(e,rootScope.tourVideoInProgressArr)},rootScope.checkTourRules=function(o){return new Promise(function(t,e){var r=o.tour_settings.rules;r.length?(r={rules:r,tour:o,timeoutVal:GmCXt.t.ruleTimeOut10s,timeout:GmCXt.t.ruleTimeOut10s,cb:function(e){e.valid?t("valid"):t("invalid")},isTour:!0,initiator:"guide"},GmCXt.ruleEngine.queue(r)):t("noRules")})},rootScope.sortTourSteps=function(e,r){var o=[];return e.forEach(function(e){for(var t=0;t<r.length;t++)e.step_id===r[t].step_id&&(r[t].step_order=e.step_order.toString(),o.push(r[t]))}),o},rootScope.sortDataByActiveFilter=function(e,r,o){return e?o||"currentpage"===get_store_value(Gm.CurrentPage)?!r||"atoz"!==o&&"ztoa"!==o?e.sort((e,t)=>"older"===o?e.modification_date-t.modification_date:t.modification_date-e.modification_date):"atoz"===o?e.sort((e,t)=>e[r].toLowerCase()>t[r].toLowerCase()?1:-1):"ztoa"===o?e.sort((e,t)=>t[r].toLowerCase()>e[r].toLowerCase()?1:-1):e:e.sort((e,t)=>"category_title"===r?e.category_order-t.category_order:e.tour_order-t.tour_order):[]},rootScope.isBotTourPlayed=function(t){let r=!1;for(let e=0;e<rootScope.botTourPlayList.length;e++)if(rootScope.botTourPlayList[e].tour_id===t.tour_id){r=!0;break}return r},rootScope.filterBotGuides=function(e){return e=e.filter(function(e){if(rootScope.isBotGuide(e))return e;if(rootScope.botTourPlayList&&rootScope.botTourPlayList.length){if(e.tour_settings.enableBot&&!rootScope.isBotTourPlayed(e))return e}else if(e.tour_settings.enableBot)return e})},rootScope.setPlayedStepsInfo=function(e){if(rootScope.playedSteps=rootScope.playedSteps||[],GmCXt.isValueInArray(rootScope.playedSteps,"tId",e.tour_id)){for(var t=0;t<rootScope.playedSteps.length;t++)if(rootScope.playedSteps[t].tId===e.tour_id){rootScope.playedSteps[t].lastStepid=e.step_id;break}}else rootScope.playedSteps.push({tId:e.tour_id,lastStepid:e.step_id});storage$1.stepsPlayed.set(rootScope.playedSteps);var r={playedSteps:rootScope.playedSteps},o=GmCXt.user;o&&o.settings&&(o.settings.guide_view=r,rootScope.saveUser(o)),GmCXt.apiUpdateUserGuidevView(r)},rootScope.getPlayedStepCount=function(e){var t="";if(rootScope.playedSteps)for(var r=0;r<rootScope.playedSteps.length;r++)if(rootScope.playedSteps[r].tId===e.tour_id){t=rootScope.playedSteps[r].lastStepid;break}return GmCXt.getStepPosFromPs(e,t)},rootScope.hideMirrorAppCtrl=function(){let e=!1;var t;return e=GmCXt.isMirrorApp()&&!GmCXt.isEmpty(rootScope.appList)&&rootScope.activeAppId&&(t=rootScope.appList["app:"+rootScope.activeAppId])&&t.base_app_id&&0!==parseInt(t.base_app_id)?!0:e},rootScope.downloadTour=function(t,r){mgError$1.try(function(){var e;r.stopPropagation(),rootScope.hideTourActionDropdown(),"0"===t.step_count?rootScope.showPopup(rootScope.labels.exportAlert):(e={data_to_export:[{tours:[parseInt(t.tour_id)],category:t.category_id}],description:rootScope.labels.exporting+": "+t.tour_title},api.getTourDownload(e,rootScope.callBackExportTour))},106)},rootScope.openGuideDetailsAnalyticPortal=function(i,e){e.stopPropagation(),GmCXt.api.getHandOffToken().then(function(e){var t,e=e.data["handoff-token"],r=new Date,o=new Date,a=(r.setDate(r.getDate()-7),r=r.toJSON().slice(0,10),o.setDate(o.getDate()-1),o=o.toJSON().slice(0,10),rootScope.isOnboarding(i)?"tutorial-guides-detail/":"guide-analytics-detail/");e&&(t=rootScope.appList["app:"+rootScope.activeAppId].external_id,window.open(rootScope.analyticsPortalUrl+"#/guide-insights/"+a+i.tour_id+"/?app_id="+rootScope.activeAppId+"&app_code="+t+"&fdate="+r+"&tdate="+o+"&handoff-token="+e,"_blank"))}).catch(function(){})},rootScope.unlockGuide=function(t){modal.open(rootScope.labels.unlockGuideConfirm,"confirm",function(){Gm.loading.set(!0),api.tourUnlock({category_id:t.category_id,tour_id:t.tour_id},function(e){t.is_locked=e.is_locked||!1,t.user_id=rootScope.user.user_id,rootScope.refreshAllData()})})},rootScope.exportCsv=function(e,t){Gm.loading.set(!0),e.steps?createCsv(e.tour_title,e.steps):GmCXt.getSteps({tour_id:e.tour_id}).then(function(e){createCsv(e.tour_title,e.steps)})},rootScope.showEmbedTourPopup=function(r,e){function t(){mg$$1(".mgPlayerJSProd_overlay-container").remove(),mg$$1(".ege-embed-code-popup").remove()}var o="<div class='mgPlayerJSProd_overlay-container'></div> <div class='ege-embed-code-popup'> <div class='mgPlayerJSProd_embed-code-popup-header'>Open page with live Guide<div class='mgPlayerJSProd_embed-code-popup-close ege-cancel-btn'>"+'<svg version="1.1" id="Capa_1" x="0px" y="0px"viewBox="0 0 50 50" style="enable-background:new 0 0 50 50;" xml:space="preserve"><g><g><path d="M46,4C44.9,3,43.2,3,42.1,4L25,21.2L7.9,4C6.8,3,5.1,3,4,4S3,6.8,4,7.9L21.2,25L4,42.1C3,43.2,3,44.9,4,46c0.5,0.5,1.2,0.8,1.9,0.8s1.4-0.3,1.9-0.8L25,28.8L42.1,46c0.5,0.5,1.2,0.8,1.9,0.8c0.7,0,1.4-0.3,1.9-0.8c1.1-1.1,1.1-2.8,0-3.8L28.8,25L46,7.9C47,6.8,47,5.1,46,4z"/></g></g></svg>   </div></div>',o=(o=(o+=" <div class='content-wrapper'><div class='mgPlayerJSProd_embed-code-instruction'>"+r.textMessage+"</div>   <div class='code-wrapper' id='code-wrapper-url'>"+String(r.embedScript).replace(/</gm,"&lt;").replace(/>/gm,"&gt;")+"   </div> </div>   <div class='copy-btn-wrapper'>")+"   <div class='mgPlayerJSProd_doitme-checkbox'><input type='checkbox' name='mgPlayerJSProd_add-doitme' class='mgPlayerJSProd_doitme-embed mgPlayerJSProd_input-checkbox-custom mgPlayerJSProd_inline-block-vm' id='mgPlayerJSProd_doitme-embed'>   <label class='mgPlayerJSProd_inline-block-vm' for='mgPlayerJSProd_add-link-newtab'>"+rootScope.labels.doItForMe+"</label></div>")+"  <div class='ok-btn-wrapper'>     <div class='ege-ok-btn ege-copy-script-2 mgPlayerJSProd_btn-default ege-inline-block-vt'>"+rootScope.labels.copy+"</div> </div></div>";mg$$1(".ege-panel").append(o);o=(mg$$1(window).height()-mg$$1(".ege-embed-code-popup").height())/2;function a(){return"&automation=true"}mg$$1(".ege-embed-code-popup").css("top",o),mg$$1(".mgPlayerJSProd_overlay-container").on("click",function(e){t(),e.stopPropagation()}),mg$$1(".mgPlayerJSProd_doitme-embed").click(function(){mg$$1(".ege-copy-script-2").html(rootScope.labels.copy);var e="",e=mg$$1(this).is(":checked")?(()=>{var e=mg$$1("#code-wrapper-url")[0].innerText.split("#"),t=e[0]+a();return t=e[1]?t+"#"+e[1]:t})():mg$$1("#code-wrapper-url")[0].innerText.replace(a(),"");r.embedScript=e,mg$$1("#code-wrapper-url")[0].innerText=e}),mg$$1(".ege-copy-script-2").on("click",function(){var e,t;e=r.embedScript,(t=document.createElement("input")).type="text",t.value=e,t.className="copy-client-script",document.body.appendChild(t),document.querySelector(".copy-client-script").select(),document.execCommand("copy"),mg$$1(".copy-client-script").remove(),mg$$1(this).html(rootScope.labels.copied)}),mg$$1(".ege-cancel-btn").on("click",function(){t()})},rootScope.embedTour=function(a,e){e.stopPropagation(),rootScope.hideTourActionDropdown(),GmCXt.getSteps({tour_id:a.tour_id}).then(function(e){var t,r,o,e=e.steps;e.length&&(t=e[0].step_url,e=e[0].step_settings,r="http",o=[],-1!==(t=-1!==(t="https"===(r=t&&e.scheme?e.scheme:r)&&-1===t.indexOf("https://")||"http"===r&&-1===t.indexOf("http://")?r+"://"+t:t).indexOf("#")?(o=t.split("#"))[0]:t).indexOf("?")?t+="&guideMe-tourId="+a.tour_id:t+="?guideMe-tourId="+a.tour_id,o.length&&o[1]&&(t=t+"#"+o[1]),e={textMessage:rootScope.labels.guideLnkToRedirect,embedScript:t},rootScope.showEmbedTourPopup(e,a))})},rootScope.getConversations=function(o){return new Promise(function(t,e){var r={};r.app_code=rootScope.appList["app:"+rootScope.activeAppId].external_id,r.pageIndex=1,r.pageSize=100,r.user=rootScope.user,o&&(r.app_code=""),rootScope.conversations=!1,GmCXt.api.getBotConvList(r).then(function(e){e=e.data;e&&e.conversations?(rootScope.conversations=e.conversations,t(e.conversations)):t(!1)}).catch(function(){t(!1)})})},rootScope.openBotAnalyticsPortal=function(){GmCXt.api.getHandOffToken().then(function(e){var t,e=e.data["handoff-token"];e&&(t=rootScope.appList["app:"+rootScope.activeAppId].external_id,window.open(rootScope.analyticsPortalUrl+"#/chatbot/manage/?app_id="+rootScope.activeAppId+"&app_code="+t+"&handoff-token="+e,"_blank"))}).catch(function(){})},rootScope.triggerError=function(e){mgError$1.on({code:e.code,url:e.url,params:e.params,method_type:e.method_type,message:e.errMessage}),2044===e.code&&GmCXt.reportError(GmCXt.getErrObj(" ",{code:2044,info:e,source:"Step_Update"}))},rootScope.loginFromConsole=function(t){var e={email_id:t.email,password:t.password,keep_login:1};api.userSignIn(e,function(e){rootScope.onUserSignin(e,t.sso)},function(){rootScope.clearSession()})},rootScope.updateCategoryInStorgae=function(r,o,a){if(GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: "+GmCXt.categoryLog(r)),a=a||rootScope.activeAppId){var i,n=rootScope.appList["app:"+a].categories;let t,e=!1;if(n.length&&!parseInt(r.parent_id)){for(let e=0;e<n.length;e++)if(n[e].category_id===r.category_id){t=e;break}}else n.length||(rootScope.appList["app:"+a].categories=[]);if(0<=t)GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category FOUND"+GmCXt.categoryLog(r)),e=!0,o?(rootScope.appList["app:"+a].categories.splice(t,1),GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category REMOVED"+GmCXt.categoryLog(r))):((i=rootScope.appList["app:"+a].categories[t].tours)&&!r.tours&&r.has_tour?(GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: keep category tours"+GmCXt.categoryLog(r)),r.tours=i):(i=rootScope.appList["app:"+a].categories[t].categories)&&r.has_child&&!r.categories&&(GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: keep category subcats"+GmCXt.categoryLog(r)),r.categories=i),rootScope.appList["app:"+a].categories.splice(t,1,r),GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category UPDATED"+GmCXt.categoryLog(r)));else if(parseInt(r.parent_id))for(var s,l,c=rootScope.appList["app:"+a].categories,d=0;d<c.length;d++)if(s=c[d].sub_categories?getSubCat(c[d].sub_categories,r.category_id):s){GmCXt.log(70,"UPDATE TOURS in STORGAE: sub category found. "+r.category_id),e=!0,o||(s.has_tour&&s.tours?(l=GmCXt.createDeepCopy(s.tours),r.tours=l,s=r):s.has_child&&s.categories&&(l=GmCXt.createDeepCopy(s.categories),r.categories=l,s=r));break}e||o||0!==parseInt(r.parent_id)||(rootScope.appList["app:"+a].categories.push(r),GmCXt.log(70,"UPDATE CATEGORY IN STORAGE: category ADD"+GmCXt.categoryLog(r))),storage$1.appData.set(rootScope.appList)}},rootScope.updateCategory=function(e,t,r,o){var a="cat_"+e.category_id,i=rootScope.allCategories;!GmCXt.isEmpty(i)&&i[a]?(i[a][t]=r,o&&(i[a].modification_date=GmCXt.getCurrentTimeInSec()),GmCXt.inPlayer||storage$1.category.reset(i)):(e[t]=r,o&&(e.modification_date=GmCXt.getCurrentTimeInSec()),rootScope.addCategory(e)),updateCatList(e,parseInt(e.parent_id))},rootScope.updateEnvNames=function(e){var t;return"qa"===e?rootScope.labels.qa:"stage"===e?rootScope.labels.stage:"prod"===e?rootScope.labels.production:(t=rootScope.appList["app:"+rootScope.activeAppId])&&t.settings&&t.settings.app_env&&t.settings.app_env[e]?t.settings.app_env[e].name:void 0},rootScope.removeTour=function(e,t,r){if(!r){if(!rootScope.allTourList["cat_"+e]["tour_"+t])return;delete rootScope.allTourList["cat_"+e]["tour_"+t]}GmCXt.inPlayer&&rootScope.updateTourToStorage({tour_id:t,category_id:e,application_id:r},!0,r),r||(storage$1.allTourList.set(rootScope.allTourList),(t=rootScope.getCategory(e))&&GmCXt.FT.creatorApp&&(r=parseInt(t.total_unpublish_tour),r=0<=--r?r:0,rootScope.updateCategory(t,"total_unpublish_tour",r.toString()),0===parseInt(t.total_unpublish_tour))&&0===parseInt(t.total_publish_tour)&&rootScope.updateCategory(t,"has_tour",!1))},rootScope.fetchToursForCategory=function(e,t,r,o){e={limit:100,offset:0,category_id:e,organization_id:rootScope.organization.organization_id};r&&(e.published_guides="1"),api.getTourList(e,function(e){t(e)},o)},rootScope.updateToursInCategoryStorage=function(r,e,o,a){if(GmCXt.log(70,"UPDATE TOURS in STORAGE: ",e),a||rootScope.getCategory(r)){a=a||rootScope.activeAppId;let t=rootScope.appList["app:"+a].categories.filter(function(e){return e.category_id===r})[0];if(t)GmCXt.log(70,"UPDATE TOURS in STORGAE: category found. "+r);else{var i=rootScope.appList["app:"+a].categories;for(let e=0;e<i.length;e++)if(t=i[e].sub_categories?getSubCat(i[e].sub_categories,r):t){GmCXt.log(70,"UPDATE TOURS in STORGAE: sub category found. "+r);break}}o?(GmCXt.log(70,"UPDATE TOURS in STORGAE: REMOVED "+r),t.tours=[]):(GmCXt.log(70,"UPDATE TOURS in STORGAE: UPDATED "+r),t.tours=e),e.forEach(function(e){rootScope.updateGuideInPublishedTour(e,o)}),storage$1.appData.set(rootScope.appList)}else GmCXt.log(70,"UPDATE TOURS in STORGAE: category not found. "+r)},rootScope.processAppData=function(e){function r(e){var t;(o["cat_"+e.category_id]=e).sub_categories&&0<e.sub_categories.length?mg$$1.each(e.sub_categories,function(e,t){r(t)}):e.tours&&0<e.tours.length&&(a=(e=e.tours,t=a,e.forEach(function(e){t["tour_"+e.tour_id]=e}),t))}let o={},a={};GmCXt.log(21,"PROCESS NON ACTIVE app data",e);return e.categories&&0<e.categories.length&&e.categories.forEach(function(e){r(e)}),{categories:o,tours:a}},rootScope.getBasePath=function(e){return GmCXt.isExtension()?GmCXt.getBrowserUrl(e):GmCXt.isDefined(GmCXt.conf.baseUrl)?GmCXt.conf.baseUrl+e:GmCXt.conf.clientJsBaseUrl+e},rootScope.getImageURL=function(e,t,r){if(e)return r?e.split(".png")[0]+t:e.split(".png")[0]+t+rootScope.getCdnSign()},rootScope.getApiLimit=function(e){return 50*(Math.ceil(e/50)||1)},rootScope.isAppAdmin=function(){return"app_admin"===rootScope.user.role},rootScope.showUnlockBtn=function(e){return!(!(rootScope.FT.creatorApp&&e&&e.is_locked)||e.is_published||e.user_id!==rootScope.user.user_id&&!rootScope.isOwnerOrAppAdmin())},rootScope.isPublishedToAll=function(e){return e.tour_settings.app_publish_env?e.tour_settings.app_publish_env.includes(rootScope.highestEnv):!!e.tour_settings.publish_env&&e.tour_settings.publish_env.includes("prod")},rootScope.isOwnerOrAppAdmin=function(){return!(!rootScope.isOwner()&&!rootScope.isAppAdmin())},rootScope.isGuideAutomationEnabledForApp=function(){return rootScope.isGuideAutomationEnabled&&GmCXt.getAppSetting("isAutomationEnabled")},rootScope.switchApp=function(e){rootScope.applicationDropdown=!1,rootScope.automationDropdown=!1,rootScope.contextTours={},rootScope.resetCreatorData(!0),rootScope.initAppDetails(e),rootScope.selectedApp=e.title;var t=get_store_value(Gm.CurrentPage),r=get_store_value(Gm.breadCrumb);rootScope.FT.isPlayer||(0<r.length&&"stepview"!==t?(rootScope.setCurrentPage("allguides"),Gm.routeAction.set({action:"on_app_select",app:e}),Gm.routeAction.set({action:"goToAllGuides",app:e})):(rootScope.setCurrentPage("allguides"),Gm.routeAction.set({action:"on_app_select",app:e})))},rootScope.saveAppSettings=function(e,t,r){e.source="creator_extension";var o={variables:e.settings.variables,domains:e.settings.domains,app_env:e.settings.app_env};e.settings=JSON.stringify(o),Gm.loading.set(!0),api.updateApp(e,function(){rootScope.checkAppList().then(function(){rootScope.appList["app:"+t.application_id]=t,storage$1.appData.set(rootScope.appList,!0),t.application_id===GmCXt.activeAppId&&rootScope.initAppDetails(t),r(),rootScope.showWidget()})})},rootScope.hasCreatorAccess=function(){var e=rootScope.user.role;return!(!rootScope.FT.creatorApp||"creator"!==e&&"app_admin"!==e&&!rootScope.isOwner())},rootScope.openSurveyAnalyticsPortal=function(){GmCXt.api.getHandOffToken().then(function(e){var t,e=e.data["handoff-token"];e&&(t=rootScope.appList["app:"+rootScope.activeAppId].external_id,window.open(rootScope.analyticsPortalUrl+"#/survey/manage-survey/?app_id="+rootScope.activeAppId+"&app_code="+t+"&handoff-token="+e,"_blank"))}).catch(function(){})},rootScope.openManageKeywords=function(){GmCXt.api.getHandOffToken().then(function(e){e=e.data["handoff-token"];e&&window.open(GmCXt.conf.webPortalUrl+"organization/"+rootScope.organization.organization_id+"/manage_keywords/?handoff-token="+e+"&navigate_to_path="+window.btoa("organization/"+rootScope.organization.organization_id+"/manage_keywords"),"_blank")}).catch(function(){})},rootScope.openManageSegments=function(){GmCXt.api.getHandOffToken().then(function(e){e=e.data["handoff-token"];e&&window.open(GmCXt.conf.webPortalUrl+"organization/"+rootScope.organization.organization_id+"/manage_segments/?handoff-token="+e+"&navigate_to_path="+window.btoa("organization/"+rootScope.organization.organization_id+"/manage_segments"),"_blank")}).catch(function(){})},rootScope.openAdminPortal=function(){GmCXt.api.getHandOffToken().then(function(e){e=e.data["handoff-token"];e&&window.open(GmCXt.conf.webPortalUrl+"login/?handoff-token="+e,"_blank")}).catch(function(){})},rootScope.openCustCenter=function(){GmCXt.api.getHandOffToken().then(function(e){e=e.data["handoff-token"];e&&window.open(GmCXt.conf.webPortalUrl+"organization/"+rootScope.organization.organization_id+"/customization/?handoff-token="+e+"&navigate_to_path="+window.btoa("organization/"+rootScope.organization.organization_id+"/customization"),"_blank")}).catch(function(){})},rootScope.openAppAnalyticsPortal=function(){GmCXt.api.getHandOffToken().then(function(e){var t,e=e.data["handoff-token"];e&&(t=rootScope.appList["app:"+rootScope.activeAppId].external_id,window.open(rootScope.analyticsPortalUrl+"#/guide-insights/guide-analytics?app_id="+rootScope.activeAppId+"&app_code="+t+"&handoff-token="+e,"_blank"))}).catch(function(){})},rootScope.exportGuide=function(r){rootScope.checkCdnSignature().then(function(){var e=r.split("/"),t=(GmCXt.log(51,"Export URL: "+r),GmCXt.log(51,"Download: "+e[e.length-1]),document.createElement("a"));t.setAttribute("href",r+GmCXt.getCdnSign()),t.setAttribute("download",e[e.length-1]),t.setAttribute("target","_top"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)})},rootScope.clearSearchInput=function(){mg$$1("#search-text-input").val(""),rootScope.searchKeyword=""},rootScope.resetSortFilter=function(){rootScope.FT.isPlayer||(rootScope.activeSortFilter="")},rootScope.goToLevel=function(e,t){rootScope.clearSearchInput(),Gm.loading.set(!0);function r(){o=!e.has_child&&e.has_tour?"#/category/"+e.category_id+"/tour/list":"#/category/"+e.category_id+"/list",GmCXt.redirect(o)}var o="",a=rootScope.getCategory(e.category_id);!a||t?(e.category_id,rootScope.getCategoryApi(e.category_id,function(e){r()})):r()},rootScope.togglePlayerMode=function(){rootScope.uploadStepProgressBar=!1,rootScope.showStepCreatedSuccessMsg=!1,rootScope.playerMode&&storage$1.showPlayer.set(rootScope.showPlayer),rootScope.initPlayerMode(),rootScope.resetCreatorData(),rootScope.showPlayer?rootScope.resetAppData():(rootScope.resetCreatorData(),rootScope.removeChatIcon()),getCurrentAppObj().then(function(e){rootScope.showPlayer?rootScope.processActiveRequests():(hidePlayerModeActions(),rootScope.resetSortFilter()),Gm.activeView.update(e=>"home"===e?"":"home"),Gm.activeView.set("home"),rootScope.setCurrentPage("currentpage")})},rootScope.filterDefaultGuides=function(e){return e=e.filter(function(e){if(window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer){if(rootScope.isDesktopGuide(e))return e}else if(rootScope.isDefaultGuide(e)||rootScope.isDesktopGuide(e))return e})},rootScope.getCategoryListApi=function(e,t){rootScope.language&&!GmCXt.isFalse(rootScope.language)&&(e.language=rootScope.language),GmCXt.getLXPLang()&&(e.language=GmCXt.getLXPLang()),api.getCategoryList(e,t)},rootScope.disableTourSettingEdit=function(e){var t=!1;return t=!rootScope.isUserRole()&&e&&rootScope.isLocked(e)?!0:t},rootScope.surveyQues=function(){return[{surveyTitle:"",questions:[],globalSurvey:!1}]},rootScope.getAppShortcutKeysList=function(){return new Promise(function(e,t){rootScope.activeAppId})},rootScope.guideViewOnly=function(e){var t=!1;return t=!rootScope.isUserRole()&&e&&(e.is_published||rootScope.isLocked(e))?!0:t},rootScope.isUserRole=function(){return"user"===rootScope.user.role},rootScope.isLocked=function(e){return!(!e.is_locked||e.user_id===rootScope.user.user_id)},rootScope.dispatchEvent=function(e){document.dispatchEvent(e)},rootScope.setPreviousDataStep=function(e,t,r){rootScope.prevStepData||(rootScope.prevStepData={}),e&&(rootScope.prevStepData.step_id=e.step_id,rootScope.prevStepData.step_type=e.step_type,rootScope.prevStepData.step_settings=e.step_settings,rootScope.prevStepData.type=r,e.branch_index)&&(rootScope.prevStepData.branch_index=e.branch_index),rootScope.prevStepData.tour=t},rootScope.getSentiments=function(o){return new Promise(function(t,e){var r={};r.app_code=rootScope.appList["app:"+rootScope.activeAppId].external_id,r.pageIndex=1,r.pageSize=100,r.user=rootScope.user,o&&(r.app_code=""),rootScope.sentiments=!1,GmCXt.api.getSentiments(r).then(function(e){e=e.data;e&&e.sentiments?(rootScope.sentiments=e.sentiments,t(e.sentiments)):t(!1)}).catch(function(){t(!1)})})},rootScope.surveyQues=function(){return[{surveyTitle:"",questions:[],globalSurvey:!1}]},rootScope.isUserRole=function(){return"user"===rootScope.user.role},rootScope.lockedByUser=function(e){return!(!e||!e.is_locked||e.user_id!==rootScope.user.user_id)},rootScope.hasTourAccess=function(e){return!!(e&&!e.is_locked||e&&rootScope.lockedByUser(e))},rootScope.isLocked=function(e){return!(!e.is_locked||e.user_id===rootScope.user.user_id)},rootScope.hideAddTour=function(e){return!(!e||!e.has_child)},rootScope.getNode=function(t,e){var r=e;for(let e=0;e<r.length;e++)if(r[e].id===t)return r[e]},rootScope.disableTourSettingEdit=function(e){var t=!1;return t=!rootScope.isUserRole()&&e&&rootScope.isLocked(e)?!0:t},rootScope.showInlineStep=function(e){return!(!rootScope.isGuide(e)||rootScope.isDesktopGuide(e)||rootScope.isMobileGuide(e))},rootScope.goToAddTourPage=function(e,t,r){rootScope.catAddPending={cat:e,ttype:r},GmCXt.isDomainInActiveApp()?(t&&t.stopPropagation(),rootScope.catAddPending=!1,storage$1.currentTour.set({tour_type:r})):rootScope.handleDomainError()},rootScope.createSmartTipTour=function(e,t){rootScope.catAddPending={cat:e,ttype:"smartTip"},GmCXt.isDomainInActiveApp()?t&&t.stopPropagation():rootScope.handleDomainError()},rootScope.saveAppSettings=function(e,t,r){e.source="creator_extension";var o={variables:e.settings.variables,domains:e.settings.domains,app_env:e.settings.app_env};e.settings=JSON.stringify(o),api.updateApp(e,function(){rootScope.checkAppList().then(function(){rootScope.appList["app:"+t.application_id]=t,storage$1.appData.set(rootScope.appList,!0),t.application_id===GmCXt.activeAppId&&rootScope.initAppDetails(t),r(),rootScope.showWidget()})})},rootScope.addCurrentDomain=function(o){rootScope.checkAppList().then(function(){var t=rootScope.appList["app:"+rootScope.activeAppId],e=(t.settings=t.settings||{},t.settings.domains||[]),r=GmCXt.getURLWithPort(),r={id:e.length,url:r},r=(o.match("stage|qa|prod")?r.env=o:(r.app_env=o,r.env="env_1"===o?"stage":"env_2"===o?"qa":"prod"),0===e.length&&(r.isDefault=!0),e.push(r),t.settings.domains=e,{application_id:t.application_id,title:t.title,image_id:t.image_id,description:t.description,settings:t.settings});rootScope.saveAppSettings(r,t,function(){t.application_id===GmCXt.activeAppId&&rootScope.initAppDetails(t);var e=rootScope.catAddPending;e&&("smartTip"===e.ttype?rootScope.createSmartTipTour(e.cat):rootScope.goToAddTourPage(e.cat,!1,e.ttype))})})},rootScope.addDomainCancel=function(){rootScope.catAddPending=!1},rootScope.addDomainPopup=function(){rootScope.checkAppList().then(function(){var e=GmCXt.getURLWithPort(),t=rootScope.appList["app:"+rootScope.activeAppId],r=rootScope.labels.addDomain1;r=(r=r.replace(/{DOMAIN}/g,"<strong>"+e+"</strong>")).replace(/{APPNAME}/g,"<strong>"+t.title+"</strong>"),modal.open(r,"domain",rootScope.addCurrentDomain,rootScope.addDomainCancel)})},rootScope.showAddSurveyStep=function(e){return!(!rootScope.isGuide(e)||!rootScope.checkInsightEnabled())},rootScope.showWalkthroughStep=function(e){return!(!rootScope.isGuide(e)||rootScope.isDesktopGuide(e)||rootScope.isMobileGuide(e))},rootScope.showBranchStep=function(e){return!(!rootScope.isGuide(e)||rootScope.isDesktopGuide(e)||rootScope.isMobileGuide(e))},rootScope.showErrorStep=function(e){return!(!rootScope.isGuide(e)||rootScope.isDesktopGuide(e)||rootScope.isMobileGuide(e))},rootScope.showSchedulePublish=function(e){var t=!1;return t=rootScope.appEnvs.length&&rootScope.checkShowPubBtn(e)||e.is_published?!(!e.tour_settings.visibilitySettings||GmCXt.checkScheduleTime(e)):t},rootScope.showUnpublish=function(e){var t=!0;return rootScope.appEnvs.length?t=!0:e.is_published&&e.tour_settings.visibilitySettings&&(t=!1),t},rootScope.checkShowPubBtn=function(e){var t=!1,r=e.tour_settings.app_publish_env,o=0<parseInt(e.step_count)||rootScope.isHelpArticle(e)||rootScope.isBotGuide(e),a=!0;return e.is_published&&1===rootScope.appEnvs.length&&(r&&-1!==r.indexOf(rootScope.appEnvs[0])||!r)&&(a=!1),t=rootScope.FT.publish&&rootScope.isOwnerOrAppAdmin()&&o&&(rootScope.fqdn&&a||!e.is_published&&(0===rootScope.appEnvs.length||!r||!rootScope.fqdn))?!0:t},rootScope.showLinkStep=function(e){return!(!rootScope.isGuide(e)||rootScope.isDesktopGuide(e)||rootScope.isMobileGuide(e))},rootScope.getTourType=function(e){return rootScope.isGuide(e)||rootScope.isCADGuide(e)?"guide":rootScope.isBotGuide(e)?"bot":rootScope.isOnboarding(e)?"onboarding":rootScope.isHelpArticle(e)?"help_article":rootScope.isTrackingGuide(e)?"insights":void 0},rootScope.updateTourData=function(o,a){return new Promise(function(r,e){mgError$1.try(function(){function e(e){Gm.loading.set(!1),r(e)}var t={category_id:o.category_id,tour_title:o.tour_title,tour_description:o.tour_description,tour_image:o.tour_image,tour_settings:o.tour_settings,tour_type:o.tour_type,tour_url:o.tour_url,tour_id:o.tour_id,is_locked:o.is_locked,keywords:o.keywords};a&&(t.new_settings=a),Gm.loading.set(!0);o.is_published?api.publishedTourUpdate(t,function(){},null,e):api.tourUpdate(t,e,null,e)},113)})},rootScope.handleDomainError=function(){var e,t=GmCXt.checkDomainInApps(GmCXt.urlParts.fullUrl);t.domainMatch?(e=(e=(e=rootScope.labels.domainCheck1).replace(/{APPNAME}/g,"<strong>"+t.appName+"</strong>")).replace(/{DOMAIN}/g,"<strong>"+GmCXt.urlParts.host+"</strong>"),rootScope.showPopup(e)):rootScope.isOwnerOrAppAdmin()?rootScope.addDomainPopup():modal.open(rootScope.labels.addDomainNoPermission)},rootScope.showAddSurveyStep=function(e){return!(!rootScope.isGuide(e)||!rootScope.checkInsightEnabled())},rootScope.showSurveyStep=function(e){return!("survey"===e.step_type&&!rootScope.checkInsightEnabled())},rootScope.getNodeFromTail=function(r,e){let o;var a=e;for(let t=0;t<a.length;t++){if(a[t].tail===r){o=a[t];break}if(a[t].branch)for(let e=0;e<a[t].branch.length;e++)if(a[t].branch[e].tail===r){o=a[t];break}}return o},rootScope.focusAccessibilityBtn=function(){GmCXt.timeout(function(){rootScope.isSidePanelOpen&&mg$$1(".mgPlayerJSProd_accessibility-btn-wrapper button.mgPlayerJSProd_custom-slider")&&mg$$1(".mgPlayerJSProd_accessibility-btn-wrapper button.mgPlayerJSProd_custom-slider").length&&mg$$1(".mgPlayerJSProd_accessibility-btn-wrapper button.mgPlayerJSProd_custom-slider")[0].focus()},500)},rootScope.routeToStepContainer=function(e,t){Gm.routeAction.set({action:e,data:t}),"stepview"!==get_store_value(Gm.CurrentPage)&&rootScope.setCurrentPage("stepview")},rootScope.setDefaultPlayAction=function(e,t,r){return e="Default"===e||e&&(GmCXt.getAppSetting(e)||r)?e:GmCXt.model.organization.settings._obj.defaultPlayAction._default},rootScope.addInlineStep=function(r,o,a,i,n){rootScope.setPreviousDataStep(o,r,i);o=getStepOrder(r,o,a,i);if(r.is_published)rootScope.showPopup(rootScope.labels.unpubTourForAddStep);else{let e=GmCXt.model.langOption.language._default+"-"+GmCXt.model.langOption.voice._default,t=!1;a=r.tour_settings,i=(GmCXt.isDefined(a.language_settings)&&(e=a.language_settings.language+"-"+a.language_settings.voice),GmCXt.isDefined(a.step_settings)&&(t=a.step_settings),GmCXt.isDefined(a.step_settings)&&(t=a.step_settings),r.tour_settings.enableBot?t.tourEnableBot=!0:t.tourEnableBot=!1,{action:n?"mgPlayerJSProd_action:create_step,type:quick":"mgPlayerJSProd_action:create_step,type:inline",data:{tourId:r.tour_id,stepCount:void 0!==r.step_count?r.step_count:0,language:e,tourStepSettings:t,order:o,prevStepData:rootScope.prevStepData,isGuide:rootScope.isGuide(r),enableContinueInParent:GmCXt.enableContinueInParent(r,o),isTracker:rootScope.isTrackingGuide(r),category_id:r.category_id}});GmCXt.sendToParentWindow(i)}},rootScope.addMessageStep=function(r,o,a,i){rootScope.setPreviousDataStep(o,r,i);o=getStepOrder(r,o,a,i);if(r.is_published)rootScope.showPopup(rootScope.labels.unpubTourForAddStep);else{let e=GmCXt.model.langOption.language._default+"-"+GmCXt.model.langOption.voice._default,t=!1;a=r.tour_settings,i=(GmCXt.isDefined(a.language_settings)&&(e=a.language_settings.language+"-"+a.language_settings.voice),GmCXt.isDefined(a.step_settings)&&(t=a.step_settings),{action:"mgPlayerJSProd_action:create_step,type:message",data:{tourId:r.tour_id,category_id:r.category_id,stepCount:r.step_count,language:e,tourStepSettings:t,order:o,prevStepData:rootScope.prevStepData}});GmCXt.sendToParentWindow(i)}},rootScope.openLinkGuidePopup=function(e,t,r,o){rootScope.setCurrentPage("addLinkGuide"),Gm.params.set({tour:e,step:t,addStepType:o})},rootScope.openBranchStepPopup=function(t,r,o,a,i){let n={},s=-1;n.selectedDelayTime=0;var l={checked:!1};r=r||t.steps[t.steps.length-1];let c;if(rootScope.setPreviousDataStep(r,t,o),t.is_published)rootScope.showPopup(rootScope.labels.unpubTourForAddStep);else{"before"===o?c=r.step_id:t.tour_settings.play_structure&&r&&rootScope.getNode(r.step_id,t.tour_settings.play_structure)&&(c=rootScope.getNode(r.step_id,t.tour_settings.play_structure).tail),i?((n=getDefaultBranch(!1,GmCXt.STEP_TYPE_ERROR_HANDLER)).errHandler=!0,n.step_title="Error Handler",s=1):(n=getDefaultBranch(c,a)).enableBot=t.tour_settings.enableBot,GmCXt.increaseSidePanel(),mg$$1(".ege-panel").css({width:"500px",transition:"width 0s"}),rootScope.showPanelOverlay();let e=new Empty({target:document.getElementById("add-branch-view"),props:{tour:t,branchData:n,branchStepI:t.steps.length,branchType:a,branchDropValue:[{}],branchCurrentPopupIndex:s,delay:l}});e.$on("close",()=>{e.$destroy(),document.getElementById("add-branch-view").innerHTML="",rootScope.hidePanelOverlay(),GmCXt.reduceSidePanel()})}},rootScope.createVideoStep=function(t,r,o,e,a){e.stopPropagation();let i=getStepOrder(t,o,e,a);rootScope.hideTourActionDropdown(),rootScope.setPreviousDataStep(o,t,r),rootScope.incrementPendingStepCount(),"videoUpload"===r?(e={tourId:t.tour_id,stepId:0,type:r,order:i,prevStepData:rootScope.prevStepData},Gm.routeAction.set({action:"initAddVideoStep",data:e}),rootScope.setCurrentPage("addVideoStep")):chrome.permissions&&chrome.permissions.request({permissions:["desktopCapture"]},function(e){e?createVideo(t,r,o,i):(rootScope.decrementPendingStepCount(),rootScope.showPopup(rootScope.labels.userDeniedScreencastMessage))})},rootScope.addTextSlideStep=function(e,t,r,o){rootScope.setPreviousDataStep(t,e,o);t=getStepOrder(e,t,r,o);r.stopPropagation(),rootScope.hideTourActionDropdown(),e.is_published?rootScope.showPopup(rootScope.labels.unpubTourForAddStep):(o={tourId:e.tour_id,stepId:0,order:t,categoryId:e.category_id,prevStepData:rootScope.prevStepData,step:{},tutorialType:e.tour_settings.tutorial_tour_type},Gm.routeAction.set({action:"initAddTextSlideStep",data:o}),rootScope.setCurrentPage("addTextSlideStep"))},rootScope.addTags=function(e,t,r){r.stopPropagation(),rootScope.hideTourActionDropdown(),rootScope.prevStepData||(rootScope.prevStepData={});r={action:"mgPlayerJSProd_action:create_element_tag",data:{tourId:(rootScope.prevStepData.tour=e).tour_id,isTracker:rootScope.isTrackingGuide(e),trackerStep:"tag",category_id:e.category_id,prevStepData:rootScope.prevStepData}};GmCXt.sendToParentWindow(r),rootScope.closeAppPanel()},rootScope.editStep=function(r,a,t,o){if(!GmCXt.isDomainInActiveApp()&&"mobile"!==r.tour_settings.tour_type&&"desktop"!==r.tour_settings.tour_type)return rootScope.showDomainRedirect(scope.tour),!0;if(r.is_published)rootScope.showPopup(rootScope.labels.unpubTourForEditStep);else{a.step_order=t+1;let e="";if(rootScope.enableTranslation&&(GmCXt.getLXPLang()?e=GmCXt.getLXPLang():rootScope.language&&(e=rootScope.language)),rootScope.isDefaultLang=GmCXt.checkDefaultLangForTour(r,e),storage$1.currentStep.set(a),a.step_type===GmCXt.STEP_TYPE_VIDEO){if(rootScope.lastVideoStepCreated){var i=(new Date).getTime()-rootScope.lastVideoStepCreated.time;if(rootScope.lastVideoStepCreated.id===a.step_id&&i<6e4)return void rootScope.showPopup(rootScope.labels.processingVideo)}i={tourId:r.tour_id,step:a,stepId:a.step_id};Gm.routeAction.set({action:"initEditVideoStep",data:i}),rootScope.setCurrentPage("addVideoStep")}else if(a.step_type===GmCXt.STEP_TEXT_SLIDE_TYPE){i={tourId:r.tour_id,stepId:a.step_id,order:a.step_order,categoryId:r.category_id,prevStepData:rootScope.prevStepData,step:a,tutorialType:r.tour_settings.tutorial_tour_type};Gm.routeAction.set({action:"initAddTextSlideStep",data:i}),rootScope.setCurrentPage("addTextSlideStep")}else if(a.step_type===GmCXt.STEP_TYPE_BRANCH||a.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER){var i=r.steps.indexOf(a),n=r.steps[i],s={};for(let e=0;e<n.step_settings.branch.length;e++)"string"==typeof n.step_settings.branch[e]&&(n.step_settings.branch[e]=n.step_settings.branch[e]);GmCXt.createDeepCopy(n);var l={};let o=[{}];if(l.step_title=n.step_title,l.branch=n.step_settings.branch,l.version=n.step_settings.version,l.branch_type=n.step_settings.branch_type,l.enableBot=r.tour_settings.enableBot,l.botQuestion=n.step_settings.automation.botQuestion,l.selectedDelayTime=n.step_settings.stepDelayTime,s.checked=0<n.step_settings.stepDelayTime||!1,l.selectedDelayTime=n.step_settings.stepDelayTime,l.isEdit=!0,l.branchOpacity=!GmCXt.isDefined(n.step_settings.branchOpacity)||n.step_settings.branchOpacity,r.tour_settings.play_structure){var c=rootScope.getNode(n.step_id,r.tour_settings.play_structure);for(let e=0;e<c.branch.length;e++)c.branch[e].tail?l.branch[e].tail=GmCXt.createDeepCopy(c.branch[e].tail):l.branch[e].tail=!1}let e=0;for(let t=0;t<l.branch.length;t++)if(o[t]||(o[t]={}),o[t].strType=[{}],l.branch[t].rulesEngine)for(let e=0;e<l.branch[t].rulesEngine.length;e++){var d,p=l.branch[t].rulesEngine[e];"Select Element"===p.type?(d=GmCXt.getOptionsForSelectElRule(p),o[t].strType[e]=[{type:"Select Element",condition:d.conditionsArr}],p.condition=p.condition||d.defaultCondition,p.value=d.value||""):((e,t,r)=>{o[r].strType[e]=GmCXt.getRuleOperators().filter(e=>e.type===t)})(e,p.type,t),GmCXt.legacyWildChar(l.version)&&(-1!==p.value.indexOf("*")&&-1===p.value.indexOf("{*}")&&(p.value=p.value.replaceAll("*","{*}")),-1!==p.value.indexOf("+"))&&-1===p.value.indexOf("{+}")&&(p.value=p.value.replaceAll("+","{+}"))}GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:increase_side_panel_width"}),n.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER&&(l.errHandler=!0,e=1),mg$$1(".mgPlayerJSProd_disable-view-on-branch-popup").show(),mg$$1(".ege-panel").css({width:"500px",transition:"width 0s"}),rootScope.branchTreeView=!0,rootScope.isPanelOpen=!0;let t=new Empty({target:document.getElementById("add-branch-view"),props:{tour:r,branchData:l,branchStepI:i,branchType:a.step_settings.branch_type,branchDropValue:o,branchCurrentPopupIndex:e,delay:s}});t.$on("close",()=>{t.$destroy(),document.getElementById("add-branch-view").innerHTML="",GmCXt.reduceSidePanel()})}else if(a.step_type===GmCXt.STEP_TYPE_SURVEY){i={tourId:r.tour_id,stepId:a.step_id,order:a.step_order,category_id:r.category_id};rootScope.setCurrentPage("addSurveyStep"),Gm.routeAction.set({action:"initEditSurveyStep",data:i})}else if(a.step_type===GmCXt.STEP_TYPE_BOT_CONV){var u="#/tour/"+scope.tour.tour_id+"/step/"+a.step_id+"/conversation/edit/"+scope.tour.category_id;GmCXt.redirect(u)}else if(a.step_type===GmCXt.STEP_TYPE_TRANSPORT){u="#/tour/"+scope.tour.tour_id+"/step/"+a.step_id+"/transportStep/edit/"+scope.tour.category_id;GmCXt.redirect(u)}else{s=rootScope.getTourLangInfo(r),i=rootScope.isGuideInOriginalLang(r);let e=null;!t&&0===t||(e=r.steps[t-1]),GmCXt.editStepWrapper(r,a,e,s,i,o)}}},rootScope.getDefaultSurveyStepIcon=function(){return GmCXt.conf.staticContentPath+"survey_step.png"},rootScope.updateStep=function(e){let r=0,o=e.stepObj;var t,a=rootScope.getTourFromId(e.stepObj.tour_id),i=(a.steps.forEach((e,t)=>{e.step_id===o.step_id&&(r=t)}),GmCXt.createDeepCopy(o)),i=(rootScope.isGuideInOriginalLang(a)?o.step_screen&&(i.step_screen_temp=e.screen||i.step_screen,i.step_screen="",a.steps[r]=i):((t=a.steps[r]).step_title=i.step_title,t.step_description=i.step_description,t.step_audio_text=i.step_audio_text,t.step_settings=i.step_settings,a.steps[r]=t,o.language=rootScope.language),{action:"mgPlayerJSProd_action:to_background;task:update_step",stepObj:o,stepIndex:r,saveImg:e.saveImg,isDefaultLang:rootScope.isGuideInOriginalLang(a),tour:a});if(GmCXt.isCreatorJS())try{GmCXt.requestHandler.updateInlineStep(i)}catch(e){GmCXt.saveUpdateStepFailed(i.stepIndex,e)}else GmCXt.sendMessageToBackgroundService(i)},rootScope.getAutomationSteps=function(e,t){var r=[];let o=0;if(e[o=t?parseInt(t.step_order):o])for(;GmCXt.isAutomationStep(e[o]);)r.push(e[o]),o++;return r},rootScope.getUserList=function(t){api.getUserList({limit:100,offset:0,owner_creator_filter:1},function(e){e=e.data.users,t(e)})},rootScope.deleteStep=function(n,e,s){rootScope.isGuideInOriginalLang(s,!0)&&mgError$1.try(function(){s.is_published?rootScope.showPopup(rootScope.labels.unpubTourForDeleteStep):0<rootScope.getAutomationSteps(s.steps,n).length&&!GmCXt.isAutomationStep(n)?rootScope.showPopup(rootScope.labels.linkedAutomationSteps):modal.open(rootScope.labels.confirmDeletStep,"confirm",function(){var e={step_id:n.step_id,order:n.step_order,is_locked:"1",tour_id:s.tour_id,category_id:s.category_id};if(GmCXt.checkForBranchVariationSteps(n)){var t,r=s.tour_settings.play_structure;for(t in r){var o=r[t];if(o.id===n.step_id){var a=filterEmptyBranches(o.branch);a&&(o.tail=a.tail,delete o.branch);break}}s.tour_settings.play_structure=r}Gm.loading.set(!0),api.stepDelete(e,function(){if(rootScope.copiedStep&&rootScope.copiedStep.step_id===n.step_id&&delete rootScope.copiedStep,1===s.steps.length)s.tour_settings.play_structure=[],s.steps=[],s.step_count=0,Gm.currentTour.set(s),rootScope.setTour(s),rootScope.routeToStepContainer("updateTourWithApi",s),rootScope.guideViewFullScreen=!1,rootScope.toggleGuideViewFullScreen();else{let r=[];s.steps.forEach(function(e,t){e.step_id!==n.step_id&&r.push(e)}),r.forEach(function(e,t){e.step_order>n.step_order&&(e.step_order=parseInt(e.step_order)-1)}),s.is_locked=!0,s.steps=r;var e=parseInt(s.step_count)-1,o=(s.step_count=e,s.tour_settings.play_structure);if(o&&o.length){let t=-1;var a=[];let r=-1;for(let e=0;e<o.length;e++)o[e].tail===n.step_id&&a.push(e),0===(t=o[e].id===n.step_id?e:t)&&o[t].tail===o[e].id&&(r=e);if(rootScope.prevStepData&&GmCXt.checkForBranchVariationSteps(rootScope.prevStepData))for(let e=0;e<o.length;e++)if(o[e].id===rootScope.prevStepData.step_id)for(var i=0;i<o[e].branch.length;i++)o[e].branch[i].tail===n.step_id&&(o[e].branch[i].tail=o[t].tail);if(0<a.length&&-1<t)for(let e=0;e<a.length;e++)o[a[e]].tail=o[t].tail;-1<t&&(1<r?(o[t]=GmCXt.createDeepCopy(o[r]),o.splice(r,1)):o.splice(t,1)),s.tour_settings.play_structure=o,s.tour_settings.start_point_info&&s.tour_settings.start_point_info.forEach(function(e,t){e.step_id===n.step_id&&s.tour_settings.start_point_info.splice(t,1)}),Gm.currentTour.set(s),rootScope.setTour(s),rootScope.routeToStepContainer("updateTourWithApi",s)}else Gm.loading.set(!1);rootScope.guideViewFullScreen=!1;for(var t=0;t<s.steps.length;t++)if("branch"===s.steps[t].step_type){rootScope.guideViewFullScreen=!0;break}rootScope.guideViewFullScreen||rootScope.toggleGuideViewFullScreen()}})})},117)},rootScope.checkKeywordLimit=function(e,t){if(24<e.length)return GmCXt.toastMsg(rootScope.labels.keywordLimit).show(),t.preventDefault(),0===e.length},rootScope.addPasteStep=function(n,t,r,o){function a(e,t,r){let o=!0;return-1===e.indexOf("onboarding_tour")&&"textSlide"===t?(o=!1,modal.open(rootScope.labels.pasteOnboardingMessage,"info")):-1===e.indexOf("walkthrough_tour")&&GmCXt.inArrayString(t,["inline","message","image","video","guide","branch"])?(o=!1,modal.open(rootScope.labels.pasteWorkflowMessage,"info")):-1===e.indexOf("smartTip")&&"smartTip"===t?(o=!1,modal.open(rootScope.labels.pasteTooltipMessage,"info")):-1<e.indexOf("onboarding_tour")&&"textSlide"===t&&rootScope.isUploadTutorial(n)&&"tutorial"===r?(o=!1,modal.open(rootScope.labels.pasteOnboardingCreateMsg,"info")):-1<e.indexOf("onboarding_tour")&&"textSlide"===t&&rootScope.isUploadTutorial(n)&&-1<r.indexOf("onboarding_tour")?(o=!1,modal.open(rootScope.labels.pasteOnboardingCreateMultipleStepsMsg,"info")):-1<e.indexOf("onboarding_tour")&&"textSlide"===t&&!rootScope.isUploadTutorial(n)&&"upload"===r&&(o=!1,modal.open(rootScope.labels.pasteOnboardingUploadMsg,"info")),o}mgError$1.try(function(){rootScope.setPreviousDataStep(r,n,o),t.stopPropagation();let i=getStepOrder(n,r,t,o);if(rootScope.copiedStep){var e={step_id:rootScope.copiedStep.step_id,tour_id:n.tour_id,step_order:i};a(n.tour_type,rootScope.copiedStep.step_type,rootScope.copiedStep.t_type)&&(Gm.loading.set(!0),api.stepCopy(e,function(e){var e=e.data,t={};t.stepIndex=i-1,t.step=e.step,t.isPaste=!0,rootScope.routeToStepContainer("createStepCompleted",t)}))}else if(rootScope.copyStepsList){e=(()=>{var t=rootScope.copyStepsList.steps,r=JSON.parse(JSON.stringify(n.tour_settings.play_structure));let o=null;for(let e=0;e<r.length;e++)if(r[e].id===rootScope.prevStepData.step_id){rootScope.prevStepData.step_type===GmCXt.STEP_TYPE_BRANCH?(o=r[e].branch[rootScope.prevStepData.branch_index].tail,r[e].branch[rootScope.prevStepData.branch_index].tail=t[0].toString()):(o=r[e].tail,r[e].tail=t[0].toString());break}for(let e=0;e<t.length;e++){var a={};a.id=t[e].toString(),e===t.length-1?a.tail=o:a.tail=t[e+1].toString(),r.splice(i-1+e,0,a)}return r})(),e={from_tour_id:rootScope.copyStepsList.tourId,to_tour_id:n.tour_id,step_ids:"["+rootScope.copyStepsList.steps+"]",step_order:i,play_structure:JSON.stringify(e)};if(e.from_tour_id===e.to_tour_id)return void modal.open(GmCXt.label.pasteStepsErrorMsg,"warning");a(n.tour_type,rootScope.copyStepsList.stepType,rootScope.copyStepsList.tourType)&&(Gm.loading.set(!0),api.bulkStepCopy(e,function(e){rootScope.refreshPageView(),modal.open(GmCXt.label.pasteStepsMsg,"success")}))}rootScope.hideTourActionDropdown()},112)},rootScope.guideHistory=function(t,r,o){mgError$1.try(function(){r.stopPropagation(),rootScope.showingHistoryFor=o,rootScope.hideTourActionDropdown(),mg$$1(".ege-panel-overlay").remove(),mg$$1(".ege-panel").append("<div class='ege-panel-overlay'></div>"),mg$$1(".ege-panel").css({width:"500px",transition:"width 0s"}),mg$$1(".ege-panel-overlay").css({display:"block"});GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:increase_side_panel_width"});var e={};"step"===o?(e.step_id=t.step_id,rootScope.historyStepType=t.step_type):"tour"===o&&(e.tour_id=t.tour_id),Gm.loading.set(!0),api.getGuideHistory(e,function(e){new Empty({target:document.getElementById("add-history-view"),props:{response:e}})},o)},107)},rootScope.closeHistoryPopup=function(){rootScope.showHistory=!1,rootScope.closeAppPopup(),document.getElementById("add-history-view").innerHTML=""},rootScope.callBackExportTour=function(e){var e=e.data,t="category-list"===rootScope.currentView||"team-guides"===rootScope.currentView?rootScope.labels.catExportInProgress:rootScope.labels.guideExportInProgress;e&&e.data&&e.data.download_url?rootScope.exportGuide(e.data.download_url):modal.open(t,"success")},rootScope.exportGuide=function(r){rootScope.checkCdnSignature().then(function(){var e=r.split("/"),t=(GmCXt.log(51,"Export URL: "+r),GmCXt.log(51,"Download: "+e[e.length-1]),document.createElement("a"));t.setAttribute("href",r+GmCXt.getCdnSign()),t.setAttribute("download",e[e.length-1]),t.setAttribute("target","_top"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)})},rootScope.copyTour=function(e,t){t.stopPropagation(),rootScope.hideTourActionDropdown(),rootScope.copiedTour=e,rootScope.copyGuidesList=!1,rootScope.tourCopiedFromLibrary=!1},rootScope.setCurrentPage=function(t){Gm.CurrentPage.update(e=>e===t?"":t),Gm.CurrentPage.set(t)},rootScope.setActivePage=function(t){Gm.activeView.update(e=>e===t?"":t),Gm.activeView.set(t)};var __webpack_require__={d:(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},__webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});let isNodeJS=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(e){Number.isInteger(e)&&(verbosity=e)}function getVerbosityLevel(){return verbosity}function info(e){verbosity>=VerbosityLevel.INFOS&&console.log("Info: "+e)}function warn(e){verbosity>=VerbosityLevel.WARNINGS&&console.log("Warning: "+e)}function unreachable(e){throw new Error(e)}function assert(e,t){e||unreachable(t)}function _isValidProtocol(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(e,t=null,r=null){if(e)try{if(r&&"string"==typeof e)if(r.addDefaultProtocol&&e.startsWith("www.")&&2<=e.match(/\./g)?.length&&(e="http://"+e),r.tryConvertEncoding)try{e=stringToUTF8String(e)}catch{}var o=t?new URL(e,t):new URL(e);if(_isValidProtocol(o))return o}catch{}return null}function shadow(e,t,r,o=!1){return Object.defineProperty(e,t,{value:r,enumerable:!o,configurable:!0,writable:!1}),r}let BaseException=(()=>{function r(e,t){this.constructor===r&&unreachable("Cannot initialize BaseException."),this.message=e,this.name=t}return r.prototype=new Error,r.constructor=r})();class PasswordException extends BaseException{constructor(e,t){super(e,"PasswordException"),this.code=t}}class UnknownErrorException extends BaseException{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class InvalidPDFException extends BaseException{constructor(e){super(e,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(e){super(e,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class FormatError extends BaseException{constructor(e){super(e,"FormatError")}}class AbortException extends BaseException{constructor(e){super(e,"AbortException")}}function bytesToString(t){"object"==typeof t&&void 0!==t?.length||unreachable("Invalid argument for bytesToString");var r=t.length;if(r<8192)return String.fromCharCode.apply(null,t);var o=[];for(let e=0;e<r;e+=8192){var a=Math.min(e+8192,r),a=t.subarray(e,a);o.push(String.fromCharCode.apply(null,a))}return o.join("")}function stringToBytes(t){"string"!=typeof t&&unreachable("Invalid argument for stringToBytes");var r=t.length,o=new Uint8Array(r);for(let e=0;e<r;++e)o[e]=255&t.charCodeAt(e);return o}function string32(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function objectFromMap(e){var t,r,o=Object.create(null);for([t,r]of e)o[t]=r;return o}function isLittleEndian(){var e=new Uint8Array(4),e=(e[0]=1,new Uint32Array(e.buffer,0,1));return 1===e[0]}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get platform(){return"undefined"!=typeof navigator&&"string"==typeof navigator?.platform?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return shadow(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}let hexNumbers=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class Util{static makeHexColor(e,t,r){return"#"+hexNumbers[e]+hexNumbers[t]+hexNumbers[r]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){var r=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r]}static getAxialAlignedBoundingBox(e,t){var r=this.applyTransform(e,t),o=this.applyTransform(e.slice(2,4),t),a=this.applyTransform([e[0],e[3]],t),e=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],o[0],a[0],e[0]),Math.min(r[1],o[1],a[1],e[1]),Math.max(r[0],o[0],a[0],e[0]),Math.max(r[1],o[1],a[1],e[1])]}static inverseTransform(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){var t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],o=e[2]*t[1]+e[3]*t[3],a=(r+o)/2,r=Math.sqrt((r+o)**2-4*(r*o-(e[2]*t[0]+e[3]*t[2])*(e[0]*t[1]+e[1]*t[3])))/2,o=a-r||1;return[Math.sqrt(a+r||1),Math.sqrt(o)]}static normalizeRect(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[3]<e[1]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){var r,o=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));return a<o||(r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),(e=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3])))<r)?null:[o,r,a,e]}static#getExtremumOnCurve(e,t,r,o,a,i,n,s,l,c){var d;l<=0||1<=l||(r=(d=1-l)*(d*(d*e+3*l*t)+3*(e=l*l)*r)+(t=e*l)*o,o=d*(d*(d*a+3*l*i)+3*e*n)+t*s,c[0]=Math.min(c[0],r),c[1]=Math.min(c[1],o),c[2]=Math.max(c[2],r),c[3]=Math.max(c[3],o))}static#getExtremum(e,t,r,o,a,i,n,s,l,c,d,p){Math.abs(l)<1e-12?1e-12<=Math.abs(c)&&this.#getExtremumOnCurve(e,t,r,o,a,i,n,s,-d/c,p):(d=c**2-4*d*l)<0||(d=Math.sqrt(d),this.#getExtremumOnCurve(e,t,r,o,a,i,n,s,(-c+d)/(l=2*l),p),this.#getExtremumOnCurve(e,t,r,o,a,i,n,s,(-c-d)/l,p))}static bezierBoundingBox(e,t,r,o,a,i,n,s,l){return l?(l[0]=Math.min(l[0],e,n),l[1]=Math.min(l[1],t,s),l[2]=Math.max(l[2],e,n),l[3]=Math.max(l[3],t,s)):l=[Math.min(e,n),Math.min(t,s),Math.max(e,n),Math.max(t,s)],this.#getExtremum(e,r,a,n,t,o,i,s,3*(3*(r-a)-e+n),6*(e-2*r+a),3*(r-e),l),this.#getExtremum(e,r,a,n,t,o,i,s,3*(3*(o-i)-t+s),6*(t-2*o+i),3*(o-t),l),l}}function stringToUTF8String(e){return decodeURIComponent(escape(e))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(e){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ï¬","Å¿t"]])),e.replaceAll(NormalizeRegex,(e,t,r)=>t?t.normalize("NFKC"):NormalizationMap.get(r))}function getUuid(){if("undefined"!=typeof crypto&&"function"==typeof crypto?.randomUUID)return crypto.randomUUID();var t=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof crypto?.getRandomValues)crypto.getRandomValues(t);else for(let e=0;e<32;e++)t[e]=Math.floor(255*Math.random());return bytesToString(t)}let AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,o,a){return"none"}destroy(e=0){}}class BaseCanvasFactory{#enableHWA=!1;constructor({enableHWA:e=!1}={}){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory."),this.#enableHWA=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");e=this._createCanvas(e,t);return{canvas:e,context:e.getContext("2d",{willReadFrequently:!this.#enableHWA})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:e=null,isCompressed:t=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");let t=this.baseUrl+e+(this.isCompressed?".bcmap":"");e=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(t,e).catch(e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: `+t)})}_fetchData(e,t){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:e=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");let t=""+this.baseUrl+e;return this._fetchData(t).catch(e=>{throw new Error("Unable to load font data at: "+t)})}_fetchData(e){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");var o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),r||(o.setAttribute("width",e+"px"),o.setAttribute("height",t+"px")),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${e} `+t),o}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){unreachable("Abstract method `_createSVG` called.")}}let SVG_NS="http://www.w3.org/2000/svg";class PixelsPerInch{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class DOMFilterFactory extends BaseFilterFactory{#_cache;#_defs;#docId;#document;#_hcmCache;#id=0;constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),this.#docId=e,this.#document=t}get#cache(){return this.#_cache||=new Map}get#hcmCache(){return this.#_hcmCache||=new Map}get#defs(){var e,t;return this.#_defs||(t=(e=this.#document.createElement("div")).style,t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1,(t=this.#document.createElementNS(SVG_NS,"svg")).setAttribute("width",0),t.setAttribute("height",0),this.#_defs=this.#document.createElementNS(SVG_NS,"defs"),e.append(t),t.append(this.#_defs),this.#document.body.append(e)),this.#_defs}#createTables(e){if(1===e.length){let t=e[0];var r=new Array(256);for(let e=0;e<256;e++)r[e]=t[e]/255;var o=r.join(",");return[o,o,o]}let[t,a,i]=e;var n=new Array(256),s=new Array(256),l=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255,s[e]=a[e]/255,l[e]=i[e]/255;return[n.join(","),s.join(","),l.join(",")]}addFilter(e){var t,r,o,a,i;return e?(a=this.#cache.get(e))||([t,r,o]=this.#createTables(e),i=1===e.length?t:""+t+r+o,(a=this.#cache.get(i))?(this.#cache.set(e,a),a):(a=`g_${this.#docId}_transfer_map_`+this.#id++,this.#cache.set(e,e=`url(#${a})`),this.#cache.set(i,e),i=this.#createFilter(a),this.#addTransferMapConversion(t,r,o,i),e)):"none"}addHCMFilter(e,t){var r=e+"-"+t;let o=this.#hcmCache.get("base");if(o?.key!==r&&(o?(o.filter?.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},this.#hcmCache.set("base",o)),e)&&t){let i=this.#getRGB(e),n=(e=Util.makeHexColor(...i),this.#getRGB(t));if(t=Util.makeHexColor(...n),this.#defs.style.color="",("#000000"!==e||"#ffffff"!==t)&&e!==t){var a=new Array(256);for(let e=0;e<=255;e++){var s=e/255;a[e]=s<=.03928?s/12.92:((.055+s)/1.055)**2.4}r=a.join(","),e=`g_${this.#docId}_hcm_filter`,t=o.filter=this.#createFilter(e),r=(this.#addTransferMapConversion(r,r,r,t),this.#addGrayConversion(t),(e,t)=>{var r=i[e]/255,o=n[e]/255,a=new Array(t+1);for(let e=0;e<=t;e++)a[e]=r+e/t*(o-r);return a.join(",")});this.#addTransferMapConversion(r(0,5),r(1,5),r(2,5),t),o.url=`url(#${e})`}}return o.url}addAlphaFilter(e){var t,r,o=this.#cache.get(e);return o||([t]=this.#createTables([e]),(o=this.#cache.get(r="alpha_"+t))?(this.#cache.set(e,o),o):(o=`g_${this.#docId}_alpha_map_`+this.#id++,this.#cache.set(e,e=`url(#${o})`),this.#cache.set(r,e),r=this.#createFilter(o),this.#addTransferMapAlphaConversion(t,r),e))}addLuminosityFilter(e){var t,r=this.#cache.get(e||"luminosity");if(r)return r;let o,a;return a=e?([o]=this.#createTables([e]),"luminosity_"+o):"luminosity",(r=this.#cache.get(a))?(this.#cache.set(e,r),r):(r=`g_${this.#docId}_luminosity_map_`+this.#id++,this.#cache.set(e,t=`url(#${r})`),this.#cache.set(a,t),r=this.#createFilter(r),this.#addLuminosityConversion(r),e&&this.#addTransferMapAlphaConversion(o,r),t)}addHighlightHCMFilter(r,o,a,i,n){var s=o+`-${a}-${i}-`+n;let l=this.#hcmCache.get(r);if(l?.key!==s&&(l?(l.filter?.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},this.#hcmCache.set(r,l)),o)&&a){var[s,o]=[o,a].map(this.#getRGB.bind(this));let d=Math.round(.2126*s[0]+.7152*s[1]+.0722*s[2]),p=Math.round(.2126*o[0]+.7152*o[1]+.0722*o[2]),[e,t]=[i,n].map(this.#getRGB.bind(this));p<d&&([d,p,e,t]=[p,d,t,e]),this.#defs.style.color="";a=(e,t,r)=>{var o=new Array(256),a=(p-d)/r,i=e/255,n=(t-e)/(255*r);let s=0;for(let e=0;e<=r;e++){var l=Math.round(d+e*a),c=i+e*n;for(let e=s;e<=l;e++)o[e]=c;s=l+1}for(let e=s;e<256;e++)o[e]=o[s-1];return o.join(",")},s=`g_${this.#docId}_hcm_${r}_filter`,o=l.filter=this.#createFilter(s);this.#addGrayConversion(o),this.#addTransferMapConversion(a(e[0],t[0],5),a(e[1],t[1],5),a(e[2],t[2],5),o),l.url=`url(#${s})`}return l.url}destroy(e=!1){e&&0!==this.#hcmCache.size||(this.#_defs&&(this.#_defs.parentNode.parentNode.remove(),this.#_defs=null),this.#_cache&&(this.#_cache.clear(),this.#_cache=null),this.#id=0)}#addLuminosityConversion(e){var t=this.#document.createElementNS(SVG_NS,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#addGrayConversion(e){var t=this.#document.createElementNS(SVG_NS,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#createFilter(e){var t=this.#document.createElementNS(SVG_NS,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#defs.append(t),t}#appendFeFunc(e,t,r){t=this.#document.createElementNS(SVG_NS,t);t.setAttribute("type","discrete"),t.setAttribute("tableValues",r),e.append(t)}#addTransferMapConversion(e,t,r,o){var a=this.#document.createElementNS(SVG_NS,"feComponentTransfer");o.append(a),this.#appendFeFunc(a,"feFuncR",e),this.#appendFeFunc(a,"feFuncG",t),this.#appendFeFunc(a,"feFuncB",r)}#addTransferMapAlphaConversion(e,t){var r=this.#document.createElementNS(SVG_NS,"feComponentTransfer");t.append(r),this.#appendFeFunc(r,"feFuncA",e)}#getRGB(e){return this.#defs.style.color=e,getRGB(getComputedStyle(this.#defs).getPropertyValue("color"))}}class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){var r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}async function fetchData(o,a="text"){if(isValidFetchUrl(o,document.baseURI)){var e=await fetch(o);if(!e.ok)throw new Error(e.statusText);switch(a){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,t)=>{let r=new XMLHttpRequest;r.open("GET",o,!0),r.responseType=a,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(200===r.status||0===r.status){switch(a){case"arraybuffer":case"blob":case"json":return void e(r.response)}e(r.responseText)}else t(new Error(r.statusText))},r.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData(e,t){return fetchData(e,this.isCompressed?"arraybuffer":"text").then(e=>({cMapData:e instanceof ArrayBuffer?new Uint8Array(e):stringToBytes(e),compressionType:t}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData(e){return fetchData(e,"arraybuffer").then(e=>new Uint8Array(e))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(e){return document.createElementNS(SVG_NS,e)}}class PageViewport{constructor({viewBox:e,scale:t,rotation:r,offsetX:o=0,offsetY:a=0,dontFlip:i=!1}){this.viewBox=e,this.scale=t,this.rotation=r,this.offsetX=o,this.offsetY=a;var n=(e[2]+e[0])/2,s=(e[3]+e[1])/2;let l,c,d,p;switch((r%=360)<0&&(r+=360),r){case 180:l=-1,c=0,d=0,p=1;break;case 90:l=0,c=1,d=1,p=0;break;case 270:l=0,c=-1,d=-1,p=0;break;case 0:l=1,c=0,d=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}i&&(d=-d,p=-p);let u,g,m,h;h=0===l?(u=Math.abs(s-e[1])*t+o,g=Math.abs(n-e[0])*t+a,m=(e[3]-e[1])*t,(e[2]-e[0])*t):(u=Math.abs(n-e[0])*t+o,g=Math.abs(s-e[1])*t+a,m=(e[2]-e[0])*t,(e[3]-e[1])*t),this.transform=[l*t,c*t,d*t,p*t,u-l*t*n-d*t*s,g-c*t*n-p*t*s],this.width=m,this.height=h}get rawDims(){var e=this.viewBox;return shadow(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:o=this.offsetY,dontFlip:a=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:r,offsetY:o,dontFlip:a})}convertToViewportPoint(e,t){return Util.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){var t=Util.applyTransform([e[0],e[1]],this.transform),e=Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],e[0],e[1]]}convertToPdfPoint(e,t){return Util.applyInverseTransform([e,t],this.transform)}}class RenderingCancelledException extends BaseException{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function isDataScheme(e){var t=e.length;let r=0;for(;r<t&&""===e[r].trim();)r++;return"data:"===e.substring(r,r+5).toLowerCase()}function isPdfFile(e){return"string"==typeof e&&/\.pdf$/i.test(e)}function getFilenameFromUrl(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(e,t="document.pdf"){if("string"!=typeof e)return t;if(isDataScheme(e))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;var r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let o=r.exec(e[1])||r.exec(e[2])||r.exec(e[3]);if(o&&(o=o[0]).includes("%"))try{o=r.exec(decodeURIComponent(o))[0]}catch{}return o||t}class StatTimer{started=Object.create(null);times=[];time(e){e in this.started&&warn("Timer is already running for "+e),this.started[e]=Date.now()}timeEnd(e){e in this.started||warn("Timer has not been started for "+e),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){var e,t,r,o,a=[];let i=0;for({name:e}of this.times)i=Math.max(e.length,i);for({name:t,start:r,end:o}of this.times)a.push(`${t.padEnd(i)} ${o-r}ms\n`);return a.join("")}}function isValidFetchUrl(e,t){try{var r=(t?new URL(e,t):new URL(e)).protocol;return"http:"===r||"https:"===r}catch{return!1}}function noContextMenu(e){e.preventDefault()}function deprecated(e){console.log("Deprecated API usage: "+e)}let pdfDateStringRegex;class PDFDateString{static toDateObject(e){if(!e||"string"!=typeof e)return null;e=(pdfDateStringRegex||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")).exec(e);if(!e)return null;var t=parseInt(e[1],10),r=1<=(r=parseInt(e[2],10))&&r<=12?r-1:0,o=1<=(o=parseInt(e[3],10))&&o<=31?o:1;let a=parseInt(e[4],10),i=(a=0<=a&&a<=23?a:0,parseInt(e[5],10));i=0<=i&&i<=59?i:0;var n=0<=(n=parseInt(e[6],10))&&n<=59?n:0,s=e[7]||"Z",l=0<=(l=parseInt(e[8],10))&&l<=23?l:0,e=0<=(e=parseInt(e[9],10)||0)&&e<=59?e:0;return"-"===s?(a+=l,i+=e):"+"===s&&(a-=l,i-=e),new Date(Date.UTC(t,r,o,a,i,n))}}function getXfaPageViewport(e,{scale:t=1,rotation:r=0}){var{width:e,height:o}=e.attributes.style,e=[0,0,parseInt(e),parseInt(o)];return new PageViewport({viewBox:e,scale:t,rotation:r})}function getRGB(e){var t;return e.startsWith("#")?[(16711680&(t=parseInt(e.slice(1),16)))>>16,(65280&t)>>8,255&t]:e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(warn(`Not a valid color format: "${e}"`),[0,0,0])}function getColorValues(e){var t,r=document.createElement("span");r.style.visibility="hidden",document.body.append(r);for(t of e.keys()){r.style.color=t;var o=window.getComputedStyle(r).color;e.set(t,getRGB(o))}r.remove()}function getCurrentTransform(e){var{a:e,b:t,c:r,d:o,e:a,f:i}=e.getTransform();return[e,t,r,o,a,i]}function getCurrentTransformInverse(e){var{a:e,b:t,c:r,d:o,e:a,f:i}=e.getTransform().invertSelf();return[e,t,r,o,a,i]}function setLayerDimensions(e,t,r=!1,o=!0){var a,i,n,s;t instanceof PageViewport&&({pageWidth:n,pageHeight:i}=t.rawDims,a=e.style,n=`var(--scale-factor) * ${n}px`,i=`var(--scale-factor) * ${i}px`,n=(s=util_FeatureTest.isCSSRoundSupported)?`round(${n}, 1px)`:`calc(${n})`,s=s?`round(${i}, 1px)`:`calc(${i})`,r&&t.rotation%180!=0?(a.width=s,a.height=n):(a.width=n,a.height=s)),o&&e.setAttribute("data-main-rotation",t.rotation)}class EditorToolbar{#toolbar=null;#colorPicker=null;#editor;#buttons=null;constructor(e){this.#editor=e}render(){var e,t,r=this.#toolbar=document.createElement("div"),o=(r.className="editToolbar",r.setAttribute("role","toolbar"),this.#editor._uiManager._signal),o=(r.addEventListener("contextmenu",noContextMenu,{signal:o}),r.addEventListener("pointerdown",EditorToolbar.#pointerDown,{signal:o}),this.#buttons=document.createElement("div")),o=(o.className="buttons",r.append(o),this.#editor.toolbarPosition);return o&&(e=r.style,t="ltr"===this.#editor._uiManager.direction?1-o[0]:o[0],e.insetInlineEnd=100*t+"%",e.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`),this.#addDeleteButton(),r}static#pointerDown(e){e.stopPropagation()}#focusIn(e){this.#editor._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#focusOut(e){this.#editor._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#addListenersToElement(e){var t=this.#editor._uiManager._signal;e.addEventListener("focusin",this.#focusIn.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#focusOut.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",noContextMenu,{signal:t})}hide(){this.#toolbar.classList.add("hidden"),this.#colorPicker?.hideDropdown()}show(){this.#toolbar.classList.remove("hidden")}#addDeleteButton(){var e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#editor.editorType}-button`),this.#addListenersToElement(e),e.addEventListener("click",e=>{this.#editor._uiManager.delete()},{signal:this.#editor._uiManager._signal}),this.#buttons.append(e)}get#divider(){var e=document.createElement("div");return e.className="divider",e}addAltTextButton(e){this.#addListenersToElement(e),this.#buttons.prepend(e,this.#divider)}addColorPicker(e){e=(this.#colorPicker=e).renderButton();this.#addListenersToElement(e),this.#buttons.prepend(e,this.#divider)}remove(){this.#toolbar.remove(),this.#colorPicker?.destroy(),this.#colorPicker=null}}class HighlightToolbar{#buttons=null;#toolbar=null;#uiManager;constructor(e){this.#uiManager=e}#render(){var e=this.#toolbar=document.createElement("div"),t=(e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",noContextMenu,{signal:this.#uiManager._signal}),this.#buttons=document.createElement("div"));return t.className="buttons",e.append(t),this.#addHighlightButton(),e}#getLastPoint(e,t){let r=0,o=0;for(var a of e){var i=a.y+a.height;i<r||(a=a.x+(t?a.width:0),i>r?(o=a,r=i):t?a>o&&(o=a):a<o&&(o=a))}return[t?1-o:o,r]}show(e,t,r){var[t,r]=this.#getLastPoint(t,r),o=(this.#toolbar||=this.#render()).style;e.append(this.#toolbar),o.insetInlineEnd=100*t+"%",o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#toolbar.remove()}#addHighlightButton(){var e=document.createElement("button"),t=(e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1"),document.createElement("span")),t=(e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),this.#uiManager._signal);e.addEventListener("contextmenu",noContextMenu,{signal:t}),e.addEventListener("click",()=>{this.#uiManager.highlightSelection("floating_button")},{signal:t}),this.#buttons.append(e)}}function bindEvents(e,t,r){for(var o of r)t.addEventListener(o,e[o].bind(e))}function opacityToHex(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}class IdManager{#id=0;get id(){return""+AnnotationEditorPrefix+this.#id++}}class ImageManager{#baseId=getUuid();#id=0;#cache=null;static get _isSVGFittingCanvas(){let e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',shadow(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async#get(e,t){this.#cache||=new Map;let i=this.#cache.get(e);if(null===i)return null;if(i?.bitmap)i.refCounter+=1;else{try{i||={bitmap:null,id:`image_${this.#baseId}_`+this.#id++,refCounter:0,isSvg:!1};let e;if("image/svg+xml"===(e="string"==typeof t?await fetchData(i.url=t,"blob"):i.file=t).type){let r=ImageManager._isSVGFittingCanvas,o=new FileReader,a=new Image;var n=new Promise((e,t)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,e()},o.onload=async()=>{var e=i.svgUrl=o.result;a.src=await r?e+"#svgView(preserveAspectRatio(none))":e},a.onerror=o.onerror=t});o.readAsDataURL(e),await n}else i.bitmap=await createImageBitmap(e);i.refCounter=1}catch(e){console.error(e),i=null}this.#cache.set(e,i),i&&this.#cache.set(i.id,i)}return i}async getFromFile(e){var{lastModified:t,name:r,size:o,type:a}=e;return this.#get(t+`_${r}_${o}_`+a,e)}async getFromUrl(e){return this.#get(e,e)}async getFromId(e){this.#cache||=new Map;e=this.#cache.get(e);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(e){e=this.#cache.get(e);return e?.isSvg?e.svgUrl:null}deleteId(e){this.#cache||=new Map;e=this.#cache.get(e);e&&(--e.refCounter,0===e.refCounter)&&(e.bitmap=null)}isValidId(e){return e.startsWith(`image_${this.#baseId}_`)}}class CommandManager{#commands=[];#locked=!1;#maxSize;#position=-1;constructor(e=128){this.#maxSize=e}add({cmd:e,undo:t,post:r,mustExec:o,type:a=NaN,overwriteIfSameType:i=!1,keepUndo:n=!1}){o&&e(),this.#locked||(o={cmd:e,undo:t,post:r,type:a},-1===this.#position?(0<this.#commands.length&&(this.#commands.length=0),this.#position=0,this.#commands.push(o)):i&&this.#commands[this.#position].type===a?(n&&(o.undo=this.#commands[this.#position].undo),this.#commands[this.#position]=o):((e=this.#position+1)===this.#maxSize?this.#commands.splice(0,1):(this.#position=e)<this.#commands.length&&this.#commands.splice(e),this.#commands.push(o)))}undo(){var e,t;-1!==this.#position&&(this.#locked=!0,{undo:e,post:t}=this.#commands[this.#position],e(),t?.(),this.#locked=!1,--this.#position)}redo(){var e,t;this.#position<this.#commands.length-1&&(this.#position+=1,this.#locked=!0,{cmd:e,post:t}=this.#commands[this.#position],e(),t?.(),this.#locked=!1)}hasSomethingToUndo(){return-1!==this.#position}hasSomethingToRedo(){return this.#position<this.#commands.length-1}destroy(){this.#commands=null}}class KeyboardManager{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;var t,r,o,a=util_FeatureTest.platform.isMac;for([t,r,o={}]of e)for(var i of t){var n=i.startsWith("mac+");a&&n?(this.callbacks.set(i.slice(4),{callback:r,options:o}),this.allKeys.add(i.split("+").at(-1))):a||n||(this.callbacks.set(i,{callback:r,options:o}),this.allKeys.add(i.split("+").at(-1)))}}#serialize(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);e=this.buffer.join("+");return this.buffer.length=0,e}exec(e,t){var r,o,a,i;this.allKeys.has(t.key)&&(r=this.callbacks.get(this.#serialize(t)))&&({callback:r,options:{bubbles:o=!1,args:a=[],checker:i=null}}=r,i&&!i(e,t)||(r.bind(e,...a,t)(),o)||(t.stopPropagation(),t.preventDefault()))}}class ColorManager{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){var e=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(e),shadow(this,"_colors",e)}convert(e){let r=getRGB(e);if(window.matchMedia("(forced-colors: active)").matches)for(var[t,o]of this._colors)if(o.every((e,t)=>e===r[t]))return ColorManager._colorsMapping.get(t);return r}getHexCode(e){var t=this._colors.get(e);return t?Util.makeHexColor(...t):e}}class AnnotationEditorUIManager{#abortController=new AbortController;#activeEditor=null;#allEditors=new Map;#allLayers=new Map;#altTextManager=null;#annotationStorage=null;#changedExistingAnnotations=null;#commandManager=new CommandManager;#currentPageIndex=0;#deletedAnnotationsElementIds=new Set;#draggingEditors=null;#editorTypes=null;#editorsToRescale=new Set;#enableHighlightFloatingButton=!1;#filterFactory=null;#focusMainContainerTimeoutId=null;#highlightColors=null;#highlightWhenShiftUp=!1;#highlightToolbar=null;#idManager=new IdManager;#isEnabled=!1;#isWaiting=!1;#lastActiveElement=null;#mainHighlightColorPicker=null;#mlManager=null;#mode=AnnotationEditorType.NONE;#selectedEditors=new Set;#selectedTextNode=null;#pageColors=null;#showAllStates=null;#boundBlur=this.blur.bind(this);#boundFocus=this.focus.bind(this);#boundCopy=this.copy.bind(this);#boundCut=this.cut.bind(this);#boundPaste=this.paste.bind(this);#boundKeydown=this.keydown.bind(this);#boundKeyup=this.keyup.bind(this);#boundOnEditingAction=this.onEditingAction.bind(this);#boundOnPageChanging=this.onPageChanging.bind(this);#boundOnScaleChanging=this.onScaleChanging.bind(this);#boundOnRotationChanging=this.onRotationChanging.bind(this);#previousStates={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#translation=[0,0];#translationTimeoutId=null;#container=null;#viewer=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){var e=AnnotationEditorUIManager.prototype,t=e=>e.#container.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),r=(e,{target:t})=>!(t instanceof HTMLInputElement)||(t=t.type,"text"!==t&&"number"!==t),o=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#container.contains(t)&&!e.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#container.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}constructor(e,t,r,o,a,i,n,s,l){this._signal=this.#abortController.signal,this.#container=e,this.#viewer=t,this.#altTextManager=r,this._eventBus=o,this._eventBus._on("editingaction",this.#boundOnEditingAction),this._eventBus._on("pagechanging",this.#boundOnPageChanging),this._eventBus._on("scalechanging",this.#boundOnScaleChanging),this._eventBus._on("rotationchanging",this.#boundOnRotationChanging),this.#addSelectionListener(),this.#addDragAndDropListeners(),this.#addKeyboardManager(),this.#annotationStorage=a.annotationStorage,this.#filterFactory=a.filterFactory,this.#pageColors=i,this.#highlightColors=n||null,this.#enableHighlightFloatingButton=s,this.#mlManager=l||null,this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#abortController?.abort(),this.#abortController=null,this._signal=null,this._eventBus._off("editingaction",this.#boundOnEditingAction),this._eventBus._off("pagechanging",this.#boundOnPageChanging),this._eventBus._off("scalechanging",this.#boundOnScaleChanging),this._eventBus._off("rotationchanging",this.#boundOnRotationChanging);for(var e of this.#allLayers.values())e.destroy();this.#allLayers.clear(),this.#allEditors.clear(),this.#editorsToRescale.clear(),this.#activeEditor=null,this.#selectedEditors.clear(),this.#commandManager.destroy(),this.#altTextManager?.destroy(),this.#highlightToolbar?.hide(),this.#highlightToolbar=null,this.#focusMainContainerTimeoutId&&(clearTimeout(this.#focusMainContainerTimeoutId),this.#focusMainContainerTimeoutId=null),this.#translationTimeoutId&&(clearTimeout(this.#translationTimeoutId),this.#translationTimeoutId=null)}async mlGuess(e){return this.#mlManager?.guess(e)||null}get hasMLManager(){return!!this.#mlManager}get hcmFilter(){return shadow(this,"hcmFilter",this.#pageColors?this.#filterFactory.addHCMFilter(this.#pageColors.foreground,this.#pageColors.background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(this.#container).direction)}get highlightColors(){return shadow(this,"highlightColors",this.#highlightColors?new Map(this.#highlightColors.split(",").map(e=>e.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){this.#mainHighlightColorPicker=e}editAltText(e){this.#altTextManager?.editAltText(this,e)}onPageChanging({pageNumber:e}){this.#currentPageIndex=e-1}focusMainContainer(){this.#container.focus()}findParent(e,t){for(var r of this.#allLayers.values()){var{x:o,y:a,width:i,height:n}=r.div.getBoundingClientRect();if(o<=e&&e<=o+i&&a<=t&&t<=a+n)return r}return null}disableUserSelect(e=!1){this.#viewer.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#editorsToRescale.add(e)}removeShouldRescale(e){this.#editorsToRescale.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*PixelsPerInch.PDF_TO_CSS_UNITS;for(var t of this.#editorsToRescale)t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#getAnchorElementForSelection({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}highlightSelection(e=""){var t=document.getSelection();if(t&&!t.isCollapsed){var{anchorNode:r,anchorOffset:o,focusNode:a,focusOffset:i}=t,n=t.toString(),s=this.#getAnchorElementForSelection(t).closest(".textLayer"),l=this.getSelectionBoxes(s);if(l){t.empty(),this.#mode===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(var c of this.#allLayers.values())if(c.hasTextLayer(s)){c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:r,anchorOffset:o,focusNode:a,focusOffset:i,text:n});break}}}}#displayHighlightToolbar(){var e,t=document.getSelection();t&&!t.isCollapsed&&(t=this.#getAnchorElementForSelection(t).closest(".textLayer"),e=this.getSelectionBoxes(t))&&(this.#highlightToolbar||=new HighlightToolbar(this),this.#highlightToolbar.show(t,e,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#annotationStorage||this.#annotationStorage.has(e.id)||this.#annotationStorage.setValue(e.id,e)}#selectionChange(){var e=document.getSelection();if(!e||e.isCollapsed)this.#selectedTextNode&&(this.#highlightToolbar?.hide(),this.#selectedTextNode=null,this.#dispatchUpdateStates({hasSelectedText:!1}));else{var t=e.anchorNode;if(t!==this.#selectedTextNode)if(this.#getAnchorElementForSelection(e).closest(".textLayer")){if(this.#highlightToolbar?.hide(),this.#selectedTextNode=t,this.#dispatchUpdateStates({hasSelectedText:!0}),(this.#mode===AnnotationEditorType.HIGHLIGHT||this.#mode===AnnotationEditorType.NONE)&&(this.#mode===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#highlightWhenShiftUp=this.isShiftKeyDown,!this.isShiftKeyDown)){e=this._signal;let t=e=>{"pointerup"===e.type&&0!==e.button||(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),"pointerup"===e.type&&this.#onSelectEnd("main_toolbar"))};window.addEventListener("pointerup",t,{signal:e}),window.addEventListener("blur",t,{signal:e})}}else this.#selectedTextNode&&(this.#highlightToolbar?.hide(),this.#selectedTextNode=null,this.#dispatchUpdateStates({hasSelectedText:!1}))}}#onSelectEnd(e=""){this.#mode===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(e):this.#enableHighlightFloatingButton&&this.#displayHighlightToolbar()}#addSelectionListener(){document.addEventListener("selectionchange",this.#selectionChange.bind(this),{signal:this._signal})}#addFocusManager(){var e=this._signal;window.addEventListener("focus",this.#boundFocus,{signal:e}),window.addEventListener("blur",this.#boundBlur,{signal:e})}#removeFocusManager(){window.removeEventListener("focus",this.#boundFocus),window.removeEventListener("blur",this.#boundBlur)}blur(){if(this.isShiftKeyDown=!1,this.#highlightWhenShiftUp&&(this.#highlightWhenShiftUp=!1,this.#onSelectEnd("main_toolbar")),this.hasSelection){var e,t=document.activeElement;for(e of this.#selectedEditors)if(e.div.contains(t)){this.#lastActiveElement=[e,t],e._focusEventsAllowed=!1;break}}}focus(){if(this.#lastActiveElement){let[e,t]=this.#lastActiveElement;this.#lastActiveElement=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}}#addKeyboardManager(){var e=this._signal;window.addEventListener("keydown",this.#boundKeydown,{signal:e}),window.addEventListener("keyup",this.#boundKeyup,{signal:e})}#removeKeyboardManager(){window.removeEventListener("keydown",this.#boundKeydown),window.removeEventListener("keyup",this.#boundKeyup)}#addCopyPasteListeners(){var e=this._signal;document.addEventListener("copy",this.#boundCopy,{signal:e}),document.addEventListener("cut",this.#boundCut,{signal:e}),document.addEventListener("paste",this.#boundPaste,{signal:e})}#removeCopyPasteListeners(){document.removeEventListener("copy",this.#boundCopy),document.removeEventListener("cut",this.#boundCut),document.removeEventListener("paste",this.#boundPaste)}#addDragAndDropListeners(){var e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#addKeyboardManager(),this.#addCopyPasteListeners()}removeEditListeners(){this.#removeKeyboardManager(),this.#removeCopyPasteListeners()}dragOver(e){for(var{type:t}of e.dataTransfer.items)for(var r of this.#editorTypes)if(r.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(var t of e.dataTransfer.items)for(var r of this.#editorTypes)if(r.isHandlingMimeForPasting(t.type))return r.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#activeEditor?.commitOrRemove(),this.hasSelection){var t,r=[];for(t of this.#selectedEditors){var o=t.serialize(!0);o&&r.push(o)}0!==r.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}}cut(e){this.copy(e),this.delete()}paste(e){e.preventDefault();var t,e=e.clipboardData;for(t of e.items)for(var r of this.#editorTypes)if(r.isHandlingMimeForPasting(t.type))return void r.paste(t,this.currentLayer);let o=e.getData("application/pdfjs");if(o){try{o=JSON.parse(o)}catch(e){return void warn(`paste: "${e.message}".`)}if(Array.isArray(o)){this.unselectAll();var a=this.currentLayer;try{let t=[];for(var i of o){var n=a.deserialize(i);if(!n)return;t.push(n)}this.addCommands({cmd:()=>{for(var e of t)this.#addEditorToLayer(e);this.#selectEditors(t)},undo:()=>{for(var e of t)e.remove()},mustExec:!0})}catch(e){warn(`paste: "${e.message}".`)}}}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#mode===AnnotationEditorType.NONE||this.isEditorHandlingKeyboard||AnnotationEditorUIManager._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#highlightWhenShiftUp)&&(this.#highlightWhenShiftUp=!1,this.#onSelectEnd("main_toolbar"))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}#dispatchUpdateStates(e){Object.entries(e).some(([e,t])=>this.#previousStates[e]!==t)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#previousStates,e)}),this.#mode===AnnotationEditorType.HIGHLIGHT)&&!1===e.hasSelectedEditor&&this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]])}#dispatchUpdateUI(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#addFocusManager(),this.#addCopyPasteListeners(),this.#dispatchUpdateStates({isEditing:this.#mode!==AnnotationEditorType.NONE,isEmpty:this.#isEmpty(),hasSomethingToUndo:this.#commandManager.hasSomethingToUndo(),hasSomethingToRedo:this.#commandManager.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#removeFocusManager(),this.#removeCopyPasteListeners(),this.#dispatchUpdateStates({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#editorTypes){this.#editorTypes=e;for(var t of this.#editorTypes)this.#dispatchUpdateUI(t.defaultPropertiesToUpdate)}}getId(){return this.#idManager.id}get currentLayer(){return this.#allLayers.get(this.#currentPageIndex)}getLayer(e){return this.#allLayers.get(e)}get currentPageIndex(){return this.#currentPageIndex}addLayer(e){this.#allLayers.set(e.pageIndex,e),this.#isEnabled?e.enable():e.disable()}removeLayer(e){this.#allLayers.delete(e.pageIndex)}updateMode(e,t=null,r=!1){if(this.#mode!==e)if((this.#mode=e)===AnnotationEditorType.NONE)this.setEditingState(!1),this.#disableAll();else{this.setEditingState(!0),this.#enableAll(),this.unselectAll();for(var o of this.#allLayers.values())o.updateMode(e);if(!t&&r)this.addNewEditorFromKeyboard();else if(t)for(var a of this.#allEditors.values())if(a.annotationElementId===t){this.setSelected(a),a.enterInEditMode();break}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==this.#mode&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){if(this.#editorTypes){switch(e){case AnnotationEditorParamsType.CREATE:return void this.currentLayer.addNewEditor();case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:this.#mainHighlightColorPicker?.updateColor(t);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#showAllStates||=new Map).set(e,t),this.showAllEditors("highlight",t)}for(var r of this.#selectedEditors)r.updateParams(e,t);for(var o of this.#editorTypes)o.updateDefaultParams(e,t)}}showAllEditors(e,t,r=0){for(var o of this.#allEditors.values())o.editorType===e&&o.show(t);(this.#showAllStates?.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#dispatchUpdateUI([[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#isWaiting!==e){this.#isWaiting=e;for(var t of this.#allLayers.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}#enableAll(){if(!this.#isEnabled){this.#isEnabled=!0;for(var e of this.#allLayers.values())e.enable();for(var t of this.#allEditors.values())t.enable()}}#disableAll(){if(this.unselectAll(),this.#isEnabled){this.#isEnabled=!1;for(var e of this.#allLayers.values())e.disable();for(var t of this.#allEditors.values())t.disable()}}getEditors(e){var t,r=[];for(t of this.#allEditors.values())t.pageIndex===e&&r.push(t);return r}getEditor(e){return this.#allEditors.get(e)}addEditor(e){this.#allEditors.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#focusMainContainerTimeoutId&&clearTimeout(this.#focusMainContainerTimeoutId),this.#focusMainContainerTimeoutId=setTimeout(()=>{this.focusMainContainer(),this.#focusMainContainerTimeoutId=null},0)),this.#allEditors.delete(e.id),this.unselect(e),e.annotationElementId&&this.#deletedAnnotationsElementIds.has(e.annotationElementId)||this.#annotationStorage?.remove(e.id)}addDeletedAnnotationElement(e){this.#deletedAnnotationsElementIds.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#deletedAnnotationsElementIds.has(e)}removeDeletedAnnotationElement(e){this.#deletedAnnotationsElementIds.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#addEditorToLayer(e){var t=this.#allLayers.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#activeEditor!==e&&(this.#activeEditor=e)&&this.#dispatchUpdateUI(e.propertiesToUpdate)}get#lastSelectedEditor(){let e=null;for(e of this.#selectedEditors);return e}updateUI(e){this.#lastSelectedEditor===e&&this.#dispatchUpdateUI(e.propertiesToUpdate)}toggleSelected(e){this.#selectedEditors.has(e)?(this.#selectedEditors.delete(e),e.unselect(),this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})):(this.#selectedEditors.add(e),e.select(),this.#dispatchUpdateUI(e.propertiesToUpdate),this.#dispatchUpdateStates({hasSelectedEditor:!0}))}setSelected(e){for(var t of this.#selectedEditors)t!==e&&t.unselect();this.#selectedEditors.clear(),this.#selectedEditors.add(e),e.select(),this.#dispatchUpdateUI(e.propertiesToUpdate),this.#dispatchUpdateStates({hasSelectedEditor:!0})}isSelected(e){return this.#selectedEditors.has(e)}get firstSelectedEditor(){return this.#selectedEditors.values().next().value}unselect(e){e.unselect(),this.#selectedEditors.delete(e),this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#selectedEditors.size}get isEnterHandled(){return 1===this.#selectedEditors.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#commandManager.undo(),this.#dispatchUpdateStates({hasSomethingToUndo:this.#commandManager.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#isEmpty()})}redo(){this.#commandManager.redo(),this.#dispatchUpdateStates({hasSomethingToUndo:!0,hasSomethingToRedo:this.#commandManager.hasSomethingToRedo(),isEmpty:this.#isEmpty()})}addCommands(e){this.#commandManager.add(e),this.#dispatchUpdateStates({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#isEmpty()})}#isEmpty(){if(0===this.#allEditors.size)return!0;if(1===this.#allEditors.size)for(var e of this.#allEditors.values())return e.isEmpty();return!1}delete(){if(this.commitOrRemove(),this.hasSelection){let t=[...this.#selectedEditors];this.addCommands({cmd:()=>{for(var e of t)e.remove()},undo:()=>{for(var e of t)this.#addEditorToLayer(e)},mustExec:!0})}}commitOrRemove(){this.#activeEditor?.commitOrRemove()}hasSomethingToControl(){return this.#activeEditor||this.hasSelection}#selectEditors(e){for(var t of this.#selectedEditors)t.unselect();this.#selectedEditors.clear();for(var r of e)r.isEmpty()||(this.#selectedEditors.add(r),r.select());this.#dispatchUpdateStates({hasSelectedEditor:this.hasSelection})}selectAll(){for(var e of this.#selectedEditors)e.commit();this.#selectEditors(this.#allEditors.values())}unselectAll(){if((!this.#activeEditor||(this.#activeEditor.commitOrRemove(),this.#mode===AnnotationEditorType.NONE))&&this.hasSelection){for(var e of this.#selectedEditors)e.unselect();this.#selectedEditors.clear(),this.#dispatchUpdateStates({hasSelectedEditor:!1})}}translateSelectedEditors(e,a,t=!1){if(t||this.commitOrRemove(),this.hasSelection){this.#translation[0]+=e,this.#translation[1]+=a;let[t,r]=this.#translation,o=[...this.#selectedEditors];var i;this.#translationTimeoutId&&clearTimeout(this.#translationTimeoutId),this.#translationTimeoutId=setTimeout(()=>{this.#translationTimeoutId=null,this.#translation[0]=this.#translation[1]=0,this.addCommands({cmd:()=>{for(var e of o)this.#allEditors.has(e.id)&&e.translateInPage(t,r)},undo:()=>{for(var e of o)this.#allEditors.has(e.id)&&e.translateInPage(-t,-r)},mustExec:!1})},1e3);for(i of o)i.translateInPage(e,a)}}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#draggingEditors=new Map;for(var e of this.#selectedEditors)this.#draggingEditors.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#draggingEditors)return!1;this.disableUserSelect(!1);let a=this.#draggingEditors,e=(this.#draggingEditors=null,!1);for(var[{x:t,y:r,pageIndex:o},i]of a)i.newX=t,i.newY=r,i.newPageIndex=o,e||=t!==i.savedX||r!==i.savedY||o!==i.savedPageIndex;if(!e)return!1;let n=(e,t,r,o)=>{var a;this.#allEditors.has(e.id)&&((a=this.#allLayers.get(o))?e._setParentAndPosition(a,t,r):(e.pageIndex=o,e.x=t,e.y=r))};return this.addCommands({cmd:()=>{for(var[e,{newX:t,newY:r,newPageIndex:o}]of a)n(e,t,r,o)},undo:()=>{for(var[e,{savedX:t,savedY:r,savedPageIndex:o}]of a)n(e,t,r,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#draggingEditors)for(var r of this.#draggingEditors.keys())r.drag(e,t)}rebuild(e){var t;null===e.parent?(t=this.getLayer(e.pageIndex))?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild()):e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#selectedEditors.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#activeEditor===e}getActive(){return this.#activeEditor}getMode(){return this.#mode}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(r){if(!r)return null;var o=document.getSelection();for(let e=0,t=o.rangeCount;e<t;e++)if(!r.contains(o.getRangeAt(e).commonAncestorContainer))return null;let{x:a,y:i,width:n,height:s}=r.getBoundingClientRect(),l;switch(r.getAttribute("data-main-rotation")){case"90":l=(e,t,r,o)=>({x:(t-i)/s,y:1-(e+r-a)/n,width:o/s,height:r/n});break;case"180":l=(e,t,r,o)=>({x:1-(e+r-a)/n,y:1-(t+o-i)/s,width:r/n,height:o/s});break;case"270":l=(e,t,r,o)=>({x:1-(t+o-i)/s,y:(e-a)/n,width:o/s,height:r/n});break;default:l=(e,t,r,o)=>({x:(e-a)/n,y:(t-i)/s,width:r/n,height:o/s})}var c=[];for(let e=0,t=o.rangeCount;e<t;e++){var d=o.getRangeAt(e);if(!d.collapsed)for(var{x:p,y:u,width:g,height:m}of d.getClientRects())0!==g&&0!==m&&c.push(l(p,u,g,m))}return 0===c.length?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#changedExistingAnnotations||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#changedExistingAnnotations?.delete(e)}renderAnnotationElement(e){var t=this.#changedExistingAnnotations?.get(e.data.id);(t=t&&this.#annotationStorage.getRawValue(t))&&(this.#mode!==AnnotationEditorType.NONE||t.hasBeenModified)&&t.renderAnnotationElement(e)}}class AltText{#altText="";#altTextDecorative=!1;#altTextButton=null;#altTextTooltip=null;#altTextTooltipTimeout=null;#altTextWasFromKeyBoard=!1;#editor=null;static _l10nPromise=null;constructor(e){this.#editor=e}static initialize(e){AltText._l10nPromise||=e}async render(){let t=this.#altTextButton=document.createElement("button");t.className="altText";var e=await AltText._l10nPromise.get("pdfjs-editor-alt-text-button-label"),e=(t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0",this.#editor._uiManager._signal);t.addEventListener("contextmenu",noContextMenu,{signal:e}),t.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:e});let r=e=>{e.preventDefault(),this.#editor._uiManager.editAltText(this.#editor)};return t.addEventListener("click",r,{capture:!0,signal:e}),t.addEventListener("keydown",e=>{e.target===t&&"Enter"===e.key&&(this.#altTextWasFromKeyBoard=!0,r(e))},{signal:e}),await this.#setState(),t}finish(){this.#altTextButton&&(this.#altTextButton.focus({focusVisible:this.#altTextWasFromKeyBoard}),this.#altTextWasFromKeyBoard=!1)}isEmpty(){return!this.#altText&&!this.#altTextDecorative}get data(){return{altText:this.#altText,decorative:this.#altTextDecorative}}set data({altText:e,decorative:t}){this.#altText===e&&this.#altTextDecorative===t||(this.#altText=e,this.#altTextDecorative=t,this.#setState())}toggle(e=!1){this.#altTextButton&&(!e&&this.#altTextTooltipTimeout&&(clearTimeout(this.#altTextTooltipTimeout),this.#altTextTooltipTimeout=null),this.#altTextButton.disabled=!e)}destroy(){this.#altTextButton?.remove(),this.#altTextButton=null,this.#altTextTooltip=null}async#setState(){let t=this.#altTextButton;if(t)if(this.#altText||this.#altTextDecorative){t.classList.add("done"),AltText._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(e=>{t.setAttribute("aria-label",e)});let e=this.#altTextTooltip;if(!e){this.#altTextTooltip=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip");var r=e.id="alt-text-tooltip-"+this.#editor.id;t.setAttribute("aria-describedby",r);r=this.#editor._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#altTextTooltipTimeout),this.#altTextTooltipTimeout=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#altTextTooltipTimeout=setTimeout(()=>{this.#altTextTooltipTimeout=null,this.#altTextTooltip.classList.add("show"),this.#editor._reportTelemetry({action:"alt_text_tooltip"})},100)},{signal:r}),t.addEventListener("mouseleave",()=>{this.#altTextTooltipTimeout&&(clearTimeout(this.#altTextTooltipTimeout),this.#altTextTooltipTimeout=null),this.#altTextTooltip?.classList.remove("show")},{signal:r})}e.innerText=this.#altTextDecorative?await AltText._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#altText,e.parentNode||t.append(e),this.#editor.getImageForAltText()?.setAttribute("aria-describedby",e.id)}else t.classList.remove("done"),this.#altTextTooltip?.remove()}}class AnnotationEditor{#accessibilityData=null;#allResizerDivs=null;#altText=null;#disabled=!1;#keepAspectRatio=!1;#resizersDiv=null;#savedDimensions=null;#boundFocusin=this.focusin.bind(this);#boundFocusout=this.focusout.bind(this);#editToolbar=null;#focusedResizerName="";#hasBeenClicked=!1;#initialPosition=null;#isEditing=!1;#isInEditMode=!1;#isResizerEnabledForKeyboard=!1;#moveInDOMTimeout=null;#prevDragX=0;#prevDragY=0;#telemetryTimeouts=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#isDraggable=!1;#zIndex=AnnotationEditor._zIndex++;static _borderLineWidth=-1;static _colorManager=new ColorManager;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){var e=AnnotationEditor.prototype._resizeWithKeyboard,t=AnnotationEditorUIManager.TRANSLATE_SMALL,r=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],AnnotationEditor.prototype._stopResizingWithKeyboard]]))}constructor(e){this.constructor===AnnotationEditor&&unreachable("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;var{rotation:t,rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:i}}=this.parent.viewport,[t,r]=(this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,o],this.pageTranslation=[a,i],this.parentDimensions);this.x=e.x/t,this.y=e.y/r,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){var t=new FakeEditor({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(t,e,r){if(AnnotationEditor._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(e=>[e,t.get(e.replaceAll(/([A-Z])/g,e=>"-"+e.toLowerCase()))])),r?.strings)for(var o of r.strings)AnnotationEditor._l10nPromise.set(o,t.get(o));-1===AnnotationEditor._borderLineWidth&&(r=getComputedStyle(document.documentElement),AnnotationEditor._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0)}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#isDraggable}set _isDraggable(e){this.#isDraggable=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){var[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#zIndex}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#stopResizing(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#hasBeenClicked?this.#hasBeenClicked=!1:this.parent.setSelected(this))}focusout(e){this._focusEventsAllowed&&this.isAttachedToDOM&&!e.relatedTarget?.closest("#"+this.id)&&(e.preventDefault(),!this.parent?.isMultipleSelection)&&this.commitOrRemove()}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,o){var[a,i]=this.parentDimensions;[r,o]=this.screenToPageTranslation(r,o),this.x=(e+r)/a,this.y=(t+o)/i,this.fixAndSetPosition()}#translate([e,t],r,o){[r,o]=this.screenToPageTranslation(r,o),this.x+=r/e,this.y+=o/t,this.fixAndSetPosition()}translate(e,t){this.#translate(this.parentDimensions,e,t)}translateInPage(e,t){this.#initialPosition||=[this.x,this.y],this.#translate(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#initialPosition||=[this.x,this.y];var[r,o]=this.parentDimensions;if(this.x+=e/r,this.y+=t/o,this.parent&&(this.x<0||1<this.x||this.y<0||1<this.y)){let{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:i}=this;var[e,r]=this.getBaseTranslation();a+=e,i+=r,this.div.style.left=(100*a).toFixed(2)+"%",this.div.style.top=(100*i).toFixed(2)+"%",this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#initialPosition&&(this.#initialPosition[0]!==this.x||this.#initialPosition[1]!==this.y)}getBaseTranslation(){var[e,t]=this.parentDimensions,r=AnnotationEditor._borderLineWidth,o=r/e,a=r/t;switch(this.rotation){case 90:return[-o,a];case 180:return[o,a];case 270:return[o,-a];default:return[-o,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){var[t,r]=this.pageDimensions;let{x:o,y:a,width:i,height:n}=this;if(i*=t,n*=r,o*=t,a*=r,this._mustFixPosition)switch(e){case 0:o=Math.max(0,Math.min(t-i,o)),a=Math.max(0,Math.min(r-n,a));break;case 90:o=Math.max(0,Math.min(t-n,o)),a=Math.min(r,Math.max(i,a));break;case 180:o=Math.min(t,Math.max(i,o)),a=Math.min(r,Math.max(n,a));break;case 270:o=Math.min(t,Math.max(n,o)),a=Math.max(0,Math.min(r-i,a))}this.x=o/=t,this.y=a/=r;var[e,s]=this.getBaseTranslation(),e=(o+=e,a+=s,this.div).style;e.left=(100*o).toFixed(2)+"%",e.top=(100*a).toFixed(2)+"%",this.moveInDOM()}static#rotatePoint(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return AnnotationEditor.#rotatePoint(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return AnnotationEditor.#rotatePoint(e,t,360-this.parentRotation)}#getRotationMatrix(e){switch(e){case 90:var[t,r]=this.pageDimensions;return[0,-t/r,r/t,0];case 180:return[-1,0,0,-1];case 270:var[r,t]=this.pageDimensions;return[0,r/t,-t/r,0];default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){var{parentScale:e,pageDimensions:[t,r]}=this,t=t*e,r=r*e;return util_FeatureTest.isCSSRoundSupported?[Math.round(t),Math.round(r)]:[t,r]}setDims(e,t){var[r,o]=this.parentDimensions;this.div.style.width=(100*e/r).toFixed(2)+"%",this.#keepAspectRatio||(this.div.style.height=(100*t/o).toFixed(2)+"%")}fixDims(){var e,t,r=this.div.style,{height:o,width:a}=r,i=a.endsWith("%"),n=!this.#keepAspectRatio&&o.endsWith("%");i&&n||([e,t]=this.parentDimensions,i||(r.width=(100*parseFloat(a)/e).toFixed(2)+"%"),this.#keepAspectRatio)||n||(r.height=(100*parseFloat(o)/t).toFixed(2)+"%")}getInitialTranslation(){return[0,0]}#createResizers(){if(!this.#resizersDiv){this.#resizersDiv=document.createElement("div"),this.#resizersDiv.classList.add("resizers");var e,t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(e of t){var o=document.createElement("div");this.#resizersDiv.append(o),o.classList.add("resizer",e),o.setAttribute("data-resizer-name",e),o.addEventListener("pointerdown",this.#resizerPointerdown.bind(this,e),{signal:r}),o.addEventListener("contextmenu",noContextMenu,{signal:r}),o.tabIndex=-1}this.div.prepend(this.#resizersDiv)}}#resizerPointerdown(d,p){p.preventDefault();var u=util_FeatureTest.platform.isMac;if(!(0!==p.button||p.ctrlKey&&u)){this.#altText?.toggle(!1);let e=this.#resizerPointermove.bind(this,d),t=this._isDraggable;this._isDraggable=!1;u=this._uiManager._signal;let r={passive:!0,capture:!0,signal:u},o=(this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",e,r),window.addEventListener("contextmenu",noContextMenu,{signal:u}),this.x),a=this.y,i=this.width,n=this.height,s=this.parent.div.style.cursor,l=this.div.style.cursor,c=(this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(p.target).cursor,()=>{this.parent.togglePointerEvents(!0),this.#altText?.toggle(!0),this._isDraggable=t,window.removeEventListener("pointerup",c),window.removeEventListener("blur",c),window.removeEventListener("pointermove",e,r),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=s,this.div.style.cursor=l,this.#addResizeToUndoStack(o,a,i,n)});window.addEventListener("pointerup",c,{signal:u}),window.addEventListener("blur",c,{signal:u})}}#addResizeToUndoStack(r,o,a,i){let n=this.x,s=this.y,l=this.width,c=this.height;n===r&&s===o&&l===a&&c===i||this.addCommands({cmd:()=>{this.width=l,this.height=c,this.x=n,this.y=s;var[e,t]=this.parentDimensions;this.setDims(e*l,t*c),this.fixAndSetPosition()},undo:()=>{this.width=a,this.height=i,this.x=r,this.y=o;var[e,t]=this.parentDimensions;this.setDims(e*a,t*i),this.fixAndSetPosition()},mustExec:!0})}#resizerPointermove(e,t){var[r,o]=this.parentDimensions,a=this.x,i=this.y,n=this.width,s=this.height,l=AnnotationEditor.MIN_SIZE/r,c=AnnotationEditor.MIN_SIZE/o,d=e=>Math.round(1e4*e)/1e4;let p=this.#getRotationMatrix(this.rotation);var u=(e,t)=>[p[0]*e+p[2]*t,p[1]*e+p[3]*t];let g=this.#getRotationMatrix(360-this.rotation);let m,h,_=!1,f=!1;switch(e){case"topLeft":_=!0,m=(e,t)=>[0,0],h=(e,t)=>[e,t];break;case"topMiddle":m=(e,t)=>[e/2,0],h=(e,t)=>[e/2,t];break;case"topRight":_=!0,m=(e,t)=>[e,0],h=(e,t)=>[0,t];break;case"middleRight":f=!0,m=(e,t)=>[e,t/2],h=(e,t)=>[0,t/2];break;case"bottomRight":_=!0,m=(e,t)=>[e,t],h=(e,t)=>[0,0];break;case"bottomMiddle":m=(e,t)=>[e/2,t],h=(e,t)=>[e/2,0];break;case"bottomLeft":_=!0,m=(e,t)=>[0,t],h=(e,t)=>[e,0];break;case"middleLeft":f=!0,m=(e,t)=>[0,t/2],h=(e,t)=>[e,t/2]}var e=m(n,s),y=h(n,s),S=u(...y),a=d(a+S[0]),i=d(i+S[1]);let P=1,v=1;var[t,b]=this.screenToPageTranslation(t.movementX,t.movementY),C=([t,b]=(w=t/r,C=b/o,[g[0]*w+g[2]*C,g[1]*w+g[3]*C]),_?(w=Math.hypot(n,s),P=v=Math.max(Math.min(Math.hypot(y[0]-e[0]-t,y[1]-e[1]-b)/w,1/n,1/s),l/n,c/s)):f?P=Math.max(l,Math.min(1,Math.abs(y[0]-e[0]-t)))/n:v=Math.max(c,Math.min(1,Math.abs(y[1]-e[1]-b)))/s,d(n*P)),w=d(s*v),l=a-(S=u(...h(C,w)))[0],t=i-S[1];this.width=C,this.height=w,this.x=l,this.y=t,this.setDims(r*C,o*w),this.fixAndSetPosition()}altTextFinish(){this.#altText?.finish()}async addEditToolbar(){return this.#editToolbar||this.#isInEditMode||(this.#editToolbar=new EditorToolbar(this),this.div.append(this.#editToolbar.render()),this.#altText&&this.#editToolbar.addAltTextButton(await this.#altText.render())),this.#editToolbar}removeEditToolbar(){this.#editToolbar&&(this.#editToolbar.remove(),this.#editToolbar=null,this.#altText?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#altText||(AltText.initialize(AnnotationEditor._l10nPromise),this.#altText=new AltText(this),this.#accessibilityData&&(this.#altText.data=this.#accessibilityData,this.#accessibilityData=null),await this.addEditToolbar())}get altTextData(){return this.#altText?.data}set altTextData(e){this.#altText&&(this.#altText.data=e)}hasAltText(){return!this.#altText?.isEmpty()}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#disabled?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();var e=this._uiManager._signal,[e,t]=(this.div.addEventListener("focusin",this.#boundFocusin,{signal:e}),this.div.addEventListener("focusout",this.#boundFocusout,{signal:e}),this.parentDimensions),[e,t]=(this.parentRotation%180!=0&&(this.div.style.maxWidth=(100*t/e).toFixed(2)+"%",this.div.style.maxHeight=(100*e/t).toFixed(2)+"%"),this.getInitialTranslation());return this.translate(e,t),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown(e){var t=util_FeatureTest.platform.isMac;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#hasBeenClicked=!0,this._isDraggable?this.#setUpDragSession(e):this.#selectOnPointerEvent(e))}#selectOnPointerEvent(e){var t=util_FeatureTest.platform.isMac;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#setUpDragSession(e){let t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let r,o;var a=this._uiManager._signal;t&&(this.div.classList.add("moving"),r={passive:!0,capture:!0,signal:a},this.#prevDragX=e.clientX,this.#prevDragY=e.clientY,o=e=>{var{clientX:e,clientY:t}=e,[r,o]=this.screenToPageTranslation(e-this.#prevDragX,t-this.#prevDragY);this.#prevDragX=e,this.#prevDragY=t,this._uiManager.dragSelectedEditors(r,o)},window.addEventListener("pointermove",o,r));let i=()=>{window.removeEventListener("pointerup",i),window.removeEventListener("blur",i),t&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",o,r)),this.#hasBeenClicked=!1,this._uiManager.endDragSession()||this.#selectOnPointerEvent(e)};window.addEventListener("pointerup",i,{signal:a}),window.addEventListener("blur",i,{signal:a})}moveInDOM(){this.#moveInDOMTimeout&&clearTimeout(this.#moveInDOMTimeout),this.#moveInDOMTimeout=setTimeout(()=>{this.#moveInDOMTimeout=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition()}getRect(e,t,r=this.rotation){var o=this.parentScale,[a,i]=this.pageDimensions,[n,s]=this.pageTranslation,l=e/o,c=t/o,d=this.x*a,p=this.y*i,u=this.width*a,g=this.height*i;switch(r){case 0:return[d+l+n,i-p-c-g+s,d+l+u+n,i-p-c+s];case 90:return[d+c+n,i-p+l+s,d+c+g+n,i-p+l+u+s];case 180:return[d-l-u+n,i-p+c+s,d-l+n,i-p+c+g+s];case 270:return[d-c-g+n,i-p-l-u+s,d-c+n,i-p-l+s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){var[r,o,a,i]=e,n=a-r,s=i-o;switch(this.rotation){case 0:return[r,t-i,n,s];case 90:return[r,t-o,s,n];case 180:return[a,t-o,n,s];case 270:return[a,t-i,s,n];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#isInEditMode=!0}disableEditMode(){this.#isInEditMode=!1}isInEditMode(){return this.#isInEditMode}shouldGetKeyboardEvents(){return this.#isResizerEnabledForKeyboard}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e=this._uiManager._signal;this.div?.addEventListener("focusin",this.#boundFocusin,{signal:e}),this.div?.addEventListener("focusout",this.#boundFocusout,{signal:e})}rotate(e){}serialize(e=0,t){unreachable("An editor must be serializable")}static deserialize(e,t,r){var t=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r}),[r,o]=(t.rotation=e.rotation,t.#accessibilityData=e.accessibilityData,t.pageDimensions),[e,a,i,n]=t.getRectInCurrentCoords(e.rect,o);return t.x=e/r,t.y=a/o,t.width=i/r,t.height=n/o,t}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.div.removeEventListener("focusin",this.#boundFocusin),this.div.removeEventListener("focusout",this.#boundFocusout),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#moveInDOMTimeout&&(clearTimeout(this.#moveInDOMTimeout),this.#moveInDOMTimeout=null),this.#stopResizing(),this.removeEditToolbar(),this.#telemetryTimeouts){for(var e of this.#telemetryTimeouts.values())clearTimeout(e);this.#telemetryTimeouts=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#createResizers(),this.#resizersDiv.classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(this.isResizable&&e.target===this.div&&"Enter"===e.key){this._uiManager.setSelected(this),this.#savedDimensions={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};var r=this.#resizersDiv.children;if(!this.#allResizerDivs){this.#allResizerDivs=Array.from(r);var o=this.#resizerKeydown.bind(this),a=this.#resizerBlur.bind(this),i=this._uiManager._signal;for(let t of this.#allResizerDivs){var n=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",o,{signal:i}),t.addEventListener("blur",a,{signal:i}),t.addEventListener("focus",this.#resizerFocus.bind(this,n),{signal:i}),AnnotationEditor._l10nPromise.get("pdfjs-editor-resizer-label-"+n).then(e=>t.setAttribute("aria-label",e))}}var s,l=this.#allResizerDivs[0];let t=0;for(s of r){if(s===l)break;t++}var c=(360-this.rotation+this.parentRotation)%360/90*(this.#allResizerDivs.length/4);if(c!==t){if(c<t)for(let e=0;e<t-c;e++)this.#resizersDiv.append(this.#resizersDiv.firstChild);else if(c>t)for(let e=0;e<c-t;e++)this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);let e=0;for(let t of r){var d=this.#allResizerDivs[e++].getAttribute("data-resizer-name");AnnotationEditor._l10nPromise.get("pdfjs-editor-resizer-label-"+d).then(e=>t.setAttribute("aria-label",e))}}this.#setResizerTabIndex(0),this.#isResizerEnabledForKeyboard=!0,this.#resizersDiv.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}}#resizerKeydown(e){AnnotationEditor._resizerKeyboardManager.exec(this,e)}#resizerBlur(e){this.#isResizerEnabledForKeyboard&&e.relatedTarget?.parentNode!==this.#resizersDiv&&this.#stopResizing()}#resizerFocus(e){this.#focusedResizerName=this.#isResizerEnabledForKeyboard?e:""}#setResizerTabIndex(e){if(this.#allResizerDivs)for(var t of this.#allResizerDivs)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#isResizerEnabledForKeyboard&&this.#resizerPointermove(this.#focusedResizerName,{movementX:e,movementY:t})}#stopResizing(){var e,t,r,o;this.#isResizerEnabledForKeyboard=!1,this.#setResizerTabIndex(-1),this.#savedDimensions&&({savedX:e,savedY:t,savedWidth:r,savedHeight:o}=this.#savedDimensions,this.#addResizeToUndoStack(e,t,r,o),this.#savedDimensions=null)}_stopResizingWithKeyboard(){this.#stopResizing(),this.div.focus()}select(){this.makeResizable(),this.div?.classList.add("selectedEditor"),this.#editToolbar?this.#editToolbar?.show():this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#editToolbar?.show()})}unselect(){this.#resizersDiv?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this.#editToolbar?.hide()}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#isEditing}set isEditing(e){this.#isEditing=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#keepAspectRatio=!0;var r=this.div.style;r.aspectRatio=e/t,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,r=!1){if(r){this.#telemetryTimeouts||=new Map;let e=t.action;r=this.#telemetryTimeouts.get(e);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(t),this.#telemetryTimeouts.delete(e),0===this.#telemetryTimeouts.size&&(this.#telemetryTimeouts=null)},AnnotationEditor._telemetryTimeout),void this.#telemetryTimeouts.set(e,r)}else t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#disabled=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#disabled=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");var r;return t?"CANVAS"===t.nodeName&&(r=t,(t=document.createElement("div")).classList.add("annotationContent",this.editorType),r.before(t)):((t=document.createElement("div")).classList.add("annotationContent",this.editorType),e.container.prepend(t)),t}resetAnnotationElement(e){e=e.container.firstChild;"DIV"===e.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}class FakeEditor extends AnnotationEditor{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}let SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(e){this.h1=e?4294967295&e:SEED,this.h2=e?4294967295&e:SEED}update(r){let o,a;if("string"==typeof r){o=new Uint8Array(2*r.length);for(let e=a=0,t=r.length;e<t;e++){var i=r.charCodeAt(e);i<=255?o[a++]=i:(o[a++]=i>>>8,o[a++]=255&i)}}else{if(!ArrayBuffer.isView(r))throw new Error("Invalid data format, must be a string or TypedArray.");o=r.slice(),a=o.byteLength}var t=a>>2,e=a-4*t,n=new Uint32Array(o.buffer,0,t);let s=0,l,c=this.h1,d=this.h2;var p=3432918353,u=461845907,g=p&MASK_LOW,m=u&MASK_LOW;for(let e=0;e<t;e++)1&e?(s=(s=(s=(s=n[e])*p&MASK_HIGH|s*g&MASK_LOW)<<15|s>>>17)*u&MASK_HIGH|s*m&MASK_LOW,c=5*(c=(c^=s)<<13|c>>>19)+3864292196):(l=(l=(l=(l=n[e])*p&MASK_HIGH|l*g&MASK_LOW)<<15|l>>>17)*u&MASK_HIGH|l*m&MASK_LOW,d=5*(d=(d^=l)<<13|d>>>19)+3864292196);switch(s=0,e){case 3:s^=o[4*t+2]<<16;case 2:s^=o[4*t+1]<<8;case 1:s=(s=(s=(s^=o[4*t])*p&MASK_HIGH|s*g&MASK_LOW)<<15|s>>>17)*u&MASK_HIGH|s*m&MASK_LOW,1&t?c^=s:d^=s}this.h1=c,this.h2=d}hexdigest(){var e=this.h1,t=this.h2,e=3981806797*(e^=t>>>1)&MASK_HIGH|36045*e&MASK_LOW;return e=444984403*(e^=(t=4283543511*t&MASK_HIGH|(2950163797*(t<<16|e>>>16)&MASK_HIGH)>>>16)>>>1)&MASK_HIGH|60499*e&MASK_LOW,((e^=(t=3301882366*t&MASK_HIGH|(3120437893*(t<<16|e>>>16)&MASK_HIGH)>>>16)>>>1)>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}let SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});class AnnotationStorage{#modified=!1;#storage=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){e=this.#storage.get(e);return void 0===e?t:Object.assign(t,e)}getRawValue(e){return this.#storage.get(e)}remove(e){if(this.#storage.delete(e),0===this.#storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(var t of this.#storage.values())if(t instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,t){var r=this.#storage.get(e);let o=!1;if(void 0!==r)for(var[a,i]of Object.entries(t))r[a]!==i&&(o=!0,r[a]=i);else o=!0,this.#storage.set(e,t);o&&this.#setModified(),t instanceof AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#storage.has(e)}getAll(){return 0<this.#storage.size?objectFromMap(this.#storage):null}setAll(e){for(var[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return this.#storage.size}#setModified(){this.#modified||(this.#modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#modified&&(this.#modified=!1,"function"==typeof this.onResetModified)&&this.onResetModified()}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(0===this.#storage.size)return SerializableEmpty;var e,t,r=new Map,o=new MurmurHash3_64,a=[],i=Object.create(null);let n=!1;for([e,t]of this.#storage){var s=t instanceof AnnotationEditor?t.serialize(!1,i):t;s&&(r.set(e,s),o.update(e+":"+JSON.stringify(s)),n||=!!s.bitmap)}if(n)for(var l of r.values())l.bitmap&&a.push(l.bitmap);return 0<r.size?{map:r,hash:o.hexdigest(),transfer:a}:SerializableEmpty}get editorStats(){let e=null;var t,r,o,a=new Map;for(t of this.#storage.values())if(t instanceof AnnotationEditor){var i=t.telemetryFinalData;if(i){var n,s,l=i.type,c=(a.has(l)||a.set(l,Object.getPrototypeOf(t).constructor),(e||=Object.create(null))[l]||=new Map);for([n,s]of Object.entries(i))if("type"!==n){let e=c.get(n);e||(e=new Map,c.set(n,e));var d=e.get(s)??0;e.set(s,d+1)}}}for([r,o]of a)e[r]=o.computeTelemetryFinalData(e[r]);return e}}class PrintAnnotationStorage extends AnnotationStorage{#serializable;constructor(e){super();var{map:e,hash:t,transfer:r}=e.serializable,e=structuredClone(e,r?{transfer:r}:null);this.#serializable={map:e,hash:t,transfer:r}}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#serializable}}class FontLoader{#systemFonts=new Set;constructor({ownerDocument:e=globalThis.document}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));var t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(var e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#systemFonts.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(e&&!this.#systemFonts.has(e.loadedName))if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){var{loadedName:r,src:o,style:a}=e,o=new FontFace(r,o,a);this.addNativeFontFace(o);try{await o.load(),this.#systemFonts.add(r),t?.(e)}catch{warn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}}else unreachable("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(!(t.attached||t.missingFile&&!t.systemFontInfo))if(t.attached=!0,t.systemFontInfo)await this.loadSystemFont(t);else if(this.isFontLoadingAPISupported){var r=t.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(e){throw warn(`Failed to load font '${r.family}': '${e}'.`),t.disableFontFace=!0,e}}}else{r=t.createFontFaceRule();r&&(this.insertRule(r),this.isSyncFontLoadingSupported||await new Promise(e=>{e=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,e)}))}}get isFontLoadingAPISupported(){return shadow(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let e=!1;return shadow(this,"isSyncFontLoadingSupported",e=isNodeJS||"undefined"!=typeof navigator&&"string"==typeof navigator?.userAgent&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent)?!0:e)}_queueLoadingCallback(e){let t=this.loadingRequests,r={done:!1,complete:function(){for(assert(!r.done,"completeRequest() cannot be called twice."),r.done=!0;0<t.length&&t[0].done;){var e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(r),r}get _loadTestFont(){return shadow(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function r(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function o(e,t,r,o){return e.substring(0,t)+o+e.substring(t+r)}let a,i;var n=this._document.createElement("canvas");n.width=1,n.height=1;let s=n.getContext("2d"),l=0;function c(e,t){30<++l?(warn("Load test font never loaded."),t()):(s.font="30px "+e,s.fillText(".",0,20),0<s.getImageData(0,0,1,1).data[3]?t():setTimeout(c.bind(null,e,t)))}var d="lt"+Date.now()+this.loadTestFontId++;let p=r(n=o(this._loadTestFont,976,d.length,d),16);for(a=0,i=d.length-3;a<i;a+=4)p=p-1482184792+r(d,a)|0;n=o(n,16,4,string32(p=a<d.length?p-1482184792+r(d+"XXX",a)|0:p));var u,n=`url(data:font/opentype;base64,${btoa(n)});`;this.insertRule(`@font-face {font-family:"${d}";src:${n}}`);let g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(u of[e.loadedName,d]){var m=this._document.createElement("span");m.textContent="Hi",m.style.fontFamily=u,g.append(m)}this._document.body.append(g),c(d,()=>{g.remove(),t.complete()})}}class FontFaceObject{constructor(e,{disableFontFace:t=!1,inspectFont:r=null}){for(var o in this.compiledGlyphs=Object.create(null),e)this[o]=e[o];this.disableFontFace=!0===t,this._inspectFont=r}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;var t;return e=this.cssFontInfo?(t={weight:this.cssFontInfo.fontWeight},this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),new FontFace(this.cssFontInfo.fontFamily,this.data,t)):new FontFace(this.loadedName,this.data,{}),this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;var t=bytesToString(this.data),t=`url(data:${this.mimetype};base64,${btoa(t)});`;let r;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this._inspectFont?.(this,t),r}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let s;try{s=e.get(this.loadedName+"_path_"+t)}catch(e){warn(`getPathGenerator - ignoring character: "${e}".`)}if(!Array.isArray(s)||0===s.length)return this.compiledGlyphs[t]=function(e,t){};let l=[];for(let e=0,t=s.length;e<t;)switch(s[e++]){case FontRenderOps.BEZIER_CURVE_TO:{let[t,r,o,a,i,n]=s.slice(e,e+6);l.push(e=>e.bezierCurveTo(t,r,o,a,i,n)),e+=6}break;case FontRenderOps.MOVE_TO:{let[t,r]=s.slice(e,e+2);l.push(e=>e.moveTo(t,r)),e+=2}break;case FontRenderOps.LINE_TO:{let[t,r]=s.slice(e,e+2);l.push(e=>e.lineTo(t,r)),e+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{let[t,r,o,a]=s.slice(e,e+4);l.push(e=>e.quadraticCurveTo(t,r,o,a)),e+=4}break;case FontRenderOps.RESTORE:l.push(e=>e.restore());break;case FontRenderOps.SAVE:l.push(e=>e.save());break;case FontRenderOps.SCALE:assert(2===l.length,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{let[t,r,o,a,i,n]=s.slice(e,e+6);l.push(e=>e.transform(t,r,o,a,i,n)),e+=6}break;case FontRenderOps.TRANSLATE:{let[t,r]=s.slice(e,e+2);l.push(e=>e.translate(t,r)),e+=2}}return this.compiledGlyphs[t]=function(r,e){l[0](r),l[1](r),r.scale(e,-e);for(let e=2,t=l.length;e<t;e++)l[e](r)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;let e=async()=>{var e=await import("./_node-resolve_empty-CDDt4GJF.js"),t=await import("./_node-resolve_empty-CDDt4GJF.js"),r=await import("./_node-resolve_empty-CDDt4GJF.js"),o=await import("./_node-resolve_empty-CDDt4GJF.js");return new Map(Object.entries({fs:e,http:t,https:r,url:o,canvas:void 0,path2d:void 0}))};e().then(e=>{packageMap=e,packageCapability.resolve()},e=>{warn("loadPackages: "+e),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get(e){return packageMap?.get(e)}}let node_utils_fetchData=function(e){return NodePackages.get("fs").promises.readFile(e).then(e=>new Uint8Array(e))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(e,t){return NodePackages.get("canvas").createCanvas(e,t)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData(e,t){return node_utils_fetchData(e).then(e=>({cMapData:e,compressionType:t}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData(e){return node_utils_fetchData(e)}}let PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(e,t){var r,o,a;t&&(r=t[2]-t[0],o=t[3]-t[1],(a=new Path2D).rect(t[0],t[1],r,o),e.clip(a))}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(var r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,o){let a;var i,n;return o===PathType.STROKE||o===PathType.FILL?(o=t.current.getClippedPathBoundingBox(o,getCurrentTransform(e))||[0,0,0,0],i=Math.ceil(o[2]-o[0])||1,n=Math.ceil(o[3]-o[1])||1,(n=(i=t.cachedCanvases.getCanvas("pattern",i,n,!0)).context).clearRect(0,0,n.canvas.width,n.canvas.height),n.beginPath(),n.rect(0,0,n.canvas.width,n.canvas.height),n.translate(-o[0],-o[1]),r=Util.transform(r,[1,0,0,1,o[0],o[1]]),n.transform(...t.baseTransform),this.matrix&&n.transform(...this.matrix),applyBoundingBox(n,this._bbox),n.fillStyle=this._createGradient(n),n.fill(),a=e.createPattern(i.canvas,"no-repeat"),o=new DOMMatrix(r),a.setTransform(o)):(applyBoundingBox(e,this._bbox),a=this._createGradient(e)),a}}function drawTriangle(e,t,r,o,a,l,c,d){var i=t.coords,p=t.colors,u=e.data,g=4*e.width;let n;i[r+1]>i[o+1]&&(n=r,r=o,o=n,n=l,l=c,c=n),i[a+1]<i[o+1]&&(n=o,o=a,a=n,n=c,c=d,d=n),i[o+1]<i[r+1]&&(n=r,r=o,o=n,n=l,l=c,c=n);var m=(i[r]+t.offsetX)*t.scaleX,h=(i[r+1]+t.offsetY)*t.scaleY,_=(i[o]+t.offsetX)*t.scaleX,f=(i[o+1]+t.offsetY)*t.scaleY,y=(i[a]+t.offsetX)*t.scaleX,S=(i[a+1]+t.offsetY)*t.scaleY;if(!(S<=h)){var P=p[l],v=p[l+1],b=p[l+2],C=p[c],w=p[c+1],k=p[c+2],x=p[d],T=p[d+1],A=p[d+2],e=Math.round(h),$=Math.round(S);let a,i,n,s;for(let o=e;o<=$;o++){if(o<f){var L=o<h?0:(h-o)/(h-f);a=m-(m-_)*L,i=P-(P-C)*L,n=v-(v-w)*L,s=b-(b-k)*L}else{let e;e=o>S?1:f==S?0:(f-o)/(f-S),a=_-(_-y)*e,i=C-(C-x)*e,n=w-(w-T)*e,s=k-(k-A)*e}let t;var J=m-(m-y)*(t=o<h?0:o>S?1:(h-o)/(h-S)),G=P-(P-x)*t,E=v-(v-T)*t,M=b-(b-A)*t,L=Math.round(Math.min(a,J)),I=Math.round(Math.max(a,J));let r=g*o+4*L;for(let e=L;e<=I;e++)(t=(a-e)/(a-J))<0?t=0:1<t&&(t=1),u[r++]=i-(i-G)*t|0,u[r++]=n-(n-E)*t|0,u[r++]=s-(s-M)*t|0,u[r++]=255}}}function drawFigure(r,e,o){var a=e.coords,i=e.colors;let n,t;switch(e.type){case"lattice":var s=e.verticesPerRow,l=Math.floor(a.length/s)-1,c=s-1;for(n=0;n<l;n++){let t=n*s;for(let e=0;e<c;e++,t++)drawTriangle(r,o,a[t],a[t+1],a[t+s],i[t],i[t+1],i[t+s]),drawTriangle(r,o,a[t+s+1],a[t+1],a[t+s],i[t+s+1],i[t+1],i[t+s])}break;case"triangles":for(n=0,t=a.length;n<t;n+=3)drawTriangle(r,o,a[n],a[n+1],a[n+2],i[n],i[n+1],i[n+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,r,t){var o,a=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),n=Math.ceil(this._bounds[2])-a,s=Math.ceil(this._bounds[3])-i,l=Math.min(Math.ceil(Math.abs(n*e[0]*1.1)),3e3),e=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),n=n/l,s=s/e,c={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-i,scaleX:1/n,scaleY:1/s},t=t.getCanvas("mesh",l+4,e+4,!1),d=t.context,p=d.createImageData(l,e);if(r){var u=p.data;for(let e=0,t=u.length;e<t;e+=4)u[e]=r[0],u[e+1]=r[1],u[e+2]=r[2],u[e+3]=255}for(o of this._figures)drawFigure(p,o,c);return d.putImageData(p,2,2),{canvas:t.canvas,offsetX:a-2*n,offsetY:i-2*s,scaleX:n,scaleY:s}}getPattern(e,t,r,o){applyBoundingBox(e,this._bbox);let a;o===PathType.SHADING?a=Util.singularValueDecompose2dScale(getCurrentTransform(e)):(a=Util.singularValueDecompose2dScale(t.baseTransform),this.matrix&&(i=Util.singularValueDecompose2dScale(this.matrix),a=[a[0]*i[0],a[1]*i[1]]));var i=this._createMeshCanvas(a,o===PathType.SHADING?null:this._background,t.cachedCanvases);return o!==PathType.SHADING&&(e.setTransform(...t.baseTransform),this.matrix)&&e.transform(...this.matrix),e.translate(i.offsetX,i.offsetY),e.scale(i.scaleX,i.scaleY),e.createPattern(i.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(e){switch(e[0]){case"RadialAxial":return new RadialAxialShadingPattern(e);case"Mesh":return new MeshShadingPattern(e);case"Dummy":return new DummyShadingPattern}throw new Error("Unknown IR type: "+e[0])}let PaintType={COLORED:1,UNCOLORED:2};class TilingPattern{static MAX_PATTERN_SIZE=3e3;constructor(e,t,r,o,a){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=o,this.baseTransform=a}createPatternCanvas(e){var t=this.operatorList,r=this.bbox,o=this.xstep,a=this.ystep,i=this.paintType,n=this.tilingType,s=this.color,l=this.canvasGraphicsFactory,n=(info("TilingType: "+n),r[0]),c=r[1],d=r[2],r=r[3],p=Util.singularValueDecompose2dScale(this.matrix),u=Util.singularValueDecompose2dScale(this.baseTransform),p=[p[0]*u[0],p[1]*u[1]],u=this.getSizeAndScale(o,this.ctx.canvas.width,p[0]),o=this.getSizeAndScale(a,this.ctx.canvas.height,p[1]),a=e.cachedCanvases.getCanvas("pattern",u.size,o.size,!0),p=a.context,l=l.createCanvasGraphics(p);l.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(l,i,s);let g=n,m=c,h=d,_=r;return n<0&&(g=0,h+=Math.abs(n)),c<0&&(m=0,_+=Math.abs(c)),p.translate(-(u.scale*g),-(o.scale*m)),l.transform(u.scale,0,0,o.scale,0,0),p.save(),this.clipBbox(l,g,m,h,_),l.baseTransform=getCurrentTransform(l.ctx),l.executeOperatorList(t),l.endDrawing(),{canvas:a.canvas,scaleX:u.scale,scaleY:o.scale,offsetX:g,offsetY:m}}getSizeAndScale(e,t,r){e=Math.abs(e);t=Math.max(TilingPattern.MAX_PATTERN_SIZE,t);let o=Math.ceil(e*r);return o>=t?o=t:r=o/e,{scale:r,size:o}}clipBbox(e,t,r,o,a){e.ctx.rect(t,r,o-t,a-r),e.current.updateRectMinMax(getCurrentTransform(e.ctx),[t,r,o,a]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){var o=e.ctx,a=e.current;switch(t){case PaintType.COLORED:var i=this.ctx;o.fillStyle=i.fillStyle,o.strokeStyle=i.strokeStyle,a.fillColor=i.fillStyle,a.strokeColor=i.strokeStyle;break;case PaintType.UNCOLORED:i=Util.makeHexColor(r[0],r[1],r[2]);o.fillStyle=i,o.strokeStyle=i,a.fillColor=i,a.strokeColor=i;break;default:throw new FormatError("Unsupported paint type: "+t)}}getPattern(e,t,r,o){let a=r;o!==PathType.SHADING&&(a=Util.transform(a,t.baseTransform),this.matrix)&&(a=Util.transform(a,this.matrix));r=this.createPatternCanvas(t);let i=new DOMMatrix(a);i=(i=i.translate(r.offsetX,r.offsetY)).scale(1/r.scaleX,1/r.scaleY);o=e.createPattern(r.canvas,"repeat");return o.setTransform(i),o}}function convertBlackAndWhiteToRGBA({src:t,srcPos:r=0,dest:o,width:e,height:a,nonBlackColor:i=4294967295,inverseDecode:n=!1}){var s=util_FeatureTest.isLittleEndian?4278190080:255,[l,c]=n?[i,s]:[s,i],d=e>>3,p=7&e,u=t.length;o=new Uint32Array(o.buffer);let g=0;for(let e=0;e<a;e++){for(var m=r+d;r<m;r++){var h=r<u?t[r]:255;o[g++]=128&h?c:l,o[g++]=64&h?c:l,o[g++]=32&h?c:l,o[g++]=16&h?c:l,o[g++]=8&h?c:l,o[g++]=4&h?c:l,o[g++]=2&h?c:l,o[g++]=1&h?c:l}if(0!=p){var _=r<u?t[r++]:255;for(let e=0;e<p;e++)o[g++]=_&1<<7-e?c:l}}return{srcPos:r,destPos:g}}let MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(e,n){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){n.save(),this.__originalSave()},e.restore=function(){n.restore(),this.__originalRestore()},e.translate=function(e,t){n.translate(e,t),this.__originalTranslate(e,t)},e.scale=function(e,t){n.scale(e,t),this.__originalScale(e,t)},e.transform=function(e,t,r,o,a,i){n.transform(e,t,r,o,a,i),this.__originalTransform(e,t,r,o,a,i)},e.setTransform=function(e,t,r,o,a,i){n.setTransform(e,t,r,o,a,i),this.__originalSetTransform(e,t,r,o,a,i)},e.resetTransform=function(){n.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){n.rotate(e),this.__originalRotate(e)},e.clip=function(e){n.clip(e),this.__originalClip(e)},e.moveTo=function(e,t){n.moveTo(e,t),this.__originalMoveTo(e,t)},e.lineTo=function(e,t){n.lineTo(e,t),this.__originalLineTo(e,t)},e.bezierCurveTo=function(e,t,r,o,a,i){n.bezierCurveTo(e,t,r,o,a,i),this.__originalBezierCurveTo(e,t,r,o,a,i)},e.rect=function(e,t,r,o){n.rect(e,t,r,o),this.__originalRect(e,t,r,o)},e.closePath=function(){n.closePath(),this.__originalClosePath()},e.beginPath=function(){n.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let o;return void 0!==this.cache[e]?(o=this.cache[e],this.canvasFactory.reset(o,t,r)):(o=this.canvasFactory.create(t,r),this.cache[e]=o),o}delete(e){delete this.cache[e]}clear(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function drawImageAtIntegerCoords(e,t,r,o,a,i,n,s,l,c){var d,p,u,g,[m,h,_,f,y,S]=getCurrentTransform(e);return 0===h&&0===_?(d=Math.round(n*m+y),p=Math.round(s*f+S),u=Math.abs(Math.round((n+l)*m+y)-d)||1,g=Math.abs(Math.round((s+c)*f+S)-p)||1,e.setTransform(Math.sign(m),0,0,Math.sign(f),d,p),e.drawImage(t,r,o,a,i,0,0,u,g),e.setTransform(m,h,_,f,y,S),[u,g]):0===m&&0===f?(d=Math.round(s*_+y),p=Math.round(n*h+S),u=Math.abs(Math.round((s+c)*_+y)-d)||1,g=Math.abs(Math.round((n+l)*h+S)-p)||1,e.setTransform(0,Math.sign(h),Math.sign(_),0,d,p),e.drawImage(t,r,o,a,i,0,0,g,u),e.setTransform(m,h,_,f,y,S),[g,u]):(e.drawImage(t,r,o,a,i,n,s,l,c),[Math.hypot(m,h)*l,Math.hypot(_,f)*c])}function compileType3Glyph(e){let{width:r,height:t}=e;if(r>MAX_SIZE_TO_COMPILE||t>MAX_SIZE_TO_COMPILE)return null;var o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=r+1;let i=new Uint8Array(a*(t+1)),n,s,l;var c,d=r+7&-8;let p=new Uint8Array(d*t),u=0;for(c of e.data){let e=128;for(;0<e;)p[u++]=c&e?0:255,e>>=1}let g=0;for((u=0)!==p[u]&&(i[0]=1,++g),s=1;s<r;s++)p[u]!==p[u+1]&&(i[s]=p[u]?2:1,++g),u++;for(0!==p[u]&&(i[s]=2,++g),n=1;n<t;n++){u=n*d,l=n*a,p[u-d]!==p[u]&&(i[l]=p[u]?1:8,++g);let e=(p[u]?4:0)+(p[u-d]?8:0);for(s=1;s<r;s++)o[e=(e>>2)+(p[u+1]?4:0)+(p[u-d+1]?8:0)]&&(i[l+s]=o[e],++g),u++;if(p[u-d]!==p[u]&&(i[l+s]=p[u]?2:4,++g),1e3<g)return null}for(u=d*(t-1),l=n*a,0!==p[u]&&(i[l]=8,++g),s=1;s<r;s++)p[u]!==p[u+1]&&(i[l+s]=p[u]?4:8,++g),u++;if(0!==p[u]&&(i[l+s]=4,++g),1e3<g)return null;var m=new Int32Array([0,a,-1,0,-a,0,0,0,1]);let h=new Path2D;for(n=0;g&&n<=t;n++){let t=n*a;for(var _=t+r;t<_&&!i[t];)t++;if(t!==_){h.moveTo(t%a,n);var f=t;let e=i[t];do{for(var y=m[e];t+=y,!i[t];);var S=i[t];5!==S&&10!==S?(e=S,i[t]=0):(e=S&51*e>>4,i[t]&=e>>2|e<<2),h.lineTo(t%a,t/a|0),i[t]||--g}while(f!==t);--n}}p=null,i=null;return function(e){e.save(),e.scale(1/r,-1/t),e.translate(0,-t),e.fill(h),e.beginPath(),e.restore()}}class CanvasExtraState{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){var e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Util.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){var r=Util.applyTransform(t,e),o=Util.applyTransform(t.slice(2),e),a=Util.applyTransform([t[0],t[3]],e),t=Util.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],o[0],a[0],t[0]),this.minY=Math.min(this.minY,r[1],o[1],a[1],t[1]),this.maxX=Math.max(this.maxX,r[0],o[0],a[0],t[0]),this.maxY=Math.max(this.maxY,r[1],o[1],a[1],t[1])}updateScalingPathMinMax(e,t){Util.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,o,a,i,n,s,l,c){t=Util.bezierBoundingBox(t,r,o,a,i,n,s,l,c);c||this.updateRectMinMax(e,t)}getPathBoundingBox(e=PathType.FILL,t=null){var r=[this.minX,this.minY,this.maxX,this.maxY];return e===PathType.STROKE&&(t||unreachable("Stroke bounding box must include transform."),t=(e=Util.singularValueDecompose2dScale(t))[0]*this.lineWidth/2,e=e[1]*this.lineWidth/2,r[0]-=t,r[1]-=e,r[2]+=t,r[3]+=e),r}updateClipFromPath(){var e=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=PathType.FILL,t=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function putBinaryImageData(n,s){if("undefined"!=typeof ImageData&&s instanceof ImageData)n.putImageData(s,0,0);else{var l=s.height,c=s.width,d=l%FULL_CHUNK_HEIGHT,p=(l-d)/FULL_CHUNK_HEIGHT,u=0==d?p:1+p,g=n.createImageData(c,FULL_CHUNK_HEIGHT);let o=0,a;var m=s.data,h=g.data;let e,t,r,i;if(s.kind===util_ImageKind.GRAYSCALE_1BPP){var _=m.byteLength,f=new Uint32Array(h.buffer,0,h.byteLength>>2),y=f.length,S=c+7>>3,P=4294967295,v=util_FeatureTest.isLittleEndian?4278190080:255;for(e=0;e<u;e++){for(r=e<p?FULL_CHUNK_HEIGHT:d,a=0,t=0;t<r;t++){var b=_-o;let e=0;var C=S<b?c:8*b-7,w=-8&C;let t=0,r=0;for(;e<w;e+=8)r=m[o++],f[a++]=128&r?P:v,f[a++]=64&r?P:v,f[a++]=32&r?P:v,f[a++]=16&r?P:v,f[a++]=8&r?P:v,f[a++]=4&r?P:v,f[a++]=2&r?P:v,f[a++]=1&r?P:v;for(;e<C;e++)0===t&&(r=m[o++],t=128),f[a++]=r&t?P:v,t>>=1}for(;a<y;)f[a++]=0;n.putImageData(g,0,e*FULL_CHUNK_HEIGHT)}}else if(s.kind===util_ImageKind.RGBA_32BPP){for(t=0,i=c*FULL_CHUNK_HEIGHT*4,e=0;e<p;e++)h.set(m.subarray(o,o+i)),o+=i,n.putImageData(g,0,t),t+=FULL_CHUNK_HEIGHT;e<u&&(i=c*d*4,h.set(m.subarray(o,o+i)),n.putImageData(g,0,t))}else{if(s.kind!==util_ImageKind.RGB_24BPP)throw new Error("bad image kind: "+s.kind);for(r=FULL_CHUNK_HEIGHT,i=c*r,e=0;e<u;e++){for(e>=p&&(r=d,i=c*r),a=0,t=i;t--;)h[a++]=m[o++],h[a++]=m[o++],h[a++]=m[o++],h[a++]=255;n.putImageData(g,0,e*FULL_CHUNK_HEIGHT)}}}}function putBinaryImageMask(r,e){if(e.bitmap)r.drawImage(e.bitmap,0,0);else{var o=e.height,a=e.width,i=o%FULL_CHUNK_HEIGHT,n=(o-i)/FULL_CHUNK_HEIGHT,s=0==i?n:1+n,l=r.createImageData(a,FULL_CHUNK_HEIGHT);let t=0;var c=e.data,d=l.data;for(let e=0;e<s;e++){var p=e<n?FULL_CHUNK_HEIGHT:i;({srcPos:t}=convertBlackAndWhiteToRGBA({src:c,srcPos:t,dest:d,width:a,height:p,nonBlackColor:0})),r.putImageData(l,0,e*FULL_CHUNK_HEIGHT)}}}function copyCtxState(e,t){var r;for(r of["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"])void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function resetCtxToDefault(e){var t;e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),isNodeJS||(t=e.filter,"none"!==t&&""!==t&&(e.filter="none"))}function getImageSmoothingEnabled(e,t){return!!t||((t=Util.singularValueDecompose2dScale(e))[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]),e=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS),t[0]<=e&&t[1]<=e)}let LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};class CanvasGraphics{constructor(e,t,r,o,a,{optionalContentConfig:i,markedContentStack:n=null},s,l){this.ctx=e,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=o,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=n||[],this.optionalContentConfig=i,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return"string"==typeof e?(e.startsWith("g_")?this.commonObjs:this.objs).get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:o=null}){var a=this.ctx.canvas.width,i=this.ctx.canvas.height,n=this.ctx.fillStyle;this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,a,i),this.ctx.fillStyle=n,r&&(o=this.cachedCanvases.getCanvas("transparent",a,i),this.compositeCtx=this.ctx,this.transparentCanvas=o.canvas,this.ctx=o.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))),this.ctx.save(),resetCtxToDefault(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(e,t,r,o){var a=e.argsArray,i=e.fnArray;let n=t||0;var s=a.length;if(s===n)return n;var l=s-n>EXECUTION_STEPS&&"function"==typeof r,c=l?Date.now()+EXECUTION_TIME:0;let d=0;for(var p,u=this.commonObjs,g=this.objs;;){if(void 0!==o&&n===o.nextBreakPoint)return o.breakIt(n,r),n;if((p=i[n])!==OPS.dependency)this[p].apply(this,a[n]);else for(var m of a[n]){var h=m.startsWith("g_")?u:g;if(!h.has(m))return h.get(m,r),n}if(++n===s)return n;if(l&&++d>EXECUTION_STEPS){if(Date.now()>c)return r(),n;d=0}}}#restoreInitialState(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#restoreInitialState(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(var e of this._cachedBitmapsMap.values()){for(var t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#drawFilter()}#drawFilter(){var e,t;this.pageColors&&"none"!==(e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background))&&(t=this.ctx.filter,this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t)}_scaleImage(r,e){var o,a,t=r.width,i=r.height;let n=Math.max(Math.hypot(e[0],e[1]),1),s=Math.max(Math.hypot(e[2],e[3]),1),l=t,c=i,d="prescale1";for(;2<n&&1<l||2<s&&1<c;){let e=l,t=c;2<n&&1<l&&(e=16384<=l?Math.floor(l/2)-1||1:Math.ceil(l/2),n/=l/e),2<s&&1<c&&(t=16384<=c?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/t),(a=(o=this.cachedCanvases.getCanvas(d,e,t)).context).clearRect(0,0,e,t),a.drawImage(r,0,0,l,c,0,0,e,t),r=o.canvas,l=e,c=t,d="prescale1"===d?"prescale2":"prescale1"}return{img:r,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){var t=this.ctx,{width:r,height:o}=e,a=this.current.fillColor,i=this.current.patternFill,n=getCurrentTransform(t);let s,l,c,d;if((e.bitmap||e.data)&&1<e.count){var p=e.bitmap||e.data.buffer,p=(l=JSON.stringify(i?n:[n.slice(0,4),a]),(s=this._cachedBitmapsMap.get(p))||(s=new Map,this._cachedBitmapsMap.set(p,s)),s.get(l));if(p&&!i){let e=Math.round(Math.min(n[0],n[2])+n[4]),t=Math.round(Math.min(n[1],n[3])+n[5]);return{canvas:p,offsetX:e,offsetY:t}}c=p}c||putBinaryImageMask((d=this.cachedCanvases.getCanvas("maskCanvas",r,o)).context,e);var p=Util.transform(n,[1/r,0,0,-1/o,0,0]),p=Util.transform(p,[1,0,0,1,0,-o]),[n,u,g,m]=Util.getAxialAlignedBoundingBox([0,0,r,o],p),g=Math.round(g-n)||1,m=Math.round(m-u)||1,g=this.cachedCanvases.getCanvas("fillCanvas",g,m),m=g.context;let h=n,_=u;m.translate(-h,-_),m.transform(...p),c||(c=(c=this._scaleImage(d.canvas,getCurrentTransformInverse(m))).img,s&&i&&s.set(l,c)),m.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(m),e.interpolate),drawImageAtIntegerCoords(m,c,0,0,c.width,c.height,0,0,r,o),m.globalCompositeOperation="source-in";n=Util.transform(getCurrentTransformInverse(m),[1,0,0,1,-h,-_]);return m.fillStyle=i?a.getPattern(t,this,n,PathType.FILL):a,m.fillRect(0,0,r,o),s&&!i&&(this.cachedCanvases.delete("fillCanvas"),s.set(l,g.canvas)),{canvas:g.canvas,offsetX:Math.round(h),offsetY:Math.round(_)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=LINE_CAP_STYLES[e]}setLineJoin(e){this.ctx.lineJoin=LINE_JOIN_STYLES[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){var r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(var[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){var e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(r,e,t),e=(this.suspendedCtx=this.ctx,this.ctx=r.context,this.ctx);e.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,e),mirrorContextOperations(e,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){var t,r;this.current.activeSMask&&(e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],t=this.current.activeSMask,r=this.suspendedCtx,this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}composeSMask(e,t,r,o){var a=o[0],i=o[1],n=o[2]-a,o=o[3]-i;0!=n&&0!=o&&(this.genericComposeSMask(t.context,r,n,o,t.subtype,t.backdrop,t.transferMap,a,i,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(t,e,r,o,a,i,n,s,l,c,d){let p=t.canvas,u=s-c,g=l-d;if(i)if(u<0||g<0||u+r>p.width||g+o>p.height){c=this.cachedCanvases.getCanvas("maskExtension",r,o),d=c.context;d.drawImage(p,-u,-g),i.some(e=>0!==e)&&(d.globalCompositeOperation="destination-atop",d.fillStyle=Util.makeHexColor(...i),d.fillRect(0,0,r,o),d.globalCompositeOperation="source-over"),p=c.canvas,u=g=0}else if(i.some(e=>0!==e)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);let e=new Path2D;e.rect(u,g,r,o),t.clip(e),t.globalCompositeOperation="destination-atop",t.fillStyle=Util.makeHexColor(...i),t.fillRect(u,g,r,o),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===a&&n?e.filter=this.filterFactory.addAlphaFilter(n):"Luminosity"===a&&(e.filter=this.filterFactory.addLuminosityFilter(n));let m=new Path2D;m.rect(s,l,r,o),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(p,u,g,r,o,s,l,r,o),e.restore()}save(){(this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx):this.ctx).save();var e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,o,a,i){this.ctx.transform(e,t,r,o,a,i),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(o,a,e){var i=this.ctx,n=this.current;let s=n.x,l=n.y,c,d;var p=getCurrentTransform(i),u=0===p[0]&&0===p[3]||0===p[1]&&0===p[2],g=u?e.slice(0):null;for(let e=0,t=0,r=o.length;e<r;e++)switch(0|o[e]){case OPS.rectangle:s=a[t++],l=a[t++];var m=a[t++],h=a[t++],_=s+m,f=l+h;i.moveTo(s,l),0===m||0===h?i.lineTo(_,f):(i.lineTo(_,l),i.lineTo(_,f),i.lineTo(s,f)),u||n.updateRectMinMax(p,[s,l,_,f]),i.closePath();break;case OPS.moveTo:s=a[t++],l=a[t++],i.moveTo(s,l),u||n.updatePathMinMax(p,s,l);break;case OPS.lineTo:s=a[t++],l=a[t++],i.lineTo(s,l),u||n.updatePathMinMax(p,s,l);break;case OPS.curveTo:c=s,d=l,s=a[t+4],l=a[t+5],i.bezierCurveTo(a[t],a[t+1],a[t+2],a[t+3],s,l),n.updateCurvePathMinMax(p,c,d,a[t],a[t+1],a[t+2],a[t+3],s,l,g),t+=6;break;case OPS.curveTo2:c=s,d=l,i.bezierCurveTo(s,l,a[t],a[t+1],a[t+2],a[t+3]),n.updateCurvePathMinMax(p,c,d,s,l,a[t],a[t+1],a[t+2],a[t+3],g),s=a[t+2],l=a[t+3],t+=4;break;case OPS.curveTo3:c=s,d=l,s=a[t+2],l=a[t+3],i.bezierCurveTo(a[t],a[t+1],s,l,s,l),n.updateCurvePathMinMax(p,c,d,a[t],a[t+1],s,l,s,l,g),t+=4;break;case OPS.closePath:i.closePath()}u&&n.updateScalingPathMinMax(p,g),n.setCurrentPoint(s,l)}closePath(){this.ctx.closePath()}stroke(e=!0){var t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof r&&r?.getPattern?(t.save(),t.strokeStyle=r.getPattern(t,this,getCurrentTransformInverse(t),PathType.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){var t=this.ctx,r=this.current.fillColor;let o=!1;this.current.patternFill&&(t.save(),t.fillStyle=r.getPattern(t,this,getCurrentTransformInverse(t),PathType.FILL),o=!0);r=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==r&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){var e=this.pendingTextPaths,t=this.ctx;if(void 0===e)t.beginPath();else{t.save(),t.beginPath();for(var r of e)t.setTransform(...r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(r,o){var a=this.commonObjs.get(r),i=this.current;if(!a)throw new Error("Can't find font for "+r);if(i.fontMatrix=a.fontMatrix||FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||warn("Invalid font matrix for font "+r),o<0?(o=-o,i.fontDirection=-1):i.fontDirection=1,this.current.font=a,this.current.fontSize=o,!a.isType3Font){r=a.systemFontInfo?.css||`"${a.loadedName||"sans-serif"}", `+a.fallbackName;let e="normal";a.black?e="900":a.bold&&(e="bold");i=a.italic?"italic":"normal";let t=o;o<MIN_FONT_SIZE?t=MIN_FONT_SIZE:o>MAX_FONT_SIZE&&(t=MAX_FONT_SIZE),this.current.fontSizeScale=o/t,this.ctx.font=i+` ${e} ${t}px `+r}}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,o,a,i){this.current.textMatrix=[e,t,r,o,a,i],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,o){var a=this.ctx,i=this.current,n=i.font,s=i.textRenderingMode,l=i.fontSize/i.fontSizeScale,c=s&TextRenderingMode.FILL_STROKE_MASK,s=!!(s&TextRenderingMode.ADD_TO_PATH_FLAG),i=i.patternFill&&!n.missingFile;let d;(n.disableFontFace||s||i)&&(d=n.getPathGenerator(this.commonObjs,e)),n.disableFontFace||i?(a.save(),a.translate(t,r),a.beginPath(),d(a,l),o&&a.setTransform(...o),c!==TextRenderingMode.FILL&&c!==TextRenderingMode.FILL_STROKE||a.fill(),c!==TextRenderingMode.STROKE&&c!==TextRenderingMode.FILL_STROKE||a.stroke(),a.restore()):(c!==TextRenderingMode.FILL&&c!==TextRenderingMode.FILL_STROKE||a.fillText(e,t,r),c!==TextRenderingMode.STROKE&&c!==TextRenderingMode.FILL_STROKE||a.strokeText(e,t,r)),s&&(this.pendingTextPaths||=[]).push({transform:getCurrentTransform(a),x:t,y:r,fontSize:l,addToPath:d})}get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context,t=(e.scale(1.5,1),e.fillText("I",0,10),e.getImageData(0,0,10,10).data);let r=!1;for(let e=3;e<t.length;e+=4)if(0<t[e]&&t[e]<255){r=!0;break}return shadow(this,"isFontSubpixelAAEnabled",r)}showText(t){var r=this.current,n=r.font;if(n.isType3Font)return this.showType3Text(t);var s=r.fontSize;if(0!==s){var l=this.ctx,c=r.fontSizeScale,d=r.charSpacing,p=r.wordSpacing,u=r.fontDirection,o=r.textHScale*u,g=t.length,m=n.vertical,h=m?1:-1,_=n.defaultVMetrics,f=s*r.fontMatrix[0],y=r.textRenderingMode===TextRenderingMode.FILL&&!n.disableFontFace&&!r.patternFill;l.save(),l.transform(...r.textMatrix),l.translate(r.x,r.y+r.textRise),0<u?l.scale(o,-1):l.scale(o,1);let i,e=(r.patternFill&&(l.save(),S=r.fillColor.getPattern(l,this,getCurrentTransformInverse(l),PathType.FILL),i=getCurrentTransform(l),l.restore(),l.fillStyle=S),r.lineWidth);var a,S=r.textMatrixScale;if(0===S||0===e?(a=r.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK)!==TextRenderingMode.STROKE&&a!==TextRenderingMode.FILL_STROKE||(e=this.getSinglePixelWidth()):e/=S,1!==c&&(l.scale(c,c),e/=c),l.lineWidth=e,n.isInvalidPDFjsFont){var P,v=[];let e=0;for(P of t)v.push(P.unicode),e+=P.width;l.fillText(v.join(""),0,0),r.x+=e*f*o,l.restore(),void this.compose()}else{let a=0,e;for(e=0;e<g;++e){var b=t[e];if("number"==typeof b)a+=h*b*s/1e3;else{let e=!1;var C,w,k,x=(b.isSpace?p:0)+d,T=b.fontChar,A=b.accent;let t,r,o=b.width;r=m?(C=b.vmetric||_,w=-(b.vmetric?C[1]:.5*o)*f,k=C[2]*f,o=C?-C[0]:o,t=w/c,(a+k)/c):(t=a/c,0),n.remeasure&&0<o&&(C=1e3*l.measureText(T).width/s*c,o<C&&this.isFontSubpixelAAEnabled?(w=o/C,e=!0,l.save(),l.scale(w,1),t/=w):o!==C&&(t+=(o-C)/2e3*s/c)),this.contentVisible&&(b.isInFont||n.missingFile)&&(y&&!A?l.fillText(T,t,r):(this.paintChar(T,t,r,i),A&&(k=t+s*A.offset.x/c,b=r-s*A.offset.y/c,this.paintChar(A.fontChar,k,b,i))));T=m?o*f-x*u:o*f+x*u;a+=T,e&&l.restore()}}m?r.y-=a:r.x+=a*o,l.restore(),this.compose()}}}showType3Text(e){var t,r,o=this.ctx,a=this.current,i=a.font,n=a.fontSize,s=a.fontDirection,l=i.vertical?1:-1,c=a.charSpacing,d=a.wordSpacing,p=a.textHScale*s,u=a.fontMatrix||FONT_IDENTITY_MATRIX,g=e.length,m=a.textRenderingMode===TextRenderingMode.INVISIBLE;let h,_,f,y;if(!m&&0!==n){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,o.save(),o.transform(...a.textMatrix),o.translate(a.x,a.y),o.scale(p,s),h=0;h<g;++h)"number"==typeof(_=e[h])?(this.ctx.translate(y=l*_*n/1e3,0),a.x+=y*p):(t=(_.isSpace?d:0)+c,(r=i.charProcOperatorList[_.operatorListId])?(this.contentVisible&&(this.processingType3=_,this.save(),o.scale(n,n),o.transform(...u),this.executeOperatorList(r),this.restore()),f=Util.applyTransform([_.width,0],u)[0]*n+t,o.translate(f,0),a.x+=f*p):warn(`Type3 character "${_.operatorListId}" is not available.`));o.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,o,a,i){this.ctx.rect(r,o,a-r,i-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;var r,o,a;return t="TilingPattern"===e[0]?(r=e[1],o=this.baseTransform||getCurrentTransform(this.ctx),a={createCanvasGraphics:e=>new CanvasGraphics(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},new TilingPattern(e,r,this.ctx,a,o)):this._getPattern(e[1],e[2])}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){e=Util.makeHexColor(e,t,r);this.ctx.strokeStyle=e,this.current.strokeColor=e}setFillRGBColor(e,t,r){e=Util.makeHexColor(e,t,r);this.ctx.fillStyle=e,this.current.fillColor=e,this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=getShadingPattern(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){var t,r,o;this.contentVisible&&(t=this.ctx,this.save(),e=this._getPattern(e),t.fillStyle=e.getPattern(t,this,getCurrentTransformInverse(t),PathType.SHADING),(e=getCurrentTransformInverse(t))?({width:t,height:r}=t.canvas,[t,r,e,o]=Util.getAxialAlignedBoundingBox([0,0,t,r],e),this.ctx.fillRect(t,r,e-t,o-r)):this.ctx.fillRect(-1e10,-1e10,2e10,2e10),this.compose(this.current.getClippedPathBoundingBox()),this.restore())}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(e,t){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=getCurrentTransform(this.ctx),t)&&(e=t[2]-t[0],this.ctx.rect(t[0],t[1],e,t[3]-t[1]),this.current.updateRectMinMax(getCurrentTransform(this.ctx),t),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var r=this.ctx,o=(t.isolated||info("TODO: Support non-isolated groups."),t.knockout&&warn("Knockout groups not supported."),getCurrentTransform(r));if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");var a=Util.getAxialAlignedBoundingBox(t.bbox,getCurrentTransform(r)),i=[0,0,r.canvas.width,r.canvas.height],a=Util.intersect(a,i)||[0,0,0,0],i=Math.floor(a[0]),n=Math.floor(a[1]),s=Math.max(Math.ceil(a[2])-i,1),a=Math.max(Math.ceil(a[3])-n,1);this.current.startNewPathAndClipBox([0,0,s,a]);let e="groupAt"+this.groupLevel;t.smask&&(e+="_smask_"+this.smaskCounter++%2);s=this.cachedCanvases.getCanvas(e,s,a),a=s.context;a.translate(-i,-n),a.transform(...o),t.smask?this.smaskStack.push({canvas:s.canvas,context:a,offsetX:i,offsetY:n,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(i,n),r.save()),copyCtxState(r,a),this.ctx=a,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}}endGroup(e){var t,r;this.contentVisible&&(this.groupLevel--,t=this.ctx,r=this.groupStack.pop(),this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask?(this.tempSMask=this.smaskStack.pop(),this.restore()):(this.ctx.restore(),r=getCurrentTransform(this.ctx),this.restore(),this.ctx.save(),this.ctx.setTransform(...r),e=Util.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],r),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(e)))}beginAnnotation(e,t,r,o,a){var i,n,s,l,c;this.#restoreInitialState(),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t&&(i=t[2]-t[0],n=t[3]-t[1],a&&this.annotationCanvasMap?((r=r.slice())[4]-=t[0],r[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=i,t[3]=n,[a,s]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),c=this.viewportScale,l=Math.ceil(i*this.outputScaleX*c),c=Math.ceil(n*this.outputScaleY*c),{canvas:l,context:c}=(this.annotationCanvas=this.canvasFactory.create(l,c),this.annotationCanvas),this.annotationCanvasMap.set(e,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(a,0,0,-s,0,n*s),resetCtxToDefault(this.ctx)):(resetCtxToDefault(this.ctx),this.ctx.rect(t[0],t[1],i,n),this.ctx.clip(),this.endPath())),this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#drawFilter(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){var t,r;this.contentVisible&&(t=e.count,(e=this.getObject(e.data,e)).count=t,t=this.ctx,(r=this.processingType3)&&(void 0===r.compiled&&(r.compiled=compileType3Glyph(e)),r.compiled)?r.compiled(t):(e=(r=this._createMaskCanvas(e)).canvas,t.save(),t.setTransform(1,0,0,1,0,0),t.drawImage(e,r.offsetX,r.offsetY),t.restore(),this.compose()))}paintImageMaskXObjectRepeat(e,r,o=0,a=0,i,n){if(this.contentVisible){e=this.getObject(e.data,e);var s=this.ctx,l=(s.save(),getCurrentTransform(s)),c=(s.transform(r,o,a,i,0,0),this._createMaskCanvas(e));s.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let e=0,t=n.length;e<t;e+=2){var d=Util.transform(l,[r,o,a,i,n[e],n[e+1]]),[d,p]=Util.applyTransform([0,0],d);s.drawImage(c.canvas,d,p)}s.restore(),this.compose()}}paintImageMaskXObjectGroup(e){if(this.contentVisible){var t,r=this.ctx,o=this.current.fillColor,a=this.current.patternFill;for(t of e){var{data:i,width:n,height:s,transform:l}=t,c=this.cachedCanvases.getCanvas("maskCanvas",n,s),d=c.context,i=(d.save(),this.getObject(i,t));putBinaryImageMask(d,i),d.globalCompositeOperation="source-in",d.fillStyle=a?o.getPattern(d,this,getCurrentTransformInverse(r),PathType.FILL):o,d.fillRect(0,0,n,s),d.restore(),r.save(),r.transform(...l),r.scale(1,-1),drawImageAtIntegerCoords(r,c.canvas,0,0,n,s,0,-1,1,1),r.restore()}this.compose()}}paintImageXObject(e){this.contentVisible&&((e=this.getObject(e))?this.paintInlineImageXObject(e):warn("Dependent image isn't ready yet"))}paintImageXObjectRepeat(e,r,o,a){if(this.contentVisible){e=this.getObject(e);if(e){var i=e.width,n=e.height,s=[];for(let e=0,t=a.length;e<t;e+=2)s.push({transform:[r,0,0,o,a[e],a[e+1]],x:0,y:0,w:i,h:n});this.paintInlineImageXObjectGroup(e,s)}else warn("Dependent image isn't ready yet")}}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){var t,r;return"none"===this.current.transferMaps?e.bitmap:({bitmap:e,width:t,height:r}=e,(r=(t=this.cachedCanvases.getCanvas("inlineImage",t,r)).context).filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",t.canvas)}paintInlineImageXObject(t){if(this.contentVisible){var r=t.width,o=t.height,a=this.ctx;this.save(),isNodeJS||(i=a.filter,"none"!==i&&""!==i&&(a.filter="none")),a.scale(1/r,-1/o);let e;e=t.bitmap?this.applyTransferMapsToBitmap(t):"function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data?t:(putBinaryImageData(i=this.cachedCanvases.getCanvas("inlineImage",r,o).context,t),this.applyTransferMapsToCanvas(i));var i=this._scaleImage(e,getCurrentTransformInverse(a));a.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(a),t.interpolate),drawImageAtIntegerCoords(a,i.img,0,0,i.paintWidth,i.paintHeight,0,-o,r,o),this.compose(),this.restore()}}paintInlineImageXObjectGroup(t,r){if(this.contentVisible){var o,a,i=this.ctx;let e;e=t.bitmap||(o=t.width,putBinaryImageData(o=this.cachedCanvases.getCanvas("inlineImage",o,t.height).context,t),this.applyTransferMapsToCanvas(o));for(a of r)i.save(),i.transform(...a.transform),i.scale(1,-1),drawImageAtIntegerCoords(i,e,a.x,a.y,a.w,a.h,0,-1,1,1),i.restore();this.compose()}}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){var t=this.current.isEmptyClip(),e=(this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e),this.ctx);this.pendingClip&&(t||(this.pendingClip===EO_CLIP?e.clip("evenodd"):e.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),e.beginPath()}getSinglePixelWidth(){var e,t,r;return this._cachedGetSinglePixelWidth||(0===(r=getCurrentTransform(this.ctx))[1]&&0===r[2]?this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(r[0]),Math.abs(r[3])):(e=Math.abs(r[0]*r[3]-r[2]*r[1]),t=Math.hypot(r[0],r[2]),r=Math.hypot(r[1],r[3]),this._cachedGetSinglePixelWidth=Math.max(t,r)/e)),this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){var r,o,a,i=this.current.lineWidth,{a:n,b:s,c:l,d:c}=this.ctx.getTransform();let e,t;0===s&&0===l?(a=Math.abs(n))===(r=Math.abs(c))?e=t=0===i?1/a:(o=a*i)<1?1/o:1:t=0===i?(e=1/a,1/r):(o=a*i,a=r*i,e=o<1?1/o:1,a<1?1/a:1):(r=Math.abs(n*c-s*l),o=Math.hypot(n,s),a=Math.hypot(l,c),t=0===i?(e=a/r,o/r):(n=i*r,e=n<a?a/n:1,n<o?o/n:1)),this._cachedScaleForStroking[0]=e,this._cachedScaleForStroking[1]=t}return this._cachedScaleForStroking}rescaleAndStroke(e){var r=this.ctx,o=this.current.lineWidth,[a,i]=this.getScaleForStroking();if(r.lineWidth=o||1,1===a&&1===i)r.stroke();else{o=r.getLineDash();if(e&&r.save(),r.scale(a,i),0<o.length){let t=Math.max(a,i);r.setLineDash(o.map(e=>e/t)),r.lineDashOffset/=t}r.stroke(),e&&r.restore()}}isContentVisible(){for(let e=this.markedContentStack.length-1;0<=e;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(let e in OPS)void 0!==CanvasGraphics.prototype[e]&&(CanvasGraphics.prototype[OPS[e]]=CanvasGraphics.prototype[e]);class GlobalWorkerOptions{static#port=null;static#src="";static get workerPort(){return this.#port}static set workerPort(e){if(!("undefined"!=typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#port=e}static get workerSrc(){return this.#src}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");this.#src=e}}let CallbackKind={DATA:1,ERROR:2},StreamKind={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(e){switch(e instanceof Error||"object"==typeof e&&null!==e||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new AbortException(e.message);case"MissingPDFException":return new MissingPDFException(e.message);case"PasswordException":return new PasswordException(e.message,e.code);case"UnexpectedResponseException":return new UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new UnknownErrorException(e.message,e.details);default:return new UnknownErrorException(e.message,e.toString())}}class MessageHandler{constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=e=>{let a=e.data;if(a.targetName===this.sourceName)if(a.stream)this.#processStreamMessage(a);else if(a.callback){var e=a.callbackId,t=this.callbackCapabilities[e];if(!t)throw new Error("Cannot resolve callback "+e);if(delete this.callbackCapabilities[e],a.callback===CallbackKind.DATA)t.resolve(a.data);else{if(a.callback!==CallbackKind.ERROR)throw new Error("Unexpected callback case");t.reject(wrapReason(a.reason))}}else{let o=this.actionHandler[a.action];if(!o)throw new Error("Unknown action from worker: "+a.action);if(a.callbackId){let t=this.sourceName,r=a.sourceName;void new Promise(function(e){e(o(a.data))}).then(function(e){i.postMessage({sourceName:t,targetName:r,callback:CallbackKind.DATA,callbackId:a.callbackId,data:e})},function(e){i.postMessage({sourceName:t,targetName:r,callback:CallbackKind.ERROR,callbackId:a.callbackId,reason:wrapReason(e)})})}else a.streamId?this.#createStreamSink(a):o(a.data)}},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){var r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){var o=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[o]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:o,data:t},r)}catch(e){a.reject(e)}return a.promise}sendWithStream(r,o,e,a){let i=this.streamId++,n=this.sourceName,s=this.targetName,l=this.comObj;return new ReadableStream({start:e=>{var t=Promise.withResolvers();return this.streamControllers[i]={controller:e,startCall:t,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:n,targetName:s,action:r,streamId:i,data:o,desiredSize:e.desiredSize},a),t.promise},pull:e=>{var t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,l.postMessage({sourceName:n,targetName:s,stream:StreamKind.PULL,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{assert(e instanceof Error,"cancel must have a valid reason");var t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,l.postMessage({sourceName:n,targetName:s,stream:StreamKind.CANCEL,streamId:i,reason:wrapReason(e)}),t.promise}},e)}#createStreamSink(t){let a=t.streamId,i=this.sourceName,n=t.sourceName,s=this.comObj,e=this,r=this.actionHandler[t.action],o={enqueue(e,t=1,r){var o;this.isCancelled||(o=this.desiredSize,this.desiredSize-=t,0<o&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:n,stream:StreamKind.ENQUEUE,streamId:a,chunk:e},r))},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:n,stream:StreamKind.CLOSE,streamId:a}),delete e.streamSinks[a])},error(e){assert(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:n,stream:StreamKind.ERROR,streamId:a,reason:wrapReason(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[a]=o,new Promise(function(e){e(r(t.data,o))}).then(function(){s.postMessage({sourceName:i,targetName:n,stream:StreamKind.START_COMPLETE,streamId:a,success:!0})},function(e){s.postMessage({sourceName:i,targetName:n,stream:StreamKind.START_COMPLETE,streamId:a,reason:wrapReason(e)})})}#processStreamMessage(t){let r=t.streamId,o=this.sourceName,a=t.sourceName,i=this.comObj,e=this.streamControllers[r],n=this.streamSinks[r];switch(t.stream){case StreamKind.START_COMPLETE:t.success?e.startCall.resolve():e.startCall.reject(wrapReason(t.reason));break;case StreamKind.PULL_COMPLETE:t.success?e.pullCall.resolve():e.pullCall.reject(wrapReason(t.reason));break;case StreamKind.PULL:n?(n.desiredSize<=0&&0<t.desiredSize&&n.sinkCapability.resolve(),n.desiredSize=t.desiredSize,new Promise(function(e){e(n.onPull?.())}).then(function(){i.postMessage({sourceName:o,targetName:a,stream:StreamKind.PULL_COMPLETE,streamId:r,success:!0})},function(e){i.postMessage({sourceName:o,targetName:a,stream:StreamKind.PULL_COMPLETE,streamId:r,reason:wrapReason(e)})})):i.postMessage({sourceName:o,targetName:a,stream:StreamKind.PULL_COMPLETE,streamId:r,success:!0});break;case StreamKind.ENQUEUE:assert(e,"enqueue should have stream controller"),e.isClosed||e.controller.enqueue(t.chunk);break;case StreamKind.CLOSE:assert(e,"close should have stream controller"),e.isClosed||(e.isClosed=!0,e.controller.close(),this.#deleteStreamController(e,r));break;case StreamKind.ERROR:assert(e,"error should have stream controller"),e.controller.error(wrapReason(t.reason)),this.#deleteStreamController(e,r);break;case StreamKind.CANCEL_COMPLETE:t.success?e.cancelCall.resolve():e.cancelCall.reject(wrapReason(t.reason)),this.#deleteStreamController(e,r);break;case StreamKind.CANCEL:n&&(new Promise(function(e){e(n.onCancel?.(wrapReason(t.reason)))}).then(function(){i.postMessage({sourceName:o,targetName:a,stream:StreamKind.CANCEL_COMPLETE,streamId:r,success:!0})},function(e){i.postMessage({sourceName:o,targetName:a,stream:StreamKind.CANCEL_COMPLETE,streamId:r,reason:wrapReason(e)})}),n.sinkCapability.reject(wrapReason(t.reason)),n.isCancelled=!0,delete this.streamSinks[r]);break;default:throw new Error("Unexpected stream case")}}async#deleteStreamController(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class Metadata{#metadataMap;#data;constructor({parsedData:e,rawData:t}){this.#metadataMap=e,this.#data=t}getRaw(){return this.#data}get(e){return this.#metadataMap.get(e)??null}getAll(){return objectFromMap(this.#metadataMap)}has(e){return this.#metadataMap.has(e)}}let INTERNAL=Symbol("INTERNAL");class OptionalContentGroup{#isDisplay=!1;#isPrint=!1;#userSet=!1;#visible=!0;constructor(e,{name:t,intent:r,usage:o}){this.#isDisplay=!!(e&RenderingIntentFlag.DISPLAY),this.#isPrint=!!(e&RenderingIntentFlag.PRINT),this.name=t,this.intent=r,this.usage=o}get visible(){var e,t;return this.#userSet?this.#visible:!!this.#visible&&({print:e,view:t}=this.usage,this.#isDisplay?"OFF"!==t?.viewState:!this.#isPrint||"OFF"!==e?.printState)}_setVisible(e,t,r=!1){e!==INTERNAL&&unreachable("Internal method `_setVisible` called."),this.#userSet=r,this.#visible=t}}class OptionalContentConfig{#cachedGetHash=null;#groups=new Map;#initialHash=null;#order=null;constructor(e,t=RenderingIntentFlag.DISPLAY){if(this.renderingIntent=t,this.name=null,(this.creator=null)!==e){this.name=e.name,this.creator=e.creator,this.#order=e.order;for(var r of e.groups)this.#groups.set(r.id,new OptionalContentGroup(t,r));if("OFF"===e.baseState)for(var o of this.#groups.values())o._setVisible(INTERNAL,!1);for(var a of e.on)this.#groups.get(a)._setVisible(INTERNAL,!0);for(var i of e.off)this.#groups.get(i)._setVisible(INTERNAL,!1);this.#initialHash=this.getHash()}}#evaluateVisibilityExpression(r){var e=r.length;if(e<2)return!0;var o=r[0];for(let t=1;t<e;t++){var a=r[t];let e;if(Array.isArray(a))e=this.#evaluateVisibilityExpression(a);else{if(!this.#groups.has(a))return warn("Optional content group not found: "+a),!0;e=this.#groups.get(a).visible}switch(o){case"And":if(e)break;return!1;case"Or":if(e)return!0;break;case"Not":return!e;default:return!0}}return"And"===o}isVisible(e){if(0!==this.#groups.size)if(e){if("OCG"===e.type)return this.#groups.has(e.id)?this.#groups.get(e.id).visible:(warn("Optional content group not found: "+e.id),!0);if("OCMD"===e.type){if(e.expression)return this.#evaluateVisibilityExpression(e.expression);if(!e.policy||"AnyOn"===e.policy){for(var t of e.ids){if(!this.#groups.has(t))return warn("Optional content group not found: "+t),!0;if(this.#groups.get(t).visible)return!0}return!1}if("AllOn"===e.policy)for(var r of e.ids){if(!this.#groups.has(r))return warn("Optional content group not found: "+r),!0;if(!this.#groups.get(r).visible)return!1}else{if("AnyOff"===e.policy){for(var o of e.ids){if(!this.#groups.has(o))return warn("Optional content group not found: "+o),!0;if(!this.#groups.get(o).visible)return!0}return!1}if("AllOff"===e.policy)for(var a of e.ids){if(!this.#groups.has(a))return warn("Optional content group not found: "+a),!0;if(this.#groups.get(a).visible)return!1}else warn(`Unknown optional content policy ${e.policy}.`)}}else warn(`Unknown group type ${e.type}.`)}else info("Optional content group not defined.");return!0}setVisibility(e,t=!0){var r=this.#groups.get(e);r?(r._setVisible(INTERNAL,!!t,!0),this.#cachedGetHash=null):warn("Optional content group not found: "+e)}setOCGState({state:e}){let t;for(var r of e){switch(r){case"ON":case"OFF":case"Toggle":t=r;continue}var o=this.#groups.get(r);if(o)switch(t){case"ON":o._setVisible(INTERNAL,!0);break;case"OFF":o._setVisible(INTERNAL,!1);break;case"Toggle":o._setVisible(INTERNAL,!o.visible)}}this.#cachedGetHash=null}get hasInitialVisibility(){return null===this.#initialHash||this.getHash()===this.#initialHash}getOrder(){return this.#groups.size?this.#order?this.#order.slice():[...this.#groups.keys()]:null}getGroups(){return 0<this.#groups.size?objectFromMap(this.#groups):null}getGroup(e){return this.#groups.get(e)||null}getHash(){if(null!==this.#cachedGetHash)return this.#cachedGetHash;var e,t,r=new MurmurHash3_64;for([e,t]of this.#groups)r.update(e+":"+t.visible);return this.#cachedGetHash=r.hexdigest()}}class PDFDataTransportStream{constructor(e,{disableRange:t=!1,disableStream:r=!1}){assert(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');var{length:o,initialData:a,progressiveDone:i,contentDispositionFilename:n}=e;this._queuedChunks=[],this._progressiveDone=i,this._contentDispositionFilename=n,0<a?.length&&(i=(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a:new Uint8Array(a)).buffer,this._queuedChunks.push(i)),this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:t,chunk:e}){let r=(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e:new Uint8Array(e)).buffer;void 0===t?this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r):assert(this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(r),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){e=this._rangeReaders.indexOf(e);0<=e&&this._rangeReaders.splice(e,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){var r;return t<=this._progressiveDataLength?null:(r=new PDFDataTransportStreamRangeReader(this,e,t),this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r)}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(var t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(e,t,r=!1,o=null){this._stream=e,this._done=r||!1,this._filename=isPdfFile(o)?o:null,this._queuedChunks=t||[],this._loaded=0;for(var a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),(e._fullRequestReader=this).onProgress=null}_enqueue(e){this._done||(0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){var e;return 0<this._queuedChunks.length?{value:this._queuedChunks.shift(),done:!1}:this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0;for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{var t;this._requests.shift().resolve({value:e,done:!1});for(t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){var e;return this._queuedChunk?(e=this._queuedChunk,this._queuedChunk=null,{value:e,done:!1}):this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0;for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(e){let a=!0,t=l("filename\\*","i").exec(e);var r;return t?(r=c(t=t[1]),o(r=n(r=d(r=unescape(r))))):(t=(e=>{let o=[],t,r=l("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(t=r.exec(e));){var[,a,i,n]=t;if((a=parseInt(a,10))in o){if(0===a)break}else o[a]=[i,n]}var s=[];for(let r=0;r<o.length&&r in o;++r){let[e,t]=o[r];t=c(t),e&&(t=unescape(t),0===r)&&(t=d(t)),s.push(t)}return s.join("")})(e))?o(n(t)):(t=l("filename","i").exec(e))?o(n(c(t=t[1]))):"";function l(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,t){if(e){if(!/^[\x00-\xFF]+$/.test(t))return t;try{var r=new TextDecoder(e,{fatal:!0}),o=stringToBytes(t);t=r.decode(o),a=!1}catch{}}return t}function o(e){return e=a&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),a)?i("iso-8859-1",e):e}function c(e){if(e.startsWith('"')){var t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){var r=t[e].indexOf('"');-1!==r&&(t[e]=t[e].slice(0,r),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function d(e){var t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function n(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,r,o){if("q"===r||"Q"===r)return i(t,o=(o=o.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{o=atob(o)}catch{}return i(t,o)})}}function validateRangeRequestCapabilities({getResponseHeader:e,isHttp:t,rangeChunkSize:r,disableRange:o}){var a={allowRangeRequests:!1,suggestedLength:void 0},i=parseInt(e("Content-Length"),10);return!Number.isInteger(i)||(a.suggestedLength=i)<=2*r||!o&&t&&"bytes"===e("Accept-Ranges")&&"identity"===(e("Content-Encoding")||"identity")&&(a.allowRangeRequests=!0),a}function extractFilenameFromHeader(t){t=t("Content-Disposition");if(t){let e=getFilenameFromContentDispositionHeader(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(isPdfFile(e))return e}return null}function createResponseStatusError(e,t){return 404===e||0===e&&t.startsWith("file:")?new MissingPDFException('Missing PDF "'+t+'".'):new UnexpectedResponseException(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e)}function validateResponseStatus(e){return 200===e||206===e}function createFetchOptions(e,t,r){return{method:"GET",headers:e,signal:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function createHeaders(e){var t,r=new Headers;for(t in e){var o=e[t];void 0!==o&&r.append(t,o)}return r}function getArrayBuffer(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(warn("getArrayBuffer - unexpected data format: "+e),new Uint8Array(e).buffer)}class PDFFetchStream{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(e,t){return t<=this._progressiveDataLength?null:(e=new PDFFetchStreamRangeReader(this,e,t),this._rangeRequestReaders.push(e),e)}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(var t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class PDFFetchStreamReader{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;e=e.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=createHeaders(this._stream.httpHeaders);let a=e.url;fetch(a,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(t=>{if(!validateResponseStatus(t.status))throw createResponseStatusError(t.status,a);this._reader=t.body.getReader(),this._headersCapability.resolve();var e=e=>t.headers.get(e),{allowRangeRequests:r,suggestedLength:o}=validateRangeRequestCapabilities({getResponseHeader:e,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=o||this._contentLength,this._filename=extractFilenameFromHeader(e),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;var{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;e=e.source;this._withCredentials=e.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!e.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-`+(r-1));let o=e.url;fetch(o,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(e=>{if(!validateResponseStatus(e.status))throw createResponseStatusError(e.status,o);this._readCapability.resolve(),this._reader=e.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;var{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:getArrayBuffer(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}let OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(e){e=e.response;return"string"!=typeof e?e:stringToBytes(e).buffer}class NetworkManager{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,r){var o,a={begin:e,end:t};for(o in r)a[o]=r[o];return this.request(a)}requestFull(e){return this.request(e)}request(t){let r=new XMLHttpRequest;var e,o=this.currXhrId++,a=this.pendingRequests[o]={xhr:r};for(e in r.open("GET",this.url),r.withCredentials=this.withCredentials,this.httpHeaders){var i=this.httpHeaders[e];void 0!==i&&r.setRequestHeader(e,i)}return this.isHttp&&"begin"in t&&"end"in t?(r.setRequestHeader("Range",`bytes=${t.begin}-`+(t.end-1)),a.expectedStatus=PARTIAL_CONTENT_RESPONSE):a.expectedStatus=OK_RESPONSE,r.responseType="arraybuffer",t.onError&&(r.onerror=function(e){t.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,o),r.onprogress=this.onProgress.bind(this,o),a.onHeadersReceived=t.onHeadersReceived,a.onDone=t.onDone,a.onError=t.onError,a.onProgress=t.onProgress,r.send(null),o}onProgress(e,t){e=this.pendingRequests[e];e&&e.onProgress?.(t)}onStateChange(e,t){var r,o,a=this.pendingRequests[e];a&&(2<=(r=a.xhr).readyState&&a.onHeadersReceived&&(a.onHeadersReceived(),delete a.onHeadersReceived),4===r.readyState)&&e in this.pendingRequests&&(delete this.pendingRequests[e],(0!==r.status||!this.isHttp)&&((e=r.status||OK_RESPONSE)===OK_RESPONSE&&a.expectedStatus===PARTIAL_CONTENT_RESPONSE||e===a.expectedStatus)?(o=network_getArrayBuffer(r),e===PARTIAL_CONTENT_RESPONSE?(e=r.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(e),a.onDone({begin:parseInt(e[1],10),chunk:o})):o?a.onDone({begin:0,chunk:o}):a.onError?.(r.status)):a.onError?.(r.status))}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class PDFNetworkStream{constructor(e){this._source=e,this._manager=new NetworkManager(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){e=this._rangeRequestReaders.indexOf(e);0<=e&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){e=new PDFNetworkStreamRangeRequestReader(this._manager,e,t);return e.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(e),e}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(var t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class PDFNetworkStreamFullRequestReader{constructor(e,t){this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){var e=this._fullRequestId;let t=this._manager.getRequestXhr(e);var r=e=>t.getResponseHeader(e),{allowRangeRequests:o,suggestedLength:a}=validateRangeRequestCapabilities({getResponseHeader:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=extractFilenameFromHeader(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(0<this._requests.length?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(0<this._cachedChunks.length)){for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=createResponseStatusError(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(var t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;var e;return 0<this._cachedChunks.length?{value:this._cachedChunks.shift(),done:!1}:this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(e,t,r){this._manager=e;var o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,r,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){var t,e=e.chunk;0<this._requests.length?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=createResponseStatusError(e,this._url);for(var t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;var e;return null!==this._queuedChunk?(e=this._queuedChunk,this._queuedChunk=null,{value:e,done:!1}):this._done?{value:void 0,done:!0}:(e=Promise.withResolvers(),this._requests.push(e),e.promise)}cancel(e){this._done=!0;for(var t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}let fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(e){var t=NodePackages.get("url"),r=t.parse(e);if("file:"!==r.protocol&&!r.host){if(/^[a-z]:[/\\]/i.test(e))return t.parse("file:///"+e);r.host||(r.protocol="file:")}return r}class PDFNodeStream{constructor(e){this.source=e,this.url=parseUrl(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new(this.isFsUrl?PDFNodeStreamFsFullReader:PDFNodeStreamFullReader)(this),this._fullRequestReader}getRangeReader(e,t){return t<=this._progressiveDataLength?null:(e=new(this.isFsUrl?PDFNodeStreamFsRangeReader:PDFNodeStreamRangeReader)(this,e,t),this._rangeRequestReaders.push(e),e)}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(var t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class BaseFullReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;e=e.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;var e=this._readableStream.read();return null===e?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){(this._readableStream=e).on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();e=e.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;var e=this._readableStream.read();return null===e?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){(this._readableStream=e).on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}class PDFNodeStreamFullReader extends BaseFullReader{constructor(o){super(o);var e,t=e=>{var t,r;404===e.statusCode?(t=new MissingPDFException(`Missing PDF "${this._url}".`),this._storedError=t,this._headersCapability.reject(t)):(this._headersCapability.resolve(),this._setReadableStream(e),{allowRangeRequests:e,suggestedLength:r}=validateRangeRequestCapabilities({getResponseHeader:t=e=>this._readableStream.headers[e.toLowerCase()],isHttp:o.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),this._isRangeSupported=e,this._contentLength=r||this._contentLength,this._filename=extractFilenameFromHeader(t))};this._request=null,"http:"===this._url.protocol?(e=NodePackages.get("http"),this._request=e.request(createRequestOptions(this._url,o.httpHeaders),t)):(e=NodePackages.get("https"),this._request=e.request(createRequestOptions(this._url,o.httpHeaders),t)),this._request.on("error",e=>{this._storedError=e,this._headersCapability.reject(e)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor(e,t,r){for(var o in super(e),this._httpHeaders={},e.httpHeaders){var a=e.httpHeaders[o];void 0!==a&&(this._httpHeaders[o]=a)}this._httpHeaders.Range=`bytes=${t}-`+(r-1);t=e=>{var t;404===e.statusCode?(t=new MissingPDFException(`Missing PDF "${this._url}".`),this._storedError=t):this._setReadableStream(e)};this._request=null,"http:"===this._url.protocol?(r=NodePackages.get("http"),this._request=r.request(createRequestOptions(this._url,this._httpHeaders),t)):(r=NodePackages.get("https"),this._request=r.request(createRequestOptions(this._url,this._httpHeaders),t)),this._request.on("error",e=>{this._storedError=e}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor(e){super(e);let t=decodeURIComponent(this._url.path),r=(fileUriRegex.test(this._url.href)&&(t=t.replace(/^\//,"")),NodePackages.get("fs"));r.promises.lstat(t).then(e=>{this._contentLength=e.size,this._setReadableStream(r.createReadStream(t)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=new MissingPDFException(`Missing PDF "${t}".`)),this._storedError=e,this._headersCapability.reject(e)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor(e,t,r){super(e);let o=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(o=o.replace(/^\//,""));e=NodePackages.get("fs");this._setReadableStream(e.createReadStream(o,{start:t,end:r-1}))}}let MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;class TextLayer{#capability=Promise.withResolvers();#container=null;#disableProcessItems=!1;#fontInspectorEnabled=!!globalThis.FontInspector?.enabled;#lang=null;#layoutTextParams=null;#pageHeight=0;#pageWidth=0;#reader=null;#rootContainer=null;#rotation=0;#scale=0;#styleCache=Object.create(null);#textContentItemsStr=[];#textContentSource=null;#textDivs=[];#textDivProperties=new WeakMap;#transform=null;static#ascentCache=new Map;static#canvasContexts=new Map;static#minFontSize=null;static#pendingTextLayers=new Set;constructor({textContentSource:t,container:e,viewport:r}){if(t instanceof ReadableStream)this.#textContentSource=t;else{if("object"!=typeof t)throw new Error('No "textContentSource" parameter specified.');this.#textContentSource=new ReadableStream({start(e){e.enqueue(t),e.close()}})}this.#container=this.#rootContainer=e,this.#scale=r.scale*(globalThis.devicePixelRatio||1),this.#rotation=r.rotation,this.#layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};var{pageWidth:o,pageHeight:a,pageX:i,pageY:n}=r.rawDims;this.#transform=[1,0,0,-1,-i,n+a],this.#pageWidth=o,this.#pageHeight=a,TextLayer.#ensureMinFontSizeComputed(),setLayerDimensions(e,r),this.#capability.promise.catch(()=>{}).then(()=>{TextLayer.#pendingTextLayers.delete(this),this.#layoutTextParams=null,this.#styleCache=null})}render(){let r=()=>{this.#reader.read().then(({value:e,done:t})=>{t?this.#capability.resolve():(this.#lang??=e.lang,Object.assign(this.#styleCache,e.styles),this.#processItems(e.items),r())},this.#capability.reject)};return this.#reader=this.#textContentSource.getReader(),TextLayer.#pendingTextLayers.add(this),r(),this.#capability.promise}update({viewport:e,onBefore:t=null}){var r=e.scale*(globalThis.devicePixelRatio||1),e=e.rotation;if(e!==this.#rotation&&(t?.(),this.#rotation=e,setLayerDimensions(this.#rootContainer,{rotation:e})),r!==this.#scale){t?.(),this.#scale=r;var o,a={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:TextLayer.#getCtx(this.#lang)};for(o of this.#textDivs)a.properties=this.#textDivProperties.get(o),a.div=o,this.#layout(a)}}cancel(){var e=new AbortException("TextLayer task cancelled.");this.#reader?.cancel(e).catch(()=>{}),this.#reader=null,this.#capability.reject(e)}get textDivs(){return this.#textDivs}get textContentItemsStr(){return this.#textContentItemsStr}#processItems(e){if(!this.#disableProcessItems){this.#layoutTextParams.ctx??=TextLayer.#getCtx(this.#lang);var t,r,o=this.#textDivs,a=this.#textContentItemsStr;for(t of e){if(o.length>MAX_TEXT_DIVS_TO_RENDER)return warn("Ignoring additional textDivs for performance reasons."),void(this.#disableProcessItems=!0);void 0===t.str?"beginMarkedContentProps"===t.type||"beginMarkedContent"===t.type?(r=this.#container,this.#container=document.createElement("span"),this.#container.classList.add("markedContent"),null!==t.id&&this.#container.setAttribute("id",""+t.id),r.append(this.#container)):"endMarkedContent"===t.type&&(this.#container=this.#container.parentNode):(a.push(t.str),this.#appendText(t))}}}#appendText(e){var t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0},o=(this.#textDivs.push(t),Util.transform(this.#transform,e.transform));let a=Math.atan2(o[1],o[0]);var i=this.#styleCache[e.fontName],n=(i.vertical&&(a+=Math.PI/2),this.#fontInspectorEnabled&&i.fontSubstitution||i.fontFamily),s=Math.hypot(o[2],o[3]),l=s*TextLayer.#getAscent(n,this.#lang);let c,d;d=0===a?(c=o[4],o[5]-l):(c=o[4]+l*Math.sin(a),o[5]-l*Math.cos(a));var o="calc(var(--scale-factor)*",l=t.style;this.#container===this.#rootContainer?(l.left=(100*c/this.#pageWidth).toFixed(2)+"%",l.top=(100*d/this.#pageHeight).toFixed(2)+"%"):(l.left=o+c.toFixed(2)+"px)",l.top=o+d.toFixed(2)+"px)"),l.fontSize=o+(TextLayer.#minFontSize*s).toFixed(2)+"px)",l.fontFamily=n,r.fontSize=s,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#fontInspectorEnabled&&(t.dataset.fontName=i.fontSubstitutionLoadedName||e.fontName),0!==a&&(r.angle=a*(180/Math.PI));let p=!1;(p=1<e.str.length||" "!==e.str&&e.transform[0]!==e.transform[3]&&(o=Math.abs(e.transform[0]))!==(l=Math.abs(e.transform[3]))&&1.5<Math.max(o,l)/Math.min(o,l)?!0:p)&&(r.canvasWidth=i.vertical?e.height:e.width),this.#textDivProperties.set(t,r),this.#layoutTextParams.div=t,this.#layoutTextParams.properties=r,this.#layout(this.#layoutTextParams),r.hasText&&this.#container.append(t),r.hasEOL&&((n=document.createElement("br")).setAttribute("role","presentation"),this.#container.append(n))}#layout(e){var t,r,o,{div:a,properties:i,ctx:n,prevFontSize:s,prevFontFamily:l}=e,c=a.style;let d="";1<TextLayer.#minFontSize&&(d=`scale(${1/TextLayer.#minFontSize})`),0!==i.canvasWidth&&i.hasText&&(t=c.fontFamily,{canvasWidth:r,fontSize:o}=i,s=(s===o&&l===t||(n.font=o*this.#scale+"px "+t,e.prevFontSize=o,e.prevFontFamily=t),n.measureText(a.textContent)).width,0<s)&&(d=`scaleX(${r*this.#scale/s}) `+d),0<(d=0!==i.angle?`rotate(${i.angle}deg) `+d:d).length&&(c.transform=d)}static cleanup(){if(!(0<this.#pendingTextLayers.size)){this.#ascentCache.clear();for(var{canvas:e}of this.#canvasContexts.values())e.remove();this.#canvasContexts.clear()}}static#getCtx(e=null){let t=this.#canvasContexts.get(e||="");var r;return t||((r=document.createElement("canvas")).className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#canvasContexts.set(e,t)),t}static#ensureMinFontSizeComputed(){var e;null===this.#minFontSize&&((e=document.createElement("div")).style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.textContent="X",document.body.append(e),this.#minFontSize=e.getBoundingClientRect().height,e.remove())}static#getAscent(t,r){var o=this.#ascentCache.get(t);if(o)return o;var o=this.#getCtx(r),r=o.font,e=(o.canvas.width=o.canvas.height=DEFAULT_FONT_SIZE,o.font=DEFAULT_FONT_SIZE+"px "+t,o.measureText(""));let a=e.fontBoundingBoxAscent,i=Math.abs(e.fontBoundingBoxDescent);if(a){let e=a/(a+i);return this.#ascentCache.set(t,e),o.canvas.width=o.canvas.height=0,o.font=r,e}o.strokeStyle="red",o.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),o.strokeText("g",0,0);let n=o.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;i=0;for(let e=n.length-1-3;0<=e;e-=4)if(0<n[e]){i=Math.ceil(e/4/DEFAULT_FONT_SIZE);break}o.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),o.strokeText("A",0,DEFAULT_FONT_SIZE),n=o.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;for(let e=a=0,t=n.length;e<t;e+=4)if(0<n[e]){a=DEFAULT_FONT_SIZE-Math.floor(e/4/DEFAULT_FONT_SIZE);break}o.canvas.width=o.canvas.height=0,o.font=r;let s=a?a/(a+i):DEFAULT_FONT_ASCENT;return this.#ascentCache.set(t,s),s}}function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");let{textContentSource:e,container:t,viewport:r,...o}=arguments[0];var a=Object.keys(o),a=(0<a.length&&warn("Ignoring `renderTextLayer` parameters: "+a.join(", ")),new TextLayer({textContentSource:e,container:t,viewport:r})),{textDivs:i,textContentItemsStr:n}=a;return{promise:a.render(),textDivs:i,textContentItemsStr:n}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent(e){let i=[];var t={items:i,styles:Object.create(null)};return function t(r){if(r){let e=null;var o=r.name;if("#text"===o)e=r.value;else{if(!XfaText.shouldBuildText(o))return;r?.attributes?.textContent?e=r.attributes.textContent:r.value&&(e=r.value)}if(null!==e&&i.push({str:e}),r.children)for(var a of r.children)t(a)}}(e),t}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(e={}){"string"==typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});let o=new PDFDocumentLoadingTask,a=o.docId,i=e.url?getUrlProp(e.url):null,n=e.data?getDataProp(e.data):null,s=e.httpHeaders||null,l=!0===e.withCredentials;var t=e.password??null;let c=e.range instanceof PDFDataRangeTransport?e.range:null,d=Number.isInteger(e.rangeChunkSize)&&0<e.rangeChunkSize?e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE,p=e.worker instanceof PDFWorker?e.worker:null;var r=e.verbosity,u="string"!=typeof e.docBaseUrl||isDataScheme(e.docBaseUrl)?null:e.docBaseUrl,g="string"==typeof e.cMapUrl?e.cMapUrl:null,m=!1!==e.cMapPacked,h=e.CMapReaderFactory||DefaultCMapReaderFactory,_="string"==typeof e.standardFontDataUrl?e.standardFontDataUrl:null,f=e.StandardFontDataFactory||DefaultStandardFontDataFactory,y=!0!==e.stopAtErrors,S=Number.isInteger(e.maxImageSize)&&-1<e.maxImageSize?e.maxImageSize:-1,P=!1!==e.isEvalSupported,v="boolean"==typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!isNodeJS,b=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,C="boolean"==typeof e.disableFontFace?e.disableFontFace:isNodeJS,w=!0===e.fontExtraProperties,k=!0===e.enableXfa,x=e.ownerDocument||globalThis.document;let T=!0===e.disableRange,A=!0===e.disableStream;var $=!0===e.disableAutoFetch,L=!0===e.pdfBug,J=!0===e.enableHWA;let G=c?c.length:e.length??NaN;var E="boolean"==typeof e.useSystemFonts?e.useSystemFonts:!isNodeJS&&!C,M="boolean"==typeof e.useWorkerFetch?e.useWorkerFetch:h===DOMCMapReaderFactory&&f===DOMStandardFontDataFactory&&g&&_&&isValidFetchUrl(g,document.baseURI)&&isValidFetchUrl(_,document.baseURI),J=e.canvasFactory||new DefaultCanvasFactory({ownerDocument:x,enableHWA:J}),e=e.filterFactory||new DefaultFilterFactory({docId:a,ownerDocument:x});setVerbosityLevel(r);let I={canvasFactory:J,filterFactory:e},X=(M||(I.cMapReaderFactory=new h({baseUrl:g,isCompressed:m}),I.standardFontDataFactory=new f({baseUrl:_})),p||(J={verbosity:r,port:GlobalWorkerOptions.workerPort},p=J.port?PDFWorker.fromPort(J):new PDFWorker(J),o._worker=p),{docId:a,apiVersion:"4.4.168",data:n,password:t,disableAutoFetch:$,rangeChunkSize:d,length:G,docBaseUrl:u,enableXfa:k,evaluatorOptions:{maxImageSize:S,disableFontFace:C,ignoreErrors:y,isEvalSupported:P,isOffscreenCanvasSupported:v,canvasMaxAreaInBytes:b,fontExtraProperties:w,useSystemFonts:E,cMapUrl:M?g:null,standardFontDataUrl:M?_:null}}),D={disableFontFace:C,fontExtraProperties:w,ownerDocument:x,pdfBug:L,styleElement:null,loadingParams:{disableAutoFetch:$,enableXfa:k}};return p.promise.then(function(){if(o.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");var e,t=p.messageHandler.sendWithPromise("GetDocRequest",X,n?[n.buffer]:null);let r;if(c)r=new PDFDataTransportStream(c,{disableRange:T,disableStream:A});else if(!n){if(!i)throw new Error("getDocument - no `url` parameter provided.");r=(e={url:i,length:G,httpHeaders:s,withCredentials:l,rangeChunkSize:d,disableRange:T,disableStream:A},new(isNodeJS?"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&isValidFetchUrl(e.url)?PDFFetchStream:PDFNodeStream:isValidFetchUrl(e.url)?PDFFetchStream:PDFNetworkStream)(e))}return t.then(e=>{if(o.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");var e=new MessageHandler(a,e,p.port),t=new WorkerTransport(e,o,r,D,I);o._transport=t,e.send("Ready",null)})}).catch(o._capability.reject),o}function getUrlProp(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch{if(isNodeJS&&"string"==typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(e){if(isNodeJS&&"undefined"!=typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"==typeof e)return stringToBytes(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"==typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(e){return"object"==typeof e&&Number.isInteger(e?.num)&&0<=e.num&&Number.isInteger(e?.gen)&&0<=e.gen}class PDFDocumentLoadingTask{static#docId=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#docId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class PDFDataRangeTransport{constructor(e,t,r=!1,o=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(var r of this._rangeListeners)r(e,t)}onDataProgress(t,r){this._readyCapability.promise.then(()=>{for(var e of this._progressListeners)e(t,r)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(var e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(var e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){e=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class PDFPageProxy{#delayedCleanupTimeout=null;#pendingCleanup=!1;constructor(e,t,r,o=!1){this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=o?new StatTimer:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:o=0,dontFlip:a=!1}={}){return new PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:o,dontFlip:a})}getAnnotations({intent:e="display"}={}){e=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:o=AnnotationMode.ENABLE,transform:a=null,background:i=null,optionalContentConfigPromise:n=null,annotationCanvasMap:s=null,pageColors:l=null,printAnnotationStorage:c=null}){this._stats?.time("Overall");r=this._transport.getRenderingIntent(r,o,c);let{renderingIntent:d,cacheKey:p}=r,u=(this.#pendingCleanup=!1,this.#abortDelayedCleanup(),n||=this._transport.getOptionalContentConfig(d),this._intentStates.get(p)),g=(u||(u=Object.create(null),this._intentStates.set(p,u)),u.streamReaderCancelTimeout&&(clearTimeout(u.streamReaderCancelTimeout),u.streamReaderCancelTimeout=null),!!(d&RenderingIntentFlag.PRINT)),m=(u.displayReadyCapability||(u.displayReadyCapability=Promise.withResolvers(),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),e=>{u.renderTasks.delete(h),(this._maybeCleanupAfterRender||g)&&(this.#pendingCleanup=!0),this.#tryCleanup(!g),e?(h.capability.reject(e),this._abortOperatorList({intentState:u,reason:e instanceof Error?e:new Error(e)})):h.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled)&&globalThis.Stats.add(this.pageNumber,this._stats)}),h=new InternalRenderTask({callback:m,params:{canvasContext:e,viewport:t,transform:a,background:i},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:s,operatorList:u.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!g,pdfBug:this._pdfBug,pageColors:l});(u.renderTasks||=new Set).add(h);o=h.task;return Promise.all([u.displayReadyCapability.promise,n]).then(([e,t])=>{if(this.destroyed)m();else{if(this._stats?.time("Rendering"),!(t.renderingIntent&d))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");h.initializeGraphics({transparency:e,optionalContentConfig:t}),h.operatorListChanged()}}).catch(m),o}getOperatorList({intent:e="display",annotationMode:t=AnnotationMode.ENABLE,printAnnotationStorage:r=null}={}){e=this._transport.getRenderingIntent(e,t,r,!0);let o=this._intentStates.get(e.cacheKey);o||(o=Object.create(null),this._intentStates.set(e.cacheKey,o));let a;return o.opListReadCapability||((a=Object.create(null)).operatorListChanged=function(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))},o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(e)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size(e){return e.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>XfaText.textContent(e));let r=this.streamTextContent(e);return new Promise(function(o,e){let t=r.getReader(),a={items:[],styles:Object.create(null),lang:null};!function r(){t.read().then(function({value:e,done:t}){t?o(a):(a.lang??=e.lang,Object.assign(a.styles,e.styles),a.items.push(...e.items),r())},e)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;var e,t=[];for(e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(var r of e.renderTasks)t.push(r.completed),r.cancel();return this.objs.clear(),this.#pendingCleanup=!1,this.#abortDelayedCleanup(),Promise.all(t)}cleanup(e=!1){this.#pendingCleanup=!0;var t=this.#tryCleanup(!1);return e&&t&&(this._stats&&=new StatTimer),t}#tryCleanup(e=!1){if(this.#abortDelayedCleanup(),!this.#pendingCleanup||this.destroyed)return!1;if(e)return this.#delayedCleanupTimeout=setTimeout(()=>{this.#delayedCleanupTimeout=null,this.#tryCleanup(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(var{renderTasks:t,operatorList:r}of this._intentStates.values())if(0<t.size||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),!(this.#pendingCleanup=!1)}#abortDelayedCleanup(){this.#delayedCleanupTimeout&&(clearTimeout(this.#delayedCleanupTimeout),this.#delayedCleanupTimeout=null)}_startRenderPage(e,t){t=this._intentStates.get(t);t&&(this._stats?.timeEnd("Page Request"),t.displayReadyCapability?.resolve(e))}_renderPageChunk(r,o){for(let e=0,t=r.length;e<t;e++)o.operatorList.fnArray.push(r.fnArray[e]),o.operatorList.argsArray.push(r.argsArray[e]);o.operatorList.lastChunk=r.lastChunk,o.operatorList.separateAnnots=r.separateAnnots;for(var e of o.renderTasks)e.operatorListChanged();r.lastChunk&&this.#tryCleanup(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r}){var{map:r,transfer:o}=r;let a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r},o).getReader(),i=this._intentStates.get(t),n=(i.streamReader=a,()=>{a.read().then(({value:e,done:t})=>{t?i.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,i),n())},e=>{if(i.streamReader=null,!this._transport.destroyed){if(i.operatorList){i.operatorList.lastChunk=!0;for(var t of i.renderTasks)t.operatorListChanged();this.#tryCleanup(!0)}if(i.displayReadyCapability)i.displayReadyCapability.reject(e);else{if(!i.opListReadCapability)throw e;i.opListReadCapability.reject(e)}}})});n()}_abortOperatorList({intentState:t,reason:r,force:e=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!e){if(0<t.renderTasks.size)return;if(r instanceof RenderingCancelledException){let e=RENDERING_CANCELLED_TIMEOUT;return 0<r.extraDelay&&r.extraDelay<1e3&&(e+=r.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:r,force:!0})},e))}}if(t.streamReader.cancel(new AbortException(r.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(var[o,a]of this._intentStates)if(a===t){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}class LoopbackPort{#listeners=new Set;#deferred=Promise.resolve();postMessage(e,t){let r={data:structuredClone(e,t?{transfer:t}:null)};this.#deferred.then(()=>{for(var e of this.#listeners)e.call(this,r)})}addEventListener(e,t){this.#listeners.add(t)}removeEventListener(e,t){this.#listeners.delete(t)}terminate(){this.#listeners.clear()}}let PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||="./pdf.worker.mjs"),PDFWorkerUtil.isSameOrigin=function(e,t){let r;try{if(!(r=new URL(e)).origin||"null"===r.origin)return!1}catch{return!1}e=new URL(t,r);return r.origin===e.origin},PDFWorkerUtil.createCDNWrapper=function(e){return URL.createObjectURL(new Blob([`await import("${e}");`],{type:"text/javascript"}))};class PDFWorker{static#workerPorts;constructor({name:e=null,port:t=null,verbosity:r=getVerbosityLevel()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(PDFWorker.#workerPorts?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(t,this),this._initializeFromPort(t)}else this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}#resolve(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this.#resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker.#mainThreadWorkerMessageHandler){let e=PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),r=new MessageHandler("main","worker",t),o=()=>{a.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController,i=(t.addEventListener("error",()=>{this._webWorker||o()},{signal:a.signal}),r.on("test",e=>{a.abort(),this.destroyed||!e?o():(this._messageHandler=r,this._port=t,this._webWorker=t,this.#resolve())}),r.on("ready",e=>{if(a.abort(),this.destroyed)o();else try{i()}catch{this._setupFakeWorker()}}),()=>{var e=new Uint8Array;r.send("test",e,[e.buffer])});return void i()}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(e=>{var t,r,o;this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):(t=new LoopbackPort,this._port=t,r="fake"+PDFWorkerUtil.fakeWorkerId++,o=new MessageHandler(r+"_worker",r,t),e.setup(o,t),this._messageHandler=new MessageHandler(r,r+"_worker",t),this.#resolve())}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");var t=this.#workerPorts?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new PDFWorker(e)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>this.#mainThreadWorkerMessageHandler||(await import(this.workerSrc)).WorkerMessageHandler)())}}class WorkerTransport{#methodPromises=new Map;#pageCache=new Map;#pagePromises=new Map;#pageRefCache=new Map;#passwordCapability=null;constructor(e,t,r,o,a){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#cacheSimpleMethod(e,t=null){var r=this.#methodPromises.get(e);return r||(r=this.messageHandler.sendWithPromise(e,t),this.#methodPromises.set(e,r),r)}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(e,t=AnnotationMode.ENABLE,r=null,o=!1){let a=RenderingIntentFlag.DISPLAY,i=SerializableEmpty;switch(e){case"any":a=RenderingIntentFlag.ANY;break;case"display":break;case"print":a=RenderingIntentFlag.PRINT;break;default:warn("getRenderingIntent - invalid intent: "+e)}switch(t){case AnnotationMode.DISABLE:a+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:a+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:var n=(a+=RenderingIntentFlag.ANNOTATIONS_STORAGE)&RenderingIntentFlag.PRINT&&r instanceof PrintAnnotationStorage?r:this.annotationStorage;i=n.serializable;break;default:warn("getRenderingIntent - invalid annotationMode: "+t)}return o&&(a+=RenderingIntentFlag.OPLIST),{renderingIntent:a,cacheKey:a+"_"+i.hash,annotationStorageSerializable:i}}destroy(){if(!this.destroyCapability){this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#passwordCapability?.reject(new Error("Worker was destroyed during onPassword callback"));var e,t=[];for(e of this.#pageCache.values())t.push(e._destroy());this.#pageCache.clear(),this.#pagePromises.clear(),this.#pageRefCache.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var r=this.messageHandler.sendWithPromise("Terminate",null);t.push(r),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#methodPromises.clear(),this.filterFactory.destroy(),TextLayer.cleanup(),this._networkStream?.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject)}return this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:d,loadingTask:o}=this;d.on("GetReader",(e,r)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},r.onPull=()=>{this._fullReader.read().then(function({value:e,done:t}){t?r.close():(assert(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{r.error(e)})},r.onCancel=e=>{this._fullReader.cancel(e),r.ready.catch(e=>{if(!this.destroyed)throw e})}}),d.on("ReaderHeadersReady",e=>{let t=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{r.isStreamingSupported&&r.isRangeSupported||(this._lastProgress&&o.onProgress?.(this._lastProgress),r.onProgress=e=>{o.onProgress?.({loaded:e.loaded,total:e.total})}),t.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},t.reject),t.promise}),d.on("GetRangeReader",(e,r)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let t=this._networkStream.getRangeReader(e.begin,e.end);t?(r.onPull=()=>{t.read().then(function({value:e,done:t}){t?r.close():(assert(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{r.error(e)})},r.onCancel=e=>{t.cancel(e),r.ready.catch(e=>{if(!this.destroyed)throw e})}):r.close()}),d.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,o._capability.resolve(new PDFDocumentProxy(e,this))}),d.on("DocException",function(e){let t;switch(e.name){case"PasswordException":t=new PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new InvalidPDFException(e.message);break;case"MissingPDFException":t=new MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new UnknownErrorException(e.message,e.details);break;default:unreachable("DocException - expected a valid Error.")}o._capability.reject(t)}),d.on("PasswordRequest",e=>{if(this.#passwordCapability=Promise.withResolvers(),o.onPassword){var t=e=>{e instanceof Error?this.#passwordCapability.reject(e):this.#passwordCapability.resolve({password:e})};try{o.onPassword(t,e.code)}catch(e){this.#passwordCapability.reject(e)}}else this.#passwordCapability.reject(new PasswordException(e.message,e.code));return this.#passwordCapability.promise}),d.on("DataLoaded",e=>{o.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),d.on("StartRenderPage",e=>{this.destroyed||this.#pageCache.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),d.on("commonobj",([a,e,i])=>{if(!this.destroyed&&!this.commonObjs.has(a))switch(e){case"Font":let{disableFontFace:t,fontExtraProperties:r,pdfBug:o}=this._params;if("error"in i){var n=i.error;warn("Error during font loading: "+n),this.commonObjs.resolve(a,n)}else{n=o&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null;let e=new FontFaceObject(i,{disableFontFace:t,inspectFont:n});this.fontLoader.bind(e).catch(()=>d.sendWithPromise("FontFallback",{id:a})).finally(()=>{!r&&e.data&&(e.data=null),this.commonObjs.resolve(a,e)})}break;case"CopyLocalImage":var s,l=i.imageRef;assert(l,"The imageRef must be defined.");for(s of this.#pageCache.values())for(var[,c]of s.objs)if(c?.ref===l)return c.dataLen?(this.commonObjs.resolve(a,structuredClone(c)),c.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(a,i);break;default:throw new Error("Got unknown common object type "+e)}return null}),d.on("obj",([e,t,r,o])=>{if(!this.destroyed){var a=this.#pageCache.get(t);if(!a.objs.has(e))if(0===a._intentStates.size)o?.bitmap?.close();else switch(r){case"Image":a.objs.resolve(e,o),o?.dataLen>MAX_IMAGE_SIZE_TO_CACHE&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(e,o);break;default:throw new Error("Got unknown object type "+r)}}}),d.on("DocProgress",e=>{this.destroyed||o.onProgress?.({loaded:e.loaded,total:e.total})}),d.on("FetchBuiltInCMap",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),d.on("FetchStandardFontData",e=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");var{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));let r=t-1,e=this.#pagePromises.get(r);var o;return e||(o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(e=>{if(this.destroyed)throw new Error("Transport destroyed");e.refStr&&this.#pageRefCache.set(e.refStr,t);e=new PDFPageProxy(r,e,this,this._params.pdfBug);return this.#pageCache.set(r,e),e}),this.#pagePromises.set(r,o),o)}getPageIndex(e){return isRefProxy(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#cacheSimpleMethod("GetFieldObjects")}hasJSActions(){return this.#cacheSimpleMethod("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#cacheSimpleMethod("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#cacheSimpleMethod("GetOptionalContentConfig").then(e=>new OptionalContentConfig(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){var e="GetMetadata",t=this.#methodPromises.get(e);return t||(t=this.messageHandler.sendWithPromise(e,null).then(e=>({info:e[0],metadata:e[1]?new Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})),this.#methodPromises.set(e,t),t)}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(var t of this.#pageCache.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#methodPromises.clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber(e){return isRefProxy(e)?(e=0===e.gen?e.num+"R":e.num+"R"+e.gen,this.#pageRefCache.get(e)??null):null}}let INITIAL_DATA=Symbol("INITIAL_DATA");class PDFObjects{#objs=Object.create(null);#ensureObj(e){return this.#objs[e]||={...Promise.withResolvers(),data:INITIAL_DATA}}get(t,r=null){if(r){let e=this.#ensureObj(t);return e.promise.then(()=>r(e.data)),null}let e=this.#objs[t];if(e&&e.data!==INITIAL_DATA)return e.data;throw new Error(`Requesting object that isn't resolved yet ${t}.`)}has(e){e=this.#objs[e];return!!e&&e.data!==INITIAL_DATA}resolve(e,t=null){e=this.#ensureObj(e);e.data=t,e.resolve()}clear(){for(var e in this.#objs){e=this.#objs[e].data;e?.bitmap?.close()}this.#objs=Object.create(null)}*[Symbol.iterator](){for(var e in this.#objs){var t=this.#objs[e].data;t!==INITIAL_DATA&&(yield[e,t])}}}class RenderTask{#internalRenderTask=null;constructor(e){this.#internalRenderTask=e,this.onContinue=null}get promise(){return this.#internalRenderTask.capability.promise}cancel(e=0){this.#internalRenderTask.cancel(null,e)}get separateAnnots(){var e,t=this.#internalRenderTask.operatorList.separateAnnots;return!!t&&(e=this.#internalRenderTask.annotationCanvasMap,t.form||t.canvas&&0<e?.size)}}class InternalRenderTask{#rAF=null;static#canvasInUse=new WeakSet;constructor({callback:e,params:t,objs:r,commonObjs:o,annotationCanvasMap:a,operatorList:i,pageIndex:n,canvasFactory:s,filterFactory:l,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:p=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=o,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=n,this.canvasFactory=s,this.filterFactory=l,this._pdfBug=d,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===c&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(!this.cancelled){if(this._canvas){if(InternalRenderTask.#canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#canvasInUse.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var{canvasContext:r,viewport:o,transform:a,background:i}=this.params;this.gfx=new CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:o,transparency:e,background:i}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#rAF&&(window.cancelAnimationFrame(this.#rAF),this.#rAF=null),InternalRenderTask.#canvasInUse.delete(this._canvas),this.callback(e||new RenderingCancelledException("Rendering cancelled, page "+(this._pageIndex+1),t))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#rAF=window.requestAnimationFrame(()=>{this.#rAF=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk)&&(this.gfx.endDrawing(),InternalRenderTask.#canvasInUse.delete(this._canvas),this.callback()))}}let version="4.4.168",build="19fbc8998";function makeColorComp(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function scaleAndClamp(e){return Math.max(0,Math.min(255,255*e))}class ColorConverters{static CMYK_G([e,t,r,o]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+o)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=scaleAndClamp(e),e,e]}static G_HTML([e]){e=makeColorComp(e);return"#"+e+e+e}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(scaleAndClamp)}static RGB_HTML(e){return"#"+e.map(makeColorComp).join("")}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,o]){return["RGB",1-Math.min(1,e+o),1-Math.min(1,r+o),1-Math.min(1,t+o)]}static CMYK_rgb([e,t,r,o]){return[scaleAndClamp(1-Math.min(1,e+o)),scaleAndClamp(1-Math.min(1,r+o)),scaleAndClamp(1-Math.min(1,t+o))]}static CMYK_HTML(e){e=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([e,t,r]){e=1-e,t=1-t,r=1-r;return["CMYK",e,t,r,Math.min(e,t,r)]}}class XfaLayer{static setupStorage(e,t,r,o,a){var i=o.getValue(t,{value:null});switch(r.name){case"textarea":null!==i.value&&(e.textContent=i.value),"print"!==a&&e.addEventListener("input",e=>{o.setValue(t,{value:e.target.value})});break;case"input":if("radio"===r.attributes.type||"checkbox"===r.attributes.type){if(i.value===r.attributes.xfaOn?e.setAttribute("checked",!0):i.value===r.attributes.xfaOff&&e.removeAttribute("checked"),"print"===a)break;e.addEventListener("change",e=>{o.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==i.value&&e.setAttribute("value",i.value),"print"===a)break;e.addEventListener("input",e=>{o.setValue(t,{value:e.target.value})})}break;case"select":if(null!==i.value){e.setAttribute("value",i.value);for(var n of r.children)n.attributes.value===i.value?n.attributes.selected=!0:n.attributes.hasOwnProperty("selected")&&delete n.attributes.selected}e.addEventListener("input",e=>{e=e.target.options,e=-1===e.selectedIndex?"":e[e.selectedIndex].value;o.setValue(t,{value:e})})}}static setAttributes({html:e,element:t,storage:r=null,intent:o,linkService:a}){var i,n,s=t.attributes,l=e instanceof HTMLAnchorElement;"radio"===s.type&&(s.name=s.name+"-"+o);for([i,n]of Object.entries(s))if(null!=n)switch(i){case"class":n.length&&e.setAttribute(i,n.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",n);break;case"style":Object.assign(e.style,n);break;case"textContent":e.textContent=n;break;default:l&&("href"===i||"newWindow"===i)||e.setAttribute(i,n)}l&&a.addLinkAttributes(e,s.href,s.newWindow),r&&s.dataId&&this.setupStorage(e,s.dataId,t,r)}static render(e){var t=e.annotationStorage,r=e.linkService,o=e.xfaHtml,a=e.intent||"display",i=document.createElement(o.name),n=(o.attributes&&this.setAttributes({html:i,element:o,intent:a,linkService:r}),"richText"!==a),s=e.div,l=(s.append(i),e.viewport&&(e=`matrix(${e.viewport.transform.join(",")})`,s.style.transform=e),n&&s.setAttribute("class","xfaLayer xfaFont"),[]);if(0===o.children.length)o.value&&(e=document.createTextNode(o.value),i.append(e),n)&&XfaText.shouldBuildText(o.name)&&l.push(e);else{for(var c,d=[[o,-1,i]];0<d.length;){var p,[u,g,m]=d.at(-1);g+1===u.children.length?d.pop():null!==(g=u.children[++d.at(-1)[1]])&&(u=g.name,"#text"===u?(p=document.createTextNode(g.value),l.push(p),m.append(p)):(p=g?.attributes?.xmlns?document.createElementNS(g.attributes.xmlns,u):document.createElement(u),m.append(p),g.attributes&&this.setAttributes({html:p,element:g,storage:t,intent:a,linkService:r}),0<g.children?.length?d.push([g,-1,p]):g.value&&(m=document.createTextNode(g.value),n&&XfaText.shouldBuildText(u)&&l.push(m),p.append(m))))}for(c of s.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))c.setAttribute("readOnly",!0)}return{textDivs:l}}static update(e){var t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}let DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class AnnotationElementFactory{static create(e){switch(e.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(e);case AnnotationType.TEXT:return new TextAnnotationElement(e);case AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(e);case"Btn":return e.data.radioButton?new RadioButtonWidgetAnnotationElement(e):new(e.data.checkBox?CheckboxWidgetAnnotationElement:PushButtonWidgetAnnotationElement)(e);case"Ch":return new ChoiceWidgetAnnotationElement(e);case"Sig":return new SignatureWidgetAnnotationElement(e)}return new WidgetAnnotationElement(e);case AnnotationType.POPUP:return new PopupAnnotationElement(e);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(e);case AnnotationType.LINE:return new LineAnnotationElement(e);case AnnotationType.SQUARE:return new SquareAnnotationElement(e);case AnnotationType.CIRCLE:return new CircleAnnotationElement(e);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(e);case AnnotationType.CARET:return new CaretAnnotationElement(e);case AnnotationType.INK:return new InkAnnotationElement(e);case AnnotationType.POLYGON:return new PolygonAnnotationElement(e);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(e);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(e);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(e);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(e);case AnnotationType.STAMP:return new StampAnnotationElement(e);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(e);default:return new AnnotationElement(e)}}}class AnnotationElement{#updates=null;#hasBorder=!1;#popupElement=null;constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:o=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e?.str||t?.str||r?.str)}get hasPopupData(){return AnnotationElement._hasPopupData(this.data)}updateEdited(e){var t;this.container&&(this.#updates||={rect:this.data.rect.slice(0)},t=e.rect,t&&this.#setRectEdited(t),this.#popupElement?.popup.updateEdited(e))}resetEdited(){this.#updates&&(this.#setRectEdited(this.#updates.rect),this.#popupElement?.popup.resetEdited(),this.#updates=null)}#setRectEdited(e){var{container:{style:t},data:{rect:r,rotation:o},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:i,pageX:n,pageY:s}}}}=this,{width:r,height:l}=(r?.splice(0,4,...e),getRectDims(e));t.left=100*(e[0]-n)/a+"%",t.top=100*(i-e[3]+s)/i+"%",0===o?(t.width=100*r/a+"%",t.height=100*l/i+"%"):this.setRotation(o)}_createContainer(t){var{data:r,parent:{page:o,viewport:a}}=this,i=document.createElement("section"),n=(i.setAttribute("data-annotation-id",r.id),this instanceof WidgetAnnotationElement||(i.tabIndex=DEFAULT_TAB_INDEX),i).style;if(n.zIndex=this.parent.zIndex++,r.popupRef&&i.setAttribute("aria-haspopup","dialog"),r.alternativeText&&(i.title=r.alternativeText),r.noRotate&&i.classList.add("norotate"),!r.rect||this instanceof PopupAnnotationElement){let e=r.rotation;r.hasOwnCanvas||0===e||this.setRotation(e,i)}else{var{width:s,height:l}=getRectDims(r.rect);if(!t&&0<r.borderStyle.width){n.borderWidth=r.borderStyle.width+"px";var t=r.borderStyle.horizontalCornerRadius,c=r.borderStyle.verticalCornerRadius;switch(0<t||0<c?n.borderRadius=`calc(${t}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`:this instanceof RadioButtonWidgetAnnotationElement&&(n.borderRadius=`calc(${s}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`),r.borderStyle.style){case AnnotationBorderStyleType.SOLID:n.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:n.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:n.borderBottomStyle="solid"}t=r.borderColor||null;t?(this.#hasBorder=!0,n.borderColor=Util.makeHexColor(0|t[0],0|t[1],0|t[2])):n.borderWidth=0}var c=Util.normalizeRect([r.rect[0],o.view[3]-r.rect[1]+o.view[1],r.rect[2],o.view[3]-r.rect[3]+o.view[1]]),{pageWidth:t,pageHeight:o,pageX:a,pageY:d}=a.rawDims;n.left=100*(c[0]-a)/t+"%",n.top=100*(c[1]-d)/o+"%";let e=r.rotation;r.hasOwnCanvas||0===e?(n.width=100*s/t+"%",n.height=100*l/o+"%"):this.setRotation(e,i)}return i}setRotation(r,o=this.container){if(this.data.rect){var{pageWidth:a,pageHeight:i}=this.parent.viewport.rawDims,{width:n,height:s}=getRectDims(this.data.rect);let e,t;t=r%180==0?(e=100*n/a,100*s/i):(e=100*s/a,100*n/i),o.style.width=e+"%",o.style.height=t+"%",o.setAttribute("data-main-rotation",(360-r)%360)}}get _commonActions(){let t=(e,t,r)=>{var e=r.detail[e],o=e[0],e=e.slice(1);r.target.style[t]=ColorConverters[o+"_HTML"](e),this.annotationStorage.setValue(this.data.id,{[t]:ColorConverters[o+"_rgb"](e)})};return shadow(this,"_commonActions",{display:e=>{var e=e.detail.display,t=e%2==1;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:t,noPrint:1===e||2===e})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{e=e.detail.hidden;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{e=e.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(e,t){var r,o=this._commonActions;for(r of Object.keys(t.detail))(e[r]||o[r])?.(t)}_setDefaultPropertiesFromJS(e){if(this.enableScripting){var t=this.annotationStorage.getRawValue(this.data.id);if(t){var r,o,a=this._commonActions;for([r,o]of Object.entries(t)){var i=a[r];i&&(i({detail:{[r]:o},target:e}),delete t[r])}}}}_createQuadrilaterals(){if(this.container){var o=this.data.quadPoints;if(o){var[a,e,t,i]=this.data.rect.map(e=>Math.fround(e));if(8===o.length){var[n,s,l,c]=o.subarray(2,6);if(t===n&&i===s&&a===l&&e===c)return}n=this.container.style;let r;this.#hasBorder&&({borderColor:s,borderWidth:l}=n,n.borderWidth=0,r=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${s}" stroke-width="${l}">`],this.container.classList.add("hasBorder"));var d=t-a,p=i-e,u=this.svgFactory,c=u.createElement("svg"),s=(c.classList.add("quadrilateralsContainer"),c.setAttribute("width",0),c.setAttribute("height",0),u.createElement("defs")),g=(c.append(s),u.createElement("clipPath")),l="clippath_"+this.data.id;g.setAttribute("id",l),g.setAttribute("clipPathUnits","objectBoundingBox"),s.append(g);for(let e=2,t=o.length;e<t;e+=8){var m=o[e],h=o[e+1],_=o[e+2],f=o[e+3],y=u.createElement("rect"),S=(_-a)/d,P=(i-h)/p,m=(m-_)/d,_=(h-f)/p;y.setAttribute("x",S),y.setAttribute("y",P),y.setAttribute("width",m),y.setAttribute("height",_),g.append(y),r?.push(`<rect vector-effect="non-scaling-stroke" x="${S}" y="${P}" width="${m}" height="${_}"/>`)}this.#hasBorder&&(r.push("</g></svg>')"),n.backgroundImage=r.join("")),this.container.append(c),this.container.style.clipPath=`url(#${l})`}}}_createPopup(){var{container:e,data:t}=this,e=(e.setAttribute("aria-haspopup","dialog"),this.#popupElement=new PopupAnnotationElement({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_"+t.id,rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){var r=[];if(this._fieldObjects){var o=this._fieldObjects[e];if(o)for(var{page:a,id:i,exportValues:n}of o)-1!==a&&i!==t&&(a="string"==typeof n?n:null,(n=document.querySelector(`[data-element-id="${i}"]`))&&!GetElementsByNameSet.has(n)?warn("_getElementsByName - element not allowed: "+i):r.push({id:i,exportValue:a,domElement:n}))}else for(var s of document.getElementsByName(e)){var l=s.exportValue,c=s.getAttribute("data-element-id");c!==t&&GetElementsByNameSet.has(s)&&r.push({id:c,exportValue:l,domElement:s})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){var e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(var t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(this._isEditable){let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}}}class LinkAnnotationElement extends AnnotationElement{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){var{data:e,linkService:t}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let o=!1;return e.url?(t.addLinkAttributes(r,e.url,e.newWindow),o=!0):e.action?(this._bindNamedAction(r,e.action),o=!0):e.attachment?(this.#bindAttachment(r,e.attachment,e.attachmentDest),o=!0):e.setOCGState?(this.#bindSetOCGState(r,e.setOCGState),o=!0):e.dest?(this._bindLink(r,e.dest),o=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),o=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(r,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(r),this.container}#setInternalLink(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),!t&&""!==t||this.#setInternalLink()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#setInternalLink()}#bindAttachment(e,t,r=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#setInternalLink()}#bindSetOCGState(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#setInternalLink()}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");var o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let e of Object.keys(r.actions)){var a=o.get(e);a&&(t[a]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:e}}),!1))}t.onclick||(t.onclick=()=>!1),this.#setInternalLink()}_bindResetFormAction(e,f){let y=e.onclick;y||(e.href=this.linkService.getAnchorUrl("")),this.#setInternalLink(),this._fieldObjects?e.onclick=()=>{y?.();var{fields:e,refs:t,include:r}=f,o=[];if(0!==e.length||0!==t.length){var a,i,n,s=new Set(t);for(a of e)for({id:i}of this._fieldObjects[a]||[])s.add(i);for(n of Object.values(this._fieldObjects))for(var l of n)s.has(l.id)===r&&o.push(l)}else for(var c of Object.values(this._fieldObjects))o.push(...c);var d,p=this.annotationStorage,u=[];for(d of o){var g=d.id;switch(u.push(g),d.type){case"text":var m=d.defaultValue||"";p.setValue(g,{value:m});break;case"checkbox":case"radiobutton":m=d.defaultValue===d.exportValues;p.setValue(g,{value:m});break;case"combobox":case"listbox":var h=d.defaultValue||"";p.setValue(g,{value:h});break;default:continue}var _=document.querySelector(`[data-element-id="${g}"]`);_&&(GetElementsByNameSet.has(_)?_.dispatchEvent(new Event("resetform")):warn("_bindResetFormAction - element not allowed: "+g))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}}),!1}:(warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),y||(e.onclick=()=>!1))}}class TextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");var e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return util_FeatureTest.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,o,a){r.includes("mouse")?e.addEventListener(r,e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:a(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(r,e=>{if("blur"===r){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===r){if(t.focused)return;t.focused=!0}a&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:a(e)}})})}_setEventListeners(e,t,r,o){for(var[a,i]of r)"Action"!==i&&!this.data.actions?.[i]||("Focus"!==i&&"Blur"!==i||(t||={focused:!1}),this._setEventListener(e,t,a,i,o),"Focus"!==i||this.data.actions?.Blur?"Blur"!==i||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){var t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Util.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){var t=this.data.defaultAppearanceData.fontColor,r=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,e=e.style;let o;var a,i,n=e=>Math.round(10*e)/10;o=this.data.multiLine?(i=Math.abs(this.data.rect[3]-this.data.rect[1]-2),a=Math.round(i/(LINE_FACTOR*r))||1,Math.min(r,n(i/a/LINE_FACTOR))):(i=Math.abs(this.data.rect[3]-this.data.rect[1]-2),Math.min(r,n(i/LINE_FACTOR))),e.fontSize=`calc(${o}px * var(--scale-factor))`,e.color=Util.makeHexColor(t[0],t[1],t[2]),null!==this.data.textAlignment&&(e.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,r,o){var a,i=this.annotationStorage;for(a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),i.setValue(a.id,{[o]:r})}render(){let a=this.annotationStorage,d=this.data.id,i=(this.container.classList.add("textWidgetAnnotation"),null);if(this.renderForms){var r=a.getValue(d,{value:this.data.fieldValue});let e=r.value||"";var n=a.getValue(d,{charLimit:this.data.maxLen}).charLimit;n&&e.length>n&&(e=e.slice(0,n));let t=r.formattedValue||this.data.textContent?.join("\n")||null,c=(t&&this.data.comb&&(t=t.replaceAll(/\s+/g,"")),{userValue:e,formattedValue:t,lastCommittedValue:null,commitKey:1,focused:!1}),o=(this.data.multiLine?((i=document.createElement("textarea")).textContent=t??e,this.data.doNotScroll&&(i.style.overflowY="hidden")):((i=document.createElement("input")).type="text",i.setAttribute("value",t??e),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),GetElementsByNameSet.add(i),i.setAttribute("data-element-id",d),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(i,this.data.required),n&&(i.maxLength=n),i.addEventListener("input",e=>{a.setValue(d,{value:e.target.value}),this.setPropertyOnSiblings(i,"value",e.target.value,"value"),c.formattedValue=null}),i.addEventListener("resetform",e=>{var t=this.data.defaultFieldValue??"";i.value=c.userValue=t,c.formattedValue=null}),e=>{var t=c.formattedValue;null!=t&&(e.target.value=t),e.target.scrollLeft=0});if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",e=>{c.focused||(e=e.target,c.userValue&&(e.value=c.userValue),c.lastCommittedValue=e.value,c.commitKey=1,this.data.actions?.Focus)||(c.focused=!0)}),i.addEventListener("updatefromsandbox",e=>{this.showElementAndHideCanvas(e.target),this._dispatchEventFromSandbox({value(e){c.userValue=e.detail.value??"",a.setValue(d,{value:c.userValue.toString()}),e.target.value=c.userValue},formattedValue(e){var t=e.detail.formattedValue;null!=(c.formattedValue=t)&&e.target!==document.activeElement&&(e.target.value=t),a.setValue(d,{formattedValue:t})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:t=>{var r=t.detail.charLimit,t=t.target;if(0===r)t.removeAttribute("maxLength");else{t.setAttribute("maxLength",r);let e=c.userValue;!e||e.length<=r||(e=e.slice(0,r),t.value=c.userValue=e,a.setValue(d,{value:e}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:e,willCommit:!0,commitKey:1,selStart:t.selectionStart,selEnd:t.selectionEnd}}))}}},e)}),i.addEventListener("keydown",e=>{let t=-(c.commitKey=1);var r;"Escape"===e.key?t=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):t=2,-1!==t&&(r=e.target.value,c.lastCommittedValue!==r)&&(c.lastCommittedValue=r,c.userValue=r,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:r,willCommit:!0,commitKey:t,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});let r=o;o=null,i.addEventListener("blur",e=>{var t;c.focused&&e.relatedTarget&&(this.data.actions?.Blur||(c.focused=!1),t=e.target.value,c.userValue=t,c.lastCommittedValue!==t&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:t,willCommit:!0,commitKey:c.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),r(e))}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",e=>{c.lastCommittedValue=null;var{data:t,target:r}=e,{value:o,selectionStart:a,selectionEnd:i}=r;let n=a,s=i;switch(e.inputType){case"deleteWordBackward":var l=o.substring(0,a).match(/\w*[^\w]*$/);l&&(n-=l[0].length);break;case"deleteWordForward":l=o.substring(a).match(/^[^\w]*\w*/);l&&(s+=l[0].length);break;case"deleteContentBackward":a===i&&--n;break;case"deleteContentForward":a===i&&(s+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:o,change:t||"",willCommit:!1,selStart:n,selEnd:s}})}),this._setEventListeners(i,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}o&&i.addEventListener("blur",o),this.data.comb&&(r=(this.data.rect[2]-this.data.rect[0])/n,i.classList.add("comb"),i.style.letterSpacing=`calc(${r}px * var(--scale-factor) - 1ch)`)}else(i=document.createElement("div")).textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let a=this.annotationStorage,i=this.data,n=i.id,e=a.getValue(n,{value:i.exportValue===i.fieldValue}).value;"string"==typeof e&&(e="Off"!==e,a.setValue(n,{value:e})),this.container.classList.add("buttonWidgetAnnotation","checkBox");var t=document.createElement("input");return GetElementsByNameSet.add(t),t.setAttribute("data-element-id",n),t.disabled=i.readOnly,this._setRequired(t,this.data.required),t.type="checkbox",t.name=i.fieldName,e&&t.setAttribute("checked",!0),t.setAttribute("exportValue",i.exportValue),t.tabIndex=DEFAULT_TAB_INDEX,t.addEventListener("change",e=>{var t,{name:e,checked:r}=e.target;for(t of this._getElementsByName(e,n)){var o=r&&t.exportValue===i.exportValue;t.domElement&&(t.domElement.checked=o),a.setValue(t.id,{value:o})}a.setValue(n,{value:r})}),t.addEventListener("resetform",e=>{var t=i.defaultFieldValue||"Off";e.target.checked=t===i.exportValue}),this.enableScripting&&this.hasJSActions&&(t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({value(e){e.target.checked="Off"!==e.detail.value,a.setValue(n,{value:e.target.checked})}},e)}),this._setEventListeners(t,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(t),this._setDefaultPropertiesFromJS(t),this.container.append(t),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let i=this.annotationStorage,r=this.data,n=r.id,e=i.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if("string"==typeof e&&(e=e!==r.buttonValue,i.setValue(n,{value:e})),e)for(var t of this._getElementsByName(r.fieldName,n))i.setValue(t.id,{value:!1});var o=document.createElement("input");if(GetElementsByNameSet.add(o),o.setAttribute("data-element-id",n),o.disabled=r.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=r.fieldName,e&&o.setAttribute("checked",!0),o.tabIndex=DEFAULT_TAB_INDEX,o.addEventListener("change",e=>{var t,{name:e,checked:r}=e.target;for(t of this._getElementsByName(e,n))i.setValue(t.id,{value:!1});i.setValue(n,{value:r})}),o.addEventListener("resetform",e=>{var t=r.defaultFieldValue;e.target.checked=null!=t&&t===r.buttonValue}),this.enableScripting&&this.hasJSActions){let a=r.buttonValue;o.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({value:e=>{var t,r=a===e.detail.value;for(t of this._getElementsByName(e.target.name)){var o=r&&t.id===n;t.domElement&&(t.domElement.checked=o),i.setValue(t.id,{value:o})}}},e)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){var e=super.render(),t=(e.classList.add("buttonWidgetAnnotation","pushButton"),e.lastChild);return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let n=this.annotationStorage,s=this.data.id;var e,t=n.getValue(s,{value:this.data.fieldValue});let l=document.createElement("select"),r=(GetElementsByNameSet.add(l),l.setAttribute("data-element-id",s),l.disabled=this.data.readOnly,this._setRequired(l,this.data.required),l.name=this.data.fieldName,l.tabIndex=DEFAULT_TAB_INDEX,this.data.combo&&0<this.data.options.length);this.data.combo||(l.size=this.data.options.length,this.data.multiSelect&&(l.multiple=!0)),l.addEventListener("resetform",e=>{var t,r=this.data.defaultFieldValue;for(t of l.options)t.selected=t.value===r});for(e of this.data.options){var o=document.createElement("option");o.textContent=e.displayValue,o.value=e.exportValue,t.value.includes(e.exportValue)&&(o.setAttribute("selected",!0),r=!1),l.append(o)}let a=null;if(r){let e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),l.prepend(e),a=()=>{e.remove(),l.removeEventListener("input",a),a=null},l.addEventListener("input",a)}let c=e=>{let t=e?"value":"textContent";var{options:e,multiple:r}=l;return r?Array.prototype.filter.call(e,e=>e.selected).map(e=>e[t]):-1===e.selectedIndex?null:e[e.selectedIndex][t]},d=c(!1),p=e=>{e=e.target.options;return Array.prototype.map.call(e,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(l.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({value(e){a?.();var t,e=e.detail.value,r=new Set(Array.isArray(e)?e:[e]);for(t of l.options)t.selected=r.has(t.value);n.setValue(s,{value:c(!0)}),d=c(!1)},multipleSelection(e){l.multiple=!0},remove(e){var t=l.options,r=e.detail.remove;t[r].selected=!1,l.remove(r),0<t.length&&-1===Array.prototype.findIndex.call(t,e=>e.selected)&&(t[0].selected=!0),n.setValue(s,{value:c(!0),items:p(e)}),d=c(!1)},clear(e){for(;0!==l.length;)l.remove(0);n.setValue(s,{value:null,items:[]}),d=c(!1)},insert(e){var{index:t,displayValue:r,exportValue:o}=e.detail.insert,t=l.children[t],a=document.createElement("option");a.textContent=r,a.value=o,t?t.before(a):l.append(a),n.setValue(s,{value:c(!0),items:p(e)}),d=c(!1)},items(e){for(var t,r=e.detail.items;0!==l.length;)l.remove(0);for(t of r){var{displayValue:o,exportValue:a}=t,i=document.createElement("option");i.textContent=o,i.value=a,l.append(i)}0<l.options.length&&(l.options[0].selected=!0),n.setValue(s,{value:c(!0),items:p(e)}),d=c(!1)},indices(e){var t,r=new Set(e.detail.indices);for(t of e.target.options)t.selected=r.has(t.index);n.setValue(s,{value:c(!0)}),d=c(!1)},editable(e){e.target.disabled=!e.detail.editable}},e)}),l.addEventListener("input",e=>{var t=c(!0),r=c(!1);n.setValue(s,{value:t}),e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s,name:"Keystroke",value:d,change:r,changeEx:t,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(l,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):l.addEventListener("input",function(e){n.setValue(s,{value:c(!0)})}),this.data.combo&&this._setTextStyle(l),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor(e){var{data:t,elements:r}=e;super(e,{isRenderable:AnnotationElement._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");var e,t=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(e of this.elements)e.popup=t,r.push(e.data.id),e.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(e=>""+AnnotationPrefix+e).join(",")),this.container}}class PopupElement{#boundKeyDown=this.#keyDown.bind(this);#boundHide=this.#hide.bind(this);#boundShow=this.#show.bind(this);#boundToggle=this.#toggle.bind(this);#color=null;#container=null;#contentsObj=null;#dateObj=null;#elements=null;#parent=null;#parentRect=null;#pinned=!1;#popup=null;#position=null;#rect=null;#richText=null;#titleObj=null;#updates=null;#wasVisible=!1;constructor({container:e,color:t,elements:r,titleObj:o,modificationDate:a,contentsObj:i,richText:n,parent:s,rect:l,parentRect:c,open:d}){this.#container=e,this.#titleObj=o,this.#contentsObj=i,this.#richText=n,this.#parent=s,this.#color=t,this.#rect=l,this.#parentRect=c,this.#elements=r,this.#dateObj=PDFDateString.toDateObject(a),this.trigger=r.flatMap(e=>e.getElementsToTriggerPopup());for(var p of this.trigger)p.addEventListener("click",this.#boundToggle),p.addEventListener("mouseenter",this.#boundShow),p.addEventListener("mouseleave",this.#boundHide),p.classList.add("popupTriggerArea");for(var u of r)u.container?.addEventListener("keydown",this.#boundKeyDown);this.#container.hidden=!0,d&&this.#toggle()}render(){if(!this.#popup){var e=this.#popup=document.createElement("div");if(e.className="popup",this.#color){var t=e.style.outlineColor=Util.makeHexColor(...this.#color);if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`;else e.style.backgroundColor=Util.makeHexColor(...this.#color.map(e=>Math.floor(.7*(255-e)+e)))}var t=document.createElement("span"),r=(t.className="header",document.createElement("h1")),t=(t.append(r),{dir:r.dir,str:r.textContent}=this.#titleObj,e.append(t),this.#dateObj&&((r=document.createElement("span")).classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:this.#dateObj.toLocaleDateString(),time:this.#dateObj.toLocaleTimeString()})),t.append(r)),this.#html);t?(XfaLayer.render({xfaHtml:t,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent")):(r=this._formatContents(this.#contentsObj),e.append(r)),this.#container.append(e)}}get#html(){var e=this.#richText,t=this.#contentsObj;return e?.str&&(!t?.str||t.str===e.str)&&this.#richText.html||null}get#fontSize(){return this.#html?.attributes?.style?.fontSize||0}get#fontColor(){return this.#html?.attributes?.style?.color||null}#makePopupContent(e){var t,r=[],o={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},a={style:{color:this.#fontColor,fontSize:this.#fontSize?`calc(${this.#fontSize}px * var(--scale-factor))`:""}};for(t of e.split("\n"))r.push({name:"span",value:t,attributes:a});return o}_formatContents({str:e,dir:t}){var r=document.createElement("p"),o=(r.classList.add("popupContent"),r.dir=t,e.split(/(?:\r\n?|\n)/));for(let e=0,t=o.length;e<t;++e){var a=o[e];r.append(document.createTextNode(a)),e<t-1&&r.append(document.createElement("br"))}return r}#keyDown(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#pinned)&&this.#toggle()}updateEdited({rect:e,popupContent:t}){this.#updates||={contentsObj:this.#contentsObj,richText:this.#richText},e&&(this.#position=null),t&&(this.#richText=this.#makePopupContent(t),this.#contentsObj=null),this.#popup?.remove(),this.#popup=null}resetEdited(){this.#updates&&({contentsObj:this.#contentsObj,richText:this.#richText}=this.#updates,this.#updates=null,this.#popup?.remove(),this.#popup=null,this.#position=null)}#setPosition(){if(null===this.#position){var r,{page:{view:o},viewport:{rawDims:{pageWidth:a,pageHeight:i,pageX:n,pageY:s}}}=this.#parent;let e=!!this.#parentRect,t=e?this.#parentRect:this.#rect;for(r of this.#elements)if(!t||null!==Util.intersect(r.data.rect,t)){t=r.data.rect,e=!0;break}var o=Util.normalizeRect([t[0],o[3]-t[1]+o[1],t[2],o[3]-t[3]+o[1]]),l=e?t[2]-t[0]+5:0,l=o[0]+l,l=(this.#position=[100*(l-n)/a,100*(o[1]-s)/i],this.#container).style;l.left=this.#position[0]+"%",l.top=this.#position[1]+"%"}}#toggle(){this.#pinned=!this.#pinned,this.#pinned?(this.#show(),this.#container.addEventListener("click",this.#boundToggle),this.#container.addEventListener("keydown",this.#boundKeyDown)):(this.#hide(),this.#container.removeEventListener("click",this.#boundToggle),this.#container.removeEventListener("keydown",this.#boundKeyDown))}#show(){this.#popup||this.render(),this.isVisible?this.#pinned&&this.#container.classList.add("focused"):(this.#setPosition(),this.#container.hidden=!1,this.#container.style.zIndex=parseInt(this.#container.style.zIndex)+1e3)}#hide(){this.#container.classList.remove("focused"),!this.#pinned&&this.isVisible&&(this.#container.hidden=!0,this.#container.style.zIndex=parseInt(this.#container.style.zIndex)-1e3)}forceHide(){this.#wasVisible=this.isVisible,this.#wasVisible&&(this.#container.hidden=!0)}maybeShow(){this.#wasVisible&&(this.#popup||this.#show(),this.#wasVisible=!1,this.#container.hidden=!1)}get isVisible(){return!1===this.#container.hidden}}class FreeTextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){var e,t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(e of this.textContent){var r=document.createElement("span");r.textContent=e,t.append(r)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class LineAnnotationElement extends AnnotationElement{#line=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");var e=this.data,{width:t,height:r}=getRectDims(e.rect),t=this.svgFactory.create(t,r,!0),r=this.#line=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),t.append(r),this.container.append(t),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#line}addHighlightArea(){this.container.classList.add("highlightArea")}}class SquareAnnotationElement extends AnnotationElement{#square=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");var e=this.data,{width:t,height:r}=getRectDims(e.rect),o=this.svgFactory.create(t,r,!0),a=e.borderStyle.width,i=this.#square=this.svgFactory.createElement("svg:rect");return i.setAttribute("x",a/2),i.setAttribute("y",a/2),i.setAttribute("width",t-a),i.setAttribute("height",r-a),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),o.append(i),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#square}addHighlightArea(){this.container.classList.add("highlightArea")}}class CircleAnnotationElement extends AnnotationElement{#circle=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");var e=this.data,{width:t,height:r}=getRectDims(e.rect),o=this.svgFactory.create(t,r,!0),a=e.borderStyle.width,i=this.#circle=this.svgFactory.createElement("svg:ellipse");return i.setAttribute("cx",t/2),i.setAttribute("cy",r/2),i.setAttribute("rx",t/2-a/2),i.setAttribute("ry",r/2-a/2),i.setAttribute("stroke-width",a||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),o.append(i),this.container.append(o),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#circle}addHighlightArea(){this.container.classList.add("highlightArea")}}class PolylineAnnotationElement extends AnnotationElement{#polyline=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);var{rect:o,vertices:a,borderStyle:e,popupRef:t}=this.data;if(a){var{width:i,height:n}=getRectDims(o),i=this.svgFactory.create(i,n,!0);let r=[];for(let e=0,t=a.length;e<t;e+=2){var s=a[e]-o[0],l=o[3]-a[e+1];r.push(s+","+l)}r=r.join(" ");n=this.#polyline=this.svgFactory.createElement(this.svgElementName);n.setAttribute("points",r),n.setAttribute("stroke-width",e.width||1),n.setAttribute("stroke","transparent"),n.setAttribute("fill","transparent"),i.append(n),this.container.append(i),!t&&this.hasPopupData&&this._createPopup()}return this.container}getElementsToTriggerPopup(){return this.#polyline}addHighlightArea(){this.container.classList.add("highlightArea")}}class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class InkAnnotationElement extends AnnotationElement{#polylines=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);var o,{rect:a,inkLists:e,borderStyle:t,popupRef:i}=this.data,{width:r,height:n}=getRectDims(a),s=this.svgFactory.create(r,n,!0);for(o of e){let r=[];for(let e=0,t=o.length;e<t;e+=2){var l=o[e]-a[0],c=a[3]-o[e+1];r.push(l+","+c)}r=r.join(" ");var d=this.svgFactory.createElement(this.svgElementName);this.#polylines.push(d),d.setAttribute("points",r),d.setAttribute("stroke-width",t.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!i&&this.hasPopupData&&this._createPopup(),s.append(d)}return this.container.append(s),this.container}getElementsToTriggerPopup(){return this.#polylines}addHighlightArea(){this.container.classList.add("highlightArea")}}class HighlightAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class FileAttachmentAnnotationElement extends AnnotationElement{#trigger=null;constructor(e){super(e,{isRenderable:!0});e=this.data.file;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");var{container:e,data:t}=this;let r,o=(t.hasAppearance||0===t.fillAlpha?r=document.createElement("div"):((r=document.createElement("img")).src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),r.addEventListener("dblclick",this.#download.bind(this)),this.#trigger=r,util_FeatureTest.platform).isMac;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(o?e.metaKey:e.ctrlKey)&&this.#download()}),!t.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#trigger}addHighlightArea(){this.container.classList.add("highlightArea")}#download(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class AnnotationLayer{#accessibilityManager=null;#annotationCanvasMap=null;#editableAnnotations=new Map;constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:o,page:a,viewport:i}){this.div=e,this.#accessibilityManager=t,this.#annotationCanvasMap=r,this.page=a,this.viewport=i,this.zIndex=0,this._annotationEditorUIManager=o}#appendElement(e,t){var r=e.firstChild||e;r.id=""+AnnotationPrefix+t,this.div.append(e),this.#accessibilityManager?.moveElementInDOM(this.div,e,r,!1)}async render(e){var t,r=e.annotations,o=this.div,a=(setLayerDimensions(o,this.viewport),new Map),i={data:null,layer:o,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new DOMSVGFactory,annotationStorage:e.annotationStorage||new AnnotationStorage,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(t of r)if(!t.noHTML){var n=t.annotationType===AnnotationType.POPUP;if(n){var s=a.get(t.id);if(!s)continue;i.elements=s}else{var{width:s,height:l}=getRectDims(t.rect);if(s<=0||l<=0)continue}i.data=t;l=AnnotationElementFactory.create(i);l.isRenderable&&(!n&&t.popupRef&&((n=a.get(t.popupRef))?n.push(l):a.set(t.popupRef,[l])),n=l.render(),t.hidden&&(n.style.visibility="hidden"),this.#appendElement(n,t.id),0<l.annotationEditorType)&&(this.#editableAnnotations.set(l.data.id,l),this._annotationEditorUIManager?.renderAnnotationElement(l))}this.#setAnnotationCanvasMap()}update({viewport:e}){var t=this.div;setLayerDimensions(t,{rotation:(this.viewport=e).rotation}),this.#setAnnotationCanvasMap(),t.hidden=!1}#setAnnotationCanvasMap(){if(this.#annotationCanvasMap){var e,t,r=this.div;for([e,t]of this.#annotationCanvasMap){var o,a=r.querySelector(`[data-annotation-id="${e}"]`);a&&(t.className="annotationContent",o=a.firstChild,o?"CANVAS"===o.nodeName?o.replaceWith(t):o.classList.contains("annotationContent")?o.after(t):o.before(t):a.append(t))}this.#annotationCanvasMap.clear()}}getEditableAnnotations(){return Array.from(this.#editableAnnotations.values())}getEditableAnnotation(e){return this.#editableAnnotations.get(e)}}let EOL_PATTERN=/\r\n?|\n/g;class FreeTextEditor extends AnnotationEditor{#boundEditorDivBlur=this.editorDivBlur.bind(this);#boundEditorDivFocus=this.editorDivFocus.bind(this);#boundEditorDivInput=this.editorDivInput.bind(this);#boundEditorDivKeydown=this.editorDivKeydown.bind(this);#boundEditorDivPaste=this.editorDivPaste.bind(this);#color;#content="";#editorDivId=this.id+"-editor";#fontSize;#initialData=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){var e=FreeTextEditor.prototype,t=e=>e.isEmpty(),r=AnnotationEditorUIManager.TRANSLATE_SMALL,o=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[o,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,o],checker:t}]]))}static _type="freetext";static _editorType=AnnotationEditorType.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#color=e.color||FreeTextEditor._defaultColor||AnnotationEditor._defaultLineColor,this.#fontSize=e.fontSize||FreeTextEditor._defaultFontSize}static initialize(e,t){AnnotationEditor.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case AnnotationEditorParamsType.FREETEXT_SIZE:FreeTextEditor._defaultFontSize=t;break;case AnnotationEditorParamsType.FREETEXT_COLOR:FreeTextEditor._defaultColor=t}}updateParams(e,t){switch(e){case AnnotationEditorParamsType.FREETEXT_SIZE:this.#updateFontSize(t);break;case AnnotationEditorParamsType.FREETEXT_COLOR:this.#updateColor(t)}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,FreeTextEditor._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,FreeTextEditor._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,this.#fontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,this.#color]]}#updateFontSize(e){var t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--scale-factor))`,this.translate(0,-(e-this.#fontSize)*this.parentScale),this.#fontSize=e,this.#setEditorDimensions()},r=this.#fontSize;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#updateColor(e){var t=e=>{this.#color=this.editorDiv.style.color=e},r=this.#color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){var e=this.parentScale;return[-FreeTextEditor._internalPadding*e,-(FreeTextEditor._internalPadding+this.#fontSize)*e]}rebuild(){this.parent&&(super.rebuild(),null===this.div||this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){var e;this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),e=this._uiManager._signal,this.editorDiv.addEventListener("keydown",this.#boundEditorDivKeydown,{signal:e}),this.editorDiv.addEventListener("focus",this.#boundEditorDivFocus,{signal:e}),this.editorDiv.addEventListener("blur",this.#boundEditorDivBlur,{signal:e}),this.editorDiv.addEventListener("input",this.#boundEditorDivInput,{signal:e}),this.editorDiv.addEventListener("paste",this.#boundEditorDivPaste,{signal:e}))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#editorDivId),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#boundEditorDivKeydown),this.editorDiv.removeEventListener("focus",this.#boundEditorDivFocus),this.editorDiv.removeEventListener("blur",this.#boundEditorDivBlur),this.editorDiv.removeEventListener("input",this.#boundEditorDivInput),this.editorDiv.removeEventListener("paste",this.#boundEditorDivPaste),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv)&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#extractText(){var e,t=[];this.editorDiv.normalize();for(e of this.editorDiv.childNodes)t.push(FreeTextEditor.#getNodeContent(e));return t.join("\n")}#setEditorDimensions(){var e,t,r,o,[a,i]=this.parentDimensions;let n;this.isAttachedToDOM?n=this.div.getBoundingClientRect():({currentLayer:e,div:t}=this,r=t.style.display,o=t.classList.contains("hidden"),t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r,t.classList.toggle("hidden",o)),this.rotation%180==this.parentRotation%180?(this.width=n.width/a,this.height=n.height/i):(this.width=n.height/a,this.height=n.width/i),this.fixAndSetPosition()}commit(){if(this.isInEditMode()){super.commit(),this.disableEditMode();let t=this.#content,r=this.#content=this.#extractText().trimEnd();if(t!==r){let e=e=>{(this.#content=e)?(this.#setContent(),this._uiManager.rebuild(this),this.#setEditorDimensions()):this.remove()};this.addCommands({cmd:()=>{e(r)},undo:()=>{e(t)},mustExec:!1}),this.#setEditorDimensions()}}}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){FreeTextEditor._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(!this.div){let a,i;this.width&&(a=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#editorDivId),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(e=>this.editorDiv?.setAttribute("default-content",e)),this.editorDiv.contentEditable=!0;var n=this.editorDiv.style;if(n.fontSize=`calc(${this.#fontSize}px * var(--scale-factor))`,n.color=this.#color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){var[n,s]=this.parentDimensions;if(this.annotationElementId){var l=this.#initialData.position;let[e,t]=this.getInitialTranslation();[e,t]=this.pageTranslationToScreen(e,t);var[c,d]=this.pageDimensions,[p,u]=this.pageTranslation;let r,o;switch(this.rotation){case 0:r=a+(l[0]-p)/c,o=i+this.height-(l[1]-u)/d;break;case 90:r=a+(l[0]-p)/c,o=i-(l[1]-u)/d,[e,t]=[t,-e];break;case 180:r=a-this.width+(l[0]-p)/c,o=i-(l[1]-u)/d,[e,t]=[-e,-t];break;case 270:r=a+(l[0]-p-this.height*d)/c,o=i+(l[1]-u-this.width*c)/d,[e,t]=[-t,e]}this.setAt(r*n,o*s,e,t)}else this.setAt(a*n,i*s,this.width*n,this.height*s);this.#setContent(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0}return this.div}static#getNodeContent(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(EOL_PATTERN,"")}editorDivPaste(t){var r=t.clipboardData||window.clipboardData,o=r.types;if(1!==o.length||"text/plain"!==o[0]){t.preventDefault();o=FreeTextEditor.#deserializeContent(r.getData("text")||"").replaceAll(EOL_PATTERN,"\n");if(o){t=window.getSelection();if(t.rangeCount){this.editorDiv.normalize(),t.deleteFromDocument();r=t.getRangeAt(0);if(o.includes("\n")){var{startContainer:a,startOffset:i}=r,n=[],s=[];if(a.nodeType===Node.TEXT_NODE){var l=a.parentElement;if(s.push(a.nodeValue.slice(i).replaceAll(EOL_PATTERN,"")),l!==this.editorDiv){let e=n;for(var c of this.editorDiv.childNodes)c===l?e=s:e.push(FreeTextEditor.#getNodeContent(c))}n.push(a.nodeValue.slice(0,i).replaceAll(EOL_PATTERN,""))}else if(a===this.editorDiv){let e=n,t=0;for(var d of this.editorDiv.childNodes)(e=t++===i?s:e).push(FreeTextEditor.#getNodeContent(d))}this.#content=""+n.join("\n")+o+s.join("\n"),this.#setContent();var p,u=new Range;let e=n.reduce((e,t)=>e+t.length,0);for({firstChild:p}of this.editorDiv.childNodes)if(p.nodeType===Node.TEXT_NODE){var g=p.nodeValue.length;if(e<=g){u.setStart(p,e),u.setEnd(p,e);break}e-=g}t.removeAllRanges(),t.addRange(u)}else r.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),t.collapseToStart()}}}}#setContent(){if(this.editorDiv.replaceChildren(),this.#content)for(var e of this.#content.split("\n")){var t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#serializeContent(){return this.#content.replaceAll("Â "," ")}static#deserializeContent(e){return e.replaceAll(" ","Â ")}get contentDiv(){return this.editorDiv}static deserialize(e,t,r){let o=null;if(e instanceof FreeTextAnnotationElement){var{data:{defaultAppearanceData:{fontSize:a,fontColor:i},rect:n,rotation:s,id:l},textContent:c,textPosition:d,parent:{page:{pageNumber:p}}}=e;if(!c||0===c.length)return null;o=e={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(i),fontSize:a,value:c.join("\n"),position:d,pageIndex:p-1,rect:n.slice(0),rotation:s,id:l,deleted:!1}}i=super.deserialize(e,t,r);return i.#fontSize=e.fontSize,i.#color=Util.makeHexColor(...e.color),i.#content=FreeTextEditor.#deserializeContent(e.value),i.annotationElementId=e.id||null,i.#initialData=o,i}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};var t=FreeTextEditor._internalPadding*this.parentScale,t=this.getRect(t,t),r=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#color),r={annotationType:AnnotationEditorType.FREETEXT,color:r,fontSize:this.#fontSize,value:this.#serializeContent(),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId};if(!e){if(this.annotationElementId&&!this.#hasElementChanged(r))return null;r.id=this.annotationElementId}return r}#hasElementChanged(e){let{value:t,fontSize:r,color:o,pageIndex:a}=this.#initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==r||e.color.some((e,t)=>e!==o[t])||e.pageIndex!==a}renderAnnotationElement(e){var t=super.renderAnnotationElement(e);if(!this.deleted){var r,o=t.style;o.fontSize=`calc(${this.#fontSize}px * var(--scale-factor))`,o.color=this.#color,t.replaceChildren();for(r of this.#content.split("\n")){var a=document.createElement("div");a.append(r?document.createTextNode(r):document.createElement("br")),t.append(a)}o=FreeTextEditor._internalPadding*this.parentScale;e.updateEdited({rect:this.getRect(o,o),popupContent:this.#content})}return t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Outliner{#box;#verticalEdges=[];#intervals=[];constructor(e,t=0,r=0,o=!0){let a=1/0,i=-1/0,n=1/0,s=-1/0;var l,c,d,p,u=10**-4;for({x:l,y:c,width:d,height:p}of e){var g=Math.floor((l-t)/u)*u,m=Math.ceil((l+d+t)/u)*u,h=Math.floor((c-t)/u)*u,_=Math.ceil((c+p+t)/u)*u;this.#verticalEdges.push([g,h,_,!0],[m,h,_,!1]),a=Math.min(a,g),i=Math.max(i,m),n=Math.min(n,h),s=Math.max(s,_)}var f,y=i-a+2*r,S=s-n+2*r,P=a-r,v=n-r,e=this.#verticalEdges.at(o?-1:-2),r=[e[0],e[2]];for(f of this.#verticalEdges){var[b,C,w]=f;f[0]=(b-P)/y,f[1]=(C-v)/S,f[2]=(w-v)/S}this.#box={x:P,y:v,width:y,height:S,lastPoint:r}}getOutlines(){this.#verticalEdges.sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);var e,t=[];for(e of this.#verticalEdges)e[3]?(t.push(...this.#breakEdge(e)),this.#insert(e)):(this.#remove(e),t.push(...this.#breakEdge(e)));return this.#getOutlines(t)}#getOutlines(e){var t,r=[],l=new Set;for(t of e){var[o,a,i]=t;r.push([o,a,t],[o,i,t])}r.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let e=0,t=r.length;e<t;e+=2){var n=r[e][2],s=r[e+1][2];n.push(s),s.push(n),l.add(n),l.add(s)}for(var c,d=[];0<l.size;){var p=l.values().next().value;let[t,r,o,a,i]=p,n=(l.delete(p),t),s=r;for(d.push(c=[t,o]);;){let e;if(l.has(a))e=a;else{if(!l.has(i))break;e=i}l.delete(e),[t,r,o,a,i]=e,n!==t&&(c.push(n,s,t,s===r?r:o),n=t),s=s===r?o:r}c.push(n,s)}return new HighlightOutline(d,this.#box)}#binarySearch(e){var t=this.#intervals;let r=0,o=t.length-1;for(;r<=o;){var a=r+o>>1,i=t[a][0];if(i===e)return a;i<e?r=1+a:o=a-1}return o+1}#insert([,e,t]){var r=this.#binarySearch(e);this.#intervals.splice(r,0,[e,t])}#remove([,t,r]){var o=this.#binarySearch(t);for(let e=o;e<this.#intervals.length;e++){var[a,i]=this.#intervals[e];if(a!==t)break;if(a===t&&i===r)return void this.#intervals.splice(e,1)}for(let e=o-1;0<=e;e--){var[n,s]=this.#intervals[e];if(n!==t)break;if(n===t&&s===r)return void this.#intervals.splice(e,1)}}#breakEdge(e){var[r,e,t]=e,o=[[r,e,t]],a=this.#binarySearch(t);for(let e=0;e<a;e++){var[i,n]=this.#intervals[e];for(let e=0,t=o.length;e<t;e++){var[,s,l]=o[e];if(!(n<=s||l<=i))if(i<=s)if(n<l)o[e][1]=n;else{if(1===t)return[];o.splice(e,1),e--,t--}else o[e][2]=i,n<l&&o.push([r,n,l])}}return o}}class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}class HighlightOutline extends Outline{#box;#outlines;constructor(e,t){super(),this.#outlines=e,this.#box=t}toSVGPath(){var o,a=[];for(o of this.#outlines){let[t,r]=o;a.push(`M${t} `+r);for(let e=2;e<o.length;e+=2){var i=o[e],n=o[e+1];i===t?(a.push("V"+n),r=n):n===r&&(a.push("H"+i),t=i)}a.push("Z")}return a.join(" ")}serialize([t,e,r,o],a){var i,n=[],s=r-t,l=o-e;for(i of this.#outlines){var c=new Array(i.length);for(let e=0;e<i.length;e+=2)c[e]=t+i[e]*s,c[e+1]=o-i[e+1]*l;n.push(c)}return n}get box(){return this.#box}}class FreeOutliner{#box;#bottom=[];#innerMargin;#isLTR;#top=[];#last=new Float64Array(18);#lastX;#lastY;#min;#min_dist;#scaleFactor;#thickness;#points=[];static#MIN_DIST=8;static#MIN_DIFF=2;static#MIN=FreeOutliner.#MIN_DIST+FreeOutliner.#MIN_DIFF;constructor({x:e,y:t},r,o,a,i,n=0){this.#box=r,this.#thickness=a*o,this.#isLTR=i,this.#last.set([NaN,NaN,NaN,NaN,e,t],6),this.#innerMargin=n,this.#min_dist=FreeOutliner.#MIN_DIST*o,this.#min=FreeOutliner.#MIN*o,this.#scaleFactor=o,this.#points.push(e,t)}get free(){return!0}isEmpty(){return isNaN(this.#last[8])}#getLastCoords(){var e=this.#last.subarray(4,6),t=this.#last.subarray(16,18),[r,o,a,i]=this.#box;return[(this.#lastX+(e[0]-t[0])/2-r)/a,(this.#lastY+(e[1]-t[1])/2-o)/i,(this.#lastX+(t[0]-e[0])/2-r)/a,(this.#lastY+(t[1]-e[1])/2-o)/i]}add({x:e,y:t}){this.#lastX=e,this.#lastY=t;var[r,o,a,i]=this.#box;let[n,s,l,c]=this.#last.subarray(8,12);var d=e-l,p=t-c,u=Math.hypot(d,p);if(u<this.#min)return!1;var g=u-this.#min_dist,u=g/u,d=u*d,u=u*p;let m=n,h=s;n=l,s=c,l+=d,c+=u,this.#points?.push(e,t);p=-u/g*this.#thickness,e=d/g*this.#thickness;return this.#last.set(this.#last.subarray(2,8),0),this.#last.set([l+p,c+e],4),this.#last.set(this.#last.subarray(14,18),12),this.#last.set([l-p,c-e],16),isNaN(this.#last[6])?(0===this.#top.length&&(this.#last.set([n+p,s+e],2),this.#top.push(NaN,NaN,NaN,NaN,(n+p-r)/a,(s+e-o)/i),this.#last.set([n-p,s-e],14),this.#bottom.push(NaN,NaN,NaN,NaN,(n-p-r)/a,(s-e-o)/i)),this.#last.set([m,h,n,s,l,c],6),!this.isEmpty()):(this.#last.set([m,h,n,s,l,c],6),Math.abs(Math.atan2(h-s,m-n)-Math.atan2(u,d))<Math.PI/2?([n,s,l,c]=this.#last.subarray(2,6),this.#top.push(NaN,NaN,NaN,NaN,((n+l)/2-r)/a,((s+c)/2-o)/i),[n,s,m,h]=this.#last.subarray(14,18),this.#bottom.push(NaN,NaN,NaN,NaN,((m+n)/2-r)/a,((h+s)/2-o)/i)):([m,h,n,s,l,c]=this.#last.subarray(0,6),this.#top.push(((m+5*n)/6-r)/a,((h+5*s)/6-o)/i,((5*n+l)/6-r)/a,((5*s+c)/6-o)/i,((n+l)/2-r)/a,((s+c)/2-o)/i),[l,c,n,s,m,h]=this.#last.subarray(12,18),this.#bottom.push(((m+5*n)/6-r)/a,((h+5*s)/6-o)/i,((5*n+l)/6-r)/a,((5*s+c)/6-o)/i,((n+l)/2-r)/a,((s+c)/2-o)/i)),!0)}toSVGPath(){if(this.isEmpty())return"";var t=this.#top,r=this.#bottom,e=this.#last.subarray(4,6),o=this.#last.subarray(16,18),[a,i,n,s]=this.#box,[l,c,d,p]=this.#getLastCoords();if(isNaN(this.#last[6])&&!this.isEmpty())return`M${(this.#last[2]-a)/n} ${(this.#last[3]-i)/s} L${(this.#last[4]-a)/n} ${(this.#last[5]-i)/s} L${l} ${c} L${d} ${p} L${(this.#last[16]-a)/n} ${(this.#last[17]-i)/s} L${(this.#last[14]-a)/n} ${(this.#last[15]-i)/s} Z`;var u=[];u.push(`M${t[4]} `+t[5]);for(let e=6;e<t.length;e+=6)isNaN(t[e])?u.push(`L${t[e+4]} `+t[e+5]):u.push(`C${t[e]} ${t[e+1]} ${t[e+2]} ${t[e+3]} ${t[e+4]} `+t[e+5]);u.push(`L${(e[0]-a)/n} ${(e[1]-i)/s} L${l} ${c} L${d} ${p} L${(o[0]-a)/n} `+(o[1]-i)/s);for(let e=r.length-6;6<=e;e-=6)isNaN(r[e])?u.push(`L${r[e+4]} `+r[e+5]):u.push(`C${r[e]} ${r[e+1]} ${r[e+2]} ${r[e+3]} ${r[e+4]} `+r[e+5]);return u.push(`L${r[4]} ${r[5]} Z`),u.join(" ")}getOutlines(){var t=this.#top,r=this.#bottom,o=this.#last,e=o.subarray(4,6),a=o.subarray(16,18),[i,n,s,l]=this.#box,c=new Float64Array((this.#points?.length??0)+2);for(let e=0,t=c.length-2;e<t;e+=2)c[e]=(this.#points[e]-i)/s,c[e+1]=(this.#points[e+1]-n)/l;c[c.length-2]=(this.#lastX-i)/s,c[c.length-1]=(this.#lastY-n)/l;var[d,p,u,g]=this.#getLastCoords();if(isNaN(o[6])&&!this.isEmpty()){let e=new Float64Array(36);return e.set([NaN,NaN,NaN,NaN,(o[2]-i)/s,(o[3]-n)/l,NaN,NaN,NaN,NaN,(o[4]-i)/s,(o[5]-n)/l,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,u,g,NaN,NaN,NaN,NaN,(o[16]-i)/s,(o[17]-n)/l,NaN,NaN,NaN,NaN,(o[14]-i)/s,(o[15]-n)/l],0),new FreeHighlightOutline(e,c,this.#box,this.#scaleFactor,this.#innerMargin,this.#isLTR)}let m=new Float64Array(this.#top.length+24+this.#bottom.length),h=t.length;for(let e=0;e<h;e+=2)isNaN(t[e])?m[e]=m[e+1]=NaN:(m[e]=t[e],m[e+1]=t[e+1]);m.set([NaN,NaN,NaN,NaN,(e[0]-i)/s,(e[1]-n)/l,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,u,g,NaN,NaN,NaN,NaN,(a[0]-i)/s,(a[1]-n)/l],h),h+=24;for(let t=r.length-6;6<=t;t-=6)for(let e=0;e<6;e+=2)isNaN(r[t+e])?m[h]=m[h+1]=NaN:(m[h]=r[t+e],m[h+1]=r[t+e+1]),h+=2;return m.set([NaN,NaN,NaN,NaN,r[4],r[5]],h),new FreeHighlightOutline(m,c,this.#box,this.#scaleFactor,this.#innerMargin,this.#isLTR)}}class FreeHighlightOutline extends Outline{#box;#bbox=null;#innerMargin;#isLTR;#points;#scaleFactor;#outline;constructor(r,o,e,t,a,i){super(),this.#outline=r,this.#points=o,this.#box=e,this.#scaleFactor=t,this.#innerMargin=a,this.#isLTR=i,this.#computeMinMax(i);var{x:n,y:s,width:l,height:c}=this.#bbox;for(let e=0,t=r.length;e<t;e+=2)r[e]=(r[e]-n)/l,r[e+1]=(r[e+1]-s)/c;for(let e=0,t=o.length;e<t;e+=2)o[e]=(o[e]-n)/l,o[e+1]=(o[e+1]-s)/c}toSVGPath(){var r=[`M${this.#outline[4]} `+this.#outline[5]];for(let e=6,t=this.#outline.length;e<t;e+=6)isNaN(this.#outline[e])?r.push(`L${this.#outline[e+4]} `+this.#outline[e+5]):r.push(`C${this.#outline[e]} ${this.#outline[e+1]} ${this.#outline[e+2]} ${this.#outline[e+3]} ${this.#outline[e+4]} `+this.#outline[e+5]);return r.push("Z"),r.join(" ")}serialize([e,t,r,o],a){var i=r-e,n=o-t;let s,l;switch(a){case 0:s=this.#rescale(this.#outline,e,o,i,-n),l=this.#rescale(this.#points,e,o,i,-n);break;case 90:s=this.#rescaleAndSwap(this.#outline,e,t,i,n),l=this.#rescaleAndSwap(this.#points,e,t,i,n);break;case 180:s=this.#rescale(this.#outline,r,t,-i,n),l=this.#rescale(this.#points,r,t,-i,n);break;case 270:s=this.#rescaleAndSwap(this.#outline,r,o,-i,-n),l=this.#rescaleAndSwap(this.#points,r,o,-i,-n)}return{outline:Array.from(s),points:[Array.from(l)]}}#rescale(r,o,a,i,n){var s=new Float64Array(r.length);for(let e=0,t=r.length;e<t;e+=2)s[e]=o+r[e]*i,s[e+1]=a+r[e+1]*n;return s}#rescaleAndSwap(r,o,a,i,n){var s=new Float64Array(r.length);for(let e=0,t=r.length;e<t;e+=2)s[e]=o+r[e+1]*i,s[e+1]=a+r[e]*n;return s}#computeMinMax(e){var r=this.#outline;let o=r[4],a=r[5],i=o,n=a,s=o,l=a,c=o,d=a;var p,u=e?Math.max:Math.min;for(let e=6,t=r.length;e<t;e+=6)isNaN(r[e])?(i=Math.min(i,r[e+4]),n=Math.min(n,r[e+5]),s=Math.max(s,r[e+4]),l=Math.max(l,r[e+5]),d<r[e+5]?(c=r[e+4],d=r[e+5]):d===r[e+5]&&(c=u(c,r[e+4]))):(p=Util.bezierBoundingBox(o,a,...r.slice(e,e+6)),i=Math.min(i,p[0]),n=Math.min(n,p[1]),s=Math.max(s,p[2]),l=Math.max(l,p[3]),d<p[3]?(c=p[2],d=p[3]):d===p[3]&&(c=u(c,p[2]))),o=r[e+4],a=r[e+5];var e=i-this.#innerMargin,t=n-this.#innerMargin,g=s-i+2*this.#innerMargin,m=l-n+2*this.#innerMargin;this.#bbox={x:e,y:t,width:g,height:m,lastPoint:[c,d]}}get box(){return this.#bbox}getNewOutline(e,t){var{x:r,y:o,width:a,height:i}=this.#bbox,[n,s,l,c]=this.#box,d=a*l,p=i*c,u=r*l+n,g=o*c+s,m=new FreeOutliner({x:this.#points[0]*d+u,y:this.#points[1]*p+g},this.#box,this.#scaleFactor,e,this.#isLTR,t??this.#innerMargin);for(let e=2;e<this.#points.length;e+=2)m.add({x:this.#points[e]*d+u,y:this.#points[e+1]*p+g});return m.getOutlines()}}class ColorPicker{#boundKeyDown=this.#keyDown.bind(this);#boundPointerDown=this.#pointerDown.bind(this);#button=null;#buttonSwatch=null;#defaultColor;#dropdown=null;#dropdownWasFromKeyboard=!1;#isMainColorPicker=!1;#editor=null;#eventBus;#uiManager=null;#type;static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],ColorPicker.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],ColorPicker.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],ColorPicker.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],ColorPicker.prototype._moveToPrevious],[["Home","mac+Home"],ColorPicker.prototype._moveToBeginning],[["End","mac+End"],ColorPicker.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#isMainColorPicker=!1,this.#type=AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.#editor=e):(this.#isMainColorPicker=!0,this.#type=AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR),this.#uiManager=e?._uiManager||t,this.#eventBus=this.#uiManager._eventBus,this.#defaultColor=e?.color||this.#uiManager?.highlightColors.values().next().value||"#FFFF98"}renderButton(){var e=this.#button=document.createElement("button"),t=(e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0),this.#uiManager._signal),t=(e.addEventListener("click",this.#openDropdown.bind(this),{signal:t}),e.addEventListener("keydown",this.#boundKeyDown,{signal:t}),this.#buttonSwatch=document.createElement("span"));return t.className="swatch",t.setAttribute("aria-hidden",!0),t.style.backgroundColor=this.#defaultColor,e.append(t),e}renderMainDropdown(){var e=this.#dropdown=this.#getDropdownRoot();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#getDropdownRoot(){var e,t,r=document.createElement("div"),o=this.#uiManager._signal;r.addEventListener("contextmenu",noContextMenu,{signal:o}),r.className="dropdown",r.role="listbox",r.setAttribute("aria-multiselectable",!1),r.setAttribute("aria-orientation","vertical"),r.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for([e,t]of this.#uiManager.highlightColors){var a=document.createElement("button"),i=(a.tabIndex="0",a.role="option",a.setAttribute("data-color",t),a.title=e,a.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-"+e),document.createElement("span"));a.append(i),i.className="swatch",i.style.backgroundColor=t,a.setAttribute("aria-selected",t===this.#defaultColor),a.addEventListener("click",this.#colorSelect.bind(this,t),{signal:o}),r.append(a)}return r.addEventListener("keydown",this.#boundKeyDown,{signal:o}),r}#colorSelect(e,t){t.stopPropagation(),this.#eventBus.dispatch("switchannotationeditorparams",{source:this,type:this.#type,value:e})}_colorSelectFromKeyboard(e){var t;e.target===this.#button?this.#openDropdown(e):(t=e.target.getAttribute("data-color"))&&this.#colorSelect(t,e)}_moveToNext(e){this.#isDropdownVisible?(e.target===this.#button?this.#dropdown.firstChild:e.target.nextSibling)?.focus():this.#openDropdown(e)}_moveToPrevious(e){e.target===this.#dropdown?.firstChild||e.target===this.#button?this.#isDropdownVisible&&this._hideDropdownFromKeyboard():(this.#isDropdownVisible||this.#openDropdown(e),e.target.previousSibling?.focus())}_moveToBeginning(e){this.#isDropdownVisible?this.#dropdown.firstChild?.focus():this.#openDropdown(e)}_moveToEnd(e){this.#isDropdownVisible?this.#dropdown.lastChild?.focus():this.#openDropdown(e)}#keyDown(e){ColorPicker._keyboardManager.exec(this,e)}#openDropdown(e){this.#isDropdownVisible?this.hideDropdown():(this.#dropdownWasFromKeyboard=0===e.detail,window.addEventListener("pointerdown",this.#boundPointerDown,{signal:this.#uiManager._signal}),this.#dropdown?this.#dropdown.classList.remove("hidden"):(e=this.#dropdown=this.#getDropdownRoot(),this.#button.append(e)))}#pointerDown(e){this.#dropdown?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#dropdown?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#boundPointerDown)}get#isDropdownVisible(){return this.#dropdown&&!this.#dropdown.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#isMainColorPicker||(this.#isDropdownVisible?(this.hideDropdown(),this.#button.focus({preventScroll:!0,focusVisible:this.#dropdownWasFromKeyboard})):this.#editor?.unselect())}updateColor(e){if(this.#buttonSwatch&&(this.#buttonSwatch.style.backgroundColor=e),this.#dropdown){var t,r=this.#uiManager.highlightColors.values();for(t of this.#dropdown.children)t.setAttribute("aria-selected",r.next().value===e)}}destroy(){this.#button?.remove(),this.#button=null,this.#buttonSwatch=null,this.#dropdown?.remove(),this.#dropdown=null}}class HighlightEditor extends AnnotationEditor{#anchorNode=null;#anchorOffset=0;#boxes;#clipPathId=null;#colorPicker=null;#focusOutlines=null;#focusNode=null;#focusOffset=0;#highlightDiv=null;#highlightOutlines=null;#id=null;#isFreeHighlight=!1;#boundKeydown=this.#keydown.bind(this);#lastPoint=null;#opacity;#outlineId=null;#text="";#thickness;#methodOfCreation="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=AnnotationEditorType.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){var e=HighlightEditor.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||HighlightEditor._defaultColor,this.#thickness=e.thickness||HighlightEditor._defaultThickness,this.#opacity=e.opacity||HighlightEditor._defaultOpacity,this.#boxes=e.boxes||null,this.#methodOfCreation=e.methodOfCreation||"",this.#text=e.text||"",this._isDraggable=!1,-1<e.highlightId?(this.#isFreeHighlight=!0,this.#createFreeOutlines(e),this.#addToDrawLayer()):(this.#anchorNode=e.anchorNode,this.#anchorOffset=e.anchorOffset,this.#focusNode=e.focusNode,this.#focusOffset=e.focusOffset,this.#createOutlines(),this.#addToDrawLayer(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#isFreeHighlight?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#thickness,methodOfCreation:this.#methodOfCreation}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#createOutlines(){var e=new Outliner(this.#boxes,.001),e=(this.#highlightOutlines=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#highlightOutlines.box,new Outliner(this.#boxes,.0025,.001,"ltr"===this._uiManager.direction)),e=(this.#focusOutlines=e.getOutlines(),this.#focusOutlines.box).lastPoint;this.#lastPoint=[(e[0]-this.x)/this.width,(e[1]-this.y)/this.height]}#createFreeOutlines({highlightOutlines:e,highlightId:t,clipPathId:r}){this.#highlightOutlines=e;this.#focusOutlines=e.getNewOutline(this.#thickness/2+1.5,.0025),0<=t?(this.#id=t,this.#clipPathId=r,this.parent.drawLayer.finalizeLine(t,e),this.#outlineId=this.parent.drawLayer.highlightOutline(this.#focusOutlines)):this.parent&&(r=this.parent.viewport.rotation,this.parent.drawLayer.updateLine(this.#id,e),this.parent.drawLayer.updateBox(this.#id,HighlightEditor.#rotateBbox(this.#highlightOutlines.box,(r-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#outlineId,this.#focusOutlines),this.parent.drawLayer.updateBox(this.#outlineId,HighlightEditor.#rotateBbox(this.#focusOutlines.box,r)));var{x:o,y:a,width:i,height:n}=e.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=i,this.height=n;break;case 90:var[s,l]=this.parentDimensions;this.x=a,this.y=1-o,this.width=i*l/s,this.height=n*s/l;break;case 180:this.x=1-o,this.y=1-a,this.width=i,this.height=n;break;case 270:var[s,l]=this.parentDimensions;this.x=1-a,this.y=o,this.width=i*l/s,this.height=n*s/l}t=this.#focusOutlines.box.lastPoint;this.#lastPoint=[(t[0]-o)/i,(t[1]-a)/n]}static initialize(e,t){AnnotationEditor.initialize(e,t),HighlightEditor._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:HighlightEditor._defaultColor=t;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:HighlightEditor._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#lastPoint}updateParams(e,t){switch(e){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:this.#updateColor(t);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:this.#updateThickness(t)}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,HighlightEditor._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,HighlightEditor._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||HighlightEditor._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,this.#thickness||HighlightEditor._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,this.#isFreeHighlight]]}#updateColor(e){var t=e=>{this.color=e,this.parent?.drawLayer.changeColor(this.#id,e),this.#colorPicker?.updateColor(e)},r=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#updateThickness(e){var t=this.#thickness,r=e=>{this.#thickness=e,this.#changeThickness(e)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}async addEditToolbar(){var e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(this.#colorPicker=new ColorPicker({editor:this}),e.addColorPicker(this.#colorPicker)),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#getRotation())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#getRotation())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#cleanDrawLayer(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null===this.div||(this.#addToDrawLayer(),this.isAttachedToDOM)||this.parent.add(this))}setParent(e){let t=!1;this.parent&&!e?this.#cleanDrawLayer():e&&(this.#addToDrawLayer(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#changeThickness(e){var t;this.#isFreeHighlight&&(this.#createFreeOutlines({highlightOutlines:this.#highlightOutlines.getNewOutline(e/2)}),this.fixAndSetPosition(),[e,t]=this.parentDimensions,this.setDims(this.width*e,this.height*t))}#cleanDrawLayer(){null!==this.#id&&this.parent&&(this.parent.drawLayer.remove(this.#id),this.#id=null,this.parent.drawLayer.remove(this.#outlineId),this.#outlineId=null)}#addToDrawLayer(e=this.parent){null===this.#id&&({id:this.#id,clipPathId:this.#clipPathId}=e.drawLayer.highlight(this.#highlightOutlines,this.color,this.#opacity),this.#outlineId=e.drawLayer.highlightOutline(this.#focusOutlines),this.#highlightDiv)&&(this.#highlightDiv.style.clipPath=this.#clipPathId)}static#rotateBbox({x:e,y:t,width:r,height:o},a){switch(a){case 90:return{x:1-t-o,y:e,width:o,height:r};case 180:return{x:1-e-r,y:1-t-o,width:r,height:o};case 270:return{x:t,y:1-e-r,width:o,height:r}}return{x:e,y:t,width:r,height:o}}rotate(e){var t=this.parent.drawLayer;let r;r=this.#isFreeHighlight?(e=(e-this.rotation+360)%360,HighlightEditor.#rotateBbox(this.#highlightOutlines.box,e)):HighlightEditor.#rotateBbox(this,e),t.rotate(this.#id,e),t.rotate(this.#outlineId,e),t.updateBox(this.#id,r),t.updateBox(this.#outlineId,HighlightEditor.#rotateBbox(this.#focusOutlines.box,e))}render(){var e,t,r;return this.div||(e=super.render(),this.#text&&(e.setAttribute("aria-label",this.#text),e.setAttribute("role","mark")),this.#isFreeHighlight?e.classList.add("free"):this.div.addEventListener("keydown",this.#boundKeydown,{signal:this._uiManager._signal}),t=this.#highlightDiv=document.createElement("div"),[t,r]=(e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#clipPathId,this.parentDimensions),this.setDims(this.width*t,this.height*r),bindEvents(this,this.#highlightDiv,["pointerover","pointerleave"]),this.enableEditing(),e)}pointerover(){this.parent.drawLayer.addClass(this.#outlineId,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#outlineId,"hovered")}#keydown(e){HighlightEditor._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#setCaret(!0);break;case 1:case 3:this.#setCaret(!1)}}#setCaret(e){var t;this.#anchorNode&&(t=window.getSelection(),e?t.setPosition(this.#anchorNode,this.#anchorOffset):t.setPosition(this.#focusNode,this.#focusOffset))}select(){super.select(),this.#outlineId&&(this.parent?.drawLayer.removeClass(this.#outlineId,"hovered"),this.parent?.drawLayer.addClass(this.#outlineId,"selected"))}unselect(){super.unselect(),this.#outlineId&&(this.parent?.drawLayer.removeClass(this.#outlineId,"selected"),this.#isFreeHighlight||this.#setCaret(!1))}get _mustFixPosition(){return!this.#isFreeHighlight}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#id,e),this.parent.drawLayer.show(this.#outlineId,e))}#getRotation(){return this.#isFreeHighlight?this.rotation:0}#serializeBoxes(){if(this.#isFreeHighlight)return null;var e,t,r,o,[a,i]=this.pageDimensions,n=this.#boxes,s=new Float32Array(8*n.length);let l=0;for({x:e,y:t,width:r,height:o}of n){var c=e*a,d=(1-t-o)*i;s[l]=s[l+4]=c,s[l+1]=s[l+3]=d,s[l+2]=s[l+6]=c+r*a,s[l+5]=s[l+7]=d+o*i,l+=8}return s}#serializeOutlines(e){return this.#highlightOutlines.serialize(e,this.#getRotation())}static startHighlighting(t,e,{target:r,x:o,y:a}){var{x:i,y:n,width:s,height:l}=r.getBoundingClientRect();let c=e=>{this.#highlightMove(t,e)};var d=t._signal;let p={capture:!0,passive:!1,signal:d},u=e=>{e.preventDefault(),e.stopPropagation()},g=e=>{r.removeEventListener("pointermove",c),window.removeEventListener("blur",g),window.removeEventListener("pointerup",g),window.removeEventListener("pointerdown",u,p),window.removeEventListener("contextmenu",noContextMenu),this.#endHighlight(t,e)};window.addEventListener("blur",g,{signal:d}),window.addEventListener("pointerup",g,{signal:d}),window.addEventListener("pointerdown",u,p),window.addEventListener("contextmenu",noContextMenu,{signal:d}),r.addEventListener("pointermove",c,{signal:d}),this._freeHighlight=new FreeOutliner({x:o,y:a},[i,n,s,l],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#highlightMove(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#endHighlight(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,r){var t=super.deserialize(e,t,r),{rect:[r,o,a,i],color:n,quadPoints:s}=e,[l,c]=(t.color=Util.makeHexColor(...n),t.#opacity=e.opacity,t.pageDimensions),d=(t.width=(a-r)/l,t.height=(i-o)/c,t.#boxes=[]);for(let e=0;e<s.length;e+=8)d.push({x:(s[4]-a)/l,y:(i-(1-s[e+5]))/c,width:(s[e+2]-s[e])/l,height:(s[e+5]-s[e+1])/c});return t.#createOutlines(),t}serialize(e=!1){var t;return this.isEmpty()||e?null:(e=this.getRect(0,0),t=AnnotationEditor._colorManager.convert(this.color),{annotationType:AnnotationEditorType.HIGHLIGHT,color:t,opacity:this.#opacity,thickness:this.#thickness,quadPoints:this.#serializeBoxes(),outlines:this.#serializeOutlines(e),pageIndex:this.pageIndex,rect:e,rotation:this.#getRotation(),structTreeParentId:this._structTreeParentId})}static canCreateNewEmptyEditor(){return!1}}class InkEditor extends AnnotationEditor{#baseHeight=0;#baseWidth=0;#boundCanvasPointermove=this.canvasPointermove.bind(this);#boundCanvasPointerleave=this.canvasPointerleave.bind(this);#boundCanvasPointerup=this.canvasPointerup.bind(this);#boundCanvasPointerdown=this.canvasPointerdown.bind(this);#canvasContextMenuTimeoutId=null;#currentPath2D=new Path2D;#disableEditing=!1;#hasSomethingToDraw=!1;#isCanvasInitialized=!1;#observer=null;#realWidth=0;#realHeight=0;#requestFrameCallback=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=AnnotationEditorType.INK;constructor(e){super({...e,name:"inkEditor"}),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){AnnotationEditor.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case AnnotationEditorParamsType.INK_THICKNESS:InkEditor._defaultThickness=t;break;case AnnotationEditorParamsType.INK_COLOR:InkEditor._defaultColor=t;break;case AnnotationEditorParamsType.INK_OPACITY:InkEditor._defaultOpacity=t/100}}updateParams(e,t){switch(e){case AnnotationEditorParamsType.INK_THICKNESS:this.#updateThickness(t);break;case AnnotationEditorParamsType.INK_COLOR:this.#updateColor(t);break;case AnnotationEditorParamsType.INK_OPACITY:this.#updateOpacity(t)}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,InkEditor._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,InkEditor._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*InkEditor._defaultOpacity)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||InkEditor._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||InkEditor._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??InkEditor._defaultOpacity))]]}#updateThickness(e){var t=e=>{this.thickness=e,this.#fitToContent()},r=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#updateColor(e){var t=e=>{this.color=e,this.#redraw()},r=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#updateOpacity(e){var t=e=>{this.opacity=e,this.#redraw()},r=this.opacity;this.addCommands({cmd:t.bind(this,e/=100),undo:t.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),null!==this.div)&&(this.canvas||(this.#createCanvas(),this.#createObserver()),this.isAttachedToDOM||(this.parent.add(this),this.#setCanvasDims()),this.#fitToContent())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#canvasContextMenuTimeoutId&&(clearTimeout(this.#canvasContextMenuTimeoutId),this.#canvasContextMenuTimeoutId=null),this.#observer?.disconnect(),this.#observer=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){var[e,t]=this.parentDimensions,e=this.width*e,t=this.height*t;this.setDimensions(e,t)}enableEditMode(){this.#disableEditing||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#boundCanvasPointerdown,{signal:this._uiManager._signal}))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#boundCanvasPointerdown))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#getInitialBBox(){var{parentRotation:e,parentDimensions:[t,r]}=this;switch(e){case 90:return[0,r,r,t];case 180:return[t,r,t,r];case 270:return[t,0,r,t];default:return[0,0,t,r]}}#setStroke(){var{ctx:e,color:t,opacity:r,thickness:o,parentScale:a,scaleFactor:i}=this;e.lineWidth=o*a/i,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=""+t+opacityToHex(r)}#startDrawing(e,t){var r=this._uiManager._signal;this.canvas.addEventListener("contextmenu",noContextMenu,{signal:r}),this.canvas.addEventListener("pointerleave",this.#boundCanvasPointerleave,{signal:r}),this.canvas.addEventListener("pointermove",this.#boundCanvasPointermove,{signal:r}),this.canvas.addEventListener("pointerup",this.#boundCanvasPointerup,{signal:r}),this.canvas.removeEventListener("pointerdown",this.#boundCanvasPointerdown),this.isEditing=!0,this.#isCanvasInitialized||(this.#isCanvasInitialized=!0,this.#setCanvasDims(),this.thickness||=InkEditor._defaultThickness,this.color||=InkEditor._defaultColor||AnnotationEditor._defaultLineColor,this.opacity??=InkEditor._defaultOpacity),this.currentPath.push([e,t]),this.#hasSomethingToDraw=!1,this.#setStroke(),this.#requestFrameCallback=()=>{this.#drawPoints(),this.#requestFrameCallback&&window.requestAnimationFrame(this.#requestFrameCallback)},window.requestAnimationFrame(this.#requestFrameCallback)}#draw(t,r){var[o,e]=this.currentPath.at(-1);if(!(1<this.currentPath.length&&t===o&&r===e)){o=this.currentPath;let e=this.#currentPath2D;o.push([t,r]),this.#hasSomethingToDraw=!0,o.length<=2?(e.moveTo(...o[0]),e.lineTo(t,r)):(3===o.length&&(this.#currentPath2D=e=new Path2D,e.moveTo(...o[0])),this.#makeBezierCurve(e,...o.at(-3),...o.at(-2),t,r))}}#endPath(){var e;0!==this.currentPath.length&&(e=this.currentPath.at(-1),this.#currentPath2D.lineTo(...e))}#stopDrawing(e,t){this.#requestFrameCallback=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#draw(e,t),this.#endPath();let r;r=1!==this.currentPath.length?this.#generateBezierPoints():[[e=[e,t],e.slice(),e.slice(),e]];let o=this.#currentPath2D,a=this.currentPath;this.currentPath=[],this.#currentPath2D=new Path2D;this.addCommands({cmd:()=>{this.allRawPaths.push(a),this.paths.push(r),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#createCanvas(),this.#createObserver()),this.#fitToContent())},mustExec:!0})}#drawPoints(){if(this.#hasSomethingToDraw){this.#hasSomethingToDraw=!1;Math.ceil(this.thickness*this.parentScale);var e,t=this.currentPath.slice(-3),r=t.map(e=>e[0]),t=t.map(e=>e[1]),o=(Math.min(...r),Math.max(...r),Math.min(...t),Math.max(...t),this).ctx;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(e of this.bezierPath2D)o.stroke(e);o.stroke(this.#currentPath2D),o.restore()}}#makeBezierCurve(e,t,r,o,a,i,n){t=(t+o)/2,r=(r+a)/2,i=(o+i)/2,n=(a+n)/2;e.bezierCurveTo(t+2*(o-t)/3,r+2*(a-r)/3,i+2*(o-i)/3,n+2*(a-n)/3,i,n)}#generateBezierPoints(){var n=this.currentPath;if(n.length<=2)return[[n[0],n[0],n.at(-1),n.at(-1)]];var s=[];let l,[c,d]=n[0];for(l=1;l<n.length-2;l++){let[e,t]=n[l],[r,o]=n[l+1];var p=(e+r)/2,u=(t+o)/2;let a=[c+2*(e-c)/3,d+2*(t-d)/3],i=[p+2*(e-p)/3,u+2*(t-u)/3];s.push([[c,d],a,i,[p,u]]),[c,d]=[p,u]}let[e,t]=n[l],[r,o]=n[l+1],a=[c+2*(e-c)/3,d+2*(t-d)/3],i=[r+2*(e-r)/3,o+2*(t-o)/3];return s.push([[c,d],a,i,[r,o]]),s}#redraw(){if(this.isEmpty())this.#updateTransform();else{this.#setStroke();var e,{canvas:t,ctx:r}=this;r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,t.width,t.height),this.#updateTransform();for(e of this.bezierPath2D)r.stroke(e)}}commit(){this.#disableEditing||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#disableEditing=!0,this.div.classList.add("disabled"),this.#fitToContent(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!this.#disableEditing&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#startDrawing(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#draw(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#endDrawing(e)}canvasPointerleave(e){this.#endDrawing(e)}#endDrawing(e){this.canvas.removeEventListener("pointerleave",this.#boundCanvasPointerleave),this.canvas.removeEventListener("pointermove",this.#boundCanvasPointermove),this.canvas.removeEventListener("pointerup",this.#boundCanvasPointerup),this.canvas.addEventListener("pointerdown",this.#boundCanvasPointerdown,{signal:this._uiManager._signal}),this.#canvasContextMenuTimeoutId&&clearTimeout(this.#canvasContextMenuTimeoutId),this.#canvasContextMenuTimeoutId=setTimeout(()=>{this.#canvasContextMenuTimeoutId=null,this.canvas.removeEventListener("contextmenu",noContextMenu)},10),this.#stopDrawing(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#createCanvas(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#createObserver(){this.#observer=new ResizeObserver(e=>{e=e[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}),this.#observer.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#observer?.disconnect(),this.#observer=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#disableEditing}render(){if(!this.div){let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");var[r,o,a,i]=this.#getInitialBBox();this.setAt(r,o,0,0),this.setDims(a,i),this.#createCanvas(),this.width?([r,o]=this.parentDimensions,this.setAspectRatio(this.width*r,this.height*o),this.setAt(e*r,t*o,this.width*r,this.height*o),this.#isCanvasInitialized=!0,this.#setCanvasDims(),this.setDims(this.width*r,this.height*o),this.#redraw(),this.div.classList.add("disabled")):(this.div.classList.add("editing"),this.enableEditMode()),this.#createObserver()}return this.div}#setCanvasDims(){var e,t;this.#isCanvasInitialized&&([e,t]=this.parentDimensions,this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#updateTransform())}setDimensions(e,t){var r=Math.round(e),o=Math.round(t);this.#realWidth===r&&this.#realHeight===o||(this.#realWidth=r,this.#realHeight=o,this.canvas.style.visibility="hidden",[r,o]=this.parentDimensions,this.width=e/r,this.height=t/o,this.fixAndSetPosition(),this.#disableEditing&&this.#setScaleFactor(e,t),this.#setCanvasDims(),this.#redraw(),this.canvas.style.visibility="visible",this.fixDims())}#setScaleFactor(e,t){var r=this.#getPadding(),e=(e-r)/this.#baseWidth,t=(t-r)/this.#baseHeight;this.scaleFactor=Math.min(e,t)}#updateTransform(){var e=this.#getPadding()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#buildPath2D(r){var o=new Path2D;for(let e=0,t=r.length;e<t;e++){var[a,i,n,s]=r[e];0===e&&o.moveTo(...a),o.bezierCurveTo(i[0],i[1],n[0],n[1],s[0],s[1])}return o}static#toPDFCoordinates(r,e,t){var[o,a,i,n]=e;switch(t){case 0:for(let e=0,t=r.length;e<t;e+=2)r[e]+=o,r[e+1]=n-r[e+1];break;case 90:for(let e=0,t=r.length;e<t;e+=2){var s=r[e];r[e]=r[e+1]+o,r[e+1]=s+a}break;case 180:for(let e=0,t=r.length;e<t;e+=2)r[e]=i-r[e],r[e+1]+=a;break;case 270:for(let e=0,t=r.length;e<t;e+=2){var l=r[e];r[e]=i-r[e+1],r[e+1]=n-l}break;default:throw new Error("Invalid rotation")}return r}static#fromPDFCoordinates(r,e,t){var[o,a,i,n]=e;switch(t){case 0:for(let e=0,t=r.length;e<t;e+=2)r[e]-=o,r[e+1]=n-r[e+1];break;case 90:for(let e=0,t=r.length;e<t;e+=2){var s=r[e];r[e]=r[e+1]-a,r[e+1]=s-o}break;case 180:for(let e=0,t=r.length;e<t;e+=2)r[e]=i-r[e],r[e+1]-=a;break;case 270:for(let e=0,t=r.length;e<t;e+=2){var l=r[e];r[e]=n-r[e+1],r[e+1]=i-l}break;default:throw new Error("Invalid rotation")}return r}#serializePaths(r,e,t,o){var a,i=[],n=this.thickness/2,s=r*e+n,l=r*t+n;for(a of this.paths){var c=[],d=[];for(let e=0,t=a.length;e<t;e++){var[p,u,g,m]=a[e];if(p[0]===m[0]&&p[1]===m[1]&&1===t){var h=r*p[0]+s,_=r*p[1]+l;c.push(h,_),d.push(h,_);break}var h=r*p[0]+s,_=r*p[1]+l,p=r*u[0]+s,u=r*u[1]+l,f=r*g[0]+s,g=r*g[1]+l,y=r*m[0]+s,m=r*m[1]+l;0===e&&(c.push(h,_),d.push(h,_)),c.push(p,u,f,g,y,m),d.push(p,u),e===t-1&&d.push(y,m)}i.push({bezier:InkEditor.#toPDFCoordinates(c,o,this.rotation),points:InkEditor.#toPDFCoordinates(d,o,this.rotation)})}return i}#getBbox(){let e=1/0,t=-1/0,r=1/0,o=-1/0;for(var a of this.paths)for(var[i,n,s,l]of a){i=Util.bezierBoundingBox(...i,...n,...s,...l);e=Math.min(e,i[0]),r=Math.min(r,i[1]),t=Math.max(t,i[2]),o=Math.max(o,i[3])}return[e,r,t,o]}#getPadding(){return this.#disableEditing?Math.ceil(this.thickness*this.parentScale):0}#fitToContent(e=!1){var t,r,o,a,i,n;this.isEmpty()||(this.#disableEditing?(n=this.#getBbox(),t=this.#getPadding(),this.#baseWidth=Math.max(AnnotationEditor.MIN_SIZE,n[2]-n[0]),this.#baseHeight=Math.max(AnnotationEditor.MIN_SIZE,n[3]-n[1]),r=Math.ceil(t+this.#baseWidth*this.scaleFactor),o=Math.ceil(t+this.#baseHeight*this.scaleFactor),[a,i]=this.parentDimensions,this.width=r/a,this.height=o/i,this.setAspectRatio(r,o),a=this.translationX,i=this.translationY,this.translationX=-n[0],this.translationY=-n[1],this.#setCanvasDims(),this.#redraw(),this.#realWidth=r,this.#realHeight=o,this.setDims(r,o),n=e?t/this.scaleFactor/2:0,this.translate(a-this.translationX-n,i-this.translationY-n)):this.#redraw())}static deserialize(e,t,r){if(e instanceof InkAnnotationElement)return null;var a,i=super.deserialize(e,t,r),[t,r]=(i.thickness=e.thickness,i.color=Util.makeHexColor(...e.color),i.opacity=e.opacity,i.pageDimensions),t=i.width*t,r=i.height*r,n=i.parentScale,s=e.thickness/2,{paths:e,rect:l,rotation:c}=(i.#disableEditing=!0,i.#realWidth=Math.round(t),i.#realHeight=Math.round(r),e);for({bezier:a}of e){a=InkEditor.#fromPDFCoordinates(a,l,c);var d=[];i.paths.push(d);let r=n*(a[0]-s),o=n*(a[1]-s);for(let e=2,t=a.length;e<t;e+=6){var p=n*(a[e]-s),u=n*(a[e+1]-s),g=n*(a[e+2]-s),m=n*(a[e+3]-s),h=n*(a[e+4]-s),_=n*(a[e+5]-s);d.push([[r,o],[p,u],[g,m],[h,_]]),r=h,o=_}var f=this.#buildPath2D(d);i.bezierPath2D.push(f)}e=i.#getBbox();return i.#baseWidth=Math.max(AnnotationEditor.MIN_SIZE,e[2]-e[0]),i.#baseHeight=Math.max(AnnotationEditor.MIN_SIZE,e[3]-e[1]),i.#setScaleFactor(t,r),i}serialize(){var e,t;return this.isEmpty()?null:(e=this.getRect(0,0),t=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle),{annotationType:AnnotationEditorType.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#serializePaths(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId})}}class StampEditor extends AnnotationEditor{#bitmap=null;#bitmapId=null;#bitmapPromise=null;#bitmapUrl=null;#bitmapFile=null;#bitmapFileName="";#canvas=null;#observer=null;#resizeTimeoutId=null;#isSvg=!1;#hasBeenAddedInUndoStack=!1;static _type="stamp";static _editorType=AnnotationEditorType.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#bitmapUrl=e.bitmapUrl,this.#bitmapFile=e.bitmapFile}static initialize(e,t){AnnotationEditor.initialize(e,t)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(e=>"image/"+e))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:e.getAsFile()})}#getBitmapFetched(e,t=!1){e?(this.#bitmap=e.bitmap,t||(this.#bitmapId=e.id,this.#isSvg=e.isSvg),e.file&&(this.#bitmapFileName=e.file.name),this.#createCanvas()):this.remove()}#getBitmapDone(){this.#bitmapPromise=null,this._uiManager.enableWaiting(!1),this.#canvas&&this.div.focus()}#getBitmap(){var e;if(this.#bitmapId)this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#bitmapId).then(e=>this.#getBitmapFetched(e,!0)).finally(()=>this.#getBitmapDone());else if(this.#bitmapUrl)e=this.#bitmapUrl,this.#bitmapUrl=null,this._uiManager.enableWaiting(!0),this.#bitmapPromise=this._uiManager.imageManager.getFromUrl(e).then(e=>this.#getBitmapFetched(e)).finally(()=>this.#getBitmapDone());else if(this.#bitmapFile)e=this.#bitmapFile,this.#bitmapFile=null,this._uiManager.enableWaiting(!0),this.#bitmapPromise=this._uiManager.imageManager.getFromFile(e).then(e=>this.#getBitmapFetched(e)).finally(()=>this.#getBitmapDone());else{let r=document.createElement("input"),e=(r.type="file",r.accept=StampEditor.supportedTypesStr,this._uiManager._signal);this.#bitmapPromise=new Promise(t=>{r.addEventListener("change",async()=>{var e;r.files&&0!==r.files.length?(this._uiManager.enableWaiting(!0),e=await this._uiManager.imageManager.getFromFile(r.files[0]),this.#getBitmapFetched(e)):this.remove(),t()},{signal:e}),r.addEventListener("cancel",()=>{this.remove(),t()},{signal:e})}).finally(()=>this.#getBitmapDone()),r.click()}}remove(){this.#bitmapId&&(this.#bitmap=null,this._uiManager.imageManager.deleteId(this.#bitmapId),this.#canvas?.remove(),this.#canvas=null,this.#observer?.disconnect(),this.#observer=null,this.#resizeTimeoutId)&&(clearTimeout(this.#resizeTimeoutId),this.#resizeTimeoutId=null),super.remove()}rebuild(){this.parent?(super.rebuild(),null===this.div||(this.#bitmapId&&null===this.#canvas&&this.#getBitmap(),this.isAttachedToDOM)||this.parent.add(this)):this.#bitmapId&&this.#getBitmap()}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#bitmapPromise||this.#bitmap||this.#bitmapUrl||this.#bitmapFile||this.#bitmapId)}get isResizable(){return!0}render(){if(!this.div){let e,t;var r,o;this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#bitmap?this.#createCanvas():this.#getBitmap(),this.width&&([r,o]=this.parentDimensions,this.setAt(e*r,t*o,this.width*r,this.height*o))}return this.div}#createCanvas(){var e=this.div;let{width:t,height:r}=this.#bitmap;var[o,a]=this.pageDimensions,[i,n]=(this.width?(t=this.width*o,r=this.height*a):(t>.75*o||r>.75*a)&&(i=Math.min(.75*o/t,.75*a/r),t*=i,r*=i),this.parentDimensions),i=(this.setDims(t*i/o,r*n/a),this._uiManager.enableWaiting(!1),this.#canvas=document.createElement("canvas"));e.append(i),e.hidden=!1,this.#drawBitmap(t,r),this.#createObserver(),this.#hasBeenAddedInUndoStack||(this.parent.addUndoableEditor(this),this.#hasBeenAddedInUndoStack=!0),this._reportTelemetry({action:"inserted_image"}),this.#bitmapFileName&&i.setAttribute("aria-label",this.#bitmapFileName)}#setDimensions(e,t){var[r,o]=this.parentDimensions;this.width=e/r,this.height=t/o,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),(this._initialOptions=null)!==this.#resizeTimeoutId&&clearTimeout(this.#resizeTimeoutId);this.#resizeTimeoutId=setTimeout(()=>{this.#resizeTimeoutId=null,this.#drawBitmap(e,t)},200)}#scaleBitmap(e,t){var{width:r,height:o}=this.#bitmap;let a=r,i=o,n=this.#bitmap;for(;a>2*e||i>2*t;){var s=a,l=i,c=(a>2*e&&(a=16384<=a?Math.floor(a/2)-1:Math.ceil(a/2)),i>2*t&&(i=16384<=i?Math.floor(i/2)-1:Math.ceil(i/2)),new OffscreenCanvas(a,i));c.getContext("2d").drawImage(n,0,0,s,l,0,0,a,i),n=c.transferToImageBitmap()}return n}#drawBitmap(t,r){t=Math.ceil(t),r=Math.ceil(r);var o=this.#canvas;if(o&&(o.width!==t||o.height!==r)){o.width=t,o.height=r;var a=this.#isSvg?this.#bitmap:this.#scaleBitmap(t,r);if(this._uiManager.hasMLManager&&!this.hasAltText()){let e=new OffscreenCanvas(t,r).getContext("2d");e.drawImage(a,0,0,a.width,a.height,0,0,t,r),this._uiManager.mlGuess({service:"image-to-text",request:{data:e.getImageData(0,0,t,r).data,width:t,height:r,channels:4}}).then(e=>{e=e?.output||"";this.parent&&e&&!this.hasAltText()&&(this.altTextData={altText:e,decorative:!1})})}let e=o.getContext("2d");e.filter=this._uiManager.hcmFilter,e.drawImage(a,0,0,a.width,a.height,0,0,t,r)}}getImageForAltText(){return this.#canvas}#serializeBitmap(e){if(e){if(this.#isSvg){e=this._uiManager.imageManager.getSvgUrl(this.#bitmapId);if(e)return e}e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#bitmap,e.getContext("2d").drawImage(this.#bitmap,0,0),e.toDataURL()}var t,r;return this.#isSvg?([e,t]=this.pageDimensions,e=Math.round(this.width*e*PixelsPerInch.PDF_TO_CSS_UNITS),t=Math.round(this.height*t*PixelsPerInch.PDF_TO_CSS_UNITS),(r=new OffscreenCanvas(e,t)).getContext("2d").drawImage(this.#bitmap,0,0,this.#bitmap.width,this.#bitmap.height,0,0,e,t),r.transferToImageBitmap()):structuredClone(this.#bitmap)}#createObserver(){this._uiManager._signal&&(this.#observer=new ResizeObserver(e=>{e=e[0].contentRect;e.width&&e.height&&this.#setDimensions(e.width,e.height)}),this.#observer.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#observer?.disconnect(),this.#observer=null},{once:!0}))}static deserialize(e,t,r){var o,a,i,n;return e instanceof StampAnnotationElement?null:(t=super.deserialize(e,t,r),{rect:e,bitmapUrl:o,bitmapId:n,isSvg:a,accessibilityData:i}=e,[r,n]=(n&&r.imageManager.isValidId(n)?t.#bitmapId=n:t.#bitmapUrl=o,t.#isSvg=a,t.pageDimensions),t.width=(e[2]-e[0])/r,t.height=(e[3]-e[1])/n,i&&(t.altTextData=i),t)}serialize(e=!1,t=null){var r,o;return this.isEmpty()?null:(r={annotationType:AnnotationEditorType.STAMP,bitmapId:this.#bitmapId,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#isSvg,structTreeParentId:this._structTreeParentId},e?(r.bitmapUrl=this.#serializeBitmap(!0),r.accessibilityData=this.altTextData):({decorative:e,altText:o}=this.altTextData,!e&&o&&(r.accessibilityData={type:"Figure",alt:o}),null!==t&&(t.stamps||=new Map,e=this.#isSvg?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null,t.stamps.has(this.#bitmapId)?this.#isSvg&&e>(o=t.stamps.get(this.#bitmapId)).area&&(o.area=e,o.serialized.bitmap.close(),o.serialized.bitmap=this.#serializeBitmap(!1)):(t.stamps.set(this.#bitmapId,{area:e,serialized:r}),r.bitmap=this.#serializeBitmap(!1)))),r)}}class AnnotationEditorLayer{#accessibilityManager;#allowClick=!1;#annotationLayer=null;#boundPointerup=null;#boundPointerdown=null;#boundTextLayerPointerDown=null;#editorFocusTimeoutId=null;#editors=new Map;#hadPointerDown=!1;#isCleaningUp=!1;#isDisabling=!1;#textLayer=null;#uiManager;static _initialized=!1;static#editorTypes=new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:r,accessibilityManager:o,annotationLayer:a,drawLayer:i,textLayer:n,viewport:s,l10n:l}){var c=[...AnnotationEditorLayer.#editorTypes.values()];if(!AnnotationEditorLayer._initialized){AnnotationEditorLayer._initialized=!0;for(var d of c)d.initialize(l,e)}e.registerEditorTypes(c),this.#uiManager=e,this.pageIndex=t,this.div=r,this.#accessibilityManager=o,this.#annotationLayer=a,this.viewport=s,this.#textLayer=n,this.drawLayer=i,this.#uiManager.addLayer(this)}get isEmpty(){return 0===this.#editors.size}get isInvisible(){return this.isEmpty&&this.#uiManager.getMode()===AnnotationEditorType.NONE}updateToolbar(e){this.#uiManager.updateToolbar(e)}updateMode(e=this.#uiManager.getMode()){switch(this.#cleanup(),e){case AnnotationEditorType.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);var t,r=this.div.classList;for(t of AnnotationEditorLayer.#editorTypes.values())r.toggle(t._type+"Editing",e===t._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#textLayer?.div}addInkEditorIfNeeded(t){if(this.#uiManager.getMode()===AnnotationEditorType.INK){if(!t)for(let e of this.#editors.values())if(e.isEmpty())return void e.setInBackground();let e=this.createAndAddNewEditor({offsetX:0,offsetY:0},!1);e.setInBackground()}}setEditingState(e){this.#uiManager.setEditingState(e)}addCommands(e){this.#uiManager.addCommands(e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#annotationLayer?.div.classList.toggle("disabled",!e)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);var e,t,r,o=new Set;for(e of this.#editors.values())e.enableEditing(),e.show(!0),e.annotationElementId&&(this.#uiManager.removeChangedExistingAnnotation(e),o.add(e.annotationElementId));if(this.#annotationLayer)for(t of this.#annotationLayer.getEditableAnnotations())t.hide(),this.#uiManager.isDeletedAnnotationElement(t.data.id)||o.has(t.data.id)||(r=this.deserialize(t))&&(this.addOrRebuild(r),r.enableEditing())}disable(){this.#isDisabling=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);var e,t,r=new Map,o=new Map;for(e of this.#editors.values())e.disableEditing(),e.annotationElementId&&(null!==e.serialize()?r.set(e.annotationElementId,e):(o.set(e.annotationElementId,e),this.getEditableAnnotation(e.annotationElementId)?.show(),e.remove()));if(this.#annotationLayer)for(t of this.#annotationLayer.getEditableAnnotations()){var a=t.data.id;if(!this.#uiManager.isDeletedAnnotationElement(a)){let e=o.get(a);e?(e.resetAnnotationElement(t),e.show(!1)):(e=r.get(a))&&(this.#uiManager.addChangedExistingAnnotation(e),e.renderAnnotationElement(t),e.show(!1)),t.show()}}this.#cleanup(),this.isEmpty&&(this.div.hidden=!0);var i,n=this.div.classList;for(i of AnnotationEditorLayer.#editorTypes.values())n.remove(i._type+"Editing");this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#isDisabling=!1}getEditableAnnotation(e){return this.#annotationLayer?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#uiManager.getActive()!==e&&this.#uiManager.setActiveEditor(e)}enableTextSelection(){this.div.tabIndex=-1,this.#textLayer?.div&&!this.#boundTextLayerPointerDown&&(this.#boundTextLayerPointerDown=this.#textLayerPointerDown.bind(this),this.#textLayer.div.addEventListener("pointerdown",this.#boundTextLayerPointerDown,{signal:this.#uiManager._signal}),this.#textLayer.div.classList.add("highlighting"))}disableTextSelection(){this.div.tabIndex=0,this.#textLayer?.div&&this.#boundTextLayerPointerDown&&(this.#textLayer.div.removeEventListener("pointerdown",this.#boundTextLayerPointerDown),this.#boundTextLayerPointerDown=null,this.#textLayer.div.classList.remove("highlighting"))}#textLayerPointerDown(e){var t;this.#uiManager.unselectAll(),e.target===this.#textLayer.div&&(t=util_FeatureTest.platform.isMac,0!==e.button||e.ctrlKey&&t||(this.#uiManager.showAllEditors("highlight",!0,!0),this.#textLayer.div.classList.add("free"),HighlightEditor.startHighlighting(this,"ltr"===this.#uiManager.direction,e),this.#textLayer.div.addEventListener("pointerup",()=>{this.#textLayer.div.classList.remove("free")},{once:!0,signal:this.#uiManager._signal}),e.preventDefault()))}enableClick(){var e;this.#boundPointerdown||(e=this.#uiManager._signal,this.#boundPointerdown=this.pointerdown.bind(this),this.#boundPointerup=this.pointerup.bind(this),this.div.addEventListener("pointerdown",this.#boundPointerdown,{signal:e}),this.div.addEventListener("pointerup",this.#boundPointerup,{signal:e}))}disableClick(){this.#boundPointerdown&&(this.div.removeEventListener("pointerdown",this.#boundPointerdown),this.div.removeEventListener("pointerup",this.#boundPointerup),this.#boundPointerdown=null,this.#boundPointerup=null)}attach(e){this.#editors.set(e.id,e);var t=e.annotationElementId;t&&this.#uiManager.isDeletedAnnotationElement(t)&&this.#uiManager.removeDeletedAnnotationElement(e)}detach(e){this.#editors.delete(e.id),this.#accessibilityManager?.removePointerInTextLayer(e.contentDiv),!this.#isDisabling&&e.annotationElementId&&this.#uiManager.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#uiManager.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,this.#isCleaningUp||this.addInkEditorIfNeeded(!1)}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#uiManager.addDeletedAnnotationElement(e.annotationElementId),AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div)&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div))}add(e){var t;e.parent===this&&e.isAttachedToDOM||(this.changeParent(e),this.#uiManager.addEditor(e),this.attach(e),e.isAttachedToDOM||(t=e.render(),this.div.append(t),e.isAttachedToDOM=!0),e.fixAndSetPosition(),e.onceAdded(),this.#uiManager.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData))}moveEditorInDOM(t){if(t.isAttachedToDOM){let e=document.activeElement;t.div.contains(e)&&!this.#editorFocusTimeoutId&&(t._focusEventsAllowed=!1,this.#editorFocusTimeoutId=setTimeout(()=>{this.#editorFocusTimeoutId=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#uiManager._signal}),e.focus())},0)),t._structTreeParentId=this.#accessibilityManager?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#uiManager.getId()}get#currentEditorType(){return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode())}get _signal(){return this.#uiManager._signal}#createNewEditor(e){var t=this.#currentEditorType;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#currentEditorType?.canCreateNewEmptyEditor()}pasteEditor(e,t){this.#uiManager.updateToolbar(e),this.#uiManager.updateMode(e);var{offsetX:e,offsetY:r}=this.#getCenterPoint(),o=this.getNextId(),o=this.#createNewEditor({parent:this,id:o,x:e,y:r,uiManager:this.#uiManager,isCentered:!0,...t});o&&this.add(o)}deserialize(e){return AnnotationEditorLayer.#editorTypes.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#uiManager)||null}createAndAddNewEditor(e,t,r={}){var o=this.getNextId(),o=this.#createNewEditor({parent:this,id:o,x:e.offsetX,y:e.offsetY,uiManager:this.#uiManager,isCentered:t,...r});return o&&this.add(o),o}#getCenterPoint(){var{x:e,y:t,width:r,height:o}=this.div.getBoundingClientRect(),a=Math.max(0,e),i=Math.max(0,t),a=(a+Math.min(window.innerWidth,e+r))/2-e,r=(i+Math.min(window.innerHeight,t+o))/2-t,[e,i]=this.viewport.rotation%180==0?[a,r]:[r,a];return{offsetX:e,offsetY:i}}addNewEditor(){this.createAndAddNewEditor(this.#getCenterPoint(),!0)}setSelected(e){this.#uiManager.setSelected(e)}toggleSelected(e){this.#uiManager.toggleSelected(e)}isSelected(e){return this.#uiManager.isSelected(e)}unselect(e){this.#uiManager.unselect(e)}pointerup(e){var t=util_FeatureTest.platform.isMac;0!==e.button||e.ctrlKey&&t||e.target===this.div&&this.#hadPointerDown&&(this.#hadPointerDown=!1,this.#allowClick?this.#uiManager.getMode()===AnnotationEditorType.STAMP?this.#uiManager.unselectAll():this.createAndAddNewEditor(e,!1):this.#allowClick=!0)}pointerdown(e){var t;this.#uiManager.getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),this.#hadPointerDown?this.#hadPointerDown=!1:(t=util_FeatureTest.platform.isMac,0!==e.button||e.ctrlKey&&t||e.target===this.div&&(this.#hadPointerDown=!0,t=this.#uiManager.getActive(),this.#allowClick=!t||t.isEmpty()))}findNewParent(e,t,r){t=this.#uiManager.findParent(t,r);return null!==t&&t!==this&&(t.changeParent(e),!0)}destroy(){this.#uiManager.getActive()?.parent===this&&(this.#uiManager.commitOrRemove(),this.#uiManager.setActiveEditor(null)),this.#editorFocusTimeoutId&&(clearTimeout(this.#editorFocusTimeoutId),this.#editorFocusTimeoutId=null);for(var e of this.#editors.values())this.#accessibilityManager?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#editors.clear(),this.#uiManager.removeLayer(this)}#cleanup(){this.#isCleaningUp=!0;for(var e of this.#editors.values())e.isEmpty()&&e.remove();this.#isCleaningUp=!1}render({viewport:e}){this.viewport=e,setLayerDimensions(this.div,e);for(var t of this.#uiManager.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#uiManager.commitOrRemove(),this.#cleanup();var t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,setLayerDimensions(this.div,{rotation:r}),t!==r)for(var o of this.#editors.values())o.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){var{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#uiManager.viewParameters.realScale}}class DrawLayer{#parent=null;#id=0;#mapping=new Map;#toUpdate=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(this.#parent){if(this.#parent!==e){if(0<this.#mapping.size)for(var t of this.#mapping.values())t.remove(),e.append(t);this.#parent=e}}else this.#parent=e}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}static#setBox(e,{x:t=0,y:r=0,width:o=1,height:a=1}={}){e=e.style;e.top=100*r+"%",e.left=100*t+"%",e.width=100*o+"%",e.height=100*a+"%"}#createSVG(e){var t=DrawLayer._svgFactory.create(1,1,!0);return this.#parent.append(t),t.setAttribute("aria-hidden",!0),DrawLayer.#setBox(t,e),t}#createClipPath(e,t){var r=DrawLayer._svgFactory.createElement("clipPath"),e=(e.append(r),"clip_"+t),o=(r.setAttribute("id",e),r.setAttribute("clipPathUnits","objectBoundingBox"),DrawLayer._svgFactory.createElement("use"));return r.append(o),o.setAttribute("href","#"+t),o.classList.add("clip"),e}highlight(e,t,r,o=!1){var a=this.#id++,i=this.#createSVG(e.box),n=(i.classList.add("highlight"),e.free&&i.classList.add("free"),DrawLayer._svgFactory.createElement("defs")),s=(i.append(n),DrawLayer._svgFactory.createElement("path")),l=(n.append(s),`path_p${this.pageIndex}_`+a),e=(s.setAttribute("id",l),s.setAttribute("d",e.toSVGPath()),o&&this.#toUpdate.set(a,s),this.#createClipPath(n,l)),o=DrawLayer._svgFactory.createElement("use");return i.append(o),i.setAttribute("fill",t),i.setAttribute("fill-opacity",r),o.setAttribute("href","#"+l),this.#mapping.set(a,i),{id:a,clipPathId:`url(#${e})`}}highlightOutline(e){var t=this.#id++,r=this.#createSVG(e.box),o=(r.classList.add("highlightOutline"),DrawLayer._svgFactory.createElement("defs")),a=(r.append(o),DrawLayer._svgFactory.createElement("path")),i=(o.append(a),`path_p${this.pageIndex}_`+t);a.setAttribute("id",i),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let n;e.free&&(r.classList.add("free"),a=DrawLayer._svgFactory.createElement("mask"),o.append(a),n=`mask_p${this.pageIndex}_`+t,a.setAttribute("id",n),a.setAttribute("maskUnits","objectBoundingBox"),e=DrawLayer._svgFactory.createElement("rect"),a.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white"),o=DrawLayer._svgFactory.createElement("use"),a.append(o),o.setAttribute("href","#"+i),o.setAttribute("stroke","none"),o.setAttribute("fill","black"),o.setAttribute("fill-rule","nonzero"),o.classList.add("mask"));e=DrawLayer._svgFactory.createElement("use"),r.append(e),e.setAttribute("href","#"+i),n&&e.setAttribute("mask",`url(#${n})`),a=e.cloneNode();return r.append(a),e.classList.add("mainOutline"),a.classList.add("secondaryOutline"),this.#mapping.set(t,r),t}finalizeLine(e,t){var r=this.#toUpdate.get(e);this.#toUpdate.delete(e),this.updateBox(e,t.box),r.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#mapping.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#toUpdate.delete(e)}updatePath(e,t){this.#toUpdate.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){DrawLayer.#setBox(this.#mapping.get(e),t)}show(e,t){this.#mapping.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#mapping.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#mapping.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#mapping.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#mapping.get(e).classList.add(t)}removeClass(e,t){this.#mapping.get(e).classList.remove(t)}remove(e){null!==this.#parent&&(this.#mapping.get(e).remove(),this.#mapping.delete(e))}destroy(){this.#parent=null;for(var e of this.#mapping.values())e.remove();this.#mapping.clear()}}__webpack_exports__.AbortException,__webpack_exports__.AnnotationEditorLayer,__webpack_exports__.AnnotationEditorParamsType,__webpack_exports__.AnnotationEditorType,__webpack_exports__.AnnotationEditorUIManager,__webpack_exports__.AnnotationLayer,__webpack_exports__.AnnotationMode,__webpack_exports__.CMapCompressionType,__webpack_exports__.ColorPicker,__webpack_exports__.DOMSVGFactory,__webpack_exports__.DrawLayer,__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions,__webpack_exports__getDocument=(__webpack_exports__.ImageKind,__webpack_exports__.InvalidPDFException,__webpack_exports__.MissingPDFException,__webpack_exports__.OPS,__webpack_exports__.Outliner,__webpack_exports__.PDFDataRangeTransport,__webpack_exports__.PDFDateString,__webpack_exports__.PDFWorker,__webpack_exports__.PasswordResponses,__webpack_exports__.PermissionFlag,__webpack_exports__.PixelsPerInch,__webpack_exports__.RenderingCancelledException,__webpack_exports__.TextLayer,__webpack_exports__.UnexpectedResponseException,__webpack_exports__.Util,__webpack_exports__.VerbosityLevel,__webpack_exports__.XfaLayer,__webpack_exports__.build,__webpack_exports__.createValidAbsoluteUrl,__webpack_exports__.fetchData,__webpack_exports__.getDocument),showMe=(__webpack_exports__.getFilenameFromUrl,__webpack_exports__.getPdfFilenameFromUrl,__webpack_exports__.getXfaPageViewport,__webpack_exports__.isDataScheme,__webpack_exports__.isPdfFile,__webpack_exports__.noContextMenu,__webpack_exports__.normalizeUnicode,__webpack_exports__.renderTextLayer,__webpack_exports__.setLayerDimensions,__webpack_exports__.shadow,__webpack_exports__.updateTextLayer,__webpack_exports__.version,{ready:!0,autoPlayNextStep:!0,slideshowAutoplay:!(__webpack_exports__GlobalWorkerOptions.workerSrc="../common/pdfLibJS/pdf.worker.js")});function updateShowMeSettings(){showMe.settings=getShowMeSettings()}function getShowMeSettings(){return{showMeSetting:GmCXt.getAppSetting("showMeSetting"),giphy:GmCXt.getAppSetting("giphy"),video:GmCXt.getAppSetting("video")}}GmCXt.imgThumLength=5;var invalidSegmentGuide=[];function showControl(e){mg$$1(e).show()}function hideControl(e){mg$$1(e).hide()}function show(e){mg$$1(e).css("display","block")}function hide(e){mg$$1(e).css("display","none")}function showIn(e){mg$$1(e).css("display","inline-block")}function showFlex(e){mg$$1(e).css("display","flex")}function showInlineFlex(e){mg$$1(e).css("display","inline-flex")}function disable(e){mg$$1(e).css({opacity:".5","pointer-events":"none"})}function reset(e){mg$$1(e).css({opacity:"","pointer-events":""})}function activate(e){mg$$1(e).addClass("mgPlayerJSProd_showMe-player-active-mode")}function inactivate(e){mg$$1(e).removeClass("mgPlayerJSProd_showMe-player-active-mode")}function removeStyle(e){mg$$1(e).removeAttr("style")}function disableSlideshowAutoplay(){!0===showMe.slideshowAutoplay&&(showMe.slideshowAutoplay=!1,showMe.autoPlayNextStep=!1,hideControl(".mgPlayerJSProd_btn-autoplay-on"),showControl(".mgPlayerJSProd_btn-autoplay-off"))}function playModeView(e){GmCXt.FT.audio||hideControl(".mgPlayerJSProd_showMe-play-ctrl-audio"),"slideshow"===e?(mg$$1(".mgPlayerJSProd_slideshow-main").css({height:"calc(100% - 192px)"}),window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer&&mg$$1(".mgPlayerJSProd_slideshow-main").css({height:"calc(100% - 17%)"}),mg$$1(".mgPlayerJSProd_iframe-wrapper-div").css({height:"89%"})):"video"!==e&&"gif"!==e&&"giphy"!==e||(mg$$1(".mgPlayerJSProd_slideshow-main").css({height:"86%"}),window.matchMedia("(max-width: 480px)").matches&&!GmCXt.isMiniPlayer&&mg$$1(".mgPlayerJSProd_slideshow-main").css({height:"calc(100% - 12%)"}),mg$$1(".mgPlayerJSProd_iframe-wrapper-div").css({height:"92%"}),disableSlideshowAutoplay(),GmCXt.isWBC()&&mg$$1(".mgPlayerJSProd_slideshow-main").css({height:"92%"}))}function hideSlideShowPlayer(){mg$$1(".mgPlayerJSProd_tour-player-panel").hide(),hide(".mgPlayerJSProd_showMe-player-ctrl-container")}function showSlideShowPlayer(){updateShowMeSettings(),GmCXt.increaseSidePanel(),mg$$1(".ege-panel").css({width:"500px",right:"-9550px",transition:"width 0s"}),mg$$1(".mgPlayerJSProd_slideshow-panel").css({display:"block",left:"50%"}),mg$$1(".mgPlayerJSProd_tour-player-panel").show(),show(".mgPlayerJSProd_showMe-player-ctrl-container"),mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").empty()}function getBulCount(e){var r=mg$$1(e).find("li").length;return mg$$1(e).find("li").each(function(e){var t=mg$$1(this).text().replace(/.*\{|\}/g,"");-1!==t.indexOf(";")&&(t=t.split(";")[1])&&"optional"===t.trim()&&r--}),r}function updateDropdown(e){var t=mg$$1(e).find("select").val();mg$$1(e).find("select").remove(),mg$$1(e).html(mg$$1(e).html()+t)}function updateTextarea(e){var t=mg$$1(e).find("textarea"),r=mg$$1(t).val().trim(),t=mg$$1(t).attr("optional");r||"true"!==t?("."===r[r.length-1]&&(r=r.substring(0,r.length-1)),mg$$1(e).find("textarea").remove(),mg$$1(e).html(mg$$1(e).html()+r)):mg$$1(e).remove()}function updatePowerFormHtml(){mg$$1(".mgPlayerJSProd_form-injector-form").find("li").each(function(){var e=mg$$1(this).html();-1!==e.indexOf("<select")?updateDropdown(this):-1!==e.indexOf("<textarea")&&updateTextarea(this)}),mg$$1(".mgPlayerJSProd_power-form-error").remove(),mg$$1(".mgPlayerJSProd_form-injector-form-title").remove();var e=mg$$1(".mgPlayerJSProd_form-injector-form").find("li").length,t=mg$$1(".mgPlayerJSProd_form-injector-form").text().trim();1!==e||"yes"!==t.toLowerCase()&&"no"!==t.toLowerCase()||mg$$1(".mgPlayerJSProd_form-injector-form").html(mg$$1(".mgPlayerJSProd_form-injector-form").text())}function validate(e){var t=mg$$1(e).attr("maxlength"),t=parseInt(t),r=mg$$1(e).val().length;return t<=r?(mg$$1(e).next(".mgPlayerJSProd_power-form-error").show(),t<r||void 0):(mg$$1(e).next(".mgPlayerJSProd_power-form-error").hide(),!1)}function validateTextarea(){validate(this)}function validatePowerForm(){var o=!0;return mg$$1(".mgPlayerJSProd_form-injector-form").find("li").each(function(){var e,t,r;-1!==mg$$1(this).html().indexOf("<textarea")&&(e=mg$$1(this).find("textarea"),t=mg$$1(e).val().trim(),r=mg$$1(e).attr("optional"),!t&&"true"!==r||validate(e))&&(mg$$1(this).find(".mgPlayerJSProd_power-form-error").show(),o=!1)}),o}function getOldVal(e){return e&&-1!==mg$$1(e).text().indexOf(":")?mg$$1(e).text().substring(mg$$1(e).text().indexOf(":")+1):mg$$1(e).text()}function getDropDownHtml(e,t){for(var r=getOldVal(t),o=e.split("|"),a="<select>",i="",n=0;n<o.length;n++){var s,i=r&&r.replace(/\s/g,"").toLowerCase()===o[n].replace(/\s/g,"").toLowerCase()?"selected":"";s=25<o[n].length?o[n].slice(0,25)+"...":o[n],a=a+"<option "+i+" title ='"+o[n]+"' value = '"+o[n]+"' >"+s+"</option>"}return a+"</select>"}function getTextareaHtml(e,t){var t=getOldVal(t),r=parseInt(e.split("char")[0]),e=e.split(";")[1],o=!1;return"<textarea optional='"+(o=e&&"optional"===e.trim()?!0:o)+"' maxlength='"+r+"'  value='"+t+"' >"+t+"</textarea><div class='mgPlayerJSProd_power-form-error'>"+GmCXt.label.powerFormMandatory+" "+r+" </div>"}function checkPreFilledData(e,t){e=getBulCount(e);return getBulCount(t)<=e?!0:!1}function getFormHtml(n,e){e=e.replace(/&nbsp;/gm,"");var s=mg$$1(n).text().trim().toLowerCase(),l=getBulCount(e),c=checkPreFilledData(n,e),d="";return mg$$1(e).find("li").each(function(r){var o,a=mg$$1(this).text().replace(/{(.*?)}/g,""),e=mg$$1(this).text().replace(/.*\{|\}/g,""),t="",i="";c&&(o=!1,mg$$1(n).find("li").each(function(e){var t;o||((t=(t=-1!==mg$$1(this).text().indexOf(":")?mg$$1(this).text().split(":")[0]:"").replace(/\s/g,""))&&0===a.replace(/\s/g,"").indexOf(t)?(i=mg$$1(n).find("li")[e],o=!0):t||a||(i=mg$$1(n).find("li")[r],o=!0))})),1!==l||"yes"!==s&&"no"!==s||(i=mg$$1(n)),-1!==e.indexOf("|")?t=getDropDownHtml(e,i):-1!==e.indexOf("char")&&(t=getTextareaHtml(e,i)),d=d+"<li>"+a+t+"</li>"}),d}function expandPowerForm(){"none"===mg$$1(".mgPlayerJSProd_form-injector-old-value-wrapper").css("display")?(mg$$1(".mgPlayerJSProd_form-injector-old-value-wrapper").css({display:"inline-block"}),mg$$1(".mgPlayerJSProd_form-injector-form").css({width:"56%","border-left":"1px solid #bdbdbd"}),mg$$1(".mgPlayerJSProd_power-form-expand-icon").css({transform:"rotate(180deg)"})):(mg$$1(".mgPlayerJSProd_form-injector-old-value-wrapper").css({display:"none"}),mg$$1(".mgPlayerJSProd_form-injector-form").css({width:"100%","border-left":"none"}),mg$$1(".mgPlayerJSProd_power-form-expand-icon").css({transform:"rotate(0deg)"}))}function openPowerForm(e){var t=e.he,r=e.tag,o=e.value,a=e.jobId,i=e.step,n=e.isPreview,e=GmCXt.label.powerFormNewData,e=(checkPreFilledData(t,o)||(e=e+"<br/><p style='font-size:11px'> "+GmCXt.label.powerFormNewDataMore+"</p>"),"<div class='mgPlayerJSProd_form-injector-wrapper mgPlayerJSProd_form-injector-wrapper"+a+"'>   <div class='mgPlayerJSProd_form-injector-wrapper-inner'>   <div class='mgPlayerJSProd_form-injector-header'>       <div class='mgPlayerJSProd_form-injector-title'>"+GmCXt.label.powerFormTitle+"</div>       <div class='mgPlayerJSProd_form-injector-brand-logo'>"+GmCXt.getPopupLogo()+"</div>   </div>       <div class='mgPlayerJSProd_form-injector-form-container'>           <div class='mgPlayerJSProd_form-injector-old-value-wrapper'>               <div class='mgPlayerJSProd_form-injector-old-value-title'>"+GmCXt.label.powerFormOldData+"</div>               <div class='mgPlayerJSProd_form-injector-old-value'>"+t+"</div>           </div>           <div class='mgPlayerJSProd_form-injector-form' style=''>               <div class='mgPlayerJSProd_form-injector-form-title'>"+e+"</div>               <ul>"+getFormHtml(t,o)+"</ul>           </div>       </div>       <div class='mgPlayerJSProd_form-injector-btns'>           <div class='mgPlayerJSProd_power-form-expand-icon'></div>           <div class='mgPlayerJSProd_form-injector-cancel mgPlayerJSProd_btn-default mgPlayerJSProd_btn-neutral'>"+GmCXt.label.btnCancel+" </div>           <div class='mgPlayerJSProd_form-injector-submit mgPlayerJSProd_btn-default'> "+GmCXt.label.btnSubmit+"</div>       </div>   </div> </div>");mg$$1(".mgPlayerJSProd_form-injector-wrapper").remove(),mg$$1("body").append(e),GmCXt.getBrandLogo()||mg$$1(".mgPlayerJSProd_form-injector-brand-logo").html(GmCXt.svgs.white_myguide_logo),mg$$1(".mgPlayerJSProd_power-form-expand-icon").html(GmCXt.svgs.expand_power_form),mg$$1(".mgPlayerJSProd_form-injector-form li textarea").off("change keyup paste").on("change keyup paste",validateTextarea),mg$$1(".mgPlayerJSProd_power-form-expand-icon").off("click").on("click",expandPowerForm),mg$$1(".mgPlayerJSProd_form-injector-submit").off("click").on("click",function(){var e;validatePowerForm()&&(!n&&i&&GmCXt.updateTooltipActionInfo(i.tour_id,i.step_id,i.step_settings.smarttip,"submit"),updatePowerFormHtml(),e=mg$$1(".mgPlayerJSProd_form-injector-form").html(),formatAndSendToParentWindow("mgPlayerJSProd_action:insert_power_html_i",{he:t,tag:r,formHtml:e,forceInsert:!0,jobId:a}),GmCXt.closePowerFormSp())}),mg$$1(".mgPlayerJSProd_form-injector-cancel").off("click").on("click",function(){!n&&i&&GmCXt.updateTooltipActionInfo(i.tour_id,i.step_id,i.step_settings.smarttip,"cancel"),GmCXt.closePowerFormSp()})}function getCustomImgName(){return"mgPlayerJSProd_custom-image"}function updatePlayStructure(e){e=GmCXt.getGuidePlayStructure(e);GmCXt.playerI.playStructure=GmCXt.playerI.playStructure.concat(e),formatAndSendToParentWindow("mgPlayerJSProd_action:update_player_instance")}function getVideoHTML(e,t){var r="";return t?(r="<video id='video-container' width='100%' disablePictureInPicture controls autoplay ",r=(r+=" class='mgPlayerJSProd_play-video-iframe' "+playAudio()+"> ")+" <source src='"+e+"'  type='video/mp4'  autostart='true'></video> "):(r="<iframe class='mgPlayerJSProd_play-video-iframe' src='"+e+"' ",r+=" width='100%' title='Guideme video iframe'  height='100%' frameborder='0' allowfullscreen ></iframe> "),r}function setVideoControls(){hide(".mgPlayerJSProd_showMe-player-ctrl-container"),hide(".mgPlayerJSProd_slideshow-next-button"),hide(".mgPlayerJSProd_slideshow-prev-button"),mg$$1(".mgPlayerJSProd_slideshow-tour-title").text(GmCXt.playerI.title),mg$$1(".mgPlayerJSProd_slideshow-logo").attr("src",GmCXt.brandLogo());var e=getVideoHTML(GmCXt.playerI.video_url,!0);mg$$1(".mgPlayerJSProd_iframe-wrapper-div").html(e)}function addSlidePlayerThumbnail(e,t){var r;!e&&t?GmCXt.branchStepExistInPS()?(r=GmCXt.getStepSortedByPS(GmCXt.playerI.playStructure,GmCXt.playerI.currentStepId),e=GmCXt.playerI.currentStepId):r=t:r=GmCXt.branchStepExistInPS()&&e?GmCXt.getStepSortedByPS(GmCXt.playerI.playStructure,e):GmCXt.playerI.tour.steps,createThumbnail(e,t=5<(t=r.length)?findIndex()>=GmCXt.imgThumLength?findIndex()+1:GmCXt.imgThumLength:t,r)}function showSlideShowControls(){showControl(".mgPlayerJSProd_player-audio-controls"),showControl(".mgPlayerJSProd_step-thumbnail-container"),showControl(".mgPlayerJSProd_mode-slideshow"),showControl(".mgPlayerJSProd_mode-giphy"),showControl(".mgPlayerJSProd_mode-video"),showControl(".mgPlayerJSProd_showMe-play-mode-autoplay-wrapper"),showControl(".mgPlayerJSProd_showMe-play-mode-autoplay"),GmCXt.containBranchStep(GmCXt.playerI.tour)&&(hideControl(".mgPlayerJSProd_mode-video"),hideControl(".mgPlayerJSProd_mode-giphy"),hideControl(".mgPlayerJSProd_showMe-play-mode-autoplay-wrapper"),hideControl(".mgPlayerJSProd_showMe-play-mode-autoplay"),disableSlideshowAutoplay()),setShowMeOptions(),showControl(".mgPlayerJSProd_resize-slideshow")}function hideShowControls(){var e;GmCXt.isWBMicroPlayer()||(showSlideShowControls(),((e=GmCXt.playerI.tour.media_files)&&void 0!==e[0]?(e[0].video&&GmCXt.playerI.tour.tour_settings.enableVideoDefaultShowme&&showMe.settings.video&&(GmCXt.playerI.type=GmCXt.TOUR_PLAYER_VIDEO),(e[0].video&&showMe.settings.video?reset:disable)(".mgPlayerJSProd_mode-video"),e[0].gify&&showMe.settings.giphy?reset:disable):(disable(".mgPlayerJSProd_mode-video"),disable))(".mgPlayerJSProd_mode-giphy"),GmCXt.isWBC()&&(mg$$1(".mgPlayerJSProd_slideshow-next-button").remove(),mg$$1(".mgPlayerJSProd_slideshow-prev-button").remove(),hide(".mgPlayerJSProd_showMe-player-ctrl-container")))}function attachThumbEvent(){mg$$1(document).off("click").on("click",".slideshow-thumbnail-img",function(e){GmCXt.playerI.currentStepId=mg$$1(this).attr("stepId"),closeStep(),playSlideshowStep(),mg$$1(".slideshow-thumbnail").removeClass("mgPlayerJSProd_active-thumbnail"),mg$$1(this).children().addClass("mgPlayerJSProd_active-thumbnail")})}function initSlideshowControls(){GmCXt.playerI.totalStepCount=parseInt(GmCXt.playerI.tour.step_count),(4<GmCXt.playerI.totalStepCount?(reset(".mgPlayerJSProd_control-thumbnail-prev"),reset):(disable(".mgPlayerJSProd_control-thumbnail-prev"),disable))(".mgPlayerJSProd_control-thumbnail-next"),showIn(".mgPlayerJSProd_slideshow-main"),showIn(".mgPlayerJSProd_slideshow-next-button"),showIn(".mgPlayerJSProd_slideshow-prev-button"),show(".mgPlayerJSProd_tour-player-panel"),mg$$1(".mgPlayerJSProd_slideshow-tour-title").text(GmCXt.playerI.tour.tour_title),mg$$1(".mgPlayerJSProd_slideshow-logo").attr("src",GmCXt.brandLogo()),removeStyle("#mgPlayerJSProd_svg-prev-bg"),removeStyle("#mgPlayerJSProd_svg-next-bg"),removeStyle("#mgPlayerJSProd_svg-next-arrow"),removeStyle("#mgPlayerJSProd_svg-prev-arrow")}function keydownEventListener(e){37===e.which?playPreviousStep():39===e.which?playNextStep():27===e.which&&closeSlideshow()}function loadSlideshowConstant(){mg$$1(".mgPlayerJSProd_slideshow-redirect-link").text(GmCXt.label.redirectLivetour),mg$$1(".mgPlayerJSProd_slideshow-image-spinner img").attr("src",GmCXt.loader()),showIn(".mgPlayerJSProd_slideshow-main"),showIn(".mgPlayerJSProd_slideshow-next-button"),showIn(".mgPlayerJSProd_slideshow-prev-button"),attachDOMEvents(),attachStringConstant(),attachSvgConstant()}function attachStringConstant(){mg$$1(".mgPlayerJSProd_popup-content-wrapper").html(GmCXt.label.guideNotAvailable),mg$$1(".mgPlayerJSProd_redirect-to-link-ok-btn").html(GmCXt.label.ok),mg$$1(".mgPlayerJSProd_label-in-app").html(GmCXt.label.inApp),mg$$1(".mgPlayerJSProd_label-video").html(GmCXt.label.video),mg$$1(".mgPlayerJSProd_label-giphy").html(GmCXt.label.giphy),mg$$1(".mgPlayerJSProd_label-slideshow").html(GmCXt.label.slideshow),mg$$1(".mgPlayerJSProd_label-live").html(GmCXt.label.live),mg$$1("#mgPlayerJSProd_btn-autoplay").html(GmCXt.label.autoplay),mg$$1("#mgPlayerJSProd_btn-autoplay-on").html(GmCXt.label.on),mg$$1("#mgPlayerJSProd_btn-autoplay-off").html(GmCXt.label.off)}function attachSvgConstant(){mg$$1(".mgPlayerJSProd_resize-slideshow-maximize").html(GmCXt.svgs.slideshow_maximize),mg$$1("#mgPlayerJSProd_slideshow_drag").html(GmCXt.svgs.slideshow_drag),mg$$1(".mgPlayerJSProd_resize-slideshow-minimize").html(GmCXt.svgs.slideshow_minimize),mg$$1(".mgPlayerJSProd_icon-close-slideshow").html(GmCXt.svgs.close_slideshow),mg$$1(".mgPlayerJSProd_icon-close-oops-msg").html(GmCXt.svgs.close_slideshow),mg$$1(".mgPlayerJSProd_icon-slideshow-prev-button").html(GmCXt.svgs.slideshow_prev_button),mg$$1(".mgPlayerJSProd_icon-slideshow-next-button").html(GmCXt.svgs.slideshow_next_button),mg$$1(".mgPlayerJSProd_control-icon-prev").html(GmCXt.svgs.slideshow_prev_button),mg$$1(".mgPlayerJSProd_control-icon-next").html(GmCXt.svgs.slideshow_next_button),mg$$1(".mgPlayerJSProd_playerbar-icon-slideshow-prev").html(GmCXt.svgs.playerbar_prev_button),mg$$1(".mgPlayerJSProd_playerbar-icon-slideshow-next").html(GmCXt.svgs.playerbar_next_button),mg$$1(".mgPlayerJSProd_btn-audio-mute").html(GmCXt.svgs.slideshow_mute),mg$$1(".mgPlayerJSProd_btn-audio-unmute").html(GmCXt.svgs.slideshow_unmute),mg$$1(".mgPlayerJSProd_icon-mode-video").html(GmCXt.svgs.slideshow_video_mode),mg$$1(".mgPlayerJSProd_icon-mode-giphy").html(GmCXt.svgs.slideshow_giphy_mode),mg$$1(".mgPlayerJSProd_icon-mode-slideshow").html(GmCXt.svgs.slideshow_mode),mg$$1(".mgPlayerJSProd_icon-player-close").html(GmCXt.svgs.playerbar_close)}function attachDOMEvents(){mg$$1(".mgPlayerJSProd_slideshow-close").off("click").on("click",closeSlideshow),mg$$1(".mgPlayerJSProd_player-close").off("click").on("click",closeSlideshow),mg$$1(".mgPlayerJSProd_player-audio-controls").off("click").on("click",slideshowAudioIconClickEvent),mg$$1(".mgPlayerJSProd_mode-video").off("click").on("click",playVideoStep),mg$$1(".mgPlayerJSProd_mode-giphy").off("click").on("click",playGuideGiphy),mg$$1(".mgPlayerJSProd_mode-slideshow").off("click").on("click",playSlideshowStep),mg$$1(".mgPlayerJSProd_showMe-play-mode-autoplay").off("click").on("click",function(e){(!0===showMe.slideshowAutoplay?(pauseVideoStep(),pauseAudio(),showMe.slideshowAutoplay=!1,showMe.autoPlayNextStep=!1,hideControl(".mgPlayerJSProd_btn-autoplay-on"),showControl):((showMe.videoPaused?resumeVideoStep:playSlideshowStep)(),showMe.slideshowAutoplay=!0,showMe.autoPlayNextStep=!0,showControl(".mgPlayerJSProd_btn-autoplay-on"),hideControl))(".mgPlayerJSProd_btn-autoplay-off")}),mg$$1(".mgPlayerJSProd_slideshow-next-button").off("click").on("click",function(e){playNextStep()}),mg$$1(".mgPlayerJSProd_slideshow-prev-button").off("click").on("click",function(e){playPreviousStep()}),mg$$1(".mgPlayerJSProd_control-thumbnail-next").off("click").on("click",function(){playNextStep()}),mg$$1(".mgPlayerJSProd_control-thumbnail-prev").off("click").on("click",function(){playPreviousStep()}),mg$$1(".mgPlayerJSProd_resize-slideshow-maximize").off("click").on("click",function(e){resizeSlideshowWindow("full",!0)}),mg$$1(".mgPlayerJSProd_resize-slideshow-minimize").off("click").on("click",function(e){resizeSlideshowWindow("small",!0)}),GmCXt.addDragSlideshowFunction()}function pauseVideoStep(){var e;GmCXt.playerI&&GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId).step_type===GmCXt.STEP_TYPE_VIDEO&&(showMe.videoPaused=!0,e=document.getElementById("video-container"))&&e.pause()}function resumeVideoStep(){GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId).step_type===GmCXt.STEP_TYPE_VIDEO&&document.getElementById("video-container").play()}function removeVideo(){mg$$1(".mgPlayerJSProd_iframe-wrapper-div").find("iframe").remove(),mg$$1(".mgPlayerJSProd_iframe-wrapper-div").find("video").length&&mg$$1(".mgPlayerJSProd_iframe-wrapper-div").find("video").remove()}function closeSlideshowActivities(){var e;GmCXt.playerI&&(e=GmCXt.playerI.tour.tour_settings)&&e.play_structure&&e.play_structure.length&&GmCXt.playerI.tour&&GmCXt.playerI.tour.steps&&GmCXt.playerI.tour.steps.length&&GmCXt.playerI.tour.steps[0].step_id===e.play_structure[0].id&&GmCXt.isLastStep(GmCXt.playerI.currentStepId,e.play_structure)&&(GmCXt.playerI.completeEventTracked=!0),trackSlideshowEvents(GmCXt.playerI.currentStepId),showMe.autoPlayNextStep=!1,GmCXt.stopAudio(),pauseVideoStep(),pauseAudio(),stopSlideshow(),GmCXt.imgThumLength=5,mg$$1(".ege-panel").css({width:"500px","max-width":"500px",transition:"width 0s",right:"initial"})}function showExitSurveyShowMe(){var e=GmCXt.getOrgSettings();e&&e.exitSentiment&&(e={tour:GmCXt.playerI.tour,guideNotCompleted:!0},GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:showSurveyScreen",e))}function closeSlideshow(e){var t,r;closeSlideshowActivities(),formatAndSendToParentWindow("mgPlayerJSProd_action:close_guide",{fromShowme:!0}),GmCXt.playerI&&GmCXt.isPlayer()&&!GmCXt.playerI.giphyPlayed&&(r=!1,GmCXt.isLastStep(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure)||(t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),r=GmCXt.isLastStep(t.step_id,GmCXt.playerI.playStructure)),(!GmCXt.isVideoEndedOnShowme&&GmCXt.playerI.type===GmCXt.TOUR_PLAYER_VIDEO||t&&GmCXt.playerI.type!==GmCXt.TOUR_PLAYER_VIDEO&&!r&&t.step_type!==GmCXt.STEP_TYPE_SURVEY&&t.step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER||!r&&t&&-1!==invalidSegmentGuide.indexOf(t.step_id))&&showExitSurveyShowMe(),invalidSegmentGuide=[]),GmCXt.FT.isPlayer&&formatAndSendToParentWindow("mgPlayerJSProd_action:update_played_slideshow_step",{playedStep:GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId)}),formatAndSendToParentWindow("mgPlayerJSProd_action:click; on:mgPlayerJSProd_slideshow-close",{})}function stopSlideshow(){closeStep(),resizeSlideshowWindow("small",!1),GmCXt.reduceSidePanel(),mg$$1(".mgPlayerJSProd_slideshow-panel").css("display","none")}function enableTab(){switch(hide(".mgPlayerJSProd_slideshow-next-button"),hide(".mgPlayerJSProd_slideshow-prev-button"),GmCXt.isWBMicroPlayer()||showSlideShowControls(),GmCXt.playerI.type){case GmCXt.TOUR_PLAYER_SLIDESHOW:enableSlideshow();break;case GmCXt.TOUR_PLAYER_VIDEO:enableVideo();break;case GmCXt.TOUR_PLAYER_GIPHY:enableGiphy()}}function showIframe(){removeVideo(),mg$$1(".mgPlayerJSProd_iframe-wrapper-div").empty(),show(".mgPlayerJSProd_iframe-wrapper-div")}function enableGiphy(){showIframe(),disable(".mgPlayerJSProd_player-audio-controls"),hide(".mgPlayerJSProd_slideshow-step-img-div"),inactivate(".mgPlayerJSProd_mode-slideshow"),inactivate(".mgPlayerJSProd_mode-video"),activate(".mgPlayerJSProd_mode-giphy"),hide(".mgPlayerJSProd_step-thumbnail-container"),show(".mgPlayerJSProd_showMe-play-bar"),hideControl(".mgPlayerJSProd_showMe-play-mode-autoplay-wrapper"),playModeView("gif")}function enableVideo(){showIframe(),disable(".mgPlayerJSProd_player-audio-controls"),hide(".mgPlayerJSProd_slideshow-step-img-div"),inactivate(".mgPlayerJSProd_mode-slideshow"),inactivate(".mgPlayerJSProd_mode-giphy"),activate(".mgPlayerJSProd_mode-video"),hide(".mgPlayerJSProd_step-thumbnail-container"),show(".mgPlayerJSProd_showMe-play-bar"),hideControl(".mgPlayerJSProd_showMe-play-mode-autoplay-wrapper"),playModeView("video")}function enableSlideshow(){removeVideo(),activate(".mgPlayerJSProd_mode-slideshow"),inactivate(".mgPlayerJSProd_mode-video"),inactivate(".mgPlayerJSProd_mode-giphy"),show(".mgPlayerJSProd_slideshow-next-button"),show(".mgPlayerJSProd_slideshow-prev-button"),reset(".mgPlayerJSProd_showMe-play-mode-autoplay"),reset(".mgPlayerJSProd_player-audio-controls"),showFlex(".mgPlayerJSProd_step-thumbnail-container"),hide(".mgPlayerJSProd_showMe-play-bar"),playModeView("slideshow"),mg$$1(".mgPlayerJSProd_resize-slideshow-minimize").is(":visible")&&resizeSlideshowWindow("full",!0);var e=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);void 0!==e&&(e.step_type===GmCXt.STEP_TYPE_VIDEO?(show(".mgPlayerJSProd_iframe-wrapper-div"),hide(".mgPlayerJSProd_slideshow-step-img-div"),disable(".mgPlayerJSProd_player-audio-controls"),inactivate(".mgPlayerJSProd_mode-video"),activate(".mgPlayerJSProd_mode-slideshow"),inactivate(".mgPlayerJSProd_mode-giphy"),mg$$1(".mgPlayerJSProd_iframe-wrapper-div").css({height:"98%"})):(hide(".mgPlayerJSProd_iframe-wrapper-div"),show(".mgPlayerJSProd_slideshow-step-img-div"),showIn(".mgPlayerJSProd_player-audio-controls"))),mg$$1(".mgPlayerJSProd_slideshow-step-img").attr("src","").attr("alt","")}function playVideoStep(){var t,e,r;GmCXt.stopAudio(),GmCXt.playerI.type=GmCXt.TOUR_PLAYER_VIDEO,(e=GmCXt.isWBMicroPlayer()?{video:GmCXt.playerI.tour.video_url}:GmCXt.playerI.tour.media_files[0])&&(r="",t=!1,e.video&&"0"!==e.video&&(t=!0,r=e.video),e=r+GmCXt.getCdnSign(),r=GmCXt.getUrlWithLang(r),enableTab(),GmCXt.checkAssetUrl(r,e,function(e){e=getVideoHTML(r=e?e:r,t),mg$$1(".mgPlayerJSProd_iframe-wrapper-div").html(e),GmCXt.playerI.videoPlayed||(GmCXt.playerI.videoPlayed=!0),e=document.getElementById("video-container");GmCXt.isVideoPlayedOnShowMe=!0,GmCXt.isVideoEndedOnShowme=!1,e.onended=function(){GmCXt.isVideoEndedOnShowme=!0}}))}function playGuideGiphy(){GmCXt.stopAudio(),GmCXt.playerI.type=GmCXt.TOUR_PLAYER_GIPHY,enableTab();var e,t;GmCXt.playerI.tour.media_files[0]&&(e=(t=GmCXt.playerI.tour.media_files[0].gify)+GmCXt.getCdnSign(),t=GmCXt.getUrlWithLang(t),GmCXt.checkAssetUrl(t,e,function(e){e&&(t=e),GmCXt.onPrem()||(t+='&d="'+Date.now()+'"');e="<img class='gif-item "+getCustomImgName()+"' src='"+t+"' alt='"+GmCXt.playerI.tour.tour_title+"' />";mg$$1(".mgPlayerJSProd_iframe-wrapper-div").empty().html(e),GmCXt.playerI.giphyPlayed||(GmCXt.playerI.giphyPlayed=!0),GmCXt.isGiphyPlayedOnShowme=!0}))}function activeSlideshowThumbnail(){mg$$1(".slideshow-thumbnail").removeClass("mgPlayerJSProd_active-thumbnail"),mg$$1(".slideshow-thumbnail.img-thumbnail-"+GmCXt.playerI.currentStepId).addClass("mgPlayerJSProd_active-thumbnail")}function playNextStep(){stepPlay("next")}function playLiveStep(){formatAndSendToParentWindow("mgPlayerJSProd_action:play_tour",{})}function playPreviousStep(){stepPlay("previous")}function isCurrStepShowMe(){var e=GmCXt.getCurrentStep(GmCXt.playerI.currentStepId);return!0!==e.step_settings.displayPreview||!!(GmCXt.playerI.linkGuidePlayMode&&"Show Me"===GmCXt.playerI.linkGuidePlayMode&&GmCXt.playerI.linkedGuides&&GmCXt.playerI.linkedGuides.includes(e.tour_id))}function stepPlay(t){var r,e,o=null,a=GmCXt.playerI.tour.steps,i=findThumbIndex()+1;if(!0===showMe.ready&&GmCXt.playerI){if("previous"===t){var n=GmCXt.getPreviousStepsList(parseInt(GmCXt.playerI.currentStepId));if(n&&1<n.length){for(var s=0;s<n.length;s++)if(mg$$1("#mgPlayerJSProd_slideshow-thumb-"+n[s])&&mg$$1("#mgPlayerJSProd_slideshow-thumb-"+n[s]).length){o=n[s];break}}else o=GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId),"slideshow")}else o=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),formatAndSendToParentWindow("mgPlayerJSProd_action:mark_auto_tour_donotshow",{tour:GmCXt.playerI.tour});o?(showMe.ready=!1,closeStep(),GmCXt.playerI.currentStepId=o,r=GmCXt.getStepFromPlayerI(o),GmCXt.isAutomationStep(r)||void 0===r.step_type?(showMe.ready=!0,stepPlay(t)):isCurrStepShowMe()||"live"!==GmCXt.playerI.mode?(r=GmCXt.getStepFromPlayerI(o)).step_type===GmCXt.STEP_TYPE_SURVEY||r.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER?(showMe.ready=!0,GmCXt.isLastStep(r.step_id,GmCXt.playerI.playStructure)?setPrevNextButtons(r):stepPlay(t)):(r.step_type===GmCXt.STEP_TYPE_GUIDE?(showMe.ready=!0,e={tour_id:r.step_settings.tour_id},mg$$1("#mgPlayerJSProd_spinner").addClass("show"),disable(".mgPlayerJSProd_slideshow-prev-button"),disable(".mgPlayerJSProd_control-thumbnail-prev"),disable(".mgPlayerJSProd_slideshow-next-button"),disable(".mgPlayerJSProd_control-thumbnail-next"),GmCXt.checkIfInvalidSegment(e).then(function(e){e?(invalidSegmentGuide=invalidSegmentGuide.splice(invalidSegmentGuide.indexOf(r.step_id),1),playSlideshowStep()):(removeSlideThum(r.step_id),invalidSegmentGuide.push(r.step_id),GmCXt.isLastStep(r.step_id,GmCXt.playerI.playStructure)?setPrevNextButtons(r):stepPlay(t),mg$$1("#mgPlayerJSProd_spinner").removeClass("show"))})):playSlideshowStep(),e=findIndex(),(GmCXt.imgThumLength!==parseInt(GmCXt.playerI.tour.step_count)&&i===GmCXt.imgThumLength&&"next"===t&&a[e]&&a[e].step_type!==GmCXt.STEP_TYPE_SURVEY&&a[e].step_type!==GmCXt.STEP_TYPE_TRANSPORT&&a[e].step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER||GmCXt.imgThumLength!==parseInt(GmCXt.playerI.tour.step_count)&&0===i&&"next"===t&&a[e]&&GmCXt.getPreviousStepId(parseInt(a[e].step_id))===GmCXt.playerI.mergingFromId&&a[e].step_type!==GmCXt.STEP_TYPE_SURVEY&&a[e].step_type!==GmCXt.STEP_TYPE_TRANSPORT&&a[e].step_type!==GmCXt.STEP_TYPE_ERROR_HANDLER)&&a[e]&&(createSlideThum(a[e]),GmCXt.imgThumLength=GmCXt.imgThumLength+1),activeSlideshowThumbnail(),"previous"===t&&r.step_type!==GmCXt.STEP_TYPE_BRANCH?mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft()-mg$$1(".mgPlayerJSProd_thumbnail-preview").outerWidth(!0)):"next"===t&&mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft()+mg$$1(".mgPlayerJSProd_thumbnail-preview").outerWidth(!0)),mg$$1(".mgPlayerJSProd_resize-slideshow-minimize").is(":visible")&&resizeSlideshowWindow("full",!0)):(closeSlideshowActivities(),GmCXt.playerI.type="live",playLiveStep())):closeSlideshow()}}function resizeSlideshowWindow(e,t,r){t&&GmCXt.makeSlideshowFullScreen({size:e,isPowerform:r}),"full"===e?(hideControl(".mgPlayerJSProd_resize-slideshow-maximize"),showControl(".mgPlayerJSProd_resize-slideshow-minimize"),mg$$1(".slideshow-spinner-outer").css({top:"50%"}),mg$$1(".mgPlayerJSProd_play-video-iframe").css({width:"100%",height:"98%",margin:"0"}),mg$$1(".mgPlayerJSProd_slideshow-main").css({width:"100%",height:"100%"}),hide(".mgPlayerJSProd_showMe-player-ctrl-container"),mg$$1(".mgPlayerJSProd_slideshow-step-img").css({top:" 50%",transform:"translate(-50%,-50%)"}),mg$$1(".mgPlayerJSProd_iframe-wrapper-div").css({width:"100%",height:"94%",margin:"0"}),mg$$1(".mgPlayerJSProd_slideshow-prev-button").css({top:" 50%"}),mg$$1(".mgPlayerJSProd_slideshow-next-button").css({top:" 50%"}),mg$$1(".mgPlayerJSProd_slideshow-header").css({"border-radius":"0"}),mg$$1(".mgPlayerJSProd_slideshow-step-img-div").removeClass("mgPlayerJSProd_position-center"),hide(".mgPlayerJSProd_step-thumbnail-container"),GmCXt.playerI&&"slideshow"!==GmCXt.playerI.type?(mg$$1("#mgPlayerJSProd_player-audio-controls-header").addClass("mgPlayerJSProd_display-none-imp"),mg$$1("#mgPlayerJSProd_player-audio-controls-header").removeClass("mgPlayerJSProd_display-inline-block-imp")):(mg$$1("#mgPlayerJSProd_player-audio-controls-header").addClass("mgPlayerJSProd_display-inline-block-imp"),mg$$1("#mgPlayerJSProd_player-audio-controls-header").removeClass("mgPlayerJSProd_display-none-imp"))):(showControl(".mgPlayerJSProd_resize-slideshow-maximize"),hideControl(".mgPlayerJSProd_resize-slideshow-minimize"),mg$$1(".slideshow-spinner-outer").css({top:"50%"}),mg$$1(".mgPlayerJSProd_play-video-iframe").css({width:"100%",height:"100%",margin:"0 5px"}),mg$$1(".mgPlayerJSProd_slideshow-main").css({width:"100%",height:"calc(100% - 192px)"}),GmCXt.playerI&&GmCXt.playerI.tour&&show(".mgPlayerJSProd_showMe-player-ctrl-container"),mg$$1(".mgPlayerJSProd_slideshow-step-img").css({top:"50%",transform:"translate(-50%,-50%)"}),mg$$1(".mgPlayerJSProd_iframe-wrapper-div").css({width:"96%",height:"89%",margin:"0 15px"}),mg$$1(".mgPlayerJSProd_slideshow-prev-button").css({top:" 50%"}),mg$$1(".mgPlayerJSProd_slideshow-next-button").css({top:" 50%"}),mg$$1(".mgPlayerJSProd_slideshow-header").css({"border-radius":"4px 4px 0px 0px"}),mg$$1(".mgPlayerJSProd_slideshow-step-img-div").addClass("mgPlayerJSProd_position-center"),showFlex(".mgPlayerJSProd_step-thumbnail-container"),mg$$1("#mgPlayerJSProd_player-audio-controls-header").addClass("mgPlayerJSProd_display-none-imp"),mg$$1("#mgPlayerJSProd_player-audio-controls-header").removeClass("mgPlayerJSProd_display-inline-block-imp"),GmCXt.playerI&&"slideshow"!==GmCXt.playerI.type&&(hide(".mgPlayerJSProd_step-thumbnail-container"),playModeView(GmCXt.playerI.type)))}function playSlideshowStep(){GmCXt.playerI.type=GmCXt.TOUR_PLAYER_SLIDESHOW,enableTab();var e=GmCXt.playerI.tour.steps;function r(e,t){GmCXt.isEmpty(e)&&(removeSlideThum(t),invalidSegmentGuide.push(o.step_id)),((t=e).length?(GmCXt.branchStepExistInPS()&&(e="#mgPlayerJSProd_slideshow-thumb-"+GmCXt.playerI.currentStepId,mg$$1(e).nextAll(".slideshow-thumbnail-img").remove(),removeSlideThum(GmCXt.playerI.currentStepId)),GmCXt.concatLinkGuideSteps(t),GmCXt.playerI.currentStepId=GmCXt.playerI.linkGuideFS,GmCXt.playerI.tour.step_count,GmCXt.playerI.tour.steps,GmCXt.containBranchStep(GmCXt.playerI.tour)&&(GmCXt.playerI.tour.tour_settings.play_structure=GmCXt.playerI.playStructure),addSlidePlayerThumbnail(void 0,GmCXt.branchStepExist(GmCXt.playerI.tour)?GmCXt.getStepSortedByPS(GmCXt.playerI.playStructure,GmCXt.playerI.currentStepId):GmCXt.playerI.tour.steps),activeSlideshowThumbnail(),playSlideStep):(removeSlideThum(GmCXt.playerI.currentStepId),showMe.ready=!0,playNextStep))(),mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft()+mg$$1(".mgPlayerJSProd_thumbnail-preview").outerWidth(!0)),mg$$1(".mgPlayerJSProd_resize-slideshow-minimize").is(":visible")&&resizeSlideshowWindow("full",!0)}var o=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);parseInt(o.step_order)===e.length&&(GmCXt.isLastStepPlayedOnShowme=!0),"guide"===o.step_type?(e={tour_id:o.step_settings.tour_id},GmCXt.apiPlayer&&(e.forceJSONApi=!0),GmCXt.getSteps(e).then(function(t){t?GmCXt.checkGuidesBasedOnSegment([t],function(e){GmCXt.isEmpty(e)?t.steps=[]:(t.steps=GmCXt.filterOutAutomationSteps(t.steps),GmCXt.updatePlayStructureLinkGuide(t)),r(t.steps,o.step_id)}):r([],o.step_id)})):playSlideStep()}function playSlideVideo(r){var o=r.step_video_url+GmCXt.getCdnSign();GmCXt.checkAssetUrl(o,o,function(e){var e=getVideoHTML(o=e?e:o,!0),t=(mg$$1(".mgPlayerJSProd_iframe-wrapper-div").html(e),document.getElementById("video-container"));t.addEventListener("error",function(e){GmCXt.toastMsg(GmCXt.label.unprocessedVideo).show(),t.controls=!1,t.removeEventListener("error",null,!0)},!0),t.onended=function(){GmCXt.isLastStep(r.step_id,GmCXt.playerI.playStructure)?closeSlideshow():GmCXt.timeout(function(){showMe.autoPlayNextStep&&playNextStep()},2e3)}})}function playSlideBranch(e){mg$$1(".mgPlayerJSProd_slideshow-thumb-"+e.step_id).nextAll(".slideshow-thumbnail-img").remove(),mg$$1("#mgPlayerJSProd_spinner").removeClass("show"),hideControl(".mgPlayerJSProd_slideshow-next-button"),showControl(".mgPlayerJSProd_slideshow-branch-content");var t="",r=e.step_settings.branch,o=getNode(GmCXt.playerI.playStructure,e.step_id);mg$$1(".mgPlayerJSProd_slideshow-branch-heading-label").html(e.step_title);for(var a=0;a<r.length;a++)var i=r[a].branchName,t=t+"<div class='mgPlayerJSProd_slideshow-branch-btn mgPlayerJSProd_btn-default' tail="+o.branch[a].tail+"><div class='mgPlayerJSProd_slideshow-branch-icon'></div><label class='mgPlayerJSProd_slideshow-branch-label mgPlayerJSProd_line-clamp mgPlayerJSProd_line-clamp-1'>"+i+"</label></div>";mg$$1(".mgPlayerJSProd_slideshow-button-container").append(t),r.length<=1?mg$$1(".mgPlayerJSProd_slideshow-button-container").addClass("mgPlayerJSProd_text-align-center"):mg$$1(".mgPlayerJSProd_slideshow-button-container").removeClass("mgPlayerJSProd_text-align-center"),disable(".mgPlayerJSProd_control-thumbnail-next"),mg$$1(".mgPlayerJSProd_slideshow-branch-icon").html(GmCXt.svgs.branch_slideshow),addBranchButtonsListener()}function playSlideImage(e){mg$$1("#mgPlayerJSProd_spinner").addClass("show"),mg$$1(".mgPlayerJSProd_slideshow-step-img").off("load").on("load",function(){mg$$1("#mgPlayerJSProd_spinner").removeClass("show")});var t=getImgURL(e,!1);mg$$1(".mgPlayerJSProd_slideshow-step-img").addClass(getCustomImgName()),mg$$1(".mgPlayerJSProd_slideshow-step-img").attr("src",t).attr("alt",GmCXt.concatHTMLStringWithSpace(e.step_title))}function setPrevNextButtons(e){reset(".mgPlayerJSProd_slideshow-prev-button"),reset(".mgPlayerJSProd_slideshow-next-button"),reset(".mgPlayerJSProd_control-thumbnail-prev"),reset(".mgPlayerJSProd_control-thumbnail-next"),e.step_type===GmCXt.STEP_TYPE_BRANCH&&disable(".mgPlayerJSProd_control-thumbnail-next");var t=GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId)),t=GmCXt.getStepFromPlayerI(t),t=((GmCXt.isFirstNonAutomationStep()||t&&(t.step_type===GmCXt.STEP_TYPE_SURVEY||t.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER)&&GmCXt.isFirstNonAutomationStep(t.step_id))&&(disable(".mgPlayerJSProd_slideshow-prev-button"),disable(".mgPlayerJSProd_control-thumbnail-prev")),GmCXt.getTail(e.step_id,GmCXt.playerI.playStructure)),t=GmCXt.getStepFromPlayerI(t);(GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)||t&&t.step_type===GmCXt.STEP_TYPE_SURVEY&&t.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER&&GmCXt.isLastStep(t.step_id,GmCXt.playerI.playStructure))&&(disable(".mgPlayerJSProd_slideshow-next-button"),disable(".mgPlayerJSProd_control-thumbnail-next"),GmCXt.isFirstNonAutomationStep())&&(disable(".mgPlayerJSProd_slideshow-prev-button"),disable(".mgPlayerJSProd_control-thumbnail-prev"))}function playStep(e){GmCXt.timeout(function(){!0===showMe.autoPlayNextStep&&GmCXt.playerI.currentStepId!==e&&playNextStep()},5e3)}function playAudioAndPlayNext(o,e){GmCXt.storage().get(["stepAudioRunningStatus"]).then(function(e){GmCXt.audioObject&&GmCXt.audioObject.pause();var t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure),r="";GmCXt.isDefined(o.step_audio)&&GmCXt.getAudioPreference(e.stepAudioRunningStatus)?(e={audioTrack:o.step_audio,step:o},(r=e.audioTrack)&&-1===r.indexOf("?st=")&&(r+=GmCXt.getCdnSign()),GmCXt.checkAssetUrl(r,r,function(e){e&&(r=e),GmCXt.audioObject=new Audio(r),GmCXt.audioObject.onended=function(){GmCXt.isLastStep(o.step_id,GmCXt.playerI.playStructure)||playStep(t)},playAudioObject(),GmCXt.stepAudioRunningStatus=!0,showControl(".mgPlayerJSProd_btn-audio-unmute"),hideControl(".mgPlayerJSProd_btn-audio-mute"),mg$$1(".mgPlayerJSProd_player-audio-controls").addClass("playing-audio")})):(playStep(t),GmCXt.stepAudioRunningStatus=!1,hideControl(".mgPlayerJSProd_btn-audio-unmute"),showControl(".mgPlayerJSProd_btn-audio-mute"),mg$$1(".mgPlayerJSProd_player-audio-controls").removeClass("playing-audio"))})}function trackSlideshowEvents(e){var t,r=[];GmCXt.playerI&&GmCXt.playerI.tour.tour_settings.segment_groups&&(r=GmCXt.getTourSegmentDetail(GmCXt.playerI.tour)),GmCXt.isVideoPlayedOnShowMe&&(t=!mg$$1("#video-container").prop("muted"),GmCXt.trackerV1.trackGuideShowMe(GmCXt.playerI.tour,"video",GmCXt.playerI.origin,t,r)),GmCXt.isGiphyPlayedOnShowme&&GmCXt.trackerV1.trackGuideShowMe(GmCXt.playerI.tour,"gif",GmCXt.playerI.origin,!1,r),GmCXt.playerI.originalMode&&!GmCXt.playerI.origin||"slideshow"!==GmCXt.playerI.mode||GmCXt.trackerV1.trackGuideShowMe(GmCXt.playerI.tour,"ppt",GmCXt.playerI.origin,GmCXt.stepAudioRunningStatus,r)}function playSlideStep(){hideControl(".mgPlayerJSProd_slideshow-branch-content"),mg$$1(".mgPlayerJSProd_slideshow-button-container").empty(),enableTab();var e=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),t=GmCXt.getTail(GmCXt.playerI.currentStepId,GmCXt.playerI.playStructure);if(void 0!==e){var r=e.step_type;if(r===GmCXt.STEP_TYPE_VIDEO)playSlideVideo(e);else if(r===GmCXt.STEP_TYPE_BRANCH||GmCXt.isTrue(e.step_settings.inlineBranch))playSlideBranch(e);else{if(r===GmCXt.STEP_TYPE_SURVEY||r===GmCXt.STEP_TYPE_ERROR_HANDLER)return void(t&&(GmCXt.playerI.currentStepId=t,formatAndSendToParentWindow("mgPlayerJSProd_action:update_player_instance"),playSlideStep()));playSlideImage(e)}mg$$1(".mgPlayerJSProd_slideshow-step-title").text(e.step_title),e.step_description=GmCXt.updateOrgAndAddSignature(e.step_description),mg$$1(".mgPlayerJSProd_slideshow-step-desc").html(e.step_description),activeSlideshowThumbnail(),r!==GmCXt.STEP_TYPE_VIDEO&&playAudioAndPlayNext(e,GmCXt.playerI),setPrevNextButtons(e),GmCXt.playerI.lastStepStatus="success",showMe.ready=!0}}function getImgURL(e,t,r){var o,a,i;return r===GmCXt.STEP_TYPE_BRANCH?GmCXt.conf.staticContentPath+"default_branch.png":(i="",r===GmCXt.STEP_TYPE_VIDEO?o=e.image_url:e.screen_url?o=e.screen_url:e.step_screen_temp&&(i=e.step_screen_temp),i||(r="",1<(a=(e=o.substring(o.lastIndexOf("/")+1)).split(".")).length&&(r=a[1].split("?")),i=t&&-1===e.indexOf("default_icon")?(t=a[0]+"_cropped."+r[0],o.replace(e,t)):(t=a[0]+"."+r[0],o.replace(e,t)),i+=GmCXt.getCdnSign()),i)}function slideshowAudioIconClickEvent(e){GmCXt.stopAudio();var t=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId);GmCXt.audioObject=new Audio(t.step_audio+GmCXt.getCdnSign()),(mg$$1(".mgPlayerJSProd_player-audio-controls").hasClass("playing-audio")?(GmCXt.audioObject.pause(),mg$$1(".mgPlayerJSProd_player-audio-controls").removeClass("playing-audio"),GmCXt.storage().set({stepAudioRunningStatus:!1}),GmCXt.stepAudioRunningStatus=!1,hideControl(".mgPlayerJSProd_btn-audio-unmute"),showControl):(playAudioObject(),mg$$1(".mgPlayerJSProd_player-audio-controls").addClass("playing-audio"),GmCXt.storage().set({stepAudioRunningStatus:!0}),GmCXt.stepAudioRunningStatus=!0,showControl(".mgPlayerJSProd_btn-audio-unmute"),hideControl))(".mgPlayerJSProd_btn-audio-mute")}function closeStep(){GmCXt.stopAudio(),removeVideo()}function playAudio(){return GmCXt.getGlobalAudioPrference()||GmCXt.FT.audio?"":"muted"}function setShowMeOptions(){showMe.settings.showMeSetting&&!GmCXt.containBranchStep(GmCXt.playerI.tour)?(showInlineFlex(".mgPlayerJSProd_mode-video"),showMe.settings.giphy||hide(".mgPlayerJSProd_mode-giphy"),showMe.settings.video||hide(".mgPlayerJSProd_mode-video")):(hide(".mgPlayerJSProd_mode-giphy"),hide(".mgPlayerJSProd_mode-video"))}function playAudioObject(){var e=GmCXt.audioObject.play();void 0!==e&&e.then(function(){}).catch(function(){})}function addBranchButtonsListener(){mg$$1(".mgPlayerJSProd_slideshow-branch-btn").on("click",function(e){var t,r=e.currentTarget.getAttribute("tail");GmCXt.convertType(r)&&(GmCXt.playerI.currentStepId=r,GmCXt.playerI.tour.steps,t=GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),GmCXt.isLastStep(t.step_id,GmCXt.playerI.playStructure)&&t.step_type===GmCXt.STEP_TYPE_SURVEY?e.preventDefault():(mg$$1(".mgPlayerJSProd_slideshow-button-container").empty(),hideControl(".mgPlayerJSProd_slideshow-branch-content"),mg$$1(".mgPlayerJSProd_slideshow-branch-btn").off("click"),showMe.ready=!1,closeStep(),t.step_type!==GmCXt.STEP_TYPE_GUIDE&&(findIndex(),addSlidePlayerThumbnail(r),mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft()+mg$$1(".mgPlayerJSProd_thumbnail-preview").outerWidth(!0))),("live"===GmCXt.playerI.mode?playLiveStep:playSlideshowStep)()))})}function getNode(e,t){for(var r=0;r<e.length;r++)if(e[r].id===t)return e[r]}function createSlideThum(e){var t="#mgPlayerJSProd_slideshow-thumb-"+e.step_id;e.step_type===GmCXt.STEP_TYPE_SURVEY||0!==mg$$1(t).length||e.step_type===GmCXt.STEP_TYPE_ERROR_HANDLER||mg$$1("#mgPlayerJSProd_slideshow-thumb-"+e.step_id)&&mg$$1("#mgPlayerJSProd_slideshow-thumb-"+e.step_id).length||(t=getImgURL(e,e.is_screen_url_processed,e.step_type),e="<button id='mgPlayerJSProd_slideshow-thumb-"+e.step_id+"' class='mgPlayerJSProd_thumbnail-preview mgPlayerJSProd_inline-block-vm mgPlayerJSProd_cursor-pointer slideshow-thumbnail-img mgPlayerJSProd_position-relative mgPlayerJSProd_slideshow-thumb-"+e.step_id+" mgPlayerJSProd_lbl-btn' stepId='"+e.step_id+"'><img class='"+getCustomImgName()+" slideshow-thumbnail img-thumbnail-"+e.step_id+"' src="+t+" err-src='"+GmCXt.conf.staticContentPath+"technology.jpg'></button>",mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").append(e))}function removeSlideThum(e){mg$$1(e="#mgPlayerJSProd_slideshow-thumb-"+e).remove()}function createThumbnail(e,t,r){void 0===e&&mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").empty();e="<div class='mgPlayerJSProd_step-count-wrapper'><div class='mgPlayerJSProd_step-count'>Step "+(findIndex()+1)+" of "+parseInt(GmCXt.playerI.tour.step_count)+"</div></div>";mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").append(e);for(var o=0;o<t;o++)r[o]&&-1===invalidSegmentGuide.indexOf(r[o].step_id)&&createSlideThum(r[o]),(r[o].step_type===GmCXt.STEP_TYPE_SURVEY||r[o].step_type===GmCXt.STEP_TYPE_TRANSPORT||r[o].step_type===GmCXt.STEP_TYPE_ERROR_HANDLER)&&t<r.length&&(t+=1)}function findIndex(){var r=-1;return GmCXt.playerI.tour.steps.forEach(function(e,t){e.step_id===GmCXt.playerI.currentStepId&&(r=t)}),r}function findThumbIndex(){for(var e=-1,t=mg$$1(".mgPlayerJSProd_thumbnail-preview"),r=0;r<t.length;r++)t[r].id==="mgPlayerJSProd_slideshow-thumb-"+GmCXt.playerI.currentStepId&&(e=r);return e}function linkedGuidePSCheck(e){if(e.length&&1<e.filter(function(e){return null===e.tail}).length)return!0;return!1}function addVideoPanelEvents(e,t,r){var o,a,i=GmCXt.getStepSettings().popupDesign,n=!1;i&&("default"===i.type?(mg$$1("#mgPlayerJSProd_play_step_prev").removeClass("popup-classic-design-navigation-prev"),mg$$1("#mgPlayerJSProd_play_step_prev").addClass("mgPlayerJSProd_play-step-prev"),mg$$1("#mgPlayerJSProd_play_step_next").removeClass("mgPlayerJSProd_popup-classic-navigation-next"),mg$$1("#mgPlayerJSProd_play_step_next").addClass("mgPlayerJSProd_play-step-next")):"classic"===i.type&&(mg$$1("#mgPlayerJSProd_play_step_prev").removeClass("mgPlayerJSProd_play-step-prev"),mg$$1("#mgPlayerJSProd_play_step_prev").addClass("popup-classic-design-navigation-prev"),mg$$1("#mgPlayerJSProd_play_step_next").removeClass("mgPlayerJSProd_play-step-next"),mg$$1("#mgPlayerJSProd_play_step_next").addClass("mgPlayerJSProd_popup-classic-navigation-next"))),mg$$1("#mgPlayerJSProd_play_step_prev").css({"background-color":i.current.prevBtnBackground,color:i.current.prevBtnColor,"border-color":i.current.prevBtnColor}),mg$$1("#mgPlayerJSProd_play_step_prev svg path").css({fill:i.current.prevBtnColor}),mg$$1("#mgPlayerJSProd_play_step_next").css({"background-color":i.current.nextBtnBackground,color:i.current.nextBtnColor,"border-color":i.current.nextBtnColor}),mg$$1("#mgPlayerJSProd_play_step_next svg path").css({fill:i.current.nextBtnColor}),mg$$1(".mgPlayerJSProd_close-button-video").off("click").on("click",videoStepCloseEvent),mg$$1("#mgPlayerJSProd_play_step_prev").hide(),t?((i=document.getElementById("mgPlayerJSProd_step-video-container")).onpause=function(){mg$$1(".mgPlayerJSProd_video-iframe-overlay").html(GmCXt.svgs.icon_play_step)},i.onplay=function(){mg$$1(".mgPlayerJSProd_video-iframe-overlay").html(GmCXt.svgs.icon_pause_step)},i.onended=function(){GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)&&formatAndSendToParentWindow("mgPlayerJSProd_action:close_guide")},o=mg$$1("video#mgPlayerJSProd_step-video-container"),e.step_settings.showFullScreen&&(mg$$1(".mgPlayerJSProd_video-panel").css({height:"100%",width:"100%","justify-content":"center"}),mg$$1(".mgPlayerJSProd_video-panel-iframe-wrapper").css({height:"100%",width:"100%","margin-left":"0"})),o.bind("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(e){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?o.css({opacity:"1","border-width":"0px"}):o.css({opacity:"","border-width":"1px"})})):(a={data:{audioTrack:e.step_audio,step:e,playerInstance:GmCXt.playerI}},GmCXt.playerI.playAudio&&GmCXt.FT.audio&&GmCXt.requestHandler.playAudioTrack(a),mg$$1(".mgPlayerJSProd_max-button-image").off("click").on("click",function(){n?(mg$$1(".mgPlayerJSProd_video-panel").css({height:"650px",width:"850px"}),mg$$1(".mgPlayerJSProd_play-video-iframe").css({height:"100%",width:"99%"}),mg$$1(".mgPlayerJSProd_video-panel-iframe-wrapper").css({height:"70%",width:"92%","margin-left":"4%"}),mg$$1(".mgPlayerJSProd_play-video-iframe").removeClass("mgPlayerJSProd_position-center"),mg$$1(".mgPlayerJSProd_max-button-image span").html(GmCXt.svgs.fullscreen)):(mg$$1(".mgPlayerJSProd_video-panel").css({height:"100%",width:"100%"}),mg$$1(".mgPlayerJSProd_play-video-iframe").css({height:"auto",width:"auto"}),mg$$1(".mgPlayerJSProd_video-panel-iframe-wrapper").css({height:"100%",width:"100%","margin-left":"0"}),mg$$1(".mgPlayerJSProd_play-video-iframe").addClass("mgPlayerJSProd_position-center"),mg$$1(".mgPlayerJSProd_max-button-image span").html(GmCXt.svgs.smallscreen)),n=!n}),mg$$1(".mgPlayerJSProd_audio-button-image").off("click").on("click",function(){GmCXt.playerI.playAudio?(mg$$1(".mgPlayerJSProd_audio-button-image span").html(GmCXt.svgs.play_step_audio_off),GmCXt.requestHandler.stopAudioTrack(a)):(mg$$1(".mgPlayerJSProd_audio-button-image span").html(GmCXt.svgs.play_step_audio_on),GmCXt.requestHandler.playAudioTrack(a)),GmCXt.playerI.playAudio=!GmCXt.playerI.playAudio})),null!==GmCXt.getPreviousStepId(parseInt(GmCXt.playerI.currentStepId))&&r.prev_btn&&(mg$$1("#mgPlayerJSProd_play_step_prev").show(),mg$$1("#mgPlayerJSProd_play_step_prev").off("click").on("click",playPrevVideoStep)),GmCXt.isLastStep(e.step_id,GmCXt.playerI.playStructure)?(mg$$1("#mgPlayerJSProd_play_step_next").html(GmCXt.label.close),mg$$1("#mgPlayerJSProd_play_step_next").off("click").on("click",videoStepCloseEvent)):mg$$1("#mgPlayerJSProd_play_step_next").off("click").on("click",playNextVideoStep)}function addVideoPanelSvgs(){mg$$1(".mgPlayerJSProd_close-button-video span").html(GmCXt.svgs.popup_close),mg$$1(".mgPlayerJSProd_video-iframe-overlay").html(GmCXt.svgs.icon_play_step),mg$$1(".mgPlayerJSProd_max-button-image span").html(GmCXt.svgs.fullscreen),GmCXt.playerI.playAudio?mg$$1(".mgPlayerJSProd_audio-button-image span").html(GmCXt.svgs.play_step_audio_on):mg$$1(".mgPlayerJSProd_audio-button-image span").html(GmCXt.svgs.play_step_audio_off)}function playPrevVideoStep(){formatAndSendToParentWindow("mgPlayerJSProd_action:play_prev_step"),GmCXt.increaseSidePanel()}function playNextVideoStep(){formatAndSendToParentWindow("mgPlayerJSProd_action:play_next_step"),GmCXt.increaseSidePanel()}function videoStepCloseEvent(e){var t=document.getElementById("mgPlayerJSProd_step-video-container");t&&t.pause(),formatAndSendToParentWindow("mgPlayerJSProd_action:close_video_step",{})}function getMPVideoHTML(){return"<video id='mgPlayerJSProd_media-video' width='99%' height='99%' frameborder='0' disablePictureInPicture controls autoplay > </video> "}GmCXt.isWB()&&hide(".mgPlayerJSProd_showMe-play-mode-manual"),window.addEventListener("message",function(e){var t,r=GmCXt.parseMsg(e);if(r&&(r.action&&0===r.action.indexOf("mgPlayerJSProd_action:")))switch((r=GmCXt.convertMgdata(r)).data&&(r.data.config&&(GmCXt.conf=r.data.config),r.data.user&&!GmCXt.isEmpty(r.data.user)&&GmCXt.updateGlobalUser(r.data.user),showMe.tour=r.data.tour||{},showMe.type=r.data.type||"",showMe.stepIndex=r.data.stepIndex||-1,GmCXt.syncPlayerInst(r.action)&&r.data.playerInstance&&(GmCXt.playerI=r.data.playerInstance),e=GmCXt.getAppSetting(),t=GmCXt.organization)&&e&&(t=t.settings,GmCXt.isDefined(e.playAudio)?GmCXt.FT.audio=e.playAudio:GmCXt.isDefined(t.playAudio)?GmCXt.FT.audio=t.playAudio:GmCXt.FT.audio=!0),r.action){case"mgPlayerJSProd_action:play_slideshow":mg$$1(window).focus(),showSlideShowPlayer(),GmCXt.stopAudio(),mg$$1("mgPlayerJSProd_slideshow_drag").focus(),GmCXt.requestHandler.playSlideshow(r);break;case"mgPlayerJSProd_action:open_pdf":mg$$1(window).focus(),GmCXt.openPdf(r.data);break;case"mgPlayerJSProd_action:open_pdf_link_step":mg$$1(window).focus(),GmCXt.openPdfLinkStep(r.data.data);break;case"mgPlayerJSProd_action:open_video_player":mg$$1(window).focus(),GmCXt.openVideoPlayer(r.data);break;case"mgPlayerJSProd_action:close_media_player":GmCXt.closeMediaPlayer(r.data);break;case"mgPlayerJSProd_action:play_image_step":GmCXt.playStepInMyShowShell(!1,r.data);break;case"mgPlayerJSProd_action:play_video_step":GmCXt.playStepInMyShowShell(!0,r.data);break;case"mgPlayerJSProd_action:play_video":mg$$1(window).focus(),showSlideShowPlayer(),mg$$1(".mgPlayerJSProd_slideshow-panel").css({display:"block",left:"50%"}),GmCXt.stopAudio(),GmCXt.requestHandler.playVideo(r);break;case"mgPlayerJSProd_action:play_audio":GmCXt.requestHandler.playAudioTrack(r);break;case"mgPlayerJSProd_action:stop_audio":GmCXt.requestHandler.stopAudioTrack(r);break;case"mgPlayerJSProd_action:reload_images":GmCXt.reloadFailedImages();break;case"mgPlayerJSProd_action:remove_power_form":r.data&&mg$$1(".mgPlayerJSProd_form-injector-wrapper_"+r.data.step_id).length&&(mg$$1(".mgPlayerJSProd_form-injector-wrapper_"+r.data.step_id).remove(),GmCXt.closePowerFormSp());break;case"mgPlayerJSProd_action:stop_slideshow":stopSlideshow();break;case"mgPlayerJSProd_action:show_power_form":showSlideShowPlayer(),resizeSlideshowWindow("full",!0,!0),hideSlideShowPlayer(),openPowerForm(r.data);break;case"mgPlayerJSProd_action:remove_video_player":mg$$1(".mgPlayerJSProd_overlay-container").remove(),mg$$1(".mgPlayerJSProd_video-panel").remove(),GmCXt.openSidePanelNotificaton()}}),window.addEventListener("error",function(e){e&&e.target&&GmCXt.onImageLoadError(mg$$1(e.target))},!0),void 0===GmCXt.requestHandler&&(GmCXt.requestHandler={}),GmCXt.requestHandler.playVideo=function(e){setVideoControls(),document.getElementById("video-container").onended=function(){resizeSlideshowWindow("small",!1),closeStep(),formatAndSendToParentWindow("mgPlayerJSProd_action:lms_video_assignment_played",{assignment_id:GmCXt.playerI.assignment_id})}},GmCXt.requestHandler.playSlideshow=function(e){loadSlideshowConstant();var e=e.data;switch(e.playerInstance?GmCXt.playerI=GmCXt.createDeepCopy(e.playerInstance):GmCXt.playerI=GmCXt.createDeepCopy(e),mg$$1(".mgPlayerJSProd_resize-slideshow-minimize").is(":visible")?resizeSlideshowWindow("full",!0):resizeSlideshowWindow("small",!0),mg$$1("#mgPlayerJSProd_player-audio-controls-header").addClass("mgPlayerJSProd_display-none-imp"),e.mode,GmCXt.isWBMicroPlayer()?(hide(".mgPlayerJSProd_mode-slideshow"),hide(".mgPlayerJSProd_mode-giphy"),mg$$1(".mgPlayerJSProd_slideshow-tour-title").addClass("mgPlayerJSProd_wb-micro-font-family")):(GmCXt.playerI.playStructure&&0!==GmCXt.playerI.playStructure.length||(GmCXt.playerI.playStructure=[],updatePlayStructure(GmCXt.playerI.tour)),hideShowControls(),e=null,(e=GmCXt.playerI.currentStepId?GmCXt.playerI.currentStepId:e)&&GmCXt.getStepFromPlayerI(e).step_type!==GmCXt.STEP_TYPE_GUIDE&&addSlidePlayerThumbnail(e),attachThumbEvent(),mg$$1(".mgPlayerJSProd_slideshow-tour-title").removeClass("mgPlayerJSProd_wb-micro-font-family")),!0===showMe.slideshowAutoplay?showMe.autoPlayNextStep=!0:showMe.autoPlayNextStep=!1,initSlideshowControls(),GmCXt.tourPlayStarted=!1,GmCXt.tourPlayCompleted=!1,GmCXt.playerI.isAutolaunch?GmCXt.setAutoTour(GmCXt.playerI.tour.tour_id):GmCXt.setAutoTour(0),GmCXt.isLastStepPlayedOnShowme=!1,GmCXt.isVideoEndedOnShowme=!1,GmCXt.isGiphyPlayedOnShowme=!1,GmCXt.isVideoPlayedOnShowMe=!1,GmCXt.playerI.type){case GmCXt.TOUR_PLAYER_SLIDESHOW:playSlideshowStep();break;case GmCXt.TOUR_PLAYER_VIDEO:playVideoStep();break;case GmCXt.TOUR_PLAYER_GIPHY:playGuideGiphy()}mg$$1(document).off("keydown").on("keydown",keydownEventListener),activeSlideshowThumbnail(),GmCXt.isWBMicroPlayer()||(GmCXt.getStepFromPlayerI(GmCXt.playerI.currentStepId),e=findIndex()+1,mg$$1(".mgPlayerJSProd_thumbnail-preview-wrapper").scrollLeft(112*e))},GmCXt.getUrlWithLang=function(e){var t=e.split("."),t="."+t[t.length-1],e=e.replace(t,""),r="";return GmCXt.enableTranslation&&GmCXt.language&&(GmCXt.defaultLang&&(e=e.replace("_"+GmCXt.defaultLang.language,"")),r="_"+GmCXt.language),e+r+t+GmCXt.getCdnSign()},GmCXt.removeDuplicateGuides=function(e){var t=[];return e=e.filter(function(e){if(-1===t.indexOf(e.tour_id))return t.push(e.tour_id),e})},GmCXt.removeDuplicateCategories=function(e){var t=[];return e=e.filter(function(e){if(-1===t.indexOf(e.category_id))return t.push(e.category_id),e})},GmCXt.migrateTour=function(e){var t,r;return e&&((t=e.tour_settings).smartTip&&(t.tour_url=t.smartTip.url,r="matchUrl",t.smartTip.matchDomain&&(r="matchDomain"),t.smartTipTriggerEvent=r,delete t.smartTip),e.tour_settings=t),e},GmCXt.checkDefaultLangForTour=function(e,t){var r=!1;return r=GmCXt.isFalse(t)||-1!==t.indexOf("en-")||e&&e.languages&&e.languages.length&&(e=e.languages[e.languages.length-1])&&e.language===t?!0:r},GmCXt.checkAndCorrectPS=function(e){var t,r;return!GmCXt.containBranchStep(e)&&(!(r=(t=GmCXt.parseJSON(e.tour_settings)).play_structure)||Array.isArray(r)&&(!r.length||r.length<e.steps.length)||linkedGuidePSCheck(r))&&(t.play_structure=GmCXt.buildGuidePlayStructure(e),e.tour_settings=t),e},GmCXt.increaseSidePanel=function(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:increase_side_panel_width"})},GmCXt.reduceSidePanel=function(){GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:reduce_side_panel_width"})},GmCXt.makeSlideshowFullScreen=function(e){(GmCXt.playerI&&GmCXt.inArrayString(GmCXt.playerI.type,["slideshow","video","giphy"])||e.isPowerform)&&("full"===e.size?(mg$$1("#mgPlayerJSProd_slideshow_drag").hide(),mg$$1(".mgPlayerJSProd_slideshow-panel").css({width:"100%",height:"100%",top:"0px",transform:"translate(0,0)"}),mg$$1(".mgPlayerJSProd_slideshow-panel").addClass("mgPlayerJSProd_slideshow-panel-left")):(mg$$1("#mgPlayerJSProd_slideshow_drag").show(),mg$$1(".mgPlayerJSProd_slideshow-panel").css({width:"59%",height:"81%",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}),mg$$1(".mgPlayerJSProd_slideshow-panel").removeClass("mgPlayerJSProd_slideshow-panel-left")),mg$$1(".mgPlayerJSProd_slideshow-step-img").css({top:"50%",transform:"translate(-50%,-50%)"}))},GmCXt.addDragSlideshowFunction=function(){var e=document.getElementsByClassName("mgPlayerJSProd_slideshow-panel")[0],t=document.getElementById("mgPlayerJSProd_slideshow_drag");GmCXt.attachDragEvents(e,t)},GmCXt.getPopUpHTML=function(e,t,r,o,a){function i(e){return e?String(e).replace(/<[^>]+>/gm,""):""}r="<div class='mgPlayerJSProd_overlay-container'></div><div class='mgPlayerJSProd_video-panel' ><div class='mgPlayerJSProd_video-panel-header'><div class='mgPlayerJSProd_video-panel-header-labels'><div class='mgPlayerJSProd_video-panel-header-title'>"+i(r)+"<div class='mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y'><div class='mgPlayerJSProd_tooltip-title'>"+i(r)+"</div></div></div><div class='mgPlayerJSProd_video-panel-header-desc'>"+i(o)+"<div class='mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-right mgPlayerJSProd_overflow mgPlayerJSProd_overflow-y'><div class='mgPlayerJSProd_tooltip-title'>"+i(o)+"</div></div></div></div><div class='mgPlayerJSProd_video-panel-controls'>";return a||(r+="<div class='mgPlayerJSProd_video-panel-header-maximize'><button class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_audio-button-image mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm' aria-label='maximize image' ><span></span></button></div><div class='mgPlayerJSProd_video-panel-header-maximize'><button class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_max-button-image mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm' aria-label='maximize image' ><span></span></button></div>"),r=(r=(r+="<div class='mgPlayerJSProd_video-panel-header-close'><button class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_close-button-video mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm' aria-label='close video player' ><span></span></button></div></div></div>")+(a?GmCXt.getVideoPopUpIFrameHTML(e,t):GmCXt.getImagePopUpIFrameHTML(e,t)))+(GmCXt.getPopUpFooterHTML()+" </div>")},GmCXt.getVideoPopUpIFrameHTML=function(e){var t="<div class='mgPlayerJSProd_video-panel-iframe-wrapper'>";return(t+="<div class='mgPlayerJSProd_video-iframe-overlay'></div>")+("<video id='mgPlayerJSProd_step-video-container' width='100%' disablePictureInPicture controls autoplay controlsList='nodownload' class='mgPlayerJSProd_play-video-iframe' >  <source src='"+e+"'  type='video/mp4'  autostart='true'></video> ")+"</div>"},GmCXt.getImagePopUpIFrameHTML=function(e){var t="<div class='mgPlayerJSProd_video-panel-iframe-wrapper'>";return t+("<img id='mgPlayerJSProd_step-image-container' width='100%'  class='mgPlayerJSProd_play-video-iframe'  src='"+e+"'></img> ")+"</div>"},GmCXt.getPopUpFooterHTML=function(){var e,t,r=GmCXt.getStepSettings().popupDesign,o="classic"===r.type?GmCXt.label.btnPrevious:GmCXt.label.btnPrev,a="classic"===r.type?GmCXt.svgs.iconClassicNavPrev:"",r="classic"===r.type?GmCXt.svgs.iconClassicNavNext:"",i=GmCXt.getAppSetting(),i=(GmCXt.organization&&i&&(e=GmCXt.getAppSetting("userLabels").next,t=GmCXt.getAppSetting("userLabels").btnPrev),"<div class='mgPlayerJSProd_video-step-popup-footer mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end'><div class='mgPlayerJSProd_play-video-step-navigation mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-flex-end'>");return GmCXt.playerI&&GmCXt.playerI.tour&&!GmCXt.playerI.tour.tour_settings.step_settings.hidePrevBtn&&(i+="<button class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_play-step-prev mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center' id='mgPlayerJSProd_play_step_prev' aria-label='"+(t||o)+"' ><div class='mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center'>"+a+"</div>"+(t||o)+"</button>"),i+="<button class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_play-step-next mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center' id='mgPlayerJSProd_play_step_next' aria-label='"+(e||GmCXt.label.next)+"' >"+(e||GmCXt.label.next)+"<div class='mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center'>"+r+"</div></button></div></div>"},GmCXt.playStepInMyShowShell=function(t,r){var o,a;mg$$1(window).focus(),GmCXt.isEmpty(GmCXt.playerI)||(o=GmCXt.getCurrentStep(GmCXt.playerI.currentStepId),a=t?o.step_video_url+GmCXt.getCdnSign():o.screen_url,GmCXt.checkAssetUrl(a,a,function(e){GmCXt.isEmpty(GmCXt.playerI)||(e&&(a=e),e=GmCXt.getPopUpHTML(a,!0,o.step_title,o.step_description,t),mg$$1("body").append(e),addVideoPanelSvgs(),addVideoPanelEvents(o,t,r),GmCXt.showNotificationHtml(!1,!0),GmCXt.timeout(function(){mg$$1(".mgPlayerJSProd_close-button-video").focus(),GmCXt.accessibility&&(mg$$1(".mgPlayerJSProd_play-video-step-navigation").addClass("mgPlayerJSProd_accessibility-theme"),mg$$1("#mgPlayerJSProd_play_step_prev").addClass("mgPlayerJSProd_ass-default-btn"),mg$$1("#mgPlayerJSProd_play_step_next").addClass("mgPlayerJSProd_ass-default-btn"))},500))}))},GmCXt.getPDFMediaPlayerIcons=function(){mg$$1(".mgPlayerJSProd_icon-popout-media-player").html(GmCXt.svgs.external_link_white),mg$$1(".mgPlayerJSProd_icon-close-media-player").html(GmCXt.svgs.close_media_popup),mg$$1(".mgPlayerJSProd_icon-print-media-player").html(GmCXt.svgs.print_icon),mg$$1(".mgPlayerJSProd_icon-min-media-player").html(GmCXt.svgs.min_pdf_icon),mg$$1(".mgPlayerJSProd_icon-max-media-player").html(GmCXt.svgs.max_pdf_icon),mg$$1(".mgPlayerJSProd_icon-page-down-media-player").html(GmCXt.svgs.page_down_icon),mg$$1(".mgPlayerJSProd_icon-page-up-media-player").html(GmCXt.svgs.page_up_icon),mg$$1(".mgPlayerJSProd_icon-pdf-download").html(GmCXt.svgs.pdf_download_icon)},GmCXt.showSurveyForTutorial=function(e){GmCXt.isPlayer()&&e&&-1!==e.tour_type.indexOf("onboarding_tour")&&e.tour_settings.sentiment&&!GmCXt.isEmpty(e.tour_settings.sentiment.sentimentCode)&&(e={tour:e,guideNotCompleted:!1},GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:close_app_panel",{}),GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:getSurveyScreen",e))},GmCXt.closeMediaPlayer=function(e,t){var r=0<mg$$1(".mgPlayerJSProd_play-from-task-player").length,o=mg$$1(".mgPlayerJSProd_media-player-panel").html();mg$$1(".mgPlayerJSProd_media-player-panel").html(""),mg$$1(".mgPlayerJSProd_media-player-panel").html(o),GmCXt.isDefined(GmCXt.trackerEnable)&&(GmCXt.trackerUtil=GmCXt.trackerEnable),r&&mg$$1(".mgPlayerJSProd_media-player-panel").removeClass("mgPlayerJSProd_play-from-task-player"),mg$$1(".mgPlayerJSProd_media-player-panel").hide(),mg$$1("#mgPlayerJSProd_media-iframe").remove(),mg$$1("#mgPlayerJSProd_media-video").remove(),formatAndSendToParentWindow("mgPlayerJSProd_action:media_player_on",{mediaPlayerStatus:!1}),formatAndSendToParentWindow("mgPlayerJSProd_action:show_step_popup"),e&&e.terminate||GmCXt.isEmpty(GmCXt.playerI)||"PDF"!==GmCXt.playerI.linkGuidePlayMode?(GmCXt.showSurveyForTutorial(t),GmCXt.isTutorialLink?(mg$$1(".mgPlayerJSProd_overlay-tours-popup").show(),mg$$1(".mgPlayerJSProd_overlay-container").show()):(GmCXt.reduceSidePanel(),mg$$1(".ege-panel").css({width:"500px",right:"0px","max-width":"500px",transition:"0s"})),GmCXt.pdfPlayedOnUploadTut&&GmCXt.trackerV1.trackTutGuide(t,"upload_tutorial_guide_same_tab","showme")):(showMe.ready=!0,delete GmCXt.playerI.linkGuidePlayMode,playNextStep()),r&&GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:close_app_panel",{}),GmCXt.isTutorialLink=!1},GmCXt.addMediaPlayerEvent=function(){mg$$1("#mgPlayerJSProd_media-player-close").off("click").on("click",GmCXt.closeMediaPlayer)},GmCXt.hidePdfControls=function(){mg$$1(".mgPlayerJSProd_options-left").hide(),mg$$1("#mgPlayerJSProd_pdf-canvas").hide(),mg$$1("#mgPlayerJSProd_media-player-print").hide(),mg$$1("#mgPlayerJSProd_media-player-popout").hide(),mg$$1("#mgPlayerJSProd_icon-pdf-download").hide()},GmCXt.showPdfControls=function(){mg$$1(".mgPlayerJSProd_options-left").show(),mg$$1("#mgPlayerJSProd_pdf-canvas").hide(),mg$$1("#mgPlayerJSProd_media-player-print").show(),mg$$1("#mgPlayerJSProd_media-player-popout").show(),mg$$1("#mgPlayerJSProd_icon-pdf-download").show()},GmCXt.openPdfLinkStep=function(t){tempUrl=GmCXt.getUrlWithLang(t),t+=GmCXt.getCdnSign(),GmCXt.checkAssetUrl(tempUrl,t,function(e){e&&(t=e),GmCXt.openPdf(t)})},GmCXt.openPdf=function(o,a){GmCXt.trackerEnable=GmCXt.trackerUtil,formatAndSendToParentWindow("mgPlayerJSProd_action:hide_step_popup"),formatAndSendToParentWindow("mgPlayerJSProd_action:media_player_on",{mediaPlayerStatus:!0}),GmCXt.increaseSidePanel(),mg$$1(".ege-panel").css({width:"500px",right:"-9550px",transition:"0s"}),mg$$1(".mgPlayerJSProd_media-player-panel").show(),mg$$1("#mgPlayerJSProd_media-iframe").remove(),mg$$1("#mgPlayerJSProd_media-video").remove(),mg$$1("#mgPlayerJSProd_pdf-container").css({background:"#FFFFFF"}),mg$$1(".mgPlayerJSProd_pdf-image-spinner").show(),mg$$1(".mgPlayerJSProd_pdf-image-spinner img").attr("src",GmCXt.loader()),GmCXt.hidePdfControls();let r=1,i=1,t,e=o;function n(e){var t=i,t=e.getViewport({scale:t}),r=document.getElementById("mgPlayerJSProd_pdf-canvas"),o=r.getContext("2d"),o=(r.height=t.height,r.width=t.width,{canvasContext:o,viewport:t});e.render(o),mg$$1(".mgPlayerJSProd_pdf-image-spinner").attr("style","display: none;"),GmCXt.showPdfControls(),r.style.display="block",mg$$1(".mgPlayerJSProd_media-player-page-cnt-text")[0].innerHTML=e.pageNumber;{let e=a;e||GmCXt.playerI&&GmCXt.playerI.tour&&(e=GmCXt.playerI.tour),e&&(t=GmCXt.organization.admin_settings,o=document.getElementById("mgPlayerJSProd_icon-pdf-download"),r=document.getElementById("mgPlayerJSProd_media-player-print"),!t||!t.mediafile_creation||e.tour_settings&&e.tour_settings.downloadGuideFiles&&!e.tour_settings.downloadGuideFiles.pdf_file)&&(o.style.display="none",r.style.display="none")}}async function s(){await __webpack_exports__getDocument({url:e}).promise.then(function(e){mg$$1(".mgPlayerJSProd_media-player-page-cnt-text-total")[0].innerHTML="of "+e._pdfInfo.numPages,mg$$1(".mgPlayerJSProd_media-player-zoom-text")[0].innerText="100%",e.total_pages=e._pdfInfo.numPages,l(e,1),t=e}).catch(function(e){GmCXt.toastMsg(GmCXt.label.mediaFileNotFound).show(),GmCXt.timeout(function(){GmCXt.closeMediaPlayer()},1e3)})}function l(e,t){parseInt(t)===parseInt(e._pdfInfo.numPages)&&(GmCXt.fullPdfPlayedOnUploadTutGuide=!0);try{e.getPage(t).then(function(e){n(e)})}catch(e){r=1,s()}}s(),document.getElementById("mgPlayerJSProd_media-player-pd").onclick=function(){r>=t.total_pages||(r++,l(t,r))},document.getElementById("mgPlayerJSProd_media-player-pu").onclick=function(){r<=1||(r--,l(t,r))},document.getElementById("mgPlayerJSProd_max-media-player").onclick=function(){i+=.25,mg$$1(".mgPlayerJSProd_media-player-zoom-text")[0].innerText=100*parseFloat(i)+"%",l(t,r)},document.getElementById("mgPlayerJSProd_min-media-player").onclick=function(){i<=.25||(i-=.25,mg$$1(".mgPlayerJSProd_media-player-zoom-text")[0].innerText=100*parseFloat(i)+"%",l(t,r))},document.getElementById("mgPlayerJSProd_icon-pdf-download").onclick=function(){var e,t,r;e=o,t="myPdf.pdf",window.ActiveXObject?(window.ActiveXObject,document.execCommand&&((r=window.open(e,"_blank")).document.close(),r.document.execCommand("SaveAs",!0,t),r.close())):((r=document.createElement("a")).href=e,r.target="_blank",r.download=t,e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),r.dispatchEvent(e),(window.URL||window.webkitURL).revokeObjectURL(r.href))},document.getElementById("mgPlayerJSProd_media-player-print").onclick=function(){printJS(o)},document.getElementById("mgPlayerJSProd_media-player-popout").onclick=function(){var e=document.createElement("a");e.href=o,e.target="_blank",e.click(),e.remove()},GmCXt.getPDFMediaPlayerIcons(),mg$$1("#mgPlayerJSProd_media-player-close").off("click").one("click",function(){GmCXt.closeMediaPlayer(void 0,a)}),mg$$1(document).keyup(function(e){"Escape"===e.key&&GmCXt.closeMediaPlayer(void 0,a)})},GmCXt.openVideoPlayer=function(e){formatAndSendToParentWindow("mgPlayerJSProd_action:hide_step_popup"),formatAndSendToParentWindow("mgPlayerJSProd_action:media_player_on",{mediaPlayerStatus:!0}),GmCXt.increaseSidePanel(),mg$$1(".ege-panel").css({width:"500px",right:"-9550px",transition:"0s"}),mg$$1("#mgPlayerJSProd_pdf-container").removeAttr("style"),mg$$1(".mgPlayerJSProd_media-player-panel").show(),mg$$1(".mgPlayerJSProd_icon-close-media-player").html(GmCXt.svgs.close_media_popup),mg$$1("#mgPlayerJSProd_media-player-close").off("click").on("click",GmCXt.closeMediaPlayer),mg$$1(".mgPlayerJSProd_pdf-image-spinner").show(),mg$$1(".mgPlayerJSProd_pdf-image-spinner img").attr("src",GmCXt.loader()),GmCXt.hidePdfControls(),mg$$1("#mgPlayerJSProd_media-iframe").remove(),mg$$1("#mgPlayerJSProd_media-video").remove(),new URL(e);var t=getMPVideoHTML();mg$$1("#mgPlayerJSProd_pdf-container").append(t),mg$$1("#mgPlayerJSProd_media-video")[0].addEventListener("error",function(){GmCXt.toastMsg(GmCXt.label.mediaFileNotFound).show(),GmCXt.timeout(function(){GmCXt.closeMediaPlayer()},1e3)}),mg$$1("#mgPlayerJSProd_media-video").attr("src",e),mg$$1("#mgPlayerJSProd_media-video")[0].load(),GmCXt.timeout(function(){mg$$1(".mgPlayerJSProd_pdf-image-spinner").hide()},1e3)},GmCXt.closePowerFormSp=function(){mg$$1(".mgPlayerJSProd_form-injector-wrapper").remove(),resizeSlideshowWindow("small",!0,!0),stopSlideshow(),mg$$1(".ege-panel").css({width:"500px","max-width":"500px",transition:"width 0s"}),GmCXt.sendToParentWindow({action:"mgPlayerJSProd_action:close_app_panel",data:{resetPanel:!0}})},GmCXt.updateNotificationContentScript=function(e,t){GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:update_notification_data_content_script",{toursClosedByUser:e,tourIdArray:t})},GmCXt.closeNotificationPopupSidePanel=function(e){mg$$1(".mgPlayerJSProd_micro-player-resize").removeClass("mgPlayerJSProd_micro-player-resize"),mg$$1(".mgPlayerJSProd_overlay-tours-popup").length&&(GmCXt.removeNotif(),GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:show_beacon_smarttip",{}),e?GmCXt.openSidePanelNotificaton():(GmCXt.openSidePanelNotificaton(),GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:close_app_panel",{})))},GmCXt.openSidePanelNotificaton=function(){GmCXt.reduceSidePanel(),mg$$1(".ege-panel").css({width:"100%",transition:"width 0s",right:"0px"})},GmCXt.showNotificationHtml=function(e,t){GmCXt.increaseSidePanel(),mg$$1(".mgPlayerJSProd_micro-player-container").addClass("mgPlayerJSProd_micro-player-resize"),(!GmCXt.getAppSetting("keep_player_panel_open")||e||t||GmCXt.FT.creatorApp)&&mg$$1(".ege-panel").css({width:"500px",right:"-9550px"})},GmCXt.getOverlayToursHtml=function(e,t,r){var o,a="",i="mgPlayerJSProd_push-notification-guide-info-overlay mgPlayerJSProd_single-guide-play-icon",n="";return r&&(i+=" mgPlayerJSProd_forbidden",n="<div class='mgPlayerJSProd_push-preview-tooltip'>"+rootScope.labels.notifGuidePlayWarning+"</div>"),e&&(200<(r=e.title||e.tour_title).length&&(r=r.substr(0,200)+" ..."),e.thumbnail_url&&(0<=e.thumbnail_url.indexOf("default_icon")?GmCXt.getDefaultGuideIcon():e.thumbnail_url.indexOf("default")<0&&(e.thumbnail_url,GmCXt.getCdnSign())),"Default"===(e=e.tour_settings.defaultPlayAction)&&(e=GmCXt.getAppSetting("defaultPlayAction")),o=rootScope.labels.guideMe,"doitforme"===e?o=rootScope.labels.doItForMe:"slideshow"===e?o=rootScope.labels.showMe:"vLab"===e&&(o=rootScope.labels.vLab),GmCXt.isWB()?(a="",a=(a+='<div class="mgPlayerJSProd_overlay-guide-box">')+'<div class="mgPlayerJSProd_overlay-guide-title">'+GmCXt.escapeHtml(r)+'</div><div class="mgPlayerJSProd_overlay-single-guide-play-icon"><div id="mgPlayerJSProd_single-guide-play-icon-svg" tourIndex="'+t+'" class="mgPlayerJSProd_single-guide-play-icon"></div></div></div>'):(a="",a+="<div class='mgPlayerJSProd_push-notification-guide-info-wrapper'><button class='"+i+" mgPlayerJSProd_lbl-btn' tourIndex='"+t+"'>"+n+"<div class='mgPlayerJSProd_push-play-icon mgPlayerJSProd_position-center mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-center mgPlayerJSProd_font-size-16'>"+o+"<div id='mgPlayerJSProd_push-not-play-icon-svg' class='mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_margin-lr-10'> </div> </div></button><div class='mgPlayerJSProd_push-notification-guide-title' aria-label='"+GmCXt.escapeHtml(r)+"' tabindex='0'>"+GmCXt.escapeHtml(r)+"</div></div>")),a},GmCXt.loadGuideNotifications=function(i,n,s,e,D,l){var c,d,t,a,p;function r(e){GmCXt.log(10,"VALIDATING GUIDE RULES");for(var t=0,r=e.length;t<r;t++){var o=e[t],a=o.tour_settings,i=a&&a.rules&&a.rules.length?a.rules:[],n=a.ruleDelayTime||0,s=GmCXt.t.ruleTimeOut25ms;GmCXt.checkTourCreatedBefore(a,2021013001)&&(s=GmCXt.t.ruleTimeOut10s),o.ruleValidated?((e,t)=>{GmCXt.timeout(function(){h({tour:e,valid:!0})},t)})(o,n):(a={tour:o,rules:i,timeoutVal:s,timeout:s,cb:h,isTour:!0,initiator:"notif"},GmCXt.log(37,"QUEUED",a),((e,t)=>{GmCXt.timeout(function(){GmCXt.ruleEngine.queue(e)},t)})(a,n))}}function F(e){GmCXt.isEmpty(e)||r([e])}function u(e){mg$$1(e).css({display:"none"})}function g(e){mg$$1(e).css({display:"block"})}function m(e,t){for(var r=0,o=0;o<e.steps.length;o++)if(e.steps[o].step_id===t.step_id){r=o;break}return r}function o(t,e,r){"tutorial"===e.tour_settings.tutorial_tour_type&&GmCXt.storage().set({tutorial_steps:[]});var o,a=0;0===e.steps.length?(o={tour_id:e.tour_id,category_id:e.category_id,isPublic:e.isPublic},rootScope.getSteps(o).then(function(e){GmCXt.log(39,"visible OnBoarding guide details ",e.steps),i[0].steps=e.steps,r&&(a=m(e,r)),S(t,a)})):(GmCXt.isLastStepPlayedOnCreateTutGuide=!1,GmCXt.pdfPlayedOnUploadTut=!1,GmCXt.fullPdfPlayedOnUploadTutGuide=!1,GmCXt.pdfPlayedOnUploadTutNewTab=!1,r&&(a=m(e,r)),S(t,a))}function h(e){e.valid&&(delete(e=e.tour).ruleValidated,c.push(e),GmCXt.alreadyLoadedNotif.push(e),_(),GmCXt.trackerV1.trackPushNotification(e,"display"))}function _(){var e=0;GmCXt.log(10,"SHOWING notifications",c);var t,r=c[e],r=GmCXt.getOverlayToursHtml(r,e,n),o=!1;1===c.length&&(t=c[0].tour_settings,p||(o=t.isAutolaunch),GmCXt.log(10,"IS AUTO LAUNCH? "+o)),a||(localStorage.setItem(GmCXt.storagePrefix+"autoLaunchTour",0),o?(GmCXt.log(10,"AUTO LAUNCH guide"),localStorage.setItem(GmCXt.storagePrefix+"autoLaunchTour",c[0].tour_id),a=!0,C(null,0)):(f(r,e,0),p&&GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:track_notification_for_automation",{tours:c,isVisible:!0}))),1===c.length&&(u(".mgPlayerJSProd_btn-next"),u(".mgPlayerJSProd_btn-prev")),1<c.length&&(g(".mgPlayerJSProd_btn-next"),g(".mgPlayerJSProd_btn-prev"),w(".mgPlayerJSProd_btn-prev"))}function f(t,r,o){var e,a;GmCXt.parseJSON(c[r].tour_settings).videoNotification&&c[r].video_url||c[r].videoNotification&&n?(e=(a=c[r].video_url)+GmCXt.getCdnSign(),a=GmCXt.getUrlWithLang(a),GmCXt.checkAssetUrl(a,e,function(e){y(t,r,o,e)})):y(t,r,o),GmCXt.timeout(function(){mg$$1("#mgPlayerJSProd_btn-single-notif-dont-show-again").focus()},500)}function y(e,t,r,o){GmCXt.showNotificationHtml(l);var a,e=((e,t,r)=>{var o=GmCXt.parseJSON(c[t].tour_settings);return GmCXt.isWB()?((e,t)=>{var r=GmCXt.parseJSON(c[0].tour_settings);return r=GmCXt.isWB()&&r.videoNotification&&c[0].video_url?(e=>{e=e||"";return"<div class='mgPlayerJSProd_overlay-container'></div><div class='mgPlayerJSProd_overlay-tours-popup mgPlayerJSProd_overlay-single-tour-popup'><div class='mgPlayerJSProd_close-button mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm'><button id='mgPlayerJSProd_push-not-overlay-close' class='mgPlayerJSProd_lbl-btn' aria-label='push notification overlay close'></button><div class='mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left'><button class='mgPlayerJSProd_tooltip-title mgPlayerJSProd_lbl-btn'>"+rootScope.labels.close+"</button></div></div><div class='mgPlayerJSProd_overlay-single-guide-content-wrapper'><div class='mgPlayerJSProd_overlay-thumbnails-wrapper mgPlayerJSProd_wb-overlay-single-thumbnail-wrapper'><button class='mgPlayerJSProd_wb-never-show-again mgPlayerJSProd_never-show-again-button mgPlayerJSProd_wb-theme-text-color mgPlayerJSProd_lbl-btn' aria-label='"+rootScope.labels.dontShowAgain+"'>"+rootScope.labels.dontShowAgain+"</button></div></div><div class='mgPlayerJSProd_overlay-guide-content-wrapper'><div class='mgPlayerJSProd_overlay-guide-box'><div class='mgPlayerJSProd_overlay-guide-title'>"+GmCXt.escapeHtml(c[0].tour_title)+"</div></div><div class='mgPlayerJSProd_guide-video-wrapper mgPlayerJSProd_no-padding'><video width='450' controls controlsList='nodownload' disablePictureInPicture autoplay ><source src='"+e+"' type='video/mp4' /></video></div><div class='mgPlayerJSProd_wb-footer-wrapper mgPlayerJSProd_inline-block-vm'><div class='mgPlayerJSProd_wb-overlay-container-logo mgPlayerJSProd_inline-block-vm'><img class='mgPlayerJSProd_custom-image' alt='brand logo' src='"+GmCXt.brandLogo()+"' /></div><div class='mgPlayerJSProd_clear'></div></div></div></div></div>"})(t):(e=>"<div class='mgPlayerJSProd_overlay-container'></div><div class='mgPlayerJSProd_overlay-tours-popup mgPlayerJSProd_overlay-single-tour-popup'><div class='mgPlayerJSProd_close-button mgPlayerJSProd_icons-hover-effect mgPlayerJSProd_inline-block-vm'><button id='mgPlayerJSProd_push-not-overlay-close' class='mgPlayerJSProd_lbl-btn' aria-label='push notification overlay close'></button><div class='mgPlayerJSProd_title-tooltip-wrapper mgPlayerJSProd_position-bottom-left'><div class='mgPlayerJSProd_tooltip-title'>"+rootScope.labels.close+"</div></div></div><div class='mgPlayerJSProd_overlay-single-guide-content-wrapper'><div class='mgPlayerJSProd_overlay-thumbnails-wrapper mgPlayerJSProd_overlay-single-thumbnail-wrapper'><div class='mgPlayerJSProd_overlay-container-logo'>"+GmCXt.getPopupLogo()+"</div></div><div class='mgPlayerJSProd_overlay-guide-content-wrapper'>"+e+"</div><div class='mgPlayerJSProd_popup-button-wrapper'><button class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_never-show-again-button' aria-label='push notification never show again'>"+rootScope.labels.dontShowAgain+"</button></div></div></div>")(e)})(e,r):o.videoNotification&&c[t].video_url||c[t].videoNotification&&n?((e,t)=>{var r="",o="",a="",i="";return n&&(r=" mgPlayerJSProd_forbidden",o="<button id='mgPlayerJSProd_push-not-overlay-close' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_close-preview-btn' aria-label='push notification overlay close'></button>",a=GmCXt.getDefaultGuideIcon()),t&&(i=t),t="<div class='mgPlayerJSProd_overlay-container'></div><div class='mgPlayerJSProd_overlay-tours-popup mgPlayerJSProd_push-notification-container mgPlayerJSProd_push-notification-video-container'>"+o+"<button id='mgPlayerJSProd_btn-single-vid-notif-prev' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-prev' aria-label='push notification previous button'></button><button id='mgPlayerJSProd_btn-single-vid-notif-next' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-next' aria-label='push notification next button'></button><div class='mgPlayerJSProd_push-notification-header'><h3 class='mgPlayerJSProd_push-notification-title mgPlayerJSProd_no-margin mgPlayerJSProd_font-weight-normal' tabindex='0'>"+rootScope.labels.notificationHeader+"</h3><div class='mgPlayerJSProd_push-notification-brand-logo mgPlayerJSProd_push-notification-guide-info-overlay' ' tourIndex='"+e+"'>"+GmCXt.getPopupLogo()+"</div></div><div class='mgPlayerJSProd_push-notification-content-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_video-content-wrapper mgPlayerJSProd_position-center'><div class='mgPlayerJSProd_push-notification-guide-info-wrapper mgPlayerJSProd_video-info-wrapper'><video controls autoplay controlsList='nodownload' disablePictureInPicture poster="+a+"><source src='"+i+"' type='video/mp4'></video></div><div class='mgPlayerJSProd_push-notification-video-title mgPlayerJSProd_inline-block-vm'>"+GmCXt.escapeHtml(c[e].tour_title)+"</div></div><div class='mgPlayerJSProd_push-notification-btn-wrapper'>",c[e].tour_settings.displayFrequency&&!n?t+="<button id='mgPlayerJSProd_btn-close' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-watch-close' aria-label='push notification close button' tourIndex='"+e+"'>"+rootScope.labels.close+"</button></div>":t+="<button id='mgPlayerJSProd_btn-single-vid-notif-dont-show-again' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-dont-show-again mgPlayerJSProd_never-show-again-button"+r+"' aria-label='"+rootScope.labels.dontShowAgain+"'>"+rootScope.labels.dontShowAgain+"</button><button id='mgPlayerJSProd_btn-single-vid-notif-watch-later' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-watch-later"+r+"' aria-label='"+rootScope.labels.watchLater+"'>"+rootScope.labels.watchLater+"</button></div>",t+="</div>"})(t,r):((e,t)=>{var r="",o="";return n&&(r=" mgPlayerJSProd_forbidden",o="<button id='mgPlayerJSProd_push-not-overlay-close' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_close-preview-btn' aria-label='push notification overlay close'></button>"),o="<div class='mgPlayerJSProd_overlay-container'></div><div class='mgPlayerJSProd_overlay-tours-popup mgPlayerJSProd_push-notification-container mgPlayerJSProd_push-notification-multi-guides' role='dialog' aria-labelledby='"+rootScope.labels.notificationHeader+"'>"+o+"<button id='mgPlayerJSProd_btn-single-notif-prev' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-prev' aria-label='push notification previous button' ></button><button id='mgPlayerJSProd_btn-single-notif-next' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_btn-next' aria-label='push notification next button'></button><div class='mgPlayerJSProd_push-notification-header'><h3 class='mgPlayerJSProd_push-notification-title mgPlayerJSProd_no-margin mgPlayerJSProd_font-weight-normal' aria-label='"+rootScope.labels.notificationHeader+"' tabindex='0'>"+rootScope.labels.notificationHeader+"</h3><div class='mgPlayerJSProd_push-notification-brand-logo' tabindex='0'>"+GmCXt.getPopupLogo()+"</div></div><div class='mgPlayerJSProd_push-notification-content-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_position-center'>"+e+"<div class='mgPlayerJSProd_multi-push-carousels-wrapper'></div></div><div class='mgPlayerJSProd_push-notification-btn-wrapper'>",c[t].tour_settings.displayFrequency&&!n?o+="<button id='mgPlayerJSProd_btn-single-close' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-watch-close' tourIndex='"+t+"' aria-label='push notification close button'>"+rootScope.labels.close+"</button></div>":o+="<button id='mgPlayerJSProd_btn-single-notif-dont-show-again' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-dont-show-again mgPlayerJSProd_never-show-again-button"+r+"' aria-label='"+rootScope.labels.dontShowAgain+"'>"+rootScope.labels.dontShowAgain+"</button><button id='mgPlayerJSProd_btn-single-notif-watch-later' class='mgPlayerJSProd_lbl-btn mgPlayerJSProd_notification-common-btn mgPlayerJSProd_btn-watch-later"+r+"' aria-label='"+rootScope.labels.watchLater+"'>"+rootScope.labels.watchLater+"</button></div>",o+="</div>"})(e,t)})(e,t,o);GmCXt.stopNotification(n)&&!p||(GmCXt.removeNotif(),mg$$1("body").append(e),(a=GmCXt.getAppSetting("notificationTheme"))&&(n&&GmCXt.timeout(function(){mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_close-preview-btn svg polygon").each(function(){a.body.fill&&this.style.setProperty("fill",a.body.fill,"important")})},100),mg$$1(".mgPlayerJSProd_push-notification-container").each(function(){a.width&&this.style.setProperty("width",a.width+"px","important"),a.height&&this.style.setProperty("height",a.height+"px","important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-header").each(function(){a.header.background&&this.style.setProperty("background",a.header.background,"important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-header .mgPlayerJSProd_push-notification-title").each(function(){a.header.color&&this.style.setProperty("color",a.header.color,"important"),a.header.font&&this.style.setProperty("font-family",a.header.font,"important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-content-wrapper").each(function(){a.body.padding_top&&this.style.setProperty("padding-top",a.body.padding_top+"px","important"),a.body.padding_right&&this.style.setProperty("padding-right",a.body.padding_right+"px","important"),a.body.padding_bottom&&this.style.setProperty("padding-bottom",a.body.padding_bottom+"px","important"),a.body.padding_left&&this.style.setProperty("padding-left",a.body.padding_left+"px","important"),a.body.background_color&&this.style.setProperty("background",a.body.background_color,"important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-content-wrapper .mgPlayerJSProd_push-notification-guide-info-wrapper .mgPlayerJSProd_push-notification-guide-title").each(function(){a.body.title_color&&this.style.setProperty("color",a.body.title_color,"important"),a.body.title_font_family&&this.style.setProperty("font-family",a.body.title_font_family,"important"),a.body.title_font_size&&this.style.setProperty("font-size",a.body.title_font_size,"important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-content-wrapper .mgPlayerJSProd_push-notification-video-title").each(function(){a.body.title_color&&this.style.setProperty("color",a.body.title_color,"important"),a.body.title_font_family&&this.style.setProperty("font-family",a.body.title_font_family,"important"),a.body.title_font_size&&this.style.setProperty("font-size",a.body.title_font_size,"important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-content-wrapper .mgPlayerJSProd_push-notification-guide-info-wrapper .mgPlayerJSProd_single-guide-play-icon .mgPlayerJSProd_push-play-icon").each(function(){a.body.fill&&this.style.setProperty("background",a.body.fill,"important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-btn-wrapper .mgPlayerJSProd_btn-dont-show-again").each(function(){a.footer.primaryBtnBackground&&this.style.setProperty("background",a.footer.primaryBtnBackground,"important"),a.footer.primaryBtnBorderColor&&this.style.setProperty("border","2px outset "+a.footer.primaryBtnBorderColor,"important"),a.footer.primaryBtnFont&&this.style.setProperty("font-family",a.footer.primaryBtnFont,"important"),a.footer.primaryBtnTextColor&&this.style.setProperty("color",a.footer.primaryBtnTextColor,"important"),a.footer.primaryBtnTextSize&&this.style.setProperty("font-size",a.footer.primaryBtnTextSize,"important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-btn-wrapper .mgPlayerJSProd_btn-watch-later").each(function(){a.footer.secondaryBtnBackground&&this.style.setProperty("background",a.footer.secondaryBtnBackground,"important"),a.footer.secondaryBtnBorderColor&&this.style.setProperty("border","2px outset "+a.footer.secondaryBtnBorderColor,"important"),a.footer.secondaryBtnFont&&this.style.setProperty("font-family",a.footer.secondaryBtnFont,"important"),a.footer.secondaryBtnTextColor&&this.style.setProperty("color",a.footer.secondaryBtnTextColor,"important"),a.footer.secondaryBtnTextSize&&this.style.setProperty("font-size",a.footer.secondaryBtnTextSize,"important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_push-notification-btn-wrapper .mgPlayerJSProd_btn-watch-close").each(function(){a.footer.primaryBtnBackground&&this.style.setProperty("background",a.footer.primaryBtnBackground,"important"),a.footer.primaryBtnBorderColor&&this.style.setProperty("border","2px outset "+a.footer.primaryBtnBorderColor,"important"),a.footer.primaryBtnFont&&this.style.setProperty("font-family",a.footer.primaryBtnFont,"important"),a.footer.primaryBtnTextColor&&this.style.setProperty("color",a.footer.primaryBtnTextColor,"important"),a.footer.primaryBtnTextSize&&this.style.setProperty("font-size",a.footer.primaryBtnTextSize,"important")}),GmCXt.timeout(function(){mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_btn-next path.st0").each(function(){a.body.fill&&this.style.setProperty("fill",a.body.fill,"important")}),mg$$1(".mgPlayerJSProd_push-notification-container .mgPlayerJSProd_btn-prev path.st0").each(function(){a.body.fill&&this.style.setProperty("fill",a.body.fill,"important")})},100)),b(),mg$$1("#mgPlayerJSProd_single-guide-play-icon-svg").html(GmCXt.svgs.notification_guide_play),mg$$1("#mgPlayerJSProd_push-not-play-icon-svg").html(GmCXt.svgs.push_not_single_play),mg$$1(".mgPlayerJSProd_btn-prev").html(GmCXt.svgs.push_prev),mg$$1(".mgPlayerJSProd_btn-next").html(GmCXt.svgs.push_prev),mg$$1("#mgPlayerJSProd_push-not-overlay-close").html(GmCXt.svgs.overlay_tour_popup_close),P(t,r),GmCXt.timeout(function(){mg$$1(".mgPlayerJSProd_btn-next").focus(),GmCXt.accessibility&&(mg$$1(".mgPlayerJSProd_push-notification-btn-wrapper").addClass("mgPlayerJSProd_accessibility-theme"),mg$$1(".mgPlayerJSProd_single-guide-play-icon").addClass("mgPlayerJSProd_accessibility-theme"),mg$$1(".mgPlayerJSProd_push-play-icon").addClass("mgPlayerJSProd_ass-default-btn"))},500))}function S(e,t){var r,o=c[e],a=c[e].steps[t].step_settings;GmCXt.stopNotification(n)||("upload"===o.tour_settings.tutorial_tour_type?("new_tab"===a.tutorialUploadMode||"pdf"!==GmCXt.getURLMediaType(a.tutorialUploadUrl)?(-1!==(r=a.tutorialUploadUrl).indexOf(GmCXt.conf.cdnStorage)&&(r=a.tutorialUploadUrl+GmCXt.getCdnSign()),r=r,window.open(r,"_blank"),GmCXt.showSurveyForTutorial(o),GmCXt.closeNotificationPopupSidePanel(),B(),s&&s.taskId&&GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:close_app_panel",{}),GmCXt.pdfPlayedOnUploadTutNewTab=!0,GmCXt.trackerV1.trackTutGuide(o,"upload_tutorial_guide_new_tab","push_notification")):(GmCXt.pdfPlayedOnUploadTut=!0,GmCXt.openPdf(a.tutorialUploadUrl+GmCXt.getCdnSign(),o),mg$$1(".mgPlayerJSProd_media-player-panel").attr("style","width: "+a.tutorialWidth+"% !important; height: "+a.tutorialHeight+"% !important;"),s&&s.taskId&&mg$$1(".mgPlayerJSProd_media-player-panel").addClass("mgPlayerJSProd_play-from-task-player")),X()):(GmCXt.showNotificationHtml(l,!0),r=((e,t)=>{var r="",o=c[e],a=o.steps[t],i=((e,t)=>{var r="";return 0<e.step_video&&e&&e.step_video_url?r="<div class='mgPlayerJSProd_push-notification-guide-info-wrapper mgPlayerJSProd_video-info-wrapper' style='width: -webkit-fill-available;'><video controls autoplay controlsList='nodownload' disablePictureInPicture poster="+t+"><source src='"+e.step_video_url+GmCXt.getCdnSign()+"' type='video/mp4'></video></div>":e.image_url.indexOf("default")<0&&(r="<div class='mgPlayerJSProd_push-notification-guide-info-wrapper mgPlayerJSProd_img-info-wrapper' style='width:-webkit-fill-available;'><img class='mgPlayerJSProd_push-notif-tg-image' style='width:90%;height:90%' alt='"+e.step_title+"' src='"+e.image_url+GmCXt.getCdnSign()+"' /></div>"),r})(a,""),n=GmCXt.replaceVariableWithValue(GmCXt.updateOrgAndAddSignature(a.step_description));return i&&(r="mgPlayerJSProd_min-content-wrapper"),GmCXt.isEmpty(a.step_title)||(n=a.step_title+a.step_description),45<(a=o.tour_title).length&&(a=a.substr(0,45)+" ..."),"<div class='mgPlayerJSProd_overlay-container'></div><div class='mgPlayerJSProd_overlay-tours-popup mgPlayerJSProd_push-notification-container mgPlayerJSProd_push-notification-video-container mgPlayerJSProd_push-notification-tg-container'><div class='mgPlayerJSProd_push-notification-header mgPlayerJSProd_tutotial-notif-header'><div class='mgPlayerJSProd_push-notification-title mgPlayerJSProd_push-notification-guide-info-overlay' ' tourIndex='"+e+"' ' stepIndex='"+t+"'><span id='mgPlayerJSProd_push-notification-tutorial' ></span>"+GmCXt.escapeHtml(a)+"</div><button class='mgPlayerJSProd_tg-close-btn mgPlayerJSProd_lbl-btn' aria-label='tutorial guide close button'></button></div><div class='mgPlayerJSProd_push-notification-content-wrapper mgPlayerJSProd_position-relative mgPlayerJSProd_video-content-wrapper mgPlayerJSProd_height-auto mgPlayerJSProd_push-notif-tg-bg'>"+i+"<div class='mgPlayerJSProd_push-notif-tg-content-wrapper mgPlayerJSProd_inline-block-vm "+r+"'>"+n+"</div></div><div class='mgPlayerJSProd_push-notif-tg-btn-wrapper mgPlayerJSProd_display-flex mgPlayerJSProd_align-items-center mgPlayerJSProd_justify-content-space-around mgPlayerJSProd_push-notif-tg-bg'><div class='mgPlayerJSProd_step-count-wrapper'>"+parseInt(t+1)+"/"+o.steps.length+"</div><div class='mgPlayerJSProd_common-btn-wrapper mgPlayerJSProd_display-flex'><button class='mgPlayerJSProd_btn-prev-step' aria-label='tutorial guide previous button'>"+rootScope.labels.btnPrevious+"</button><button class='mgPlayerJSProd_btn-next-step' aria-label='tutorial guide next button'>"+rootScope.labels.defaultNext+"</button></div></div></div>"})(e,t),GmCXt.removeNotif(),mg$$1("body").append(r),(a=c[e].steps[t].step_settings).tutorialHeight&&a.tutorialWidth&&mg$$1(".mgPlayerJSProd_overlay-tours-popup").attr("style","width: "+a.tutorialWidth+"% !important; height: "+a.tutorialHeight+"% !important;"),mg$$1(".mgPlayerJSProd_push-notif-tg-bg").css("background",GmCXt.getAppSetting("tutorialBgColor")),(o=GmCXt.getAppSetting("tutorial_guide"))&&(mg$$1(".mgPlayerJSProd_overlay-tours-popup.mgPlayerJSProd_push-notification-tg-container").css({background:GmCXt.getAppSetting("tutorialBgColor"),"border-color":o.outerBox.border_color,"border-radius":o.outerBox.border_radius+"px ","border-width":o.outerBox.border_width+"px "}),o.outerBox.shadow.inset?mg$$1(".mgPlayerJSProd_push-notif-tg-bg").css({"box-shadow":o.outerBox.shadow.color+" "+o.outerBox.shadow.horizontal+"px "+o.outerBox.shadow.vertical+"px "+o.outerBox.shadow.blur+"px "+o.outerBox.shadow.spreadRadius+"px"+(o.outerBox.shadow.inset?" inset":"")}):mg$$1(".mgPlayerJSProd_overlay-tours-popup.mgPlayerJSProd_push-notification-tg-container").css({"box-shadow":o.outerBox.shadow.color+" "+o.outerBox.shadow.horizontal+"px "+o.outerBox.shadow.vertical+"px "+o.outerBox.shadow.blur+"px "+o.outerBox.shadow.spreadRadius+"px"}),mg$$1(".mgPlayerJSProd_push-notification-header").attr("style","background:"+o.titleBgColor+" !important;border-top-right-radius:"+o.outerBox.border_radius+"px !important;border-top-left-radius:"+o.outerBox.border_radius+"px !important;padding:5px 20px;"),mg$$1(".mgPlayerJSProd_push-notif-tg-btn-wrapper").attr("style","border-bottom-right-radius:"+o.outerBox.border_radius+"px !important;border-bottom-left-radius:"+o.outerBox.border_radius+"px !important;padding:5px 0px;"),mg$$1(".mgPlayerJSProd_btn-next-step").attr("style","background:"+o.nextBtn.bgColor+" !important;border-color:"+o.nextBtn.border_color+" !important;border-radius:"+o.nextBtn.border_radius+"px !important;border-width:"+o.nextBtn.border_width+"px !important;color:"+o.nextBtn.color+" !important;font-size:"+o.nextBtn.font_size+" !important;padding-bottom:"+o.nextBtn.padding.bottom+"px !important;padding-left:"+o.nextBtn.padding.left+"px !important;padding-right:"+o.nextBtn.padding.right+"px !important;padding-top:"+o.nextBtn.padding.top+"px !important;"),mg$$1(".mgPlayerJSProd_btn-prev-step").attr("style","background:"+o.prevBtn.bgColor+" !important;border-color:"+o.prevBtn.border_color+" !important;border-radius:"+o.prevBtn.border_radius+"px !important;border-width:"+o.prevBtn.border_width+"px !important;color:"+o.prevBtn.color+" !important;font-size:"+o.prevBtn.font_size+" !important;padding-bottom:"+o.prevBtn.padding.bottom+"px !important;padding-left:"+o.prevBtn.padding.left+"px !important;padding-right:"+o.prevBtn.padding.right+"px !important;padding-top:"+o.prevBtn.padding.top+"px !important;")),mg$$1(".mgPlayerJSProd_tg-close-btn").html(GmCXt.svgs.overlay_tour_popup_close),mg$$1(".mgPlayerJSProd_push-notification-tutorial").html(GmCXt.svgs.tutorial),b(),P(e,t),GmCXt.timeout(function(){mg$$1(".mgPlayerJSProd_tg-close-btn").focus()},500)))}function P(e,t){var e=c[e];GmCXt.isOnboarding(e)&&(1===(e=e.steps.length)&&(u(".mgPlayerJSProd_btn-prev-step"),g(".mgPlayerJSProd_btn-next-step")),1<e&&(g(".mgPlayerJSProd_btn-next-step"),g(".mgPlayerJSProd_btn-prev-step"),mg$$1(".mgPlayerJSProd_btn-prev-step").css({"pointer-events":"none",opacity:".5"})),0<t&&mg$$1(".mgPlayerJSProd_btn-prev-step").css({"pointer-events":"",opacity:"1"}),e===t+1)&&(GmCXt.isLastStepPlayedOnCreateTutGuide=!0,mg$$1(".mgPlayerJSProd_btn-next-step").text(rootScope.labels.close))}function v(){mg$$1(".mgPlayerJSProd_overlay-tours-popup").hide(),mg$$1(".mgPlayerJSProd_overlay-container").hide()}function b(){mg$$1(".mgPlayerJSProd_never-show-again-button").on("click",$),mg$$1(".mgPlayerJSProd_overlay-tour-box").on("click",C),mg$$1(".mgPlayerJSProd_overlay-tour-box-small-thumbnails").on("click",C),mg$$1(".mgPlayerJSProd_single-guide-play-icon").on("click",C),mg$$1(".mgPlayerJSProd_overlay-tours-popup .mgPlayerJSProd_close-button").on("click",M),mg$$1(".mgPlayerJSProd_btn-watch-later").on("click",M),mg$$1(".mgPlayerJSProd_btn-prev").on("click",H),mg$$1(".mgPlayerJSProd_btn-next").on("click",O),mg$$1(".mgPlayerJSProd_btn-prev-step").on("click",N),mg$$1(".mgPlayerJSProd_btn-next-step").on("click",R),mg$$1(".mgPlayerJSProd_tg-close-btn").on("click",I);var e=mg$$1(".mgPlayerJSProd_push-notif-tg-content-wrapper").html();e&&-1!==e.indexOf("<a ")&&mg$$1(".mgPlayerJSProd_push-notif-tg-content-wrapper a").each(function(){mg$$1(".mgPlayerJSProd_push-notif-tg-content-wrapper a").on("click",function(e){e.currentTarget.target&&"_blank"!==e.currentTarget.target&&(e.preventDefault(),e.stopPropagation(),v(),GmCXt.isTutorialLink=!0,GmCXt.openPdf(e.currentTarget.href))})}),n&&mg$$1(".mgPlayerJSProd_close-preview-btn").on("click",I),mg$$1(".mgPlayerJSProd_btn-watch-close").on("click",V)}function C(e,t){var r;p?GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:stop_automation"):n||(0!==t&&(e.stopPropagation(),t=this.attributes.tourIndex.value),t<c.length&&((r=c[t]).tour_settings.displayFrequency&&L(r),GmCXt.isOnboarding(r)||GmCXt.trackerV1.trackPushNotification(r,"click"),e={tour_id:r.tour_id,category_id:r.category_id},rootScope.getSteps(e).then(function(e){v(),GmCXt.stopNotification(n)||(r.tour_settings.displayFrequency||J(r),GmCXt.isOnboarding(e)?(c[t].steps=e.steps,o(t,e)):GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:play_guide_from_notification",{tour:e,isAutolaunchTriggered:a}))})))}function w(e){mg$$1(e).css({"pointer-events":"none",opacity:".5"})}function k(e){mg$$1(e).css({"pointer-events":"",opacity:"1"})}function x(e,t){var r=c[e];f(GmCXt.getOverlayToursHtml(r,e,n),e,t)}function O(e){var t=G()+1;x(t,0);c.length===t+1&&(w(".mgPlayerJSProd_btn-next"),mg$$1(".mgPlayerJSProd_btn-prev").focus()),k(".mgPlayerJSProd_btn-prev"),mg$$1(".mgPlayerJSProd_btn-next").focus()}function H(e){var t=G()-1;x(t,0),0===t&&(w(".mgPlayerJSProd_btn-prev"),1<c.length)&&k(".mgPlayerJSProd_btn-next")}function R(e){var t,r=G(),o=E()+1,a=c[r];a&&(a.steps.length===o?(X(),GmCXt.closeNotificationPopupSidePanel(),GmCXt.isPlayer()&&-1!==a.tour_type.indexOf("onboarding_tour")&&a.tour_settings.sentiment&&a.tour_settings.sentiment.sentimentCode&&(t={tour:a,guideNotCompleted:!1},GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:close_app_panel",{}),GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:getSurveyScreen",t)),T(a.steps[a.steps.length-1]).then(function(){GmCXt.trackerV1.trackTutGuide(a,"create_tutorial_guide","push_notification")})):(S(r,o),T(a.steps[o-1]).then(function(){})))}function T(r){return new Promise(function(t,e){GmCXt.storage().get(["tutorial_steps"]).then(function(e){e.tutorial_steps.push(r),GmCXt.storage().set({tutorial_steps:e.tutorial_steps}),t()})})}function N(e){S(G(),E()-1)}function A(e){c.splice(e,1),0===c.length?GmCXt.closeNotificationPopupSidePanel(!0):_()}function $(){var e;p?GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:stop_automation"):n||(e=G(),(c[e].tour_settings.displayFrequency?L:J)(c[e]),A(e))}function L(e){e&&(GmCXt.displayFrequencyGuides[e.tour_id]&&parseInt(e.version)===parseInt(GmCXt.displayFrequencyGuides[e.tour_id].version)?GmCXt.displayFrequencyGuides[e.tour_id].playedCount++:(GmCXt.displayFrequencyGuides[e.tour_id]={},GmCXt.displayFrequencyGuides[e.tour_id].version=parseInt(e.version),GmCXt.displayFrequencyGuides[e.tour_id].playedCount=1),GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:update_notification_data_content_script_display_frequency",{tours:GmCXt.displayFrequencyGuides}),(e=>{if(!GmCXt.isEmpty(GmCXt.displayFrequencyGuides)){var t=GmCXt.displayFrequencyGuides[parseInt(e.tour_id)];if(GmCXt.isDefined(t)&&parseInt(t.version)===parseInt(e.version)&&t.playedCount>=e.tour_settings.displayFrequencyTimes)return 1}})(e))&&J(e)}function J(e){e&&(GmCXt.doNotShowTours[e.tour_id]=parseInt(e.version),e={tours:GmCXt.doNotShowTours},GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:update_notification_data_content_script_donot_show",e))}function G(){return parseInt(mg$$1(".mgPlayerJSProd_push-notification-guide-info-overlay").attr("tourIndex"))||0}function E(){return parseInt(mg$$1(".mgPlayerJSProd_push-notification-guide-info-overlay").attr("stepIndex"))||0}function M(){var e,t,r;p?GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:stop_automation"):n||(e=G(),(t=c[e]).tour_settings.oneTimeNotification?$():(t.tour_settings.displayFrequency?L(t):(r=rootScope.labels.pushSnoozeMsg+" ",GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:update_notification_data_content_script_snooze_tours",{tour:t,msg:r})),A(e)))}function I(){var e,t=G(),r=E()+1,o=c[t],t=(B(),GmCXt.removeNotif(),GmCXt.openSidePanelNotificaton(),T(o.steps[r-1]).then(function(){GmCXt.trackerV1.trackTutGuide(o,"create_tutorial_guide","push_notification")}),GmCXt.getOrgSettings());GmCXt.isPlayer()&&r<o.steps.length?t&&t.exitSentiment&&(e={tour:o,guideNotCompleted:!0},GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:close_app_panel",{}),GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:showSurveyScreen",e)):GmCXt.isPlayer()&&r===o.steps.length&&-1!==o.tour_type.indexOf("onboarding_tour")&&o.tour_settings.sentiment&&o.tour_settings.sentiment.sentimentCode&&(e={tour:o,guideNotCompleted:!1},GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:close_app_panel",{}),GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:getSurveyScreen",e))}function B(){var e,t;s&&"0"===s.isComplete&&(e=G(),t=E()+1,c[e].steps.length===t)&&X()}function X(){var e;s&&!s.isComplete&&(e=G(),e=c[e],e={taskListId:s.taskId,tourId:e.tour_id,complete_count:s.complete_count,total_count:s.total_count},rootScope.markTaskGuideComplete(e),s=!1)}function V(e){e.stopPropagation();var e=this.attributes.tourIndex.value,t=c[e];t.tour_settings.displayFrequency&&L(t),A(e)}GmCXt.log(37,"LOAD NOTIFICATIONS",{tours:i}),GmCXt.user&&(D&&(GmCXt.alreadyLoadedNotif=[]),c=[],d={},a=!(t={}),p=!(GmCXt.filterDontShowSnoozeTour=[]),n?(c=i,GmCXt.isOnboarding(i[0])?o(0,i[0],e):_()):GmCXt.storage().get(["toursClosed","tourIdArray","testAuto"]).then(function(e){t=e.tourIdArray,d=GmCXt.parseJSON(e.toursClosed),e.testAuto&&(p=e.testAuto.automationInProgress),GmCXt.log(37,"STORAGE NOTIFICATIONS DATA",e),GmCXt.getDoNotShowTours(!1).then(function(e){GmCXt.doNotShowTours=e,!(e=i)||e.length<1||(i=i.filter(function(e){var t;return!GmCXt.doNotShowTours[e.tour_id]||(t=GmCXt.doNotShowTours[e.tour_id],parseInt(e.version)>t&&!e.tour_settings.oneTimeNotification)?e:void 0}),GmCXt.log(10,"DO NOT SHOW filter: "+e.length,e),e=i.filter(function(e){var t,r,o,a,i,n;return d[e.tour_id]?(r=1,o=d[e.tour_id].toString().split(":"),GmCXt.isDefined(o[1])?(t=parseInt(o[0]),r=parseInt(o[1])):t=parseInt(d[e.tour_id]),o=(new Date).getTime(),n=GmCXt.t.notifExp24,(a=GmCXt.getAppSetting("notificationsTime"))&&(".5"===a&&(a="0.5"),i=parseFloat(a),n=(i="number"!=typeof a&&a.includes("week")?GmCXt.convertWeeksToHours(i):i)*GmCXt.t.snoozeNotif),t+n-o<=0||parseInt(e.version)>r?(delete d[e.tour_id],e):void GmCXt.filterDontShowSnoozeTour.push(parseInt(e.tour_id))):e}),GmCXt.log(10,"SNOOZED TOURS ",e),e=(e=>(GmCXt.log(10,"ALREADY SHOWN TOURS ",GmCXt.alreadyLoadedNotif),e=0<GmCXt.alreadyLoadedNotif.length?e.filter(function(e){if(!(e=>{for(var t=!1,r=0;r<GmCXt.alreadyLoadedNotif.length;r++)if(parseInt(GmCXt.alreadyLoadedNotif[r].tour_id)==parseInt(e.tour_id)){t=!0;break}return t})(e))return e}):e))(e),GmCXt.log(10,"AFTER FILTERING ALREADY SHOWN TOURS ",e),p&&GmCXt.formatAndSendToParentWindowNoti("mgPlayerJSProd_action:track_notification_for_automation",{tours:d,doNotShowTours:GmCXt.doNotShowTours,isVisible:!1}),GmCXt.updateNotificationContentScript(d,t),e=(e=>{for(var t=[],r=[],o=0;o<e.length;o++)(e[o].tour_settings.isAutolaunch?t:r).push(e[o]);return t.concat(r)})(e=GmCXt.inPlayer?GmCXt.sortToursByModifcationDate(e):e),GmCXt.log(10,"SORTING BY auto launch first",e),GmCXt.log(10,"SNOOZE filter: "+e.length,e),e.length&&(e=e,GmCXt.organization.admin_settings.guide_segmentation?(GmCXt.log(10,"VALIDATING GUIDE SEGMENTATION RULES"),GmCXt.checkGuidesBasedOnSegment(e,F,"notiSeg")):r(e)))});e=GmCXt.user;GmCXt.displayFrequencyGuides=e.settings.display_frequency_guides||{}}))},GmCXt.formatAndSendToParentWindowNoti=function(e,t){var r={};r.action=e,r.data=t||{},GmCXt.sendToParentWindow(r)};let app;function updateAccessibilityTheme(e){e?mg$$1(".ege-panel").addClass("mgPlayerJSProd_accessibility-theme"):mg$$1(".ege-panel").removeClass("mgPlayerJSProd_accessibility-theme")}function updatePlayerTheme(e){GmCXt.FT.isPlayer&&!e?mg$$1(".ege-panel").addClass("mgPlayerJSProd_player-theme"):mg$$1(".ege-panel").removeClass("mgPlayerJSProd_player-theme")}function updateMobileView(e){e?mg$$1(".mgPlayerJSProd_panel-body").removeClass("mgPlayerJSProd_mobile-view"):mg$$1(".mgPlayerJSProd_panel-body").addClass("mgPlayerJSProd_mobile-view")}function updateMiniPlayerTheme(e){e?mg$$1(".ege-panel").addClass("mgPlayerJSProd_micro-player-container mgPlayerJSProd_no-border mgPlayerJSProd_no-border-all"):mg$$1(".ege-panel").removeClass("mgPlayerJSProd_micro-player-container mgPlayerJSProd_no-border mgPlayerJSProd_no-border-all")}Gm.accessibility.subscribe(e=>{updateAccessibilityTheme(e),updatePlayerTheme(e)}),Gm.miniPlayer.subscribe(e=>{updateMiniPlayerTheme(e),updateMobileView(e)}),GmCXt.startMsgChannel("Guide:sidePanel"),readStorage().then(()=>{app=new App({target:document.getElementById("ege-panel")})}).catch(e=>{console.error("Initialization error:",e)}),Gm.activeView.set("signin");var app$1=app;export{app$1 as default};