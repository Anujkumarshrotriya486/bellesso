<div class="header-detail-view-tour-title"><div id="mgPlayerJSPreview_btn-guide-view-back" class="mgPlayerJSPreview_back-button ege-inline-block-vm"><button class="mgPlayerJSPreview_lbl-btn ege-inline-block-vt" ng-bind-html="$root.svgs.iconBack | unsafe" ng-click="$root.goBack()" aria-label="back"></button><div class="mgPlayerJSPreview_title-tooltip-wrapper mgPlayerJSPreview_position-bottom-right"><div class="mgPlayerJSPreview_tooltip-title">{{$root.labels.back}}</div></div></div><div class="mgPlayerJSPreview_tour-title-wrapper mgPlayerJSPreview_position-relative mgPlayerJSPreview_inline-block-vm"><label ng-hide="$root.currentView === 'insights-tag-view'" class="ege-inline-block-vm mgPlayerJSPreview_position-relative mgPlayerJSPreview_width-100">{{tour.tour_title}}</label> <label ng-show="$root.currentView === 'insights-tag-view'" class="ege-inline-block-vm mgPlayerJSPreview_position-relative mgPlayerJSPreview_width-100">{{$root.labels.insightsTracker}}</label><div class="mgPlayerJSPreview_title-tooltip-wrapper mgPlayerJSPreview_position-bottom-right" ng-if="tour.tour_description.length > 0"><div class="mgPlayerJSPreview_tooltip-tour-desc">{{tour.tour_description}}</div></div></div></div><div class="header-detail-view-tour-download-container" ng-if="$root.currentView !== 'insights-tag-view'"><div id="mgPlayerJSPreview_btn-guide-view-publish" class="mgPlayerJSPreview_guide-status-wrapper" ng-if="$root.showPublishBtn(tour) && !$root.isDesktopApp() && !$root.hideMirrorAppCtrl()" ng-class="{'mgPlayerJSPreview_disabled' : ($root.pendingStepCount > 0 || $root.draftExists(tour.tour_id, tour.category_id))}"><div class="mgPlayerJSPreview_status-publish mgPlayerJSPreview_status-publish-unpublish mgPlayerJSPreview_icons-hover-effect mgPlayerJSPreview_header-icon-wrapper ege-inline-block-vt"><button class="mgPlayerJSPreview_lbl-btn ege-inline-block-vt" ng-click="$root.changeStatus(tour, 'publish', $index, $event)" ng-bind-html="$root.svgs.publish | unsafe" aria-label="publish"></button><div class="mgPlayerJSPreview_title-tooltip-wrapper mgPlayerJSPreview_position-bottom-left"><div class="mgPlayerJSPreview_tooltip-title">{{$root.labels.publish}}</div></div></div></div><div id="mgPlayerJSPreview_btn-guide-view-schedule" class="mgPlayerJSPreview_guide-status-wrapper" ng-if="$root.showSchedulePublish(tour) && !$root.isDesktopApp() && !$root.hideMirrorAppCtrl()" ng-class="{'mgPlayerJSPreview_disabled' : ($root.pendingStepCount > 0 || $root.draftExists(tour.tour_id, tour.category_id))}"><div class="mgPlayerJSPreview_status-publish mgPlayerJSPreview_status-publish-unpublish mgPlayerJSPreview_icons-hover-effect mgPlayerJSPreview_header-icon-wrapper ege-inline-block-vt"><button class="mgPlayerJSPreview_lbl-btn ege-inline-block-vt" ng-click="schedulePubTour(tour)" ng-bind-html="$root.svgs.publish | unsafe" aria-label="publish"></button><div class="mgPlayerJSPreview_title-tooltip-wrapper mgPlayerJSPreview_position-bottom-left"><div class="mgPlayerJSPreview_tooltip-title">{{$root.labels.btnScheduledPublish}}</div></div></div></div><div id="mgPlayerJSPreview_btn-guide-view-unpublish" class="mgPlayerJSPreview_guide-status-wrapper" ng-if="$root.FT.publish && tour.is_published && $root.isOwnerOrAppAdmin() && !$root.isDesktopApp() && !$root.hideMirrorAppCtrl() && $root.showUnpublish(tour)"><div class="mgPlayerJSPreview_status-unpublish mgPlayerJSPreview_status-publish-unpublish mgPlayerJSPreview_icons-hover-effect mgPlayerJSPreview_header-icon-wrapper ege-inline-block-vt"><button class="mgPlayerJSPreview_lbl-btn ege-inline-block-vt" ng-click="$root.changeStatus(tour, 'unpublish', $index, $event)" ng-bind-html="$root.svgs.unpublish | unsafe" aria-label="unpublish"></button><div class="mgPlayerJSPreview_title-tooltip-wrapper mgPlayerJSPreview_position-bottom-left"><div class="mgPlayerJSPreview_tooltip-title">{{$root.labels.btnUnpublish}}</div></div></div></div><div id="mgPlayerJSPreview_btn-guide-view-full-screen" class="guide-view-full-screen" ng-if="hideRegularView && $root.FT.creatorApp"><button class="mgPlayerJSPreview_lbl-btn guide-view-full-screen-icon mgPlayerJSPreview_icons-hover-effect mgPlayerJSPreview_header-icon-wrapper ege-inline-block-vt" ng-click="guideViewFullScreen(!$root.guideViewFullScreen)" ng-include="'icons/fullscreen.html'" ng-if="!$root.guideViewFullScreen" aria-label="fullscreen"></button> <button class="mgPlayerJSPreview_lbl-btn guide-view-full-screen-icon mgPlayerJSPreview_icons-hover-effect mgPlayerJSPreview_header-icon-wrapper ege-inline-block-vt" ng-click="guideViewFullScreen(!$root.guideViewFullScreen)" ng-include="'icons/smallscreen.html'" ng-if="$root.guideViewFullScreen" aria-label="smallscreen"></button></div><download-media-file tour="tour" ng-if="!$scope.hideDownload"></download-media-file></div><div class="mgPlayerJSPreview_header-detail-view-tour-edit-container" ng-if="$root.currentView !== 'insights-tag-view' && !$root.hideMirrorAppCtrl()"><div ng-if=" $root.FT.creatorApp && 
        ( (tour.is_locked && tour.user_id == $root.user.user_id) || 
        !tour.is_locked || !tour.is_published || $root.isOwnerOrAppAdmin() ) && 
        !$root.isToolTip(tour) &&
        !$root.isUserRole() && !$root.isDesktopApp()" id="tour-pencil-icon-{{step.step_id && step.step_id || tour.tour_id || child.entity_code}}" class="ege-inline-block-div mgPlayerJSPreview_tour-more-option-icon" ng-class="{'tour-pencil-icon-unpublish': (!tour.is_published)}" title="{{$root.scope.editTour}}"><button ng-include="'app/creator/directives/tour_menu/dropdown.html'" ng-click="showTourActionDropdown(step.step_id || tour.tour_id || child.entity_code, 'edit', step, $event, $last)" class="mgPlayerJSPreview_lbl-btn mgPlayerJSPreview_icons-hover-effect mgPlayerJSPreview_header-icon-wrapper ege-inline-block-div" aria-label="tour action dropdown"></button></div><div id="mgPlayerJSPreview_icon-edit-json" ng-if="$root.jsonEditor" ng-click="$root.editJson(tour, 'guide')" class="ege-inline-block-div mgPlayerJSPreview_tour-more-option-icon mgPlayerJSPreview_header-icon-wrapper mgPlayerJSPreview_json-editor-icon" ng-include="'icons/edit.html'"></div><div class="mgPlayerJSPreview_clear"></div></div>