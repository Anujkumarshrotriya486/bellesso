"undefined"!=typeof jQuery&&(hostJquery=jQuery,host$=$),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(t.document)return e(t);throw new Error("jQuery requires a window with a document")}:e(t)}("undefined"!=typeof window?window:this,function(_,L){"use strict";function h(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item}function M(t){return null!=t&&t===t.window}var e=[],R=Object.getPrototypeOf,a=e.slice,$=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},U=e.push,G=e.indexOf,F={},j=F.toString,H=F.hasOwnProperty,B=H.toString,W=B.call(Object),g={},v=_.document,q={type:!0,src:!0,nonce:!0,noModule:!0};function V(t,e,n){var s,r,o=(n=n||v).createElement("script");if(o.text=t,e)for(s in q)(r=e[s]||e.getAttribute&&e.getAttribute(s))&&o.setAttribute(s,r);n.head.appendChild(o).parentNode.removeChild(o)}function z(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?F[j.call(t)]||"object":typeof t}var t="3.7.1",J=/HTML$/i,E=function(t,e){return new E.fn.init(t,e)};function Y(t){var e=!!t&&"length"in t&&t.length,n=z(t);return!h(t)&&!M(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function X(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}E.fn=E.prototype={jquery:t,constructor:E,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=E.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return E.each(this,t)},map:function(n){return this.pushStack(E.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:U,sort:e.sort,splice:e.splice},E.extend=E.fn.extend=function(){var t,e,n,s,r,o=arguments[0]||{},i=1,a=arguments.length,m=!1;for("boolean"==typeof o&&(m=o,o=arguments[i]||{},i++),"object"==typeof o||h(o)||(o={}),i===a&&(o=this,i--);i<a;i++)if(null!=(t=arguments[i]))for(e in t)n=t[e],"__proto__"!==e&&o!==n&&(m&&n&&(E.isPlainObject(n)||(s=Array.isArray(n)))?(r=o[e],r=s&&!Array.isArray(r)?[]:s||E.isPlainObject(r)?r:{},s=!1,o[e]=E.extend(m,r,n)):void 0!==n&&(o[e]=n));return o},E.extend({expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==j.call(t)||(t=R(t))&&("function"!=typeof(t=H.call(t,"constructor")&&t.constructor)||B.call(t)!==W))},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,n){V(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,s=0;if(Y(t))for(n=t.length;s<n&&!1!==e.call(t[s],s,t[s]);s++);else for(s in t)if(!1===e.call(t[s],s,t[s]))break;return t},text:function(t){var e,n="",s=0,r=t.nodeType;if(!r)for(;e=t[s++];)n+=E.text(e);return 1===r||11===r?t.textContent:9===r?t.documentElement.textContent:3===r||4===r?t.nodeValue:n},makeArray:function(t,e){e=e||[];return null!=t&&(Y(Object(t))?E.merge(e,"string"==typeof t?[t]:t):U.call(e,t)),e},inArray:function(t,e,n){return null==e?-1:G.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,t=t&&(t.ownerDocument||t).documentElement;return!J.test(e||t&&t.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,s=0,r=t.length;s<n;s++)t[r++]=e[s];return t.length=r,t},grep:function(t,e,n){for(var s=[],r=0,o=t.length,i=!n;r<o;r++)!e(t[r],r)!=i&&s.push(t[r]);return s},map:function(t,e,n){var s,r,o=0,i=[];if(Y(t))for(s=t.length;o<s;o++)null!=(r=e(t[o],o,n))&&i.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&i.push(r);return $(i)},guid:1,support:g}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=e[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){F["[object "+e+"]"]=e.toLowerCase()});var K=e.pop,Q=e.sort,Z=e.splice,n="[\\x20\\t\\r\\n\\f]",tt=new RegExp("^"+n+"+|((?:^|[^\\\\])(?:\\\\.)*)"+n+"+$","g"),et=(E.contains=function(t,e){e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(t.contains?t.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))},/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g);function nt(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}E.escapeSelector=function(t){return(t+"").replace(et,nt)};var st,y,rt,ot,it,x,s,b,p,at,r=v,mt=U,C=mt,S=E.expando,w=0,lt=0,ut=wt(),ct=wt(),pt=wt(),Tt=wt(),dt=function(t,e){return t===e&&(it=!0),0},gt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",t="(?:\\\\[\\da-fA-F]{1,6}"+n+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",o="\\["+n+"*("+t+")(?:"+n+"*([*^$|!~]?=)"+n+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+t+"))|)"+n+"*\\]",i=":("+t+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+o+")*)|.*)\\)|)",Pt=new RegExp(n+"+","g"),ft=new RegExp("^"+n+"*,"+n+"*"),ht=new RegExp("^"+n+"*([>+~]|"+n+")"+n+"*"),Gt=new RegExp(n+"|>"),Xt=new RegExp(i),yt=new RegExp("^"+t+"$"),_t={ID:new RegExp("^#("+t+")"),CLASS:new RegExp("^\\.("+t+")"),TAG:new RegExp("^("+t+"|[*])"),ATTR:new RegExp("^"+o),PSEUDO:new RegExp("^"+i),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+n+"*(even|odd|(([+-]|)(\\d*)n|)"+n+"*(?:([+-]|)"+n+"*(\\d+)|))"+n+"*\\)|)","i"),bool:new RegExp("^(?:"+gt+")$","i"),needsContext:new RegExp("^"+n+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+n+"*((?:-\\d)?\\d*)"+n+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,Et=/^h\d$/i,xt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,c=new RegExp("\\\\[\\da-fA-F]{1,6}"+n+"?|\\\\([^\\r\\n\\f])","g"),T=function(t,e){t="0x"+t.slice(1)-65536;return e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))},Ct=function(){Nt()},St=Rt(function(t){return!0===t.disabled&&X(t,"fieldset")},{dir:"parentNode",next:"legend"});try{C.apply(e=a.call(r.childNodes),r.childNodes),e[r.childNodes.length].nodeType}catch(st){C={apply:function(t,e){mt.apply(t,a.call(e))},call:function(t){mt.apply(t,a.call(arguments,1))}}}function I(t,e,n,s){var r,o,i,a,m,l,u=e&&e.ownerDocument,c=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==c&&9!==c&&11!==c)return n;if(!s&&(Nt(e),e=e||x,b)){if(11!==c&&(a=xt.exec(t)))if(r=a[1]){if(9===c){if(!(l=e.getElementById(r)))return n;if(l.id===r)return C.call(n,l),n}else if(u&&(l=u.getElementById(r))&&I.contains(e,l)&&l.id===r)return C.call(n,l),n}else{if(a[2])return C.apply(n,e.getElementsByTagName(t)),n;if((r=a[3])&&e.getElementsByClassName)return C.apply(n,e.getElementsByClassName(r)),n}if(!(Tt[t+" "]||p&&p.test(t))){if(l=t,u=e,1===c&&(Gt.test(t)||ht.test(t))){for((u=bt.test(t)&&Ot(e.parentNode)||e)==e&&g.scope||((i=e.getAttribute("id"))?i=E.escapeSelector(i):e.setAttribute("id",i=S)),o=(m=Lt(t)).length;o--;)m[o]=(i?"#"+i:":scope")+" "+Mt(m[o]);l=m.join(",")}try{return C.apply(n,u.querySelectorAll(l)),n}catch(e){Tt(t,!0)}finally{i===S&&e.removeAttribute("id")}}}return Ht(t.replace(tt,"$1"),e,n,s)}function wt(){var s=[];return function t(e,n){return s.push(e+" ")>y.cacheLength&&delete t[s.shift()],t[e+" "]=n}}function A(t){return t[S]=!0,t}function It(t){var e=x.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function At(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&St(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function kt(i){return A(function(o){return o=+o,A(function(t,e){for(var n,s=i([],t.length,o),r=s.length;r--;)t[n=s[r]]&&(t[n]=!(e[n]=t[n]))})})}function Ot(t){return t&&void 0!==t.getElementsByTagName&&t}function Nt(t){var t=t?t.ownerDocument||t:r;return t!=x&&9===t.nodeType&&t.documentElement&&(s=(x=t).documentElement,b=!E.isXMLDoc(x),at=s.matches||s.webkitMatchesSelector||s.msMatchesSelector,s.msMatchesSelector&&r!=x&&(t=x.defaultView)&&t.top!==t&&t.addEventListener("unload",Ct),g.getById=It(function(t){return s.appendChild(t).id=E.expando,!x.getElementsByName||!x.getElementsByName(E.expando).length}),g.disconnectedMatch=It(function(t){return at.call(t,"*")}),g.scope=It(function(){return x.querySelectorAll(":scope")}),g.cssHas=It(function(){try{return x.querySelector(":has(*,:jqfake)"),0}catch(t){return 1}}),g.getById?(y.filter.ID=function(t){var e=t.replace(c,T);return function(t){return t.getAttribute("id")===e}},y.find.ID=function(t,e){if(void 0!==e.getElementById&&b)return(e=e.getElementById(t))?[e]:[]}):(y.filter.ID=function(t){var e=t.replace(c,T);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},y.find.ID=function(t,e){if(void 0!==e.getElementById&&b){var n,s,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),s=0;o=r[s++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),y.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},y.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&b)return e.getElementsByClassName(t)},p=[],It(function(t){var e;s.appendChild(t).innerHTML="<a id='"+S+"' href='' disabled='disabled'></a><select id='"+S+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||p.push("\\["+n+"*(?:value|"+gt+")"),t.querySelectorAll("[id~="+S+"-]").length||p.push("~="),t.querySelectorAll("a#"+S+"+*").length||p.push(".#.+[+~]"),t.querySelectorAll(":checked").length||p.push(":checked"),(e=x.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),s.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&p.push(":enabled",":disabled"),(e=x.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||p.push("\\["+n+"*name"+n+"*="+n+"*(?:''|\"\")")}),g.cssHas||p.push(":has"),p=p.length&&new RegExp(p.join("|")),dt=function(t,e){var n;return t===e?(it=!0,0):!t.compareDocumentPosition-!e.compareDocumentPosition||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!g.sortDetached&&e.compareDocumentPosition(t)===n?t===x||t.ownerDocument==r&&I.contains(r,t)?-1:e===x||e.ownerDocument==r&&I.contains(r,e)?1:ot?G.call(ot,t)-G.call(ot,e):0:4&n?-1:1)}),x}for(st in I.matches=function(t,e){return I(t,null,null,e)},I.matchesSelector=function(t,e){if(Nt(t),b&&!Tt[e+" "]&&(!p||!p.test(e)))try{var n=at.call(t,e);if(n||g.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){Tt(e,!0)}return 0<I(e,x,null,[t]).length},I.contains=function(t,e){return(t.ownerDocument||t)!=x&&Nt(t),E.contains(t,e)},I.attr=function(t,e){(t.ownerDocument||t)!=x&&Nt(t);var n=y.attrHandle[e.toLowerCase()],n=n&&H.call(y.attrHandle,e.toLowerCase())?n(t,e,!b):void 0;return void 0!==n?n:t.getAttribute(e)},I.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},E.uniqueSort=function(t){var e,n=[],s=0,r=0;if(it=!g.sortStable,ot=!g.sortStable&&a.call(t,0),Q.call(t,dt),it){for(;e=t[r++];)e===t[r]&&(s=n.push(r));for(;s--;)Z.call(t,n[s],1)}return ot=null,t},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(a.apply(this)))},(y=E.expr={cacheLength:50,createPseudo:A,match:_t,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(c,T),t[3]=(t[3]||t[4]||t[5]||"").replace(c,T),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||I.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&I.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return _t.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Xt.test(n)&&(e=(e=Lt(n,!0))&&n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(c,T).toLowerCase();return"*"===t?function(){return!0}:function(t){return X(t,e)}},CLASS:function(t){var e=ut[t+" "];return e||(e=new RegExp("(^|"+n+")"+t+"("+n+"|$)"))&&ut(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,n,s){return function(t){t=I.attr(t,e);return null==t?"!="===n:!n||(t+="","="===n?t===s:"!="===n?t!==s:"^="===n?s&&0===t.indexOf(s):"*="===n?s&&-1<t.indexOf(s):"$="===n?s&&t.slice(-s.length)===s:"~="===n?-1<(" "+t.replace(Pt," ")+" ").indexOf(s):"|="===n&&(t===s||t.slice(0,s.length+1)===s+"-"))}},CHILD:function(T,t,e,d,g){var P="nth"!==T.slice(0,3),f="last"!==T.slice(-4),h="of-type"===t;return 1===d&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var s,r,o,i,a,m=P!=f?"nextSibling":"previousSibling",l=t.parentNode,u=h&&t.nodeName.toLowerCase(),c=!n&&!h,p=!1;if(l){if(P){for(;m;){for(o=t;o=o[m];)if(h?X(o,u):1===o.nodeType)return!1;a=m="only"===T&&!a&&"nextSibling"}return!0}if(a=[f?l.firstChild:l.lastChild],f&&c){for(p=(i=(s=(r=l[S]||(l[S]={}))[T]||[])[0]===w&&s[1])&&s[2],o=i&&l.childNodes[i];o=++i&&o&&o[m]||(p=i=0,a.pop());)if(1===o.nodeType&&++p&&o===t){r[T]=[w,i,p];break}}else if(!1===(p=c?i=(s=(r=t[S]||(t[S]={}))[T]||[])[0]===w&&s[1]:p))for(;(o=++i&&o&&o[m]||(p=i=0,a.pop()))&&((h?!X(o,u):1!==o.nodeType)||!++p||(c&&((r=o[S]||(o[S]={}))[T]=[w,p]),o!==t)););return(p-=g)===d||p%d==0&&0<=p/d}}},PSEUDO:function(t,o){var e,i=y.pseudos[t]||y.setFilters[t.toLowerCase()]||I.error("unsupported pseudo: "+t);return i[S]?i(o):1<i.length?(e=[t,t,"",o],y.setFilters.hasOwnProperty(t.toLowerCase())?A(function(t,e){for(var n,s=i(t,o),r=s.length;r--;)t[n=G.call(t,s[r])]=!(e[n]=s[r])}):function(t){return i(t,0,e)}):i}},pseudos:{not:A(function(t){var s=[],r=[],a=jt(t.replace(tt,"$1"));return a[S]?A(function(t,e,n,s){for(var r,o=a(t,null,s,[]),i=t.length;i--;)(r=o[i])&&(t[i]=!(e[i]=r))}):function(t,e,n){return s[0]=t,a(s,null,n,r),s[0]=null,!r.pop()}}),has:A(function(e){return function(t){return 0<I(e,t).length}}),contains:A(function(e){return e=e.replace(c,T),function(t){return-1<(t.textContent||E.text(t)).indexOf(e)}}),lang:A(function(n){return yt.test(n||"")||I.error("unsupported lang: "+n),n=n.replace(c,T).toLowerCase(),function(t){var e;do{if(e=b?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=_.location&&_.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===s},focus:function(t){return t===function(){try{return x.activeElement}catch(t){}}()&&x.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:At(!1),disabled:At(!0),checked:function(t){return X(t,"input")&&!!t.checked||X(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!y.pseudos.empty(t)},header:function(t){return Et.test(t.nodeName)},input:function(t){return vt.test(t.nodeName)},button:function(t){return X(t,"input")&&"button"===t.type||X(t,"button")},text:function(t){return X(t,"input")&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:kt(function(){return[0]}),last:kt(function(t,e){return[e-1]}),eq:kt(function(t,e,n){return[n<0?n+e:n]}),even:kt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:kt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:kt(function(t,e,n){for(var s=n<0?n+e:e<n?e:n;0<=--s;)t.push(s);return t}),gt:kt(function(t,e,n){for(var s=n<0?n+e:n;++s<e;)t.push(s);return t})}}).pseudos.nth=y.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[st]=function(e){return function(t){return X(t,"input")&&t.type===e}}(st);for(st in{submit:!0,reset:!0})y.pseudos[st]=function(e){return function(t){return(X(t,"input")||X(t,"button"))&&t.type===e}}(st);function Dt(){}function Lt(t,e){var n,s,r,o,i,a,m,l=ct[t+" "];if(l)return e?0:l.slice(0);for(i=t,a=[],m=y.preFilter;i;){for(o in n&&!(s=ft.exec(i))||(s&&(i=i.slice(s[0].length)||i),a.push(r=[])),n=!1,(s=ht.exec(i))&&(n=s.shift(),r.push({value:n,type:s[0].replace(tt," ")}),i=i.slice(n.length)),y.filter)!(s=_t[o].exec(i))||m[o]&&!(s=m[o](s))||(n=s.shift(),r.push({value:n,type:o,matches:s}),i=i.slice(n.length));if(!n)break}return e?i.length:i?I.error(t):ct(t,a).slice(0)}function Mt(t){for(var e=0,n=t.length,s="";e<n;e++)s+=t[e].value;return s}function Rt(i,t,e){var a=t.dir,m=t.next,l=m||a,u=e&&"parentNode"===l,c=lt++;return t.first?function(t,e,n){for(;t=t[a];)if(1===t.nodeType||u)return i(t,e,n);return!1}:function(t,e,n){var s,r,o=[w,c];if(n){for(;t=t[a];)if((1===t.nodeType||u)&&i(t,e,n))return!0}else for(;t=t[a];)if(1===t.nodeType||u)if(r=t[S]||(t[S]={}),m&&X(t,m))t=t[a]||t;else{if((s=r[l])&&s[0]===w&&s[1]===c)return o[2]=s[2];if((r[l]=o)[2]=i(t,e,n))return!0}return!1}}function $t(r){return 1<r.length?function(t,e,n){for(var s=r.length;s--;)if(!r[s](t,e,n))return!1;return!0}:r[0]}function Ut(t,e,n,s,r){for(var o,i=[],a=0,m=t.length,l=null!=e;a<m;a++)!(o=t[a])||n&&!n(o,s,r)||(i.push(o),l&&e.push(a));return i}function Ft(t){for(var s,e,n,r=t.length,o=y.relative[t[0].type],i=o||y.relative[" "],a=o?1:0,m=Rt(function(t){return t===s},i,!0),l=Rt(function(t){return-1<G.call(s,t)},i,!0),u=[function(t,e,n){t=!o&&(n||e!=rt)||((s=e).nodeType?m:l)(t,e,n);return s=null,t}];a<r;a++)if(e=y.relative[t[a].type])u=[Rt($t(u),e)];else{if((e=y.filter[t[a].type].apply(null,t[a].matches))[S]){for(n=++a;n<r&&!y.relative[t[n].type];n++);return function t(T,d,g,P,f,e){return P&&!P[S]&&(P=t(P)),f&&!f[S]&&(f=t(f,e)),A(function(t,e,n,s){var r,o,i,a,m=[],l=[],u=e.length,c=t||function(t,e,n){for(var s=0,r=e.length;s<r;s++)I(t,e[s],n);return n}(d||"*",n.nodeType?[n]:n,[]),p=!T||!t&&d?c:Ut(c,m,T,n,s);if(g?g(p,a=f||(t?T:u||P)?[]:e,n,s):a=p,P)for(r=Ut(a,l),P(r,[],n,s),o=r.length;o--;)(i=r[o])&&(a[l[o]]=!(p[l[o]]=i));if(t){if(f||T){if(f){for(r=[],o=a.length;o--;)(i=a[o])&&r.push(p[o]=i);f(null,a=[],r,s)}for(o=a.length;o--;)(i=a[o])&&-1<(r=f?G.call(t,i):m[o])&&(t[r]=!(e[r]=i))}}else a=Ut(a===e?a.splice(u,a.length):a),f?f(null,e,a,s):C.apply(e,a)})}(1<a&&$t(u),1<a&&Mt(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(tt,"$1"),e,a<n&&Ft(t.slice(a,n)),n<r&&Ft(t=t.slice(n)),n<r&&Mt(t))}u.push(e)}return $t(u)}function jt(t,e){var n,P,f,h,G,s,r=[],o=[],i=pt[t+" "];if(!i){for(n=(e=e||Lt(t)).length;n--;)((i=Ft(e[n]))[S]?r:o).push(i);(i=pt(t,(h=0<(f=r).length,G=0<(P=o).length,s=function(t,e,n,s,r){var o,i,a,m=0,l="0",u=t&&[],c=[],p=rt,T=t||G&&y.find.TAG("*",r),d=w+=null==p?1:Math.random()||.1,g=T.length;for(r&&(rt=e==x||e||r);l!==g&&null!=(o=T[l]);l++){if(G&&o){for(i=0,e||o.ownerDocument==x||(Nt(o),n=!b);a=P[i++];)if(a(o,e||x,n)){C.call(s,o);break}r&&(w=d)}h&&((o=!a&&o)&&m--,t)&&u.push(o)}if(m+=l,h&&l!==m){for(i=0;a=f[i++];)a(u,c,e,n);if(t){if(0<m)for(;l--;)u[l]||c[l]||(c[l]=K.call(s));c=Ut(c)}C.apply(s,c),r&&!t&&0<c.length&&1<m+f.length&&E.uniqueSort(s)}return r&&(w=d,rt=p),u},h?A(s):s))).selector=t}return i}function Ht(t,e,n,s){var r,o,i,a,m,l="function"==typeof t&&t,u=!s&&Lt(t=l.selector||t);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(i=o[0]).type&&9===e.nodeType&&b&&y.relative[o[1].type]){if(!(e=(y.find.ID(i.matches[0].replace(c,T),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=_t.needsContext.test(t)?0:o.length;r--&&(i=o[r],!y.relative[a=i.type]);)if((m=y.find[a])&&(s=m(i.matches[0].replace(c,T),bt.test(o[0].type)&&Ot(e.parentNode)||e))){if(o.splice(r,1),t=s.length&&Mt(o))break;return C.apply(n,s),n}}return(l||jt(t,u))(s,e,!b,n,!e||bt.test(t)&&Ot(e.parentNode)||e),n}Dt.prototype=y.filters=y.pseudos,y.setFilters=new Dt,g.sortStable=S.split("").sort(dt).join("")===S,Nt(),g.sortDetached=It(function(t){return 1&t.compareDocumentPosition(x.createElement("fieldset"))}),E.find=I,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,I.compile=jt,I.select=Ht,I.setDocument=Nt,I.tokenize=Lt,I.escape=E.escapeSelector,I.getText=E.text,I.isXML=E.isXMLDoc,I.selectors=E.expr,I.support=E.support,I.uniqueSort=E.uniqueSort;function Bt(t,e,n){for(var s=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&E(t).is(n))break;s.push(t)}return s}function Wt(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}var qt=E.expr.match.needsContext,Vt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function zt(t,n,s){return h(n)?E.grep(t,function(t,e){return!!n.call(t,e,t)!==s}):n.nodeType?E.grep(t,function(t){return t===n!==s}):"string"!=typeof n?E.grep(t,function(t){return-1<G.call(n,t)!==s}):E.filter(n,t,s)}E.filter=function(t,e,n){var s=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===s.nodeType?E.find.matchesSelector(s,t)?[s]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,n,s=this.length,r=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<s;e++)if(E.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<s;e++)E.find(t,r[e],n);return 1<s?E.uniqueSort(n):n},filter:function(t){return this.pushStack(zt(this,t||[],!1))},not:function(t){return this.pushStack(zt(this,t||[],!0))},is:function(t){return!!zt(this,"string"==typeof t&&qt.test(t)?E(t):t||[],!1).length}});var Jt,Yt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Kt=((E.fn.init=function(t,e,n){if(t){if(n=n||Jt,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):h(t)?void 0!==n.ready?n.ready(t):t(E):E.makeArray(t,this);if(!(s="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:Yt.exec(t))||!s[1]&&e)return(!e||e.jquery?e||n:this.constructor(e)).find(t);if(s[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(s[1],e&&e.nodeType?e.ownerDocument||e:v,!0)),Vt.test(s[1])&&E.isPlainObject(e))for(var s in e)h(this[s])?this[s](e[s]):this.attr(s,e[s])}else(n=v.getElementById(s[2]))&&(this[0]=n,this.length=1)}return this}).prototype=E.fn,Jt=E(v),/^(?:parents|prev(?:Until|All))/),Qt={children:!0,contents:!0,next:!0,prev:!0};function Zt(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var n,s=0,r=this.length,o=[],i="string"!=typeof t&&E(t);if(!qt.test(t))for(;s<r;s++)for(n=this[s];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(i?-1<i.index(n):1===n.nodeType&&E.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?G.call(E(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return Bt(t,"parentNode")},parentsUntil:function(t,e,n){return Bt(t,"parentNode",n)},next:function(t){return Zt(t,"nextSibling")},prev:function(t){return Zt(t,"previousSibling")},nextAll:function(t){return Bt(t,"nextSibling")},prevAll:function(t){return Bt(t,"previousSibling")},nextUntil:function(t,e,n){return Bt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Bt(t,"previousSibling",n)},siblings:function(t){return Wt((t.parentNode||{}).firstChild,t)},children:function(t){return Wt(t.firstChild)},contents:function(t){return null!=t.contentDocument&&R(t.contentDocument)?t.contentDocument:(X(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(s,r){E.fn[s]=function(t,e){var n=E.map(this,r,t);return(e="Until"!==s.slice(-5)?t:e)&&"string"==typeof e&&(n=E.filter(e,n)),1<this.length&&(Qt[s]||E.uniqueSort(n),Kt.test(s))&&n.reverse(),this.pushStack(n)}});var k=/[^\x20\t\r\n\f]+/g;function te(t){return t}function ee(t){throw t}function ne(t,e,n,s){var r;try{t&&h(r=t.promise)?r.call(t).done(e).fail(n):t&&h(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(s))}catch(t){n.apply(void 0,[t])}}E.Callbacks=function(s){var t,n;s="string"==typeof s?(t=s,n={},E.each(t.match(k)||[],function(t,e){n[e]=!0}),n):E.extend({},s);function r(){for(a=a||s.once,i=o=!0;l.length;u=-1)for(e=l.shift();++u<m.length;)!1===m[u].apply(e[0],e[1])&&s.stopOnFalse&&(u=m.length,e=!1);s.memory||(e=!1),o=!1,a&&(m=e?[]:"")}var o,e,i,a,m=[],l=[],u=-1,c={add:function(){return m&&(e&&!o&&(u=m.length-1,l.push(e)),function n(t){E.each(t,function(t,e){h(e)?s.unique&&c.has(e)||m.push(e):e&&e.length&&"string"!==z(e)&&n(e)})}(arguments),e)&&!o&&r(),this},remove:function(){return E.each(arguments,function(t,e){for(var n;-1<(n=E.inArray(e,m,n));)m.splice(n,1),n<=u&&u--}),this},has:function(t){return t?-1<E.inArray(t,m):0<m.length},empty:function(){return m=m&&[],this},disable:function(){return a=l=[],m=e="",this},disabled:function(){return!m},lock:function(){return a=l=[],e||o||(m=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),o)||r(),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},E.extend({Deferred:function(t){var o=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var r=arguments;return E.Deferred(function(s){E.each(o,function(t,e){var n=h(r[e[4]])&&r[e[4]];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&h(t.promise)?t.promise().progress(s.notify).done(s.resolve).fail(s.reject):s[e[0]+"With"](this,n?[t]:arguments)})}),r=null}).promise()},then:function(e,n,s){var m=0;function l(r,o,i,a){return function(){function t(){var t,e;if(!(r<m)){if((t=i.apply(n,s))===o.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,h(e)?a?e.call(t,l(m,o,te,a),l(m,o,ee,a)):(m++,e.call(t,l(m,o,te,a),l(m,o,ee,a),l(m,o,te,o.notifyWith))):(i!==te&&(n=void 0,s=[t]),(a||o.resolveWith)(n,s))}}var n=this,s=arguments,e=a?t:function(){try{t()}catch(t){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(t,e.error),m<=r+1&&(i!==ee&&(n=void 0,s=[t]),o.rejectWith(n,s))}};r?e():(E.Deferred.getErrorHook?e.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(e.error=E.Deferred.getStackHook()),_.setTimeout(e))}}return E.Deferred(function(t){o[0][3].add(l(0,t,h(s)?s:te,t.notifyWith)),o[1][3].add(l(0,t,h(e)?e:te)),o[2][3].add(l(0,t,h(n)?n:ee))}).promise()},promise:function(t){return null!=t?E.extend(t,i):i}},a={};return E.each(o,function(t,e){var n=e[2],s=e[5];i[e[1]]=n.add,s&&n.add(function(){r=s},o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),n.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=n.fireWith}),i.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){r[e]=this,o[e]=1<arguments.length?a.call(arguments):t,--n||i.resolveWith(r,o)}}var n=arguments.length,s=n,r=Array(s),o=a.call(arguments),i=E.Deferred();if(n<=1&&(ne(t,i.done(e(s)).resolve,i.reject,!n),"pending"===i.state()||h(o[s]&&o[s].then)))return i.then();for(;s--;)ne(o[s],e(s),i.reject);return i.promise()}});var se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,re=(E.Deferred.exceptionHook=function(t,e){_.console&&_.console.warn&&t&&se.test(t.name)&&_.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){_.setTimeout(function(){throw t})},E.Deferred());function oe(){v.removeEventListener("DOMContentLoaded",oe),_.removeEventListener("load",oe),E.ready()}E.fn.ready=function(t){return re.then(t).catch(function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0)!==t&&0<--E.readyWait||re.resolveWith(v,[E])}}),E.ready.then=re.then,"complete"===v.readyState||"loading"!==v.readyState&&!v.documentElement.doScroll?_.setTimeout(E.ready):(v.addEventListener("DOMContentLoaded",oe),_.addEventListener("load",oe));function u(t,e,n,s,r,o,i){var a=0,m=t.length,l=null==n;if("object"===z(n))for(a in r=!0,n)u(t,e,a,n[a],!0,o,i);else if(void 0!==s&&(r=!0,h(s)||(i=!0),e=l?i?(e.call(t,s),null):(l=e,function(t,e,n){return l.call(E(t),n)}):e))for(;a<m;a++)e(t[a],n,i?s:s.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):m?e(t[0],n):o}var ie=/^-ms-/,ae=/-([a-z])/g;function me(t,e){return e.toUpperCase()}function O(t){return t.replace(ie,"ms-").replace(ae,me)}function le(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function ue(){this.expando=E.expando+ue.uid++}ue.uid=1,ue.prototype={cache:function(t){var e=t[this.expando];return e||(e={},le(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var s,r=this.cache(t);if("string"==typeof e)r[O(e)]=n;else for(s in e)r[O(s)]=e[s];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][O(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,s=t[this.expando];if(void 0!==s){if(void 0!==e){n=(e=Array.isArray(e)?e.map(O):(e=O(e))in s?[e]:e.match(k)||[]).length;for(;n--;)delete s[e[n]]}void 0!==e&&!E.isEmptyObject(s)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var f=new ue,m=new ue,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pe=/[A-Z]/g;function Te(t,e,n){var s,r;if(void 0===n&&1===t.nodeType)if(s="data-"+e.replace(pe,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(s))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:ce.test(r)?JSON.parse(r):r)}catch(t){}m.set(t,e,n)}else n=void 0;return n}E.extend({hasData:function(t){return m.hasData(t)||f.hasData(t)},data:function(t,e,n){return m.access(t,e,n)},removeData:function(t,e){m.remove(t,e)},_data:function(t,e,n){return f.access(t,e,n)},_removeData:function(t,e){f.remove(t,e)}}),E.fn.extend({data:function(n,t){var e,s,r,o=this[0],i=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){m.set(this,n)}):u(this,function(t){var e;if(o&&void 0===t)return void 0!==(e=m.get(o,n))||void 0!==(e=Te(o,n))?e:void 0;this.each(function(){m.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=m.get(o),1===o.nodeType)&&!f.get(o,"hasDataAttrs")){for(e=i.length;e--;)i[e]&&0===(s=i[e].name).indexOf("data-")&&(s=O(s.slice(5)),Te(o,s,r[s]));f.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){m.remove(this,t)})}}),E.extend({queue:function(t,e,n){var s;if(t)return s=f.get(t,e=(e||"fx")+"queue"),n&&(!s||Array.isArray(n)?s=f.access(t,e,E.makeArray(n)):s.push(n)),s||[]},dequeue:function(t,e){e=e||"fx";var n=E.queue(t,e),s=n.length,r=n.shift(),o=E._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),s--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){E.dequeue(t,e)},o)),!s&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return f.get(t,n)||f.access(t,n,{empty:E.Callbacks("once memory").add(function(){f.remove(t,[e+"queue",n])})})}}),E.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?E.queue(this[0],e):void 0===n?this:this.each(function(){var t=E.queue(this,e,n);E._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&E.dequeue(this,e)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--r||o.resolveWith(i,[i])}var s,r=1,o=E.Deferred(),i=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(s=f.get(i[a],t+"queueHooks"))&&s.empty&&(r++,s.empty.add(n));return n(),o.promise(e)}});function de(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&he(t)&&"none"===E.css(t,"display")}var t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ge=new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i"),Pe=["Top","Right","Bottom","Left"],fe=v.documentElement,he=function(t){return E.contains(t.ownerDocument,t)},Ge={composed:!0};fe.getRootNode&&(he=function(t){return E.contains(t.ownerDocument,t)||t.getRootNode(Ge)===t.ownerDocument});function Xe(t,e,n,s){var r,o,i=20,a=s?function(){return s.cur()}:function(){return E.css(t,e,"")},m=a(),l=n&&n[3]||(E.cssNumber[e]?"":"px"),u=t.nodeType&&(E.cssNumber[e]||"px"!==l&&+m)&&ge.exec(E.css(t,e));if(u&&u[3]!==l){for(l=l||u[3],u=+(m/=2)||1;i--;)E.style(t,e,u+l),(1-o)*(1-(o=a()/m||.5))<=0&&(i=0),u/=o;E.style(t,e,(u*=2)+l),n=n||[]}return n&&(u=+u||+m||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],s)&&(s.unit=l,s.start=u,s.end=r),r}var ye={};function _e(t,e){for(var n,s,r,o,i,a,m=[],l=0,u=t.length;l<u;l++)(s=t[l]).style&&(n=s.style.display,e?("none"===n&&(m[l]=f.get(s,"display")||null,m[l]||(s.style.display="")),""===s.style.display&&de(s)&&(m[l]=(a=o=r=void 0,o=s.ownerDocument,i=s.nodeName,(a=ye[i])||(r=o.body.appendChild(o.createElement(i)),a=E.css(r,"display"),r.parentNode.removeChild(r),ye[i]=a="none"===a?"block":a)))):"none"!==n&&(m[l]="none",f.set(s,"display",n)));for(l=0;l<u;l++)null!=m[l]&&(t[l].style.display=m[l]);return t}E.fn.extend({show:function(){return _e(this,!0)},hide:function(){return _e(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){de(this)?E(this).show():E(this).hide()})}});var ve=/^(?:checkbox|radio)$/i,Ee=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,xe=/^$|^module$|\/(?:java|ecma)script/i,o=v.createDocumentFragment().appendChild(v.createElement("div")),d=((i=v.createElement("input")).setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),o.appendChild(i),g.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,o.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!o.cloneNode(!0).lastChild.defaultValue,o.innerHTML="<option></option>",g.option=!!o.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function P(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&X(t,e)?E.merge([t],n):n}function be(t,e){for(var n=0,s=t.length;n<s;n++)f.set(t[n],"globalEval",!e||f.get(e[n],"globalEval"))}d.tbody=d.tfoot=d.colgroup=d.caption=d.thead,d.th=d.td,g.option||(d.optgroup=d.option=[1,"<select multiple='multiple'>","</select>"]);var Ce=/<|&#?\w+;/;function Se(t,e,n,s,r){for(var o,i,a,m,l,u=e.createDocumentFragment(),c=[],p=0,T=t.length;p<T;p++)if((o=t[p])||0===o)if("object"===z(o))E.merge(c,o.nodeType?[o]:o);else if(Ce.test(o)){for(i=i||u.appendChild(e.createElement("div")),a=(Ee.exec(o)||["",""])[1].toLowerCase(),a=d[a]||d._default,i.innerHTML=a[1]+E.htmlPrefilter(o)+a[2],l=a[0];l--;)i=i.lastChild;E.merge(c,i.childNodes),(i=u.firstChild).textContent=""}else c.push(e.createTextNode(o));for(u.textContent="",p=0;o=c[p++];)if(s&&-1<E.inArray(o,s))r&&r.push(o);else if(m=he(o),i=P(u.appendChild(o),"script"),m&&be(i),n)for(l=0;o=i[l++];)xe.test(o.type||"")&&n.push(o);return u}var we=/^([^.]*)(?:\.(.+)|)/;function Ie(){return!0}function Ae(){return!1}function ke(t,e,n,s,r,o){var i,a;if("object"==typeof e){for(a in"string"!=typeof n&&(s=s||n,n=void 0),e)ke(t,a,n,s,e[a],o);return t}if(null==s&&null==r?(r=n,s=n=void 0):null==r&&("string"==typeof n?(r=s,s=void 0):(r=s,s=n,n=void 0)),!1===r)r=Ae;else if(!r)return t;return 1===o&&(i=r,(r=function(t){return E().off(t),i.apply(this,arguments)}).guid=i.guid||(i.guid=E.guid++)),t.each(function(){E.event.add(this,e,r,s,n)})}function Oe(t,s,e){e?(f.set(t,s,!1),E.event.add(t,s,{namespace:!1,handler:function(t){var e,n=f.get(this,s);if(1&t.isTrigger&&this[s]){if(n)(E.event.special[s]||{}).delegateType&&t.stopPropagation();else if(n=a.call(arguments),f.set(this,s,n),this[s](),e=f.get(this,s),f.set(this,s,!1),n!==e)return t.stopImmediatePropagation(),t.preventDefault(),e}else n&&(f.set(this,s,E.event.trigger(n[0],n.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=Ie)}})):void 0===f.get(t,s)&&E.event.add(t,s,Ie)}E.event={global:{},add:function(e,t,n,s,r){var o,i,a,m,l,u,c,p,T,d=f.get(e);if(le(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&E.find.matchesSelector(fe,r),n.guid||(n.guid=E.guid++),a=(a=d.events)||(d.events=Object.create(null)),i=(i=d.handle)||(d.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),m=(t=(t||"").match(k)||[""]).length;m--;)c=T=(p=we.exec(t[m])||[])[1],p=(p[2]||"").split(".").sort(),c&&(l=E.event.special[c]||{},c=(r?l.delegateType:l.bindType)||c,l=E.event.special[c]||{},T=E.extend({type:c,origType:T,data:s,handler:n,guid:n.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:p.join(".")},o),(u=a[c])||((u=a[c]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,s,p,i))||e.addEventListener&&e.addEventListener(c,i),l.add&&(l.add.call(e,T),T.handler.guid||(T.handler.guid=n.guid)),r?u.splice(u.delegateCount++,0,T):u.push(T),E.event.global[c]=!0)},remove:function(t,e,n,s,r){var o,i,a,m,l,u,c,p,T,d,g,P=f.hasData(t)&&f.get(t);if(P&&(m=P.events)){for(l=(e=(e||"").match(k)||[""]).length;l--;)if(T=g=(a=we.exec(e[l])||[])[1],d=(a[2]||"").split(".").sort(),T){for(c=E.event.special[T]||{},p=m[T=(s?c.delegateType:c.bindType)||T]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=o=p.length;o--;)u=p[o],!r&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||s&&s!==u.selector&&("**"!==s||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,c.remove&&c.remove.call(t,u));i&&!p.length&&(c.teardown&&!1!==c.teardown.call(t,d,P.handle)||E.removeEvent(t,T,P.handle),delete m[T])}else for(T in m)E.event.remove(t,T+e[l],n,s,!0);E.isEmptyObject(m)&&f.remove(t,"handle events")}},dispatch:function(t){var e,n,s,r,o,i=new Array(arguments.length),a=E.event.fix(t),t=(f.get(this,"events")||Object.create(null))[a.type]||[],m=E.event.special[a.type]||{};for(i[0]=a,e=1;e<arguments.length;e++)i[e]=arguments[e];if(a.delegateTarget=this,!m.preDispatch||!1!==m.preDispatch.call(this,a)){for(o=E.event.handlers.call(this,a,t),e=0;(s=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=s.elem,n=0;(r=s.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==r.namespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(r=((E.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,i))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return m.postDispatch&&m.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,s,r,o,i,a=[],m=e.delegateCount,l=t.target;if(m&&l.nodeType&&!("click"===t.type&&1<=t.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(o=[],i={},n=0;n<m;n++)void 0===i[r=(s=e[n]).selector+" "]&&(i[r]=s.needsContext?-1<E(r,this).index(l):E.find(r,this,null,[l]).length),i[r]&&o.push(s);o.length&&a.push({elem:l,handlers:o})}return l=this,m<e.length&&a.push({elem:l,handlers:e.slice(m)}),a},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:h(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return ve.test(t.type)&&t.click&&X(t,"input")&&Oe(t,"click",!0),!1},trigger:function(t){t=this||t;return ve.test(t.type)&&t.click&&X(t,"input")&&Oe(t,"click"),!0},_default:function(t){t=t.target;return ve.test(t.type)&&t.click&&X(t,"input")&&f.get(t,"click")||X(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ie:Ae,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ae,isPropagationStopped:Ae,isImmediatePropagationStopped:Ae,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ie,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ie,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ie,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(s,r){function o(t){var e,n;v.documentMode?(e=f.get(this,"handle"),(n=E.event.fix(t)).type="focusin"===t.type?"focus":"blur",n.isSimulated=!0,e(t),n.target===n.currentTarget&&e(n)):E.event.simulate(r,t.target,E.event.fix(t))}E.event.special[s]={setup:function(){var t;if(Oe(this,s,!0),!v.documentMode)return!1;(t=f.get(this,r))||this.addEventListener(r,o),f.set(this,r,(t||0)+1)},trigger:function(){return Oe(this,s),!0},teardown:function(){var t;if(!v.documentMode)return!1;(t=f.get(this,r)-1)?f.set(this,r,t):(this.removeEventListener(r,o),f.remove(this,r))},_default:function(t){return f.get(t.target,s)},delegateType:r},E.event.special[r]={setup:function(){var t=this.ownerDocument||this.document||this,e=v.documentMode?this:t,n=f.get(e,r);n||(v.documentMode?this.addEventListener(r,o):t.addEventListener(s,o,!0)),f.set(e,r,(n||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=v.documentMode?this:t,n=f.get(e,r)-1;n?f.set(e,r,n):(v.documentMode?this.removeEventListener(r,o):t.removeEventListener(s,o,!0),f.remove(e,r))}}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){E.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,s=t.handleObj;return n&&(n===this||E.contains(this,n))||(t.type=s.origType,e=s.handler.apply(this,arguments),t.type=r),e}}}),E.fn.extend({on:function(t,e,n,s){return ke(this,t,e,n,s)},one:function(t,e,n,s){return ke(this,t,e,n,s,1)},off:function(t,e,n){var s,r;if(t&&t.preventDefault&&t.handleObj)s=t.handleObj,E(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler);else{if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ae),this.each(function(){E.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r])}return this}});var Ne=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Me(t,e){return X(t,"table")&&X(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Re(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function $e(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ue(t,e){var n,s,r,o;if(1===e.nodeType){if(f.hasData(t)&&(o=f.get(t).events))for(r in f.remove(e,"handle events"),o)for(n=0,s=o[r].length;n<s;n++)E.event.add(e,r,o[r][n]);m.hasData(t)&&(t=m.access(t),t=E.extend({},t),m.set(e,t))}}function Fe(n,s,r,o){s=$(s);var t,e,i,a,m,l,u=0,c=n.length,p=c-1,T=s[0],d=h(T);if(d||1<c&&"string"==typeof T&&!g.checkClone&&De.test(T))return n.each(function(t){var e=n.eq(t);d&&(s[0]=T.call(this,t,e.html())),Fe(e,s,r,o)});if(c&&(e=(t=Se(s,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(i=E.map(P(t,"script"),Re)).length;u<c;u++)m=t,u!==p&&(m=E.clone(m,!0,!0),a)&&E.merge(i,P(m,"script")),r.call(n[u],m,u);if(a)for(l=i[i.length-1].ownerDocument,E.map(i,$e),u=0;u<a;u++)m=i[u],xe.test(m.type||"")&&!f.access(m,"globalEval")&&E.contains(l,m)&&(m.src&&"module"!==(m.type||"").toLowerCase()?E._evalUrl&&!m.noModule&&E._evalUrl(m.src,{nonce:m.nonce||m.getAttribute("nonce")},l):V(m.textContent.replace(Le,""),m,l))}return n}function je(t,e,n){for(var s,r=e?E.filter(e,t):t,o=0;null!=(s=r[o]);o++)n||1!==s.nodeType||E.cleanData(P(s)),s.parentNode&&(n&&he(s)&&be(P(s,"script")),s.parentNode.removeChild(s));return t}E.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var s,r,o,i,a,m,l,u=t.cloneNode(!0),c=he(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(i=P(u),s=0,r=(o=P(t)).length;s<r;s++)a=o[s],"input"===(l=(m=i[s]).nodeName.toLowerCase())&&ve.test(a.type)?m.checked=a.checked:"input"!==l&&"textarea"!==l||(m.defaultValue=a.defaultValue);if(e)if(n)for(o=o||P(t),i=i||P(u),s=0,r=o.length;s<r;s++)Ue(o[s],i[s]);else Ue(t,u);return 0<(i=P(u,"script")).length&&be(i,!c&&P(t,"script")),u},cleanData:function(t){for(var e,n,s,r=E.event.special,o=0;void 0!==(n=t[o]);o++)if(le(n)){if(e=n[f.expando]){if(e.events)for(s in e.events)r[s]?E.event.remove(n,s):E.removeEvent(n,s,e.handle);n[f.expando]=void 0}n[m.expando]&&(n[m.expando]=void 0)}}}),E.fn.extend({detach:function(t){return je(this,t,!0)},remove:function(t){return je(this,t)},text:function(t){return u(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Fe(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Me(this,t).appendChild(t)})},prepend:function(){return Fe(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=Me(this,t)).insertBefore(t,e.firstChild)})},before:function(){return Fe(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Fe(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(P(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return u(this,function(t){var e=this[0]||{},n=0,s=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ne.test(t)&&!d[(Ee.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<s;n++)1===(e=this[n]||{}).nodeType&&(E.cleanData(P(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return Fe(this,arguments,function(t){var e=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(P(this)),e)&&e.replaceChild(t,this)},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,i){E.fn[t]=function(t){for(var e,n=[],s=E(t),r=s.length-1,o=0;o<=r;o++)e=o===r?this:this.clone(!0),E(s[o])[i](e),U.apply(n,e.get());return this.pushStack(n)}});function He(t){var e=t.ownerDocument.defaultView;return(e=e&&e.opener?e:_).getComputedStyle(t)}function Be(t,e,n){var s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];for(s in n=n.call(t),e)t.style[s]=r[s];return n}var We,qe,Ve,ze,Je,Ye,Ke,l,Qe=new RegExp("^("+t+")(?!px)[a-z%]+$","i"),Ze=/^--/,tn=new RegExp(Pe.join("|"),"i");function en(t,e,n){var s,r=Ze.test(e),o=t.style;return(n=n||He(t))&&(s=n.getPropertyValue(e)||n[e],""!==(s=r?s&&(s.replace(tt,"$1")||void 0):s)||he(t)||(s=E.style(t,e)),!g.pixelBoxStyles())&&Qe.test(s)&&tn.test(e)&&(r=o.width,t=o.minWidth,e=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=n.width,o.width=r,o.minWidth=t,o.maxWidth=e),void 0!==s?s+"":s}function nn(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function sn(){var t;l&&(Ke.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",fe.appendChild(Ke).appendChild(l),t=_.getComputedStyle(l),We="1%"!==t.top,Ye=12===rn(t.marginLeft),l.style.right="60%",ze=36===rn(t.right),qe=36===rn(t.width),l.style.position="absolute",Ve=12===rn(l.offsetWidth/3),fe.removeChild(Ke),l=null)}function rn(t){return Math.round(parseFloat(t))}Ke=v.createElement("div"),(l=v.createElement("div")).style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===l.style.backgroundClip,E.extend(g,{boxSizingReliable:function(){return sn(),qe},pixelBoxStyles:function(){return sn(),ze},pixelPosition:function(){return sn(),We},reliableMarginLeft:function(){return sn(),Ye},scrollboxSize:function(){return sn(),Ve},reliableTrDimensions:function(){var t,e,n;return null==Je&&(t=v.createElement("table"),e=v.createElement("tr"),n=v.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="box-sizing:content-box;border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",fe.appendChild(t).appendChild(e).appendChild(n),n=_.getComputedStyle(e),Je=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===e.offsetHeight,fe.removeChild(t)),Je}}));var on=["Webkit","Moz","ms"],an=v.createElement("div").style,mn={};function ln(t){return E.cssProps[t]||mn[t]||(t in an?t:mn[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=on.length;n--;)if((t=on[n]+e)in an)return t}(t)||t)}var un=/^(none|table(?!-c[ea]).+)/,cn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:"0",fontWeight:"400"};function Tn(t,e,n){var s=ge.exec(e);return s?Math.max(0,s[2]-(n||0))+(s[3]||"px"):e}function dn(t,e,n,s,r,o){var i="width"===e?1:0,a=0,m=0,l=0;if(n===(s?"border":"content"))return 0;for(;i<4;i+=2)"margin"===n&&(l+=E.css(t,n+Pe[i],!0,r)),s?("content"===n&&(m-=E.css(t,"padding"+Pe[i],!0,r)),"margin"!==n&&(m-=E.css(t,"border"+Pe[i]+"Width",!0,r))):(m+=E.css(t,"padding"+Pe[i],!0,r),"padding"!==n?m+=E.css(t,"border"+Pe[i]+"Width",!0,r):a+=E.css(t,"border"+Pe[i]+"Width",!0,r));return!s&&0<=o&&(m+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-m-a-.5))||0),m+l}function gn(t,e,n){var s=He(t),r=(!g.boxSizingReliable()||n)&&"border-box"===E.css(t,"boxSizing",!1,s),o=r,i=en(t,e,s),a="offset"+e[0].toUpperCase()+e.slice(1);if(Qe.test(i)){if(!n)return i;i="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&X(t,"tr")||"auto"===i||!parseFloat(i)&&"inline"===E.css(t,"display",!1,s))&&t.getClientRects().length&&(r="border-box"===E.css(t,"boxSizing",!1,s),o=a in t)&&(i=t[a]),(i=parseFloat(i)||0)+dn(t,e,n||(r?"border":"content"),o,s,i)+"px"}function N(t,e,n,s,r){return new N.prototype.init(t,e,n,s,r)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e)return""===(e=en(t,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,s){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,i,a=O(e),m=Ze.test(e),l=t.style;if(m||(e=ln(a)),i=E.cssHooks[e]||E.cssHooks[a],void 0===n)return i&&"get"in i&&void 0!==(r=i.get(t,!1,s))?r:l[e];"string"==(o=typeof n)&&(r=ge.exec(n))&&r[1]&&(n=Xe(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||m||(n+=r&&r[3]||(E.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),i&&"set"in i&&void 0===(n=i.set(t,n,s))||(m?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,s){var r,o=O(e);return Ze.test(e)||(e=ln(o)),"normal"===(r=void 0===(r=(o=E.cssHooks[e]||E.cssHooks[o])&&"get"in o?o.get(t,!0,n):r)?en(t,e,s):r)&&e in pn&&(r=pn[e]),(""===n||n)&&(o=parseFloat(r),!0===n||isFinite(o))?o||0:r}}),E.each(["height","width"],function(t,i){E.cssHooks[i]={get:function(t,e,n){if(e)return!un.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?gn(t,i,n):Be(t,cn,function(){return gn(t,i,n)})},set:function(t,e,n){var s=He(t),r=!g.scrollboxSize()&&"absolute"===s.position,o=(r||n)&&"border-box"===E.css(t,"boxSizing",!1,s),n=n?dn(t,i,n,o,s):0;return o&&r&&(n-=Math.ceil(t["offset"+i[0].toUpperCase()+i.slice(1)]-parseFloat(s[i])-dn(t,i,"border",!1,s)-.5)),n&&(o=ge.exec(e))&&"px"!==(o[3]||"px")&&(t.style[i]=e,e=E.css(t,i)),Tn(0,e,n)}}}),E.cssHooks.marginLeft=nn(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(en(t,"marginLeft"))||t.getBoundingClientRect().left-Be(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(r,o){E.cssHooks[r+o]={expand:function(t){for(var e=0,n={},s="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+Pe[e]+o]=s[e]||s[e-2]||s[0];return n}},"margin"!==r&&(E.cssHooks[r+o].set=Tn)}),E.fn.extend({css:function(t,e){return u(this,function(t,e,n){var s,r,o={},i=0;if(Array.isArray(e)){for(s=He(t),r=e.length;i<r;i++)o[e[i]]=E.css(t,e[i],!1,s);return o}return void 0!==n?E.style(t,e,n):E.css(t,e)},t,e,1<arguments.length)}}),((E.Tween=N).prototype={constructor:N,init:function(t,e,n,s,r,o){this.elem=t,this.prop=n,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=s,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return(t&&t.get?t:N.propHooks._default).get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:N.propHooks._default).set(this),this}}).init.prototype=N.prototype,(N.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=E.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||!E.cssHooks[t.prop]&&null==t.elem.style[ln(t.prop)]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=N.prototype.init,E.fx.step={};var Pn,fn,hn=/^(?:toggle|show|hide)$/,Gn=/queueHooks$/;function Xn(){fn&&(!1===v.hidden&&_.requestAnimationFrame?_.requestAnimationFrame(Xn):_.setTimeout(Xn,E.fx.interval),E.fx.tick())}function yn(){return _.setTimeout(function(){Pn=void 0}),Pn=Date.now()}function _n(t,e){var n,s=0,r={height:t};for(e=e?1:0;s<4;s+=2-e)r["margin"+(n=Pe[s])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function vn(t,e,n){for(var s,r=(D.tweeners[e]||[]).concat(D.tweeners["*"]),o=0,i=r.length;o<i;o++)if(s=r[o].call(n,e,t))return s}function D(r,t,e){var n,o,s,i,a,m,l,u=0,c=D.prefilters.length,p=E.Deferred().always(function(){delete T.elem}),T=function(){if(o)return!1;for(var t=Pn||yn(),t=Math.max(0,d.startTime+d.duration-t),e=1-(t/d.duration||0),n=0,s=d.tweens.length;n<s;n++)d.tweens[n].run(e);return p.notifyWith(r,[d,e,t]),e<1&&s?t:(s||p.notifyWith(r,[d,1,0]),p.resolveWith(r,[d]),!1)},d=p.promise({elem:r,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},e),originalProperties:t,originalOptions:e,startTime:Pn||yn(),duration:e.duration,tweens:[],createTween:function(t,e){e=E.Tween(r,d.opts,t,e,d.opts.specialEasing[t]||d.opts.easing);return d.tweens.push(e),e},stop:function(t){var e=0,n=t?d.tweens.length:0;if(!o){for(o=!0;e<n;e++)d.tweens[e].run(1);t?(p.notifyWith(r,[d,1,0]),p.resolveWith(r,[d,t])):p.rejectWith(r,[d,t])}return this}}),g=d.props,P=g,f=d.opts.specialEasing;for(s in P)if(a=f[i=O(s)],m=P[s],Array.isArray(m)&&(a=m[1],m=P[s]=m[0]),s!==i&&(P[i]=m,delete P[s]),(l=E.cssHooks[i])&&"expand"in l)for(s in m=l.expand(m),delete P[i],m)s in P||(P[s]=m[s],f[s]=a);else f[i]=a;for(;u<c;u++)if(n=D.prefilters[u].call(d,r,g,d.opts))return h(n.stop)&&(E._queueHooks(d.elem,d.opts.queue).stop=n.stop.bind(n)),n;return E.map(g,vn,d),h(d.opts.start)&&d.opts.start.call(r,d),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always),E.fx.timer(E.extend(T,{elem:r,anim:d,queue:d.opts.queue})),d}E.Animation=E.extend(D,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return Xe(n.elem,t,ge.exec(e),n),n}]},tweener:function(t,e){for(var n,s=0,r=(t=h(t)?(e=t,["*"]):t.match(k)).length;s<r;s++)n=t[s],D.tweeners[n]=D.tweeners[n]||[],D.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var s,r,o,i,a,m,l,u="width"in e||"height"in e,c=this,p={},T=t.style,d=t.nodeType&&de(t),g=f.get(t,"fxshow");for(s in n.queue||(null==(i=E._queueHooks(t,"fx")).unqueued&&(i.unqueued=0,a=i.empty.fire,i.empty.fire=function(){i.unqueued||a()}),i.unqueued++,c.always(function(){c.always(function(){i.unqueued--,E.queue(t,"fx").length||i.empty.fire()})})),e)if(r=e[s],hn.test(r)){if(delete e[s],o=o||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!g||void 0===g[s])continue;d=!0}p[s]=g&&g[s]||E.style(t,s)}if((m=!E.isEmptyObject(e))||!E.isEmptyObject(p))for(s in u&&1===t.nodeType&&(n.overflow=[T.overflow,T.overflowX,T.overflowY],null==(l=g&&g.display)&&(l=f.get(t,"display")),"none"===(u=E.css(t,"display"))&&(l?u=l:(_e([t],!0),l=t.style.display||l,u=E.css(t,"display"),_e([t]))),"inline"===u||"inline-block"===u&&null!=l)&&"none"===E.css(t,"float")&&(m||(c.done(function(){T.display=l}),null==l&&(u=T.display,l="none"===u?"":u)),T.display="inline-block"),n.overflow&&(T.overflow="hidden",c.always(function(){T.overflow=n.overflow[0],T.overflowX=n.overflow[1],T.overflowY=n.overflow[2]})),m=!1,p)m||(g?"hidden"in g&&(d=g.hidden):g=f.access(t,"fxshow",{display:l}),o&&(g.hidden=!d),d&&_e([t],!0),c.done(function(){for(s in d||_e([t]),f.remove(t,"fxshow"),p)E.style(t,s,p[s])})),m=vn(d?g[s]:0,s,c),s in g||(g[s]=m.start,d&&(m.end=m.start,m.start=0))}],prefilter:function(t,e){e?D.prefilters.unshift(t):D.prefilters.push(t)}}),E.speed=function(t,e,n){var s=t&&"object"==typeof t?E.extend({},t):{complete:n||!n&&e||h(t)&&t,duration:t,easing:n&&e||e&&!h(e)&&e};return E.fx.off?s.duration=0:"number"!=typeof s.duration&&(s.duration in E.fx.speeds?s.duration=E.fx.speeds[s.duration]:s.duration=E.fx.speeds._default),null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){h(s.old)&&s.old.call(this),s.queue&&E.dequeue(this,s.queue)},s},E.fn.extend({fadeTo:function(t,e,n,s){return this.filter(de).css("opacity",0).show().end().animate({opacity:e},t,n,s)},animate:function(e,t,n,s){function r(){var t=D(this,E.extend({},e),i);(o||f.get(this,"finish"))&&t.stop(!0)}var o=E.isEmptyObject(e),i=E.speed(t,n,s);return r.finish=r,o||!1===i.queue?this.each(r):this.queue(i.queue,r)},stop:function(r,t,o){function i(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof r&&(o=t,t=r,r=void 0),t&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=E.timers,s=f.get(this);if(e)s[e]&&s[e].stop&&i(s[e]);else for(e in s)s[e]&&s[e].stop&&Gn.test(e)&&i(s[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||E.dequeue(this,r)})},finish:function(i){return!1!==i&&(i=i||"fx"),this.each(function(){var t,e=f.get(this),n=e[i+"queue"],s=e[i+"queueHooks"],r=E.timers,o=n?n.length:0;for(e.finish=!0,E.queue(this,i,[]),s&&s.stop&&s.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===i&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),E.each(["toggle","show","hide"],function(t,s){var r=E.fn[s];E.fn[s]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(_n(s,!0),t,e,n)}}),E.each({slideDown:_n("show"),slideUp:_n("hide"),slideToggle:_n("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,s){E.fn[t]=function(t,e,n){return this.animate(s,t,e,n)}}),E.timers=[],E.fx.tick=function(){var t,e=0,n=E.timers;for(Pn=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||E.fx.stop(),Pn=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){fn||(fn=!0,Xn())},E.fx.stop=function(){fn=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(s,t){return s=E.fx&&E.fx.speeds[s]||s,this.queue(t=t||"fx",function(t,e){var n=_.setTimeout(t,s);e.stop=function(){_.clearTimeout(n)}})},i=v.createElement("input"),o=v.createElement("select").appendChild(v.createElement("option")),i.type="checkbox",g.checkOn=""!==i.value,g.optSelected=o.selected,(i=v.createElement("input")).value="t",i.type="radio",g.radioValue="t"===i.value;var En,xn=E.expr.attrHandle,bn=(E.fn.extend({attr:function(t,e){return u(this,E.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,n){var s,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?E.prop(t,e,n):(1===o&&E.isXMLDoc(t)||(r=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?En:void 0)),void 0!==n?null===n?void E.removeAttr(t,e):r&&"set"in r&&void 0!==(s=r.set(t,n,e))?s:(t.setAttribute(e,n+""),n):!(r&&"get"in r&&null!==(s=r.get(t,e)))&&null==(s=E.find.attr(t,e))?void 0:s)},attrHooks:{type:{set:function(t,e){var n;if(!g.radioValue&&"radio"===e&&X(t,"input"))return n=t.value,t.setAttribute("type",e),n&&(t.value=n),e}}},removeAttr:function(t,e){var n,s=0,r=e&&e.match(k);if(r&&1===t.nodeType)for(;n=r[s++];)t.removeAttribute(n)}}),En={set:function(t,e,n){return!1===e?E.removeAttr(t,n):t.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var i=xn[e]||E.find.attr;xn[e]=function(t,e,n){var s,r,o=e.toLowerCase();return n||(r=xn[o],xn[o]=s,s=null!=i(t,e,n)?o:null,xn[o]=r),s}}),/^(?:input|select|textarea|button)$/i),Cn=/^(?:a|area)$/i;function Sn(t){return(t.match(k)||[]).join(" ")}function wn(t){return t.getAttribute&&t.getAttribute("class")||""}function In(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(k)||[]}E.fn.extend({prop:function(t,e){return u(this,E.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,n){var s,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,r=E.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(s=r.set(t,n,e))?s:t[e]=n:r&&"get"in r&&null!==(s=r.get(t,e))?s:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):bn.test(t.nodeName)||Cn.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(E.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode)&&t.parentNode.selectedIndex}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(e){var t,n,s,r,o,i;return h(e)?this.each(function(t){E(this).addClass(e.call(this,t,wn(this)))}):(t=In(e)).length?this.each(function(){if(s=wn(this),n=1===this.nodeType&&" "+Sn(s)+" "){for(o=0;o<t.length;o++)r=t[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");i=Sn(n),s!==i&&this.setAttribute("class",i)}}):this},removeClass:function(e){var t,n,s,r,o,i;return h(e)?this.each(function(t){E(this).removeClass(e.call(this,t,wn(this)))}):arguments.length?(t=In(e)).length?this.each(function(){if(s=wn(this),n=1===this.nodeType&&" "+Sn(s)+" "){for(o=0;o<t.length;o++)for(r=t[o];-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");i=Sn(n),s!==i&&this.setAttribute("class",i)}}):this:this.attr("class","")},toggleClass:function(e,n){var t,s,r,o,i=typeof e,a="string"==i||Array.isArray(e);return h(e)?this.each(function(t){E(this).toggleClass(e.call(this,t,wn(this),n),n)}):"boolean"==typeof n&&a?n?this.addClass(e):this.removeClass(e):(t=In(e),this.each(function(){if(a)for(o=E(this),r=0;r<t.length;r++)s=t[r],o.hasClass(s)?o.removeClass(s):o.addClass(s);else void 0!==e&&"boolean"!=i||((s=wn(this))&&f.set(this,"__className__",s),this.setAttribute&&this.setAttribute("class",!s&&!1!==e&&f.get(this,"__className__")||""))}))},hasClass:function(t){for(var e,n=0,s=" "+t+" ";e=this[n++];)if(1===e.nodeType&&-1<(" "+Sn(wn(e))+" ").indexOf(s))return!0;return!1}});function An(t){t.stopPropagation()}var kn=/\r/g,On=(E.fn.extend({val:function(e){var n,t,s,r=this[0];return arguments.length?(s=h(e),this.each(function(t){1===this.nodeType&&(null==(t=s?e.call(this,t,E(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=E.map(t,function(t){return null==t?"":t+""})),(n=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):r?(n=E.valHooks[r.type]||E.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(r,"value"))?t:"string"==typeof(t=r.value)?t.replace(kn,""):null==t?"":t:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:Sn(E.text(t))}},select:{get:function(t){for(var e,n=t.options,s=t.selectedIndex,r="select-one"===t.type,o=r?null:[],i=r?s+1:n.length,a=s<0?i:r?s:0;a<i;a++)if(((e=n[a]).selected||a===s)&&!e.disabled&&(!e.parentNode.disabled||!X(e.parentNode,"optgroup"))){if(e=E(e).val(),r)return e;o.push(e)}return o},set:function(t,e){for(var n,s,r=t.options,o=E.makeArray(e),i=r.length;i--;)((s=r[i]).selected=-1<E.inArray(E.valHooks.option.get(s),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<E.inArray(E(t).val(),e)}},g.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),_.location),Nn={guid:Date.now()},Dn=/\?/,Ln=(E.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new _.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||E.error("Invalid XML: "+(n?E.map(n.childNodes,function(t){return t.textContent}).join("\n"):t)),e},/^(?:focusinfocus|focusoutblur)$/),Mn=(E.extend(E.event,{trigger:function(t,e,n,s){var r,o,i,a,m,l,u,c=[n||v],p=H.call(t,"type")?t.type:t,T=H.call(t,"namespace")?t.namespace.split("."):[],d=u=o=n=n||v;if(3!==n.nodeType&&8!==n.nodeType&&!Ln.test(p+E.event.triggered)&&(-1<p.indexOf(".")&&(p=(T=p.split(".")).shift(),T.sort()),a=p.indexOf(":")<0&&"on"+p,(t=t[E.expando]?t:new E.Event(p,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=T.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+T.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:E.makeArray(e,[t]),l=E.event.special[p]||{},s||!l.trigger||!1!==l.trigger.apply(n,e))){if(!s&&!l.noBubble&&!M(n)){for(i=l.delegateType||p,Ln.test(i+p)||(d=d.parentNode);d;d=d.parentNode)c.push(d),o=d;o===(n.ownerDocument||v)&&c.push(o.defaultView||o.parentWindow||_)}for(r=0;(d=c[r++])&&!t.isPropagationStopped();)u=d,t.type=1<r?i:l.bindType||p,(m=(f.get(d,"events")||Object.create(null))[t.type]&&f.get(d,"handle"))&&m.apply(d,e),(m=a&&d[a])&&m.apply&&le(d)&&(t.result=m.apply(d,e),!1===t.result)&&t.preventDefault();return t.type=p,s||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(c.pop(),e)||!le(n)||a&&h(n[p])&&!M(n)&&((o=n[a])&&(n[a]=null),E.event.triggered=p,t.isPropagationStopped()&&u.addEventListener(p,An),n[p](),t.isPropagationStopped()&&u.removeEventListener(p,An),E.event.triggered=void 0,o)&&(n[a]=o),t.result}},simulate:function(t,e,n){n=E.extend(new E.Event,n,{type:t,isSimulated:!0});E.event.trigger(n,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return E.event.trigger(t,e,n,!0)}}),/\[\]$/),Rn=/\r?\n/g,$n=/^(?:submit|button|image|reset|file)$/i,Un=/^(?:input|select|textarea|keygen)/i;E.param=function(t,e){function n(t,e){e=h(e)?e():e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var s,r=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){n(this.name,this.value)});else for(s in t)!function n(s,t,r,o){if(Array.isArray(t))E.each(t,function(t,e){r||Mn.test(s)?o(s,e):n(s+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,o)});else if(r||"object"!==z(t))o(s,t);else for(var e in t)n(s+"["+e+"]",t[e],r,o)}(s,t[s],e,n);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&Un.test(this.nodeName)&&!$n.test(t)&&(this.checked||!ve.test(t))}).map(function(t,e){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(t){return{name:e.name,value:t.replace(Rn,"\r\n")}}):{name:e.name,value:n.replace(Rn,"\r\n")}}).get()}});var Fn=/%20/g,jn=/#.*$/,Hn=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wn=/^(?:GET|HEAD)$/,qn=/^\/\//,Vn={},zn={},Jn="*/".concat("*"),Yn=v.createElement("a");function Kn(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,s=0,r=t.toLowerCase().match(k)||[];if(h(e))for(;n=r[s++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Qn(e,s,r,o){var i={},a=e===zn;function m(t){var n;return i[t]=!0,E.each(e[t]||[],function(t,e){e=e(s,r,o);return"string"!=typeof e||a||i[e]?a?!(n=e):void 0:(s.dataTypes.unshift(e),m(e),!1)}),n}return m(s.dataTypes[0])||!i["*"]&&m("*")}function Zn(t,e){var n,s,r=E.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:s=s||{})[n]=e[n]);return s&&E.extend(!0,t,s),t}Yn.href=On.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:On.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(On.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Zn(Zn(t,E.ajaxSettings),e):Zn(E.ajaxSettings,t)},ajaxPrefilter:Kn(Vn),ajaxTransport:Kn(zn),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var m,l,u,n,c,p,T,s,r,d=E.ajaxSetup({},e=e||{}),g=d.context||d,P=d.context&&(g.nodeType||g.jquery)?E(g):E.event,f=E.Deferred(),h=E.Callbacks("once memory"),G=d.statusCode||{},o={},i={},a="canceled",X={readyState:0,getResponseHeader:function(t){var e;if(p){if(!n)for(n={};e=Bn.exec(u);)n[e[1].toLowerCase()+" "]=(n[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=n[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return p?u:null},setRequestHeader:function(t,e){return null==p&&(t=i[t.toLowerCase()]=i[t.toLowerCase()]||t,o[t]=e),this},overrideMimeType:function(t){return null==p&&(d.mimeType=t),this},statusCode:function(t){if(t)if(p)X.always(t[X.status]);else for(var e in t)G[e]=[G[e],t[e]];return this},abort:function(t){t=t||a;return m&&m.abort(t),y(0,t),this}};if(f.promise(X),d.url=((t||d.url||On.href)+"").replace(qn,On.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(k)||[""],null==d.crossDomain){r=v.createElement("a");try{r.href=d.url,r.href=r.href,d.crossDomain=Yn.protocol+"//"+Yn.host!=r.protocol+"//"+r.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),Qn(Vn,d,e,X),!p){for(s in(T=E.event&&d.global)&&0==E.active++&&E.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Wn.test(d.type),l=d.url.replace(jn,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Fn,"+")):(r=d.url.slice(l.length),d.data&&(d.processData||"string"==typeof d.data)&&(l+=(Dn.test(l)?"&":"?")+d.data,delete d.data),!1===d.cache&&(l=l.replace(Hn,"$1"),r=(Dn.test(l)?"&":"?")+"_="+Nn.guid+++r),d.url=l+r),d.ifModified&&(E.lastModified[l]&&X.setRequestHeader("If-Modified-Since",E.lastModified[l]),E.etag[l])&&X.setRequestHeader("If-None-Match",E.etag[l]),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&X.setRequestHeader("Content-Type",d.contentType),X.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Jn+"; q=0.01":""):d.accepts["*"]),d.headers)X.setRequestHeader(s,d.headers[s]);if(d.beforeSend&&(!1===d.beforeSend.call(g,X,d)||p))return X.abort();if(a="abort",h.add(d.complete),X.done(d.success),X.fail(d.error),m=Qn(zn,d,e,X)){if(X.readyState=1,T&&P.trigger("ajaxSend",[X,d]),p)return X;d.async&&0<d.timeout&&(c=_.setTimeout(function(){X.abort("timeout")},d.timeout));try{p=!1,m.send(o,y)}catch(t){if(p)throw t;y(-1,t)}}else y(-1,"No Transport")}return X;function y(t,e,n,s){var r,o,i,a=e;p||(p=!0,c&&_.clearTimeout(c),m=void 0,u=s||"",X.readyState=0<t?4:0,s=200<=t&&t<300||304===t,n&&(i=function(t,e,n){for(var s,r,o,i,a=t.contents,m=t.dataTypes;"*"===m[0];)m.shift(),void 0===s&&(s=t.mimeType||e.getResponseHeader("Content-Type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){m.unshift(r);break}if(m[0]in n)o=m[0];else{for(r in n){if(!m[0]||t.converters[r+" "+m[0]]){o=r;break}i=i||r}o=o||i}if(o)return o!==m[0]&&m.unshift(o),n[o]}(d,X,n)),!s&&-1<E.inArray("script",d.dataTypes)&&E.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),i=function(t,e,n,s){var r,o,i,a,m,l={},u=t.dataTypes.slice();if(u[1])for(i in t.converters)l[i.toLowerCase()]=t.converters[i];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!m&&s&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),m=o,o=u.shift())if("*"===o)o=m;else if("*"!==m&&m!==o){if(!(i=l[m+" "+o]||l["* "+o]))for(r in l)if((a=r.split(" "))[1]===o&&(i=l[m+" "+a[0]]||l["* "+a[0]])){!0===i?i=l[r]:!0!==l[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==i)if(i&&t.throws)e=i(e);else try{e=i(e)}catch(t){return{state:"parsererror",error:i?t:"No conversion from "+m+" to "+o}}}return{state:"success",data:e}}(d,i,X,s),s?(d.ifModified&&((n=X.getResponseHeader("Last-Modified"))&&(E.lastModified[l]=n),n=X.getResponseHeader("etag"))&&(E.etag[l]=n),204===t||"HEAD"===d.type?a="nocontent":304===t?a="notmodified":(a=i.state,r=i.data,s=!(o=i.error))):(o=a,!t&&a||(a="error",t<0&&(t=0))),X.status=t,X.statusText=(e||a)+"",s?f.resolveWith(g,[r,a,X]):f.rejectWith(g,[X,a,o]),X.statusCode(G),G=void 0,T&&P.trigger(s?"ajaxSuccess":"ajaxError",[X,d,s?r:o]),h.fireWith(g,[X,a]),T&&(P.trigger("ajaxComplete",[X,d]),--E.active||E.event.trigger("ajaxStop")))}},getJSON:function(t,e,n){return E.get(t,e,n,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],function(t,r){E[r]=function(t,e,n,s){return h(e)&&(s=s||n,n=e,e=void 0),E.ajax(E.extend({url:t,type:r,dataType:s,data:e,success:n},E.isPlainObject(t)&&t))}}),E.ajaxPrefilter(function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),E._evalUrl=function(t,e,n){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){E.globalEval(t,e,n)}})},E.fn.extend({wrapAll:function(t){return this[0]&&(h(t)&&(t=t.call(this[0])),t=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return h(n)?this.each(function(t){E(this).wrapInner(n.call(this,t))}):this.each(function(){var t=E(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=h(e);return this.each(function(t){E(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new _.XMLHttpRequest}catch(t){}};var ts={0:200,1223:204},es=E.ajaxSettings.xhr();g.cors=!!es&&"withCredentials"in es,g.ajax=es=!!es,E.ajaxTransport(function(r){var o,i;if(g.cors||es&&!r.crossDomain)return{send:function(t,e){var n,s=r.xhr();if(s.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)s[n]=r.xhrFields[n];for(n in r.mimeType&&s.overrideMimeType&&s.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)s.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?e(0,"error"):e(s.status,s.statusText):e(ts[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=o(),i=s.onerror=s.ontimeout=o("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&_.setTimeout(function(){o&&i()})},o=o("abort");try{s.send(r.hasContent&&r.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(n){var s,r;if(n.crossDomain||n.scriptAttrs)return{send:function(t,e){s=E("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){s.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),v.head.appendChild(s[0])},abort:function(){r&&r()}}});var ns=[],ss=/(=)\?(?=&|$)|\?\?/,rs=(E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ns.pop()||E.expando+"_"+Nn.guid++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,n){var s,r,o,i=!1!==t.jsonp&&(ss.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ss.test(t.data)&&"data");if(i||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=h(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,i?t[i]=t[i].replace(ss,"$1"+s):!1!==t.jsonp&&(t.url+=(Dn.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return o||E.error(s+" was not called"),o[0]},t.dataTypes[0]="json",r=_[s],_[s]=function(){o=arguments},n.always(function(){void 0===r?E(_).removeProp(s):_[s]=r,t[s]&&(t.jsonpCallback=e.jsonpCallback,ns.push(s)),o&&h(r)&&r(o[0]),o=r=void 0}),"script"}),g.createHTMLDocument=((t=v.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),E.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((s=(e=v.implementation.createHTMLDocument("")).createElement("base")).href=v.location.href,e.head.appendChild(s)):e=v),s=!n&&[],(n=Vt.exec(t))?[e.createElement(n[1])]:(n=Se([t],e,s),s&&s.length&&E(s).remove(),E.merge([],n.childNodes)));var s},E.fn.load=function(t,e,n){var s,r,o,i=this,a=t.indexOf(" ");return-1<a&&(s=Sn(t.slice(a)),t=t.slice(0,a)),h(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<i.length&&E.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,i.html(s?E("<div>").append(E.parseHTML(t)).find(s):t)}).always(n&&function(t,e){i.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length},E.offset={setOffset:function(t,e,n){var s,r,o,i,a=E.css(t,"position"),m=E(t),l={};"static"===a&&(t.style.position="relative"),o=m.offset(),s=E.css(t,"top"),i=E.css(t,"left"),a=("absolute"===a||"fixed"===a)&&-1<(s+i).indexOf("auto")?(r=(a=m.position()).top,a.left):(r=parseFloat(s)||0,parseFloat(i)||0),null!=(e=h(e)?e.call(t,n,E.extend({},o)):e).top&&(l.top=e.top-o.top+r),null!=e.left&&(l.left=e.left-o.left+a),"using"in e?e.using.call(t,l):m.css(l)}},E.fn.extend({offset:function(e){var t,n;return arguments.length?void 0===e?this:this.each(function(t){E.offset.setOffset(this,e,t)}):(n=this[0])?n.getClientRects().length?(t=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,s=this[0],r={top:0,left:0};if("fixed"===E.css(s,"position"))e=s.getBoundingClientRect();else{for(e=this.offset(),n=s.ownerDocument,t=s.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==s&&1===t.nodeType&&((r=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),r.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-E.css(s,"marginTop",!0),left:e.left-r.left-E.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||fe})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o="pageYOffset"===r;E.fn[e]=function(t){return u(this,function(t,e,n){var s;if(M(t)?s=t:9===t.nodeType&&(s=t.defaultView),void 0===n)return s?s[r]:t[e];s?s.scrollTo(o?s.pageXOffset:n,o?n:s.pageYOffset):t[e]=n},e,t,arguments.length)}}),E.each(["top","left"],function(t,n){E.cssHooks[n]=nn(g.pixelPosition,function(t,e){if(e)return e=en(t,n),Qe.test(e)?E(t).position()[n]+"px":e})}),E.each({Height:"height",Width:"width"},function(i,a){E.each({padding:"inner"+i,content:a,"":"outer"+i},function(s,o){E.fn[o]=function(t,e){var n=arguments.length&&(s||"boolean"!=typeof t),r=s||(!0===t||!0===e?"margin":"border");return u(this,function(t,e,n){var s;return M(t)?0===o.indexOf("outer")?t["inner"+i]:t.document.documentElement["client"+i]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+i],s["scroll"+i],t.body["offset"+i],s["offset"+i],s["client"+i])):void 0===n?E.css(t,e,r):E.style(t,e,n,r)},a,n?t:void 0,n)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,s){return this.on(e,t,n,s)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){E.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),os=(E.proxy=function(t,e){var n,s;if("string"==typeof e&&(s=t[e],e=t,t=s),h(t))return n=a.call(arguments,2),(s=function(){return t.apply(e||this,n.concat(a.call(arguments)))}).guid=t.guid=t.guid||E.guid++,s},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=X,E.isFunction=h,E.isWindow=M,E.camelCase=O,E.type=z,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},E.trim=function(t){return null==t?"":(t+"").replace(rs,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E}),_.jQuery),is=_.$;return E.noConflict=function(t){return _.$===E&&(_.$=is),t&&_.jQuery===E&&(_.jQuery=os),E},void 0===L&&(_.jQuery=_.$=E),E});var hostJquery,host$,PROMISES_POLYFILL,senderTabId,GmPXtTest,mg$=$.noConflict(!0),GuideMeXt=(hostJquery&&(jQuery=hostJquery,$=host$),(GmPXtTest=void 0===GmPXtTest?{}:GmPXtTest).browserApp=!1,GmPXtTest.isFirefox="undefined"!=typeof InstallTrigger,GmPXtTest.isChrome=!!window.chrome,GmPXtTest.isFirefox&&"undefined"!=typeof browser?GmPXtTest.browserApp="firefox":GmPXtTest.isChrome&&chrome.storage?GmPXtTest.browserApp="chrome":-1!=(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))?GmPXtTest.browserApp="Opera":-1!=navigator.userAgent.indexOf("Safari")&&(GmPXtTest.browserApp="Safari"),GmPXtTest.isIE=!!document.documentMode,GmPXtTest.isIE&&(PROMISES_POLYFILL="",window.Promise||"undefined"==typeof Promise||(window.Promise=Promise),GmPXtTest.browserApp="ie"),void 0===(GmPXtTest=void 0===GmPXtTest?{}:GmPXtTest).requestHandler&&(GmPXtTest.requestHandler={}),GmPXtTest);function getTailFromBranchStep(t,e,n,s){function r(t,e){if(!t)return!1;for(var n=0;n<e.steps.length;n++)if(parseInt(e.steps[n].step_id)===parseInt(t))return e.steps[n]}for(var o,i=0,a=null,m=GmPXtTest.playerI,l=null,l=m?r(m.currentStepId,m.tour):r(n,s),i=0;i<t.length;i++)if(GmPXtTest.isStepInlineBranch(l)){if(e){if(1===i&&(o=t[i]).tail){a=o.tail;break}}else if((o=t[i]).tail){a=o.tail;break}}else if((o=t[i]).tail){a=o.tail;break}return a}function showDomainNotConfiguredPopup(t){GmPXtTest.cleanPlayer(),GmPXtTest.auto.destroyAutomation();var e={description:GmPXtTest.label.missingDomainAppConfig,button1:GmPXtTest.label.ok,closeTour:!0};GmPXtTest.alertV2(e).show()}function tinyMceEditLink(o){function i(t,e){t.value&&GmPXtTest.getURLMediaType(t.value)?e[3].style.display="none":e[3].style.display="block"}o.windowManager.oldOpen=o.windowManager.open,o.windowManager.open=function(t,e){var e=this.oldOpen.apply(this,[t,e]),n=mg$(".tox-form__group"),s=mg$(".tox-button"),r=n[0].getElementsByTagName("input")[0];return"Insert/Edit Image"===t.title&&(s[s.length-1].onclick=function(t){var e;r.value&&GmPXtTest.isUrlValid(r.value)&&((e=new Image).onerror=function(t){GmPXtTest.toastMsg("Invalid Image URL").show();for(var e=0,n=o.selection.getSel().baseNode.children;e<n.length;e++)"IMG"===n[e].tagName&&n[e].src===r.value&&o.selection.getSel().baseNode.children[e].remove();o.execCommand("mceInsertContent",!1,"")},e.src=r.value)}),"Insert/Edit Link"===t.title&&(r.onkeyup=function(){i(r,n)},r.onchange=function(){i(r,n)},r.value)&&i(r,n),e}}function stopEventPropagation(t){t.preventDefault(),GmPXtTest.stopPropagation(t)}function markBeaconDisplayFrequency(t){var e;t&&(e={},(e=GmPXtTest.isDefined(GmPXtTest.user.settings.display_frequency_beacons)?GmPXtTest.createDeepCopy(GmPXtTest.user.settings.display_frequency_beacons):e)[t.tour_id]&&parseInt(t.version)===parseInt(e[t.tour_id].version)?e[t.tour_id].playedCount++:(e[t.tour_id]={},e[t.tour_id].version=parseInt(t.version),e[t.tour_id].playedCount=1),GmPXtTest.user.settings.display_frequency_beacons=e,GmPXtTest.updateUserProfileSettings(GmPXtTest.user.settings))}GmPXtTest.stopVideoUpload=!1,GmPXtTest.isPageReloaded=!1,GmPXtTest.ELEMENT_FOUND="elementFound",GmPXtTest.ELEMENT_NOT_FOUND="elementNotFound",GmPXtTest.ELEMENT_PRECISION_MEDIUM="Medium",GmPXtTest.DOM_CRITERIA_DEFAULT="default",GmPXtTest.DOM_CRITERIA_TEXT="identify_by_text",GmPXtTest.DOM_CRITERIA_JQUERY="jquery_selector",GmPXtTest.DOM_CRITERIA_CUSTOM="custom_selector",GmPXtTest.ANALYTICS_EVENT_CHAIN_ID="",GmPXtTest.INSIGHTS_EVENT_CHAIN_ID="",GmPXtTest.STEP_TEXT_SLIDE_TYPE="textSlide",GmPXtTest.isSFDCApp=!1,GmPXtTest.ONBOARDING_SINGLE_SCREEN="single_screen",GmPXtTest.ONBOARDING_SIDE_BY="side_by_side",GmPXtTest.tooltipValidRulesArr=["value","message","alignment","selectionMode","customPosition"],GmPXtTest.validImageFiles=["png","jpg","jpeg","gif"],GmPXtTest.unknownError="Unknown error",GmPXtTest.accessibility=!1,GmPXtTest.sourceDesktop="desktop",GmPXtTest.videoFileExtns=[".webm",".mpg",".mp2",".mpeg",".mpe",".mpv",".ogg",".mp4",".m4p",".m4v",".avi",".wmv",".mov",".qt",".flv",".swf"],GmPXtTest.notiTimeOpts=["1","2","3","4","5","7","10","12","15","18","20","24","36","48"],GmPXtTest.defaultWidgetZindex="2147483646",GmPXtTest.TOUR_PLAYER_SLIDESHOW="slideshow",GmPXtTest.TOUR_PLAYER_VIDEO="video",GmPXtTest.TOUR_PLAYER_GIPHY="giphy",GmPXtTest.ruleTextLimit=200,GmPXtTest.failedImages=[],GmPXtTest.creatorInterval=null,GmPXtTest.playedTour=[],GmPXtTest.isMediaPlayerOn=!1,GmPXtTest.testResultsFromCreator={},GmPXtTest.showPlayer=!1,GmPXtTest.isMiniPlayer=!1,GmPXtTest.keyInputGuides=[],GmPXtTest.feedbackImgSrc="",GmPXtTest.domSelectorTracker||(GmPXtTest.domSelectorTracker={}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var s=arguments[1],r=0;r<n;){var o=e[r];if(t.call(s,o,r,e))return o;r++}}}),null==Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var t=this.attributes,e=t.length,n=new Array(e),s=0;s<e;s++)n[s]=t[s].name;return n}),"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}),GmPXtTest.EXISTS="Exists",GmPXtTest.NOT_EXISTS="Not Exists",GmPXtTest.EQUALS="Equals",GmPXtTest.NOT_EQUAL="Not Equals",GmPXtTest.TXT_EQUALS="Text Is",GmPXtTest.NOT_TXT="Text Is Not",GmPXtTest.CONTAINS="Contains",GmPXtTest.NOT_CONTAINS="Does Not Contain",GmPXtTest.STARTS_WITH="Starts With",GmPXtTest.ENDS_WITH="Ends With",GmPXtTest.GREAT_THAN="Greater Than",GmPXtTest.LESS_THAN="Less Than",GmPXtTest.TXT_MATCHES="Text Matches",GmPXtTest.TXT_CONTAINS="Text Contains",GmPXtTest.ATTRIBUTES="Has Attribute(s)",GmPXtTest.NOT_ATTRIBUTES="Excludes Attribute(s)",GmPXtTest.CLASSES="Has CSS Class(s)",GmPXtTest.NOT_CLASSES="Excludes CSS Class(s)",GmPXtTest.SELECTED="Is Selected",GmPXtTest.NOT_SELECTED="Is Not Selected",GmPXtTest.CHECKED="Checked",GmPXtTest.NOT_CHECKED="Unchecked",GmPXtTest.DISABLED="Is Disabled",GmPXtTest.NOT_DISABLED="Not Disabled",GmPXtTest.DAY_OF_WEEK="Day of the Week",GmPXtTest.FIX_TIME="Fixed Time in the Day",GmPXtTest.DATE_RANGE="Date Range",GmPXtTest.IS_VALID="Get Validity",GmPXtTest.VISIBLE="Visible",GmPXtTest.NOT_VISIBLE="Not Visible",GmPXtTest.getHostnameFromUrl=function(t){return t=t&&(t=(t=t.includes("https://")?t.split("https://")[1]:t).includes("http://")?t.split("http://")[1]:t).includes("/")?t.split("/")[0]:t},GmPXtTest.getUrlScheme=function(){var t="http";return t=-1!==GmPXtTest._location().href.indexOf("https://")?"https":t},GmPXtTest.filterUrlScheme=function(t){return t=-1!==(t=-1!==(t=t.length&&"/"===(t="#"===t[t.length-1]?t.substr(0,t.length-1):t)[t.length-1]?t.substr(0,t.length-1):t).indexOf("https://")?t.split("https://")[1]:t).indexOf("http://")?t.split("http://")[1]:t},GmPXtTest.sendMessageToBackgroundService=function(t,e){t.data&&(t.mgdata=t.data,delete t.data),t&&GmPXtTest.isExtension()?"chrome"===GmPXtTest.browserApp?chrome.runtime.sendMessage(t,e):"Safari"===GmPXtTest.browserApp?(safari.extension.dispatchMessage(t.action,t.mgdata),e&&e(1)):"undefined"!=typeof browser&&browser.runtime.sendMessage(t,e):e&&e(1)},GmPXtTest.loader=function(){return GmPXtTest.getBasePath("common/img/g_new_loader.gif")},GmPXtTest.decodeVersion=function(t){var e;return t?(e=[0,0,0],t=t.split("."),e[0]=t[0],e[1]=n(t[1]),e[2]=n(t[2]),t[3]?e.push(n(t[3])):e.push("00"),parseInt(e.join(""))):0;function n(t){return t=t&&t<=9&&1===t.length?"0"+t.slice(-2):t}},GmPXtTest.getRuleTypeAnd=function(){var t=GmPXtTest.getEmptyRule();return t.logical_condition="&&",t},GmPXtTest.arrayMerge=function(e,t){return e.concat(t.filter(function(t){return e.indexOf(t)<0}))},GmPXtTest.isNotNull=function(t){return null!=t},GmPXtTest.isNumeric=function(t){return!(void 0===t||!mg$.isNumeric(t))},GmPXtTest.isTagged=function(t){var e,n=!1;return t&&(e=t.attr("class"),t=t.parent().attr("class"),e&&-1!==e.indexOf("mg-ft-tag")?n=e:t&&-1!==t.indexOf("mg-ft-tag")&&(n=t)),n},GmPXtTest.getTagStepAndTourId=function(t){for(var e,n=t.split(" "),s=0;s<n.length;s++)if(-1!==n[s].indexOf("mgftag"))return{step_id:(e=n[s].split("-"))[1],tour_id:e[2],group_id:e[3].replaceAll(":","-")}},GmPXtTest.tagClassName=function(t){return"mgftag-"+t.step_id+"-"+t.tour_id+"-"+t.step_settings.groupId.replaceAll("-",":")},GmPXtTest.isGmElement=function(t){var e,n=!1;return n=!(n=t&&(t.parent("wmgPlayerExtChromeTest_").length||t.parent(".mgPlayerExtChromeTest_beacon-icon").length||t.parent(".mgPlayerExtChromeTest_smarttip-icon").length||t.parents("wmgPlayerExtChromeTest_").length))&&t&&(e=t.attr("class"),t=t.parent().attr("class"),e&&-1!==e.indexOf("mgPlayerExtChromeTest_")||t&&-1!==t.indexOf("mgPlayerExtChromeTest_"))?!0:n},GmPXtTest.onImageLoadError=function(t){var e,n=t.hasClass("mgPlayerExtChromeTest_cdnChecked");t&&t.length&&("IMG"===t[0].tagName||GmPXtTest.isGmElement(t))&&!n&&(n=t.hasClass("mgPlayerExtChromeTest_custom-image"),GmPXtTest.isGmElement(t)&&"SOURCE"===t[0].tagName&&(n=!0),e=!t.attr("src")||!t.attr("src").length,t.attr("src"),t.addClass("mgPlayerExtChromeTest_cdnChecked"),n&&!e?(GmPXtTest.failedImages.push(t),window.self===window.top?GmPXtTest.getCdnSignature(!0):GmPXtTest.sendToParentWindow({action:"mgPlayerExtChromeTest_action:get_cdn_signature"})):t.hasClass("mgPlayerExtChromeTest_dap-card-image")&&t.attr("src",GmPXtTest.conf.staticContentPath+"technology.jpg"))},GmPXtTest.isLXP=function(){return!!GmPXtTest.conf.appConfig.isLXP},GmPXtTest.isAutomationStep=function(t){return t&&t.step_type!==GmPXtTest.STEP_TYPE_TAG&&(t.step_type===GmPXtTest.STEP_TYPE_AUTOMATION||t.step_settings.creation_type===GmPXtTest.STEP_TYPE_AUTOMATION)},GmPXtTest.currentTimeStamp=function(){return Math.floor((new Date).getTime()/1e3)},GmPXtTest.inArray=function(t,e){return-1!==mg$.inArray(parseInt(t),e)},GmPXtTest.removeDuplicates=function(t){var n=[];return mg$.each(t,function(t,e){-1===mg$.inArray(e,n)&&n.push(e)}),n},GmPXtTest.convertToInt=function(t){return t.map(function(t){return parseInt(t,10)})},GmPXtTest.textTruncate=function(t,e,n){return null==n&&(n="..."),t.length>(e=null==e?100:e)?t.substring(0,e-n.length)+n:t},GmPXtTest.migrateMatchAlgoSetting=function(t){var e=mg$.extend(!0,{},t.criteria),n=mg$.extend(!0,{},t.meta),s=mg$.extend(!0,{},t);if((e.precision_type===GmPXtTest.DOM_CRITERIA_JQUERY&&e.jquery_selector_builder||e.precision_type===GmPXtTest.DOM_CRITERIA_CUSTOM&&!e.jquery_selector)&&(e.jquery_selector=null,delete e.jquery_selector_builder,e.precision_type=GmPXtTest.DOM_CRITERIA_DEFAULT),"High"===e.precision_level&&GmPXtTest.decodeVersion(s.version)<2020041502&&(e.precision_level="Medium"),e.precision_type===GmPXtTest.DOM_CRITERIA_JQUERY&&(e.precision_type=GmPXtTest.DOM_CRITERIA_CUSTOM,t=[e.jquery_selector],e.matchAttributes=Object.keys(GmPXtTest.dom.getAttributes(t)[0]),e.matchAttributes.splice(e.matchAttributes.indexOf("tagName"),1)),e.precision_type===GmPXtTest.DOM_CRITERIA_TEXT&&(e.precision_type=GmPXtTest.DOM_CRITERIA_DEFAULT),GmPXtTest.isEmpty(s.selector))n.executionPriority=["text"];else{for(var r in s.selector)GmPXtTest.isEmpty(s.selector[r])&&delete s.selector[r];if(s.selector.hasOwnProperty("css")&&delete s.selector.css,n.attributes&&n.attributes.hasOwnProperty("js")){for(r in n.selectorAttributes=mg$.extend(!0,{},n.attributes),s.selector)n.selectorAttributes.hasOwnProperty(r)||(n.selectorAttributes[r]=[]);delete n.attributes}n.hasOwnProperty("executionPriority")||(GmPXtTest.isEmpty(n.selectorAttributes)&&(n.selectorAttributes=GmPXtTest.getAttributesFromSelector(s.selector)),n.executionPriority=GmPXtTest.getSelectorExecutionPriority(n.selectorAttributes))}return s.criteria=e,s.meta=n,s},GmPXtTest.getAttributesFromSelector=function(t){var e,n={};for(e in t){n[e]=[];for(var s=GmPXtTest.dom.getMatchAttributes(e),r=t[e],o=0;o<s.length;o++)for(var i=s[o],a=0;a<r.length;a++){var m=!1;if(m=r[a].includes("["+i+"=")||"text"===i&&(r[a].includes("[placeholder=")||r[a].includes("[value="))?!0:m){n[e].push(i);break}}}return n},GmPXtTest.getSelectorExecutionPriority=function(e){var t=Object.keys(e);function n(t){return"text"===t?3:"custom"===t?0:e[t].length}return t.push("text"),t=t.sort(function(t,e){return l1=n(t),(l2=n(e))>l1?1:l2<l1?-1:0})},GmPXtTest.containBranchStep=function(t){if(t||GmPXtTest.isDefined(t.steps)){var e,n=mg$.extend({},t.steps);for(e in n){var s=n[e];if(GmPXtTest.checkForBranchVariationSteps(s))return!0}}return!1},GmPXtTest.extendArray=function(t){var e,n=mg$.extend({},t),s=[];for(e in n)n.hasOwnProperty(e)&&s.push(n[e]);return s},GmPXtTest.getRuleText=function(t){var e=t.tagName.toLowerCase();return"select"===e?t.options[t.selectedIndex].textContent:"input"===e&&t.value?t.value:t.textContent.trim()},GmPXtTest.getElementText=function(t){var e,n,s,r=GmPXtTest.getRuleText(t);return r||(e=t.getAttribute("value"),n=t.getAttribute("placeholder"),s=t.getAttribute("name"),!(r=!(r="INPUT"!==t.tagName&&"BUTTON"!==t.tagName||"submit"!==t.type&&"button"!==t.type||!e?r:e)&&"INPUT"===t.tagName&&n?n:r)&&"INPUT"===t.tagName&&s&&(r=s)),r.trim()},GmPXtTest.defaultTrue=function(t){return void 0===t||t},GmPXtTest.getOrgLevelBrandLogoSetting=function(){return GmPXtTest.getStepSettings().hideBrandLogo},GmPXtTest.convertType=function(t){var e=Number(t);return isNaN(e)?"undefined"===t?void 0:"null"===t?null:"true"===t||"false"!==t&&t:e},GmPXtTest.isMyGuideIframe=function(t){return-1!==t.indexOf("side_panel/src/index.html")},GmPXtTest.getCurrentStepIndex=function(t,n){var s=-1;return t&&n?t.steps.forEach(function(t,e){t.step_id===n&&(s=e)}):GmPXtTest.playerI.tour.steps.forEach(function(t,e){t.step_id==GmPXtTest.playerI.currentStepId&&(s=e)}),s},GmPXtTest.isOne=function(t){return!(!t||1!==t.length)},GmPXtTest.isZero=function(t){return!(!t||0!==t.length)},GmPXtTest.isMoreThanOne=function(t){return!!(t&&1<t.length)},GmPXtTest.isMany=function(t){return!!(t&&0<t.length)},GmPXtTest.reverse=function(t){return mg$.extend([],t).reverse()},GmPXtTest.getValidationTypes=function(t){return{required:t,numeric:t,date:t,time:t,email:t,url:t,phone:t,charCount:t,bulletCount:t,regex:t}},GmPXtTest.getDiableEleDefaultVal=function(){return{opacity:"0.5",color:"#C0C0C0"}},GmPXtTest.isFalse=function(t){return 0===t||"false"===t||!1===t||"0"===t||""===t||"undefined"===t||void 0===t},GmPXtTest.validateText=function(t){return""!=(t=t.trim())&&0<t.length&&t.length<100},GmPXtTest.getStepInfoLog=function(t){var e=t.step_title;return"smartTip"===t.step_type&&(e=t.step_settings.smartTip.guidanceMessage),50<(e=mg$("<span />").html(GmPXtTest.updateOrgAndAddSignature(e)).text().trim()).length&&(e=e.substr(0,50)),"["+t.step_type.toUpperCase()+"] ["+t.step_id+"] "+e},GmPXtTest.isAnonymousUser=function(){var t,e;return!(!GmPXtTest.user||GmPXtTest.isEmpty(GmPXtTest.organization)||(t="anonymous-"+GmPXtTest.organization.organization_id,-1===(e=GmPXtTest.user.user_email).indexOf(t)&&"End+user@edcast.com"!==e)||GmPXtTest.user.signin_user_email)},GmPXtTest.getAttributePriority=function(t,e){switch(t){case"id":return 1;case"class":return 2;case"text":case"name":case"title":case"placeholder":return 3;default:return"value"===t&&"INPUT"!==e.tagName?3:t.includes("Id")||0===t.toLowerCase().indexOf("id")||t.toLowerCase().includes("_id")||t.toLowerCase().includes("-id")?1:0===t.indexOf("aria")?4:"boolean"==typeof e.getAttribute(t)?5:6}},GmPXtTest.skipMyGuideAttributes=function(t){return t=t.filter(function(t){return 0!==t.indexOf("gm")})},GmPXtTest.skipSpecialCharValues=function(t,e){var n=["text","placeholder","value","title","name"];return t=t.filter(function(t){if("text"===t)return!0;if(value=e.getAttribute(t),!GmPXtTest.isEmpty(value)){if(n.includes(t))return!0;if(!value.match(/[[\]{}():*+?.,\\^$|#]/g))return!0}return!1})},GmPXtTest.skipMyGuideClasses=function(t,e){return e&&e.elAttributes&&!e.elAttributes.class&&-1<(e=t.indexOf("class"))&&t.splice(e,1),t},GmPXtTest.getCustomMatchAttributes=function(t,e){var n=t.getAttributeNames();return GmPXtTest.isEmpty(e.textPropertyValue)||"textContent"!==e.textPropertyName||n.push("text"),n=GmPXtTest.skipMyGuideAttributes(n),n=GmPXtTest.skipSpecialCharValues(n,t),n=GmPXtTest.skipMyGuideClasses(n,e)},GmPXtTest.isClickableColumnHeader=function(t){if(!GmPXtTest.isEmpty(t.customSettings)){for(var e in t.customSettings)if(!GmPXtTest.isEmpty(t.customSettings[e])){var n=t.customSettings[e];break}if(n&&n.tableCategory&&n.isClickable)return!0}return!1},GmPXtTest.visibleInViewport=function(t,e,n){var s=Math.abs(t.height),r=Math.abs(t.width),o=t.top,i=t.top+s,a=t.left,t=t.left+r,m=Math.round(12*e/100),l=r<(l=Math.round(12*n/100))?0:l;return!(e-(m=s<m?0:m)<o||i<m||n-l<a||t<l)&&(e<s||n<r||!(o<0||e<i||a<0||n<t))},GmPXtTest.sendToParentWindow=function(t){t.data&&(GmPXtTest.isDefined(GmPXtTest.isSidePanelApp)&&(t.data.fromSidePanel=GmPXtTest.isSidePanelApp),"mgPlayerExtChromeTest_action:update_custom_labels"!==t.action&&"mgPlayerExtChromeTest_action:set_lang_content_script"!==t.action&&"mgPlayerExtChromeTest_action:update:player_mode"!==t.action&&"mgPlayerExtChromeTest_action:save_user_info"!==t.action&&"mgPlayerExtChromeTest_action:payload_event_call"!==t.action&&(t.data.user=GmPXtTest.user),"mgPlayerExtChromeTest_action:payload_event_call"===t.action)&&delete t.data.fromSidePanel,parent.postMessage(GmPXtTest.formatMsg(t),"*")},GmPXtTest.msgToThisWin=function(t){window.postMessage(GmPXtTest.formatMsg(t),"*")},GmPXtTest.handleError=function(t){console.dir("There is error in API response: "+t)},GmPXtTest.getBrandingSetting=function(){var t,e=!1;return e=(t=GmPXtTest.appList?GmPXtTest.appList["app:"+GmPXtTest.activeAppId]:t)&&t.settings?t.settings:e},GmPXtTest.getBrandLogo=function(){return GmPXtTest.getBrandingSetting().logo},GmPXtTest.brandLogo=function(){var t=GmPXtTest.getDefaultIcon(),e=GmPXtTest.getBrandLogo();return t=e&&!GmPXtTest.isDefaultIcon(e)?e+GmPXtTest.getCdnSign():t},GmPXtTest.getPopupLogo=function(){var t=GmPXtTest.getDefaultIcon(),e=GmPXtTest.getBrandLogo();return"<img class='mgPlayerExtChromeTest_logo-image' src='"+(t=e&&!GmPXtTest.isDefaultIcon(e)?e+GmPXtTest.getCdnSign():t)+"' alt='"+GmPXtTest.label.brandLogo+"' />"},GmPXtTest.seggregateRules=function(t){for(var e={dom:[],url:[],api:[]},n=0;n<t.length;n++)(rule=t[n]).type.includes("Select ")||"Variables"===rule.type?(rule.domRule=!0,e.dom.push(rule),t.checkDom=!0):"Get Validity"===rule.condition?(rule.apiRule=!0,e.api.push(rule),t.checkApi=!0):e.url.push(rule);return e},GmPXtTest.numberOfDomRules=function(t){for(var e=0,n=0;n<t.length;n++)"Select Element"!==t[n].type&&"Select Table"!==t[n].type||e++;return e},GmPXtTest.buildGuidePlayStructure=function(t){for(var e=t.steps,n=[],s=0,r=e.length;s<r;s++){var o={id:e[s].step_id};e[s+1]?o.tail=e[s+1].step_id:o.tail=null,n.push(o)}return n},GmPXtTest.getStepsForPS=function(t,e){return GmPXtTest.playerI&&(GmPXtTest.playerI.automate||GmPXtTest.playerI.isAutomation)||GmPXtTest.isAutomationRunning()||"doitforme"===e?t:GmPXtTest.filterOutAutomationSteps(t)},GmPXtTest.getGuidePlayStructure=function(t,e){var n=t.tour_settings.play_structure;return t.steps=GmPXtTest.getStepsForPS(t.steps,e),GmPXtTest.containBranchStep(t)?mg$.isArray(n)&&n.length?GmPXtTest.repairPlayStructure(n,t.steps):void 0:GmPXtTest.buildGuidePlayStructure(t)},GmPXtTest.initialiseRuleGroup=function(){var t=GmPXtTest.getEmptyRule();return GmPXtTest.ruleEngine.getGroupedRules([t])},GmPXtTest.reloadFailedImages=function(){if(GmPXtTest.failedImages&&GmPXtTest.failedImages.length){for(var t=0;t<GmPXtTest.failedImages.length;t++){var e,n=GmPXtTest.failedImages[t];n.length&&(e=n.attr("src"))&&(e=e.split("?"))[0]&&1<e.length&&(e=e[0]+GmPXtTest.getCdnSign(),n.attr("src",e))}GmPXtTest.failedImages=[]}var s;window.self===window.top&&(GmPXtTest.sendMessageToApp(s="mgPlayerExtChromeTest_action:reload_images"),GmPXtTest.sendMessageToStepFrame(s)),GmPXtTest.waitForCdnSignature=!1},GmPXtTest.getRuleTypes=function(t,e,n,s,r,o,i){var a=[{name:""+GmPXtTest.label.url,value:"URL"},{name:""+GmPXtTest.label.urlHostname,value:"URL Hostname"},{name:""+GmPXtTest.label.urlPath,value:"URL Path"},{name:""+GmPXtTest.label.urlParameter,value:"URL Parameters"},{name:""+GmPXtTest.label.urlHash,value:"URL Hash"},{name:""+GmPXtTest.label.pageTitle,value:"Page Title"}];return t||(e||a.push({name:""+GmPXtTest.label.displayFrequency,value:"Display Frequency"}),t=GmPXtTest.getVariableData(),!s&&t&&0<t.length&&a.push({name:""+GmPXtTest.label.variables,value:"Variables"}),n)||a.push({name:""+GmPXtTest.label.selectElement,value:"Select Element"}),r&&a.push({name:""+GmPXtTest.label.userCreationDate,value:"Creation Date"}),o&&a.push({name:""+GmPXtTest.label.date,value:"Date"}),i&&a.push({name:""+GmPXtTest.label.time,value:"Time"}),a},GmPXtTest.getRuleOperators=function(t){var e=[{type:"URL",condition:[GmPXtTest.EQUALS,GmPXtTest.NOT_EQUAL,GmPXtTest.CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.STARTS_WITH,GmPXtTest.ENDS_WITH]},{type:"URL Hostname",condition:[GmPXtTest.EQUALS,GmPXtTest.NOT_EQUAL,GmPXtTest.CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.STARTS_WITH,GmPXtTest.ENDS_WITH]},{type:"URL Path",condition:[GmPXtTest.EQUALS,GmPXtTest.NOT_EQUAL,GmPXtTest.CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.STARTS_WITH,GmPXtTest.ENDS_WITH]},{type:"URL Parameters",condition:[GmPXtTest.EQUALS,GmPXtTest.NOT_EQUAL,GmPXtTest.CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.STARTS_WITH,GmPXtTest.ENDS_WITH]},{type:"URL Hash",condition:[GmPXtTest.EQUALS,GmPXtTest.NOT_EQUAL,GmPXtTest.CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.STARTS_WITH,GmPXtTest.ENDS_WITH]},{type:"Page Title",condition:[GmPXtTest.EQUALS,GmPXtTest.NOT_EQUAL,GmPXtTest.CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.STARTS_WITH,GmPXtTest.ENDS_WITH]},{type:"Other Element on Page",condition:[GmPXtTest.EXISTS,GmPXtTest.NOT_EXISTS]},{type:"Window Variable",condition:[GmPXtTest.EQUALS,GmPXtTest.NOT_EQUAL,GmPXtTest.CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.STARTS_WITH,GmPXtTest.ENDS_WITH]},{type:"Display Frequency",condition:[GmPXtTest.DAY_OF_WEEK,GmPXtTest.FIX_TIME,GmPXtTest.DATE_RANGE]},{type:"Select Element",condition:[GmPXtTest.EXISTS,GmPXtTest.NOT_EXISTS,GmPXtTest.VISIBLE,GmPXtTest.NOT_VISIBLE]},{type:"Variables",condition:[GmPXtTest.TXT_EQUALS,GmPXtTest.NOT_TXT,GmPXtTest.TXT_CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.TXT_MATCHES],variableData:GmPXtTest.getVariableData()},{type:"Creation Date",condition:[GmPXtTest.EQUALS,GmPXtTest.GREAT_THAN,GmPXtTest.LESS_THAN]},{type:"Date",condition:[GmPXtTest.EQUALS,GmPXtTest.GREAT_THAN,GmPXtTest.LESS_THAN]},{type:"Time",condition:[GmPXtTest.EQUALS,GmPXtTest.GREAT_THAN,GmPXtTest.LESS_THAN]}];return t&&e[10].condition.push(GmPXtTest.IS_VALID),e},GmPXtTest.getEmptyRule=function(){return{type:"",name:"",condition:"",value:"",logical_condition:""}},GmPXtTest.getLXPLang=function(){return!(!GmPXtTest.isLXP()||GmPXtTest.isFalse(GmPXtTest.mgActiveLang)||-1!==GmPXtTest.mgActiveLang.indexOf("en-"))&&GmPXtTest.mgActiveLang},GmPXtTest.getOrgSettings=function(){var t=!1;return t=GmPXtTest.organization&&!GmPXtTest.isEmpty(GmPXtTest.organization)?GmPXtTest.organization.settings:t},GmPXtTest.getWidgetSettings=function(){var t,e=!1;return GmPXtTest.appList&&GmPXtTest.activeAppId&&(t=GmPXtTest.appList["app:"+GmPXtTest.activeAppId])&&t.settings&&((e=t.settings).clientVersion=t.settings.version),GmPXtTest.isWestpac()&&(e.guide_count_on_widget=!1),e},GmPXtTest.getStepSettings=function(){var t,e=!1;return GmPXtTest.isEmpty(GmPXtTest.appList)?window.self===window.top||GmPXtTest.isEmpty(GmPXtTest.activeAppSettings)||(e=GmPXtTest.activeAppSettings):(t=GmPXtTest.appList["app:"+GmPXtTest.activeAppId])&&t.settings&&(e=t.settings),GmPXtTest.isDesktop()&&(e=GmPXtTest.isEmpty(GmPXtTest.playerI.tour.steps[0].orgSettings)?GmPXtTest.playerI.tour.steps[0].appSettings:GmPXtTest.playerI.tour.steps[0].orgSettings,e=GmPXtTest.validateDataModel(e,GmPXtTest.model.organization.settings._obj)),e},GmPXtTest.getAppSetting=function(t){var e=!1;return!GmPXtTest.isEmpty(GmPXtTest.appList)&&GmPXtTest.activeAppId?!GmPXtTest.appList["app:"+GmPXtTest.activeAppId]&&GmPXtTest.user?GmPXtTest.logoutUser():e=GmPXtTest.appList["app:"+GmPXtTest.activeAppId].settings:window.self===window.top||GmPXtTest.isEmpty(GmPXtTest.activeAppSettings)||(e=GmPXtTest.activeAppSettings),e&&t?e[t]:e},GmPXtTest.getCdnSign=function(){var t="";return t=GmPXtTest.user?GmPXtTest.user.cdn_signature:t},GmPXtTest.serviceNow=function(){return-1!==GmPXtTest.urlParts.host.indexOf("service-now.com")},GmPXtTest.getDefaultIcon=function(){return GmPXtTest.conf.staticContentPath+GmPXtTest.conf.appConfig.defaultIcon},GmPXtTest.getChatDefaultIcon=function(){return GmPXtTest.conf.staticContentPath+"chat_bot_icon.png"},GmPXtTest.getDefaultGuideIcon=function(){return GmPXtTest.conf.staticContentPath+"default_guide.png"},GmPXtTest.isFalseObj=function(t){if(!t||"object"!=typeof t)return!0;var e,n=!0;for(e in t)if(!0===t[e]){n=!1;break}return n},GmPXtTest.getRectObject=function(t){return{top:t.top,left:t.left,bottom:t.bottom,right:t.right,width:t.width,height:t.height,x:t.x,y:t.y}},GmPXtTest.redirect=function(t){GmPXtTest.log(1,"ROUTE to "+t),GmPXtTest.timeout(function(){location.replace(t)},0)},GmPXtTest.getPosition=function(t){return t?"mgPlayerExtChromeTest_fixed-position":"mgPlayerExtChromeTest_absolute-position"},GmPXtTest.isInspectToolON=function(){return!!(GmPXtTest.selectorTool&&"inactive"!==GmPXtTest.selectorTool.status||GmPXtTest.selectorToolFill&&"inactive"!==GmPXtTest.selectorToolFill.status||GmPXtTest.selectorToolRules&&"inactive"!==GmPXtTest.selectorToolRules.status)},GmPXtTest.getExtUrl=function(t){return GmPXtTest.getBrowserUrl(t)},GmPXtTest.getBaseUrl=function(t){return GmPXtTest.isExtension()?GmPXtTest.getExtUrl(t):(GmPXtTest.isClientJs()&&!GmPXtTest.conf.baseUrl&&GmPXtTest.conf.clientJsBaseUrl&&(GmPXtTest.conf.baseUrl=GmPXtTest.conf.clientJsBaseUrl),GmPXtTest.conf.baseUrl+t)},GmPXtTest.capitalizeFirstLetter=function(t){return(t=t||"").charAt(0).toUpperCase()+t.slice(1)},GmPXtTest.encode=function(t){var e="";if(t){var n,s=0;for(n in t)t.hasOwnProperty(n)&&(s++&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]))}return e},GmPXtTest.returnNavigator=function(){return navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia},GmPXtTest.getDefaultError=function(){return{code:403,message:[GmPXtTest.unknownError]}},GmPXtTest.getCodeError=function(){return{code:405,message:[GmPXtTest.unknownError]}},GmPXtTest.getIcons=function(t,e,n){t=GmPXtTest.getBaseUrl("common/icons/"+t);mg$.get(t,function(t){e.html(t),n&&n()})},GmPXtTest.externalApiCall=function(t){return GmPXtTest.xhr({url:t,method:"GET",data:""},!0,!0)},GmPXtTest.checkFileExist=function(t){return GmPXtTest.xhr({url:t,method:"GET"},!0)},GmPXtTest.getUrl=function(){var t=GmPXtTest._location().href;return GmPXtTest.filterUrlScheme(t)},GmPXtTest.checkWorkdayTextfield=function(t,e){t=t.customSettings;if(t&&t.workday&&!t.workday.isTableHeader){var n=t.workday;if(!n.isWDCustomSelect||"rules-engine-request"!==e)return Object.keys(n).some(function(t){return n[t]})}return!1},GmPXtTest.hasPageScroll=function(){return mg$(document).height()>mg$(window).height()},GmPXtTest.filterMyguideClassValue=function(t){return(t=t.split(/\s+/).filter(function(t){if(-1===t.indexOf("doitforme-")&&-1===t.indexOf("mg-smarttip"))return!0}).join(" ")).trim()},GmPXtTest.getAttributeValues=function(n,t){var s;return 1!==n.nodeType?{}:(t=t||n.getAttributeNames(),s={tagName:n.tagName},t.forEach(function(t){var e=n.getAttribute(t);GmPXtTest.isEmpty(e)||(s[t]=e)}),s.class&&(s.class=GmPXtTest.filterMyguideClassValue(s.class),GmPXtTest.isEmpty(s.class))&&delete s.class,n.textContent&&500<n.textContent.length?delete s.text:GmPXtTest.isEmpty(n.textContent)||(s.text=n.textContent.trim()),s)},GmPXtTest.isOnboarding=function(t){return!(!t||!t.tour_type||-1===t.tour_type.indexOf("onboarding_tour"))},GmPXtTest.isFeatureTags=function(t){return!!(t&&0<=t.tour_type.indexOf("insights"))},GmPXtTest.isBotGuide=function(t){return!(!t||"bot"!==t.tour_type)},GmPXtTest.isChatEnable=function(){var t,e=!1;return GmPXtTest.isEmpty(GmPXtTest.appList)||(t=GmPXtTest.appList["app:"+GmPXtTest.activeAppId])&&t.settings.enable_chatbot&&(e=!0),e},GmPXtTest.isGuide=function(t){return!GmPXtTest.isOnboarding(t)&&!(!t||-1===t.tour_type.indexOf("walkthrough_tour")&&-1===t.tour_type.indexOf("videoScreencast")&&-1===t.tour_type.indexOf("videoCapture"))},GmPXtTest.updateScrollTop=function(){var t;GmPXtTest.stepReq.changeElement&&GmPXtTest.stepReq.changeElement.isChanged&&(t=GmPXtTest.stepReq.changeElement.scrollTo,(GmPXtTest.stepReq.step.step_type===GmPXtTest.STEP_TYPE_SMART_TIP?mg$(".create-smarttip-step-wrapper"):mg$(".step-create-section-wrapper")).scrollTop(t),delete GmPXtTest.stepReq.changeElement)},GmPXtTest.printStorageSize=function(){var t,e,n=[],s=0;for(t in localStorage)localStorage.hasOwnProperty(t)&&(e=(localStorage[t].length+t.length)/1024,n.push(t.substr(0,30)+" = "+e.toFixed(2)+" KB"),s+=e);n.unshift(1024<s?"Total = "+(s/1024).toFixed(2)+" MB":"Total = "+s.toFixed(2)+" KB"),console.dir(n.join("\n"))},GmPXtTest.getVarSize=function(t){return((t=JSON.stringify(t)).length/1024).toFixed(2)},GmPXtTest.enableContinueInParent=function(t,e){if(GmPXtTest.containBranchStep(t))return!0;if(t.steps.length)for(var n=t.steps,s=0;s<e-1;s++)if("new_tab"===n[s].step_settings.pageReloadOption)return!0;return!1},GmPXtTest.initPlayerModeFeatures=function(t,e,n){GmPXtTest.showPlayer=t,GmPXtTest.isMiniPlayer=e,GmPXtTest.playerMode=n,GmPXtTest.isPlayer()?GmPXtTest.FT=GmPXtTest.getPlayerFeatures():GmPXtTest.FT=GmPXtTest.getCreatorAppFeatures(),GmPXtTest.isMicroPlayer()?mg$(".mgPlayerExtChromeTest_panel").addClass("mgPlayerExtChromeTest_theme-mplayer"):mg$(".mgPlayerExtChromeTest_panel").removeClass("mgPlayerExtChromeTest_theme-mplayer")},GmPXtTest.matchUrlRegEx=function(t,e){for(var n="",s=t.split("[*.]"),r=0;r<s.length;r++)r===s.length-1?n+=s[r]:n+=s[r]+"([a-zA-Z0-9:!+@#$&()?\\-_`.%+,=\\/]*)";return new RegExp("^"+n+"$").test(e)},GmPXtTest.trimAndLowerCaseURL=function(t){var e="";return e=(t=GmPXtTest.filterUrlScheme(t))&&0===(e=t.toLowerCase()).indexOf("www.")?e.slice(4,e.length):e},GmPXtTest.getTail=function(t,e,n,s){if(!t||!e)return!1;for(var r=null,o=0;o<e.length;o++)GmPXtTest.isEmpty(e[o])||parseInt(e[o].id)!==parseInt(t)||(r=e[o].branch?getTailFromBranchStep(e[o].branch,n,t,s):e[o].tail);return 1<GmPXtTest.numberOfSameTail(r,e)&&(GmPXtTest.playerI.mergingFromId=t),r},GmPXtTest.getPageDomain=function(){var t=(GmPXtTest._location().host.match(/([^.]+)\.\w{2,3}(?:\.\w{2})?$/)||[])[1];return t||GmPXtTest._location().host},GmPXtTest.getDomain=function(t){var e=((t=t.split("/")[0]).match(/([^.]+)\.\w{2,3}(?:\.\w{2})?$/)||[])[1];return e||t},GmPXtTest.getUrlParam=function(){var t="",e=GmPXtTest.urlParts.href.split("?");return t=e[1]?"?"+e[1]:t},GmPXtTest.getURLWithPort=function(){var t=GmPXtTest.urlParts.host;return GmPXtTest.urlParts.port&&(t+=":"+GmPXtTest.urlParts.port),t},GmPXtTest.isFQDN=function(){var t=GmPXtTest.getOrgSettings(),e=GmPXtTest.organization&&!GmPXtTest.isEmpty(GmPXtTest.organization)?GmPXtTest.organization.admin_settings:{};return!(GmPXtTest.isEmpty(t)||!t.fqdn)||!(!GmPXtTest.isPlayer()||!1!==e.app_switcher)},GmPXtTest.isDomainInActiveApp=function(){var t,e,n;return!GmPXtTest.isFQDN()||(t=!1,!GmPXtTest.isEmpty(GmPXtTest.appList)&&GmPXtTest.activeAppId&&(e=(n=GmPXtTest.appList["app:"+GmPXtTest.activeAppId])&&n.settings.domains,n&&n.settings&&n.settings.sandbox?t=!0:e&&(n=GmPXtTest.getCurrentDomainApp(e,GmPXtTest.urlParts.fullUrl),GmPXtTest.isEmpty(n)||(t=!0))),t)},GmPXtTest.getActiveAppSetting=function(){var t;return!GmPXtTest.isEmpty(GmPXtTest.appList)&&(t=GmPXtTest.appList["app:"+GmPXtTest.activeAppId])&&t.settings?t.settings:{}},GmPXtTest.findDomainMatch=function(t,e,n){for(var s={},r=GmPXtTest.getHostnameFromUrl(e),r=GmPXtTest.trimAndLowerCaseURL(r),o=0;o<t.length;o++){var i,a=t[o].url,a=GmPXtTest.trimAndLowerCaseURL(a);e=GmPXtTest.trimAndLowerCaseURL(e),0<=a.indexOf("/")&&0<=e.indexOf(a)?(i=(a.match(/\//g)||[]).length,n&&i<n||((s=t[o]).pathMatch=!0,s.pathLength=i)):(r===a&&!n||-1<a.indexOf("[*.]")&&GmPXtTest.matchUrlRegEx(a,r))&&(s=t[o])}return s},GmPXtTest.getCurrentDomainApp=function(t,e,n){return t?GmPXtTest.isElectron()?GmPXtTest.getCurrentMyGuideApp(t):GmPXtTest.findDomainMatch(t,e,n):{}},GmPXtTest.getCurrentMyGuideApp=function(t){for(var e={},n=GmPXtTest.elAppName.toLowerCase(),s=0;s<t.length;s++)if(t[s].appName&&n===t[s].appName.toLowerCase()){e=t[s];break}return e},GmPXtTest.isMirrorApp=function(){var t=!1;return t=GmPXtTest.organization&&!GmPXtTest.isEmpty(GmPXtTest.organization)&&GmPXtTest.organization.has_mirror_apps&&0!==parseInt(GmPXtTest.organization.has_mirror_apps)?!0:t},GmPXtTest.getBaseAppId=function(){var t=GmPXtTest.activeAppId;if(GmPXtTest.activeAppId&&GmPXtTest.appList&&!GmPXtTest.inPlayer)for(var e in GmPXtTest.appList){e=GmPXtTest.appList[e];if(GmPXtTest.activeAppId===e.application_id&&e.base_app_id&&0!==parseInt(e.base_app_id)){t=e.base_app_id;break}}return t},GmPXtTest.checkDomainInApps=function(t){var e,n={domainMatch:!1,appName:!1},s=!1;for(e in GmPXtTest.appList){var r=GmPXtTest.appList[e],o=r.settings.domains,o=GmPXtTest.getCurrentDomainApp(o,t,s);GmPXtTest.isEmpty(o)||(n={domainMatch:!0,appName:r.title,appId:r.application_id,env:o.env,app_env:o.app_env,baseAppId:r.base_app_id}),o.pathLength&&(s=o.pathLength)}var i="DOMAIN CHECK. ["+t+"] "+(n.domainMatch?"EXISTS":"DOES NOT EXIST");return GmPXtTest.log(1,i,n),n},GmPXtTest.getAppEnvByDomain=function(){var t,e=GmPXtTest.checkDomainInApps(GmPXtTest.urlParts.fullUrl);return GmPXtTest.isDefined(e.app_env)?GmPXtTest.isDefined(e.app_env)&&(t=e.app_env):t="env_3",GmPXtTest.log(1,"DOMAIN ENVIRONMENT: "+t),t},GmPXtTest.updateOrgAndAddSignature=function(t){var e;return t&&GmPXtTest.containsMedia(t)&&(GmPXtTest.organization&&!GmPXtTest.isEmpty(GmPXtTest.organization)&&(e=GmPXtTest.organization.organization_id,t=t.replace(/[-][0-9]*[/]/g,"-"+e+"/")),t=(t=(t=(t=(t=(t=t.replace(/.mp4(.*?)\"/g,".mp4"+GmPXtTest.getCdnSign()+'"')).replace(/.gif(.*?)\"/g,".gif"+GmPXtTest.getCdnSign()+'"')).replace(/.png(.*?)\"/g,".png"+GmPXtTest.getCdnSign()+'"')).replace(/.html(.*?)\"/g,".html"+GmPXtTest.getCdnSign()+'"')).replace(/.txt(.*?)\"/g,".txt"+GmPXtTest.getCdnSign()+'"')).replace(/\.pdf(.*?)\"/g,".pdf"+GmPXtTest.getCdnSign()+'"')),t},GmPXtTest.containsMedia=function(t){return 0<=t.indexOf(".png")||0<=t.indexOf(".gif")||0<=t.indexOf(".mp4")||0<=t.indexOf(".html")||0<=t.indexOf(".txt")||0<=t.indexOf(".pdf")},GmPXtTest.isUrlAbsolute=function(t){return 0===t.indexOf("//")||-1!==t.indexOf("://")&&-1!==t.indexOf(".")&&-1!==t.indexOf("/")&&!(t.indexOf(":")>t.indexOf("/"))&&t.indexOf("://")<t.indexOf(".")},GmPXtTest.getOnPremJsonURL=function(){return GmPXtTest.conf.webServiceUrl},GmPXtTest.branchStepExist=function(t){var n=!1;return t&&t.tour_settings&&t.tour_settings.play_structure&&t.tour_settings.play_structure.forEach(function(t,e){t.branch&&(n=!0)}),n},GmPXtTest.branchStepExistInPS=function(){var n=!1;return GmPXtTest.playerI.playStructure&&GmPXtTest.playerI.playStructure.forEach(function(t,e){t.branch&&(n=!0)}),n},GmPXtTest.restartInParent=function(t){t||GmPXtTest.log(33,"BACK to parent window"),GmPXtTest.storage().set({restartInParent:!0})},GmPXtTest.getSleepTime=function(t){var e=24,n=GmPXtTest.getAppSetting("notificationsTime"),t=1<(e=n&&(e=parseFloat(n))<1?1:e)?t.hours:t.hour,e=e+" "+t;return e=n&&"number"!=typeof n&&(n.includes("week")||n.includes("hour"))?n:e},GmPXtTest.getIframeAttributes=function(t){var n={};return mg$.each(t[0].attributes,function(t,e){n[e.name]=e.value}),n.isVisible="visible"===GmPXtTest.getElVisibility(t[0],!0),n},GmPXtTest.isDomainMatch=function(t,e){return GmPXtTest.getDomain(t)===GmPXtTest.getDomain(e)},GmPXtTest.getDefaultDomain=function(t,e){var n=t;if(0<e.allDomains.length)for(var s=e.allDomains,r=0;r<s.length;r++)if(s[r].isDefault){n=s[r].url;break}return GmPXtTest.getHostnameFromUrl(n)},GmPXtTest.getRedirectUrlForAuto=function(t,e,n){var s=GmPXtTest.getHostnameFromUrl(t),r="",r=(t=n&&GmPXtTest.isDomainMatch(n,s)?t.replace(s,n):t).startsWith("http")?t:location.protocol+"//"+t;return GmPXtTest.log(33,"REDIRECTING TO URL - ",{URL:r}),r},GmPXtTest.changeUrl=function(t,e,n){var s,r,e=GmPXtTest.getRedirectUrlForAuto(t,e,n);!n||(n=GmPXtTest.checkDomainInApps(t),s=GmPXtTest.checkDomainInApps(e),!GmPXtTest.getOrgSettings().fqdn)||n.domainMatch&&s.domainMatch?window.location=e:GmPXtTest.isAutomationRunning()?(r="",n.domainMatch||(r+="Source ("+GmPXtTest.getHostnameFromUrl(t)+") domain not configured. "),s.domainMatch||(r+="Destination ("+GmPXtTest.getHostnameFromUrl(e)+") domain not configured."),GmPXtTest.auto.fail(null,{errorMessage:r})):showDomainNotConfiguredPopup(e)},GmPXtTest.validateTargetFrame=function(t,e){return!(GmPXtTest.isEmpty(t)||GmPXtTest.isEmpty(e)||!GmPXtTest.isEmpty(e.isVisible)&&!e.isVisible)&&GmPXtTest.compareObjectsByPercentMatch(t,e)},GmPXtTest.cleanPlayerI=function(){GmPXtTest.tourPlayerI=null,GmPXtTest.playerI=null},GmPXtTest.cleanPlayer=function(){GmPXtTest.log(33,"Player instance cleared."),GmPXtTest.playerI&&(GmPXtTest.trackGuide(),window.removeEventListener("mouseup",GmPXtTest.registerClickListner,!0),window.removeEventListener("mousedown",GmPXtTest.registerClickListner,!0),window.removeEventListener("keyup",GmPXtTest.registerClickListner,!0),window.removeEventListener("keydown",GmPXtTest.registerClickListner,!0)),GmPXtTest.cleanPlayerI(),GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:clean_tour_player"),GmPXtTest.storage().set({mgPlayerExtChromeTest_GM_PLAYER_STORAGE_KEY:null}),GmPXtTest.storage().remove(["mgPlayerExtChromeTest_GM_PLAYER_STORAGE_KEY"])},GmPXtTest.compareAttributes=function(t,e){e=GmPXtTest.getAttributeValues(e),t=GmPXtTest.getAttributeValues(t);return GmPXtTest.compareObjectsByPercentMatch(e,t,100)},GmPXtTest.filterParentNodes=function(t,n){var n=n.trim().toLowerCase(),e=(t=t.filter(function(t,e){return!(!e.innerText||e.innerText.trim().toLowerCase()!==n||(mg$(e).parents().addClass("mgPlayerExtChromeTest_dummy-class"),0))})).filter(function(t,e){return!mg$(e).hasClass("mgPlayerExtChromeTest_dummy-class")});if(mg$(".mgPlayerExtChromeTest_dummy-class").removeClass("mgPlayerExtChromeTest_dummy-class"),1===e.length)return GmPXtTest.l.add("All nodes resulting from the query are hierachichally linked (parent-child)"),t;if(2===e.length&&GmPXtTest.compareAttributes(t[0],t[1])){if("visible"===GmPXtTest.getElVisibility(t[0]))return t.slice(0,1);if("visible"===GmPXtTest.getElVisibility(t[1]))return t.slice(1)}return GmPXtTest.l.add("Text is present at multiple places on the screen"),[]},GmPXtTest.getElectronAppName=function(){var t=require("electron").remote.app;return t.name||t.getName()},GmPXtTest.getErrObj=function(t,e,n){n=n?e.code:parseInt(e.code),t[0]&&t[0].message&&(t=t[0].message),"string"==typeof e.info&&(t+=" : "+e.info),n={build:GmPXtTest.conf.appName,version:GmPXtTest.conf.version,type:"CODE ERROR",code:n,message:t,browser:GmPXtTest.browserApp};return GmPXtTest.isBackgroundPage?n.current_url="":n.current_url=GmPXtTest.urlParts.fullUrl,e.info.apiUrl&&(n.type="Insights",n.message+=" , api: "+e.info.apiUrl,e.apiData)&&(n.apiData=JSON.stringify(e.apiData)),GmPXtTest.user&&GmPXtTest.organization&&!GmPXtTest.isEmpty(GmPXtTest.organization)&&(n.organization_id=GmPXtTest.organization.organization_id,n.organization_name=GmPXtTest.organization.name,n.application_id=GmPXtTest.activeAppId,n.user_id=GmPXtTest.user.user_id,n.user_email=GmPXtTest.user.user_email),n},GmPXtTest.checkMyGuideClass=function(t){var e=!1;return e=t&&"string"==typeof t?t.split(/\s+/).filter(Boolean).filter(function(t){return 0===t.indexOf("mgPlayerExtChromeTest_")})[0]:e},GmPXtTest.hasMyGuideEl=function(t){if(t)for(var e=0;e<t.length;e++)if(GmPXtTest.checkMyGuideClass(t[e].className))return!0;return!1},GmPXtTest.isSelect=function(t){if(!GmPXtTest.isEmpty(t.customSettings)){var e=t.customSettings.salesforce,n=t.customSettings.workday;if(!GmPXtTest.isEmpty(e)&&(e.customSelect||e.customInput||e.globalSearch))return!0;if(!GmPXtTest.isEmpty(n)&&(n.isWDCustomSelect||n.isSelectBox))return!0}return!GmPXtTest.isEmpty(t.meta.elAttributes)&&"SELECT"===t.meta.elAttributes.tagName||!GmPXtTest.isEmpty(t.targetInfo)&&"SELECT"===t.targetInfo.tagName},GmPXtTest.isInput=function(t){var e=["text","password","email","search"];if(!GmPXtTest.isEmpty(t.customSettings)){var n=t.customSettings.salesforce,s=t.customSettings.workday;if(!GmPXtTest.isEmpty(n)&&n.isInput)return!0;if(!GmPXtTest.isEmpty(s)&&s.isInput&&!s.isCheckbox)return!0}return!(GmPXtTest.isEmpty(t.meta.elAttributes)||"INPUT"!==t.meta.elAttributes.tagName||!e.includes(t.meta.elAttributes.type))||!(GmPXtTest.isEmpty(t.targetInfo)||"INPUT"!==t.targetInfo.tagName||!e.includes(t.targetInfo.type))},GmPXtTest.sortToursByModifcationDate=function(t){return t.sort(function(t,e){return parseInt(e.modification_date)-parseInt(t.modification_date)})},GmPXtTest.getStepDelayOptions=function(){return[{value:1},{value:2},{value:3},{value:4},{value:5},{value:6},{value:7},{value:8},{value:9},{value:10},{value:15},{value:20},{value:25},{value:30}]},GmPXtTest.getRuleDelayOptions=function(){return[{key:1,value:1e3},{key:2,value:2e3},{key:3,value:3e3},{key:4,value:4e3},{key:5,value:5e3},{key:6,value:6e3},{key:7,value:7e3},{key:8,value:8e3},{key:9,value:9e3},{key:10,value:1e4}]},GmPXtTest.checkStepLimit=function(t){return GmPXtTest.organization.admin_settings.step_limit<=t},GmPXtTest.getOrgColor=function(){var t=[],e=GmPXtTest.getOrgSettings();if(!GmPXtTest.isEmpty(e.stepDefaultColorArray)){var n,s=mg$.extend([],e.stepDefaultColorArray);for(n in s.reverse())e.stepDefaultColorArray.hasOwnProperty(n)&&t.push(s[n],"")}return t},GmPXtTest.getFontFile=function(){var t="common/lib/fonts/";return t=GmPXtTest.isExtension()?GmPXtTest.getBrowserUrl(t):GmPXtTest.conf.baseUrl+t},GmPXtTest.getCustomFontStyle=function(){var t=document.getElementById("mgPlayerExtChromeTest_nunito-font-style"),t=(GmPXtTest.isEmpty(t)||t.remove(),document.createElement("style")),e=(t.id="mgPlayerExtChromeTest_nunito-font-style",GmPXtTest.getFontFile()+"Nunito-Regular.woff"),e=(t.appendChild(document.createTextNode("@font-face { font-family: 'Nunito'; src: url('"+e+"') format('woff');}")),GmPXtTest.getFontFile()+"Calibri-Regular.woff"),e=(t.appendChild(document.createTextNode("@font-face { font-family: 'Calibri'; src: url('"+e+"') format('woff');}")),GmPXtTest.getFontFile()+"Frutiger.woff");return t.appendChild(document.createTextNode("@font-face { font-family: 'Frutiger'; src: url('"+e+"') format('woff');}")),t},GmPXtTest.isUrlValid=function(t){return!!GmPXtTest.isEmpty(t)||null!=t.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)},GmPXtTest.getURLMediaType=function(t){var e;return!!GmPXtTest.isUrlValid(t)&&(-1===t.search(/^http[s]?\:\/\//)?"https://"+t:(e=(e=t.split("/").pop().match(/^[\w\s-,.]+\.([a-zA-Z0-9]{3,4})/))&&e[1],t=new URL(t),t="",e&&-1!==GmPXtTest.videoFileExtns.indexOf("."+e)?t="video":"pdf"===e&&(t="pdf"),t))},GmPXtTest.getTitleEditor=function(n,t){var e="undo redo | code | bold italic underline | alignleft aligncenter alignright alignjustify",t=(t&&(e=e.replace("bold","")),GmPXtTest.getOrgColor()),s=GmPXtTest.getCustomFontStyle(),s={selector:n,height:300,min_height:200,max_chars:250,skin_url:"../../common/lib/tinymce/skins/ui/oxide",content_css:"../../common/lib/tinymce/skins/ui/oxide/content.min.css",content_style:s.innerHTML,plugins:["autolink link charmap anchor","visualblocks code","paste textpattern fullscreen"],target_list:GmPXtTest.tinymceTargetList,toolbar2:"link| forecolor backcolor | outdent indent | bullist numlist",font_formats:"Arial=arial, sans-serif;Calibri=calibri, sans-serif; Comic Sans MS='comic sans ms',sans-serif; Courier New='courier new', monospace; Cursive=cursive, sans-serif; Fantasy=fantasy, sans-serif; Frutiger=Frutiger, sans-serif; Garamond=garamond, serif; Georgia=georgia, serif; Helvetica='Helvetica Neue', Helvetica, Arial, sans-serif; Monospace=monospace, sans-serif; Narrow='arial narrow', sans-serif; Nunito='Nunito', sans-serif; Proxima Nova=proxima_nova_rgregular; Sans-Serif=Arial, Helvetica, sans-serif; Serif='times new roman', serif; Tahoma=tahoma, sans-serif; Trebuchet MS='trebuchet ms', sans-serif; Verdana=verdana, sans-serif; Wide='arial black', sans-serif;",fontsize_formats:"xx-small x-small small medium large x-large xx-large",init_instance_callback:function(t){t.name=n;var e=mg$("#"+t.id).next().find(".tox-statusbar__path"),e=(mg$('<div class="mgPlayerExtChromeTest_char_count mgPlayerExtChromeTest_display-flex mgPlayerExtChromeTest_align-items-center" style="text-align:right"></div>').insertAfter(e),mg$("#"+t.id).next().find(".tox-toolbar"));e[0].childNodes[1].firstElementChild.setAttribute("id","mgPlayerExtChromeTest_title-tool-text-color"),e[0].childNodes[1].lastElementChild.setAttribute("id","mgPlayerExtChromeTest_title-tool-bg-color"),GmPXtTest.tinymce_updateCharCounter(this,GmPXtTest.tinymce_getContentLength())},setup:GmPXtTest.tinyMcePasteSetup,paste_preprocess:GmPXtTest.tinyMcePasteProcess,menubar:"format"};return 1<t.length&&(s.color_map=t),s.toolbar1=e,s},GmPXtTest.getDescEditor=function(n,t){var e=800,t=(t&&(e=t),GmPXtTest.getOrgColor()),s=GmPXtTest.getCustomFontStyle(),s={selector:n,plugins:["advlist autolink lists link image charmap hr anchor","searchreplace visualblocks visualchars code","insertdatetime media nonbreaking save table directionality","paste textpattern fullscreen"],content_style:s.innerHTML,target_list:GmPXtTest.tinymceTargetList,toolbar1:"insertfile undo redo | code | bold italic underline | alignleft aligncenter alignright alignjustify",toolbar2:"link image | forecolor backcolor | outdent indent | bullist numlist",font_formats:"Arial=arial, sans-serif;Calibri=calibri, sans-serif; Comic Sans MS='comic sans ms',sans-serif; Courier New='courier new', monospace; Cursive=cursive, sans-serif; Fantasy=fantasy, sans-serif; Frutiger=Frutiger, sans-serif; Garamond=garamond, serif; Georgia=georgia, serif; Helvetica='Helvetica Neue', Helvetica, Arial, sans-serif; Monospace=monospace, sans-serif; Narrow='arial narrow', sans-serif; Nunito='Nunito', sans-serif; Proxima Nova=proxima_nova_rgregular; Sans-Serif=Arial, Helvetica, sans-serif; Serif='times new roman', serif; Tahoma=tahoma, sans-serif; Trebuchet MS='trebuchet ms', sans-serif; Verdana=verdana, sans-serif; Wide='arial black', sans-serif;",fontsize_formats:"xx-small x-small small medium large x-large xx-large",image_advtab:!1,media_live_embeds:!0,media_poster:!1,min_height:200,height:300,max_chars:e,skin_url:"../../common/lib/tinymce/skins/ui/oxide",content_css:"../../common/lib/tinymce/skins/ui/oxide/content.min.css",image_class_list:[{title:"Custom Class",value:"mgPlayerExtChromeTest_custom-image"}],file_picker_types:"image media",file_picker_callback:function(n,t,e){"image"==e.filetype?(mg$("#mgPlayerExtChromeTest_upload-image").val(""),mg$("#mgPlayerExtChromeTest_upload-image").trigger("click"),mg$("#mgPlayerExtChromeTest_upload-image").off("change"),mg$("#mgPlayerExtChromeTest_upload-image").on("change",function(){var t=this.files[0];if(t){var e=t.name.split(".").pop().toLowerCase();if(-1===GmPXtTest.validImageFiles.indexOf(e))return void GmPXtTest.showAlertToastMsg(GmPXtTest.label.invalidImageFileFormat)}t&&524e4<t.size?GmPXtTest.showAlertToastMsg(GmPXtTest.label.beaconMaxSizeMessage):t&&t.size<524e4&&((e=new FileReader).onload=function(t){GmPXtTest.vidImageLoader(),GmPXtTest.saveImage(t.target.result).then(function(t){GmPXtTest.removeVidImageLoader(),t&&n(t.image_path+GmPXtTest.user.cdn_signature,{alt:""}),mg$(".mgPlayerExtChromeTest_spinner-wrapper").remove()}).catch(function(t){throw new Error(t)})},e.readAsDataURL(t))})):"media"==e.filetype&&(mg$("#mgPlayerExtChromeTest_upload-video").val(""),mg$("#mgPlayerExtChromeTest_upload-video").trigger("click"),mg$("#mgPlayerExtChromeTest_upload-video").off("change"),mg$("#mgPlayerExtChromeTest_upload-video").on("change",function(){var t,e=this.files[0];e&&((t=new FileReader).onload=function(t){GmPXtTest.readFile(e,n)},t.readAsDataURL(e))}))},init_instance_callback:function(t){t.name=n;var e=mg$("#"+t.id).next().find(".tox-statusbar__path"),e=(mg$('<div class="mgPlayerExtChromeTest_char_count mgPlayerExtChromeTest_display-flex mgPlayerExtChromeTest_align-items-center" style="text-align:right"></div>').insertAfter(e),mg$("#"+t.id).next().find(".tox-toolbar"));e[1].childNodes[1].firstElementChild.setAttribute("id","mgPlayerExtChromeTest_desc-tool-text-color"),e[1].childNodes[1].lastElementChild.setAttribute("id","mgPlayerExtChromeTest_desc-tool-bg-color"),GmPXtTest.tinymce_updateCharCounter(this,GmPXtTest.tinymce_getContentLength()),t.on("ExecCommand",function(t){console.log("The "+t.command+" command was fired."),"InsertOrderedList"!==t.command&&"InsertUnorderedList"!==t.command&&"mceApplyTextcolor"!==t.command||(t=tinymce.get(tinymce.activeEditor.id).contentDocument.body)&&mg$(t).find("li").each(function(){var t=mg$(this).find("span:first");0<t.length&&(mg$(this).removeAttr("data-mce-style"),"undefined"!=t.css("color"))&&mg$(this).css("color",t.css("color"))})})},setup:GmPXtTest.tinyMcePasteSetup,paste_preprocess:GmPXtTest.tinyMcePasteProcess};return 1<t.length&&(s.color_map=t),s},GmPXtTest.tinymce_getContentLength=function(){return tinymce.get(tinymce.activeEditor.id).contentDocument.body.textContent.trim().length},GmPXtTest.tinymce_updateCharCounter=function(t,e){mg$("#"+t.id).next().find(".mgPlayerExtChromeTest_char_count").html('<div id="mgPlayerExtChromeTest_text_count-'+t.id+'">'+e+"</div>/"+t.settings.max_chars),e>t.settings.max_chars?mg$("#mgPlayerExtChromeTest_text_count-"+t.id).css("color","red"):mg$("#mgPlayerExtChromeTest_text_count-"+t.id).css("color","")},GmPXtTest.attachDragEvents=function(s,e){var r=0,o=0,i=0,a=0;function n(){document.onmouseup=null,document.onmousemove=null,document.onmouseout=null,window.matchMedia("(max-width: 480px)").matches&&(document.ontouchstart=null,document.ontouchmove=null,document.ontouchend=null)}function t(t){n(),GmPXtTest.isMicroPlayer()&&mg$("#mgPlayerExtChromeTest_micro_player_drag .mgPlayerExtChromeTest_title-tooltip-wrapper").removeAttr("style")}function m(t){GmPXtTest.timeout(function(){mg$(".mgPlayerExtChromeTest_slideshow_drag_over").hide()},GmPXtTest.t.drag),"mgPlayerExtChromeTest_mPlayer-drag"===e.id&&n()}function l(t){t.preventDefault(),t=t||window.event,window.matchMedia("(max-width: 480px)").matches&&(t.clientX=t.targetTouches[0].clientX,t.clientY=t.targetTouches[0].clientY),i=t.clientX,a=t.clientY,document.onmouseup=c,document.onmouseout=m,document.onmousemove=u,window.matchMedia("(max-width: 480px)").matches&&(document.ontouchend=c,document.ontouchcancel=m,document.ontouchmove=u),GmPXtTest.isMicroPlayer()&&mg$("#mgPlayerExtChromeTest_micro_player_drag .mgPlayerExtChromeTest_title-tooltip-wrapper").css("display","none")}function u(t){mg$(".mgPlayerExtChromeTest_slideshow_drag_over").show(),t=t||window.event;var e=mg$(window).width(),n=mg$(window).height();window.matchMedia("(max-width: 480px)").matches&&(t.clientX=t.targetTouches[0].clientX,t.clientY=t.targetTouches[0].clientY),50<t.clientX&&50<t.clientY&&t.clientX<e-50&&t.clientY<n-50&&(r=i-t.clientX,o=a-t.clientY,i=t.clientX,a=t.clientY,s.style.top=s.offsetTop-o+"px",s.style.left=s.offsetLeft-r+"px",GmPXtTest.isMicroPlayer()&&(s.style.right="initial",s.style.transition="initial"),GmPXtTest.isMicroPlayer()||mg$(s).removeClass("top-left").removeClass("top-middle").removeClass("top-right").removeClass("right-top").removeClass("right-middle").removeClass("right-bottom").removeClass("bottom-left").removeClass("bottom-middle").removeClass("bottom-right").removeClass("left-top").removeClass("left-middle").removeClass("left-bottom"))}function c(){n(),mg$(".mgPlayerExtChromeTest_slideshow_drag_over").hide()}e.onmousedown=l,e.onmouseup=t,window.matchMedia("(max-width: 480px)").matches&&(e.ontouchstart=l,e.ontouchend=t)},GmPXtTest.removeInvalidRules=function(t){for(var e=[GmPXtTest.STARTS_WITH,GmPXtTest.ENDS_WITH,GmPXtTest.EQUALS,GmPXtTest.NOT_EQUAL,GmPXtTest.CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.TXT_EQUALS,GmPXtTest.NOT_TXT,GmPXtTest.TXT_CONTAINS,GmPXtTest.TXT_MATCHES,GmPXtTest.GREAT_THAN,GmPXtTest.LESS_THAN,GmPXtTest.CLASSES,GmPXtTest.NOT_CLASSES,GmPXtTest.ATTRIBUTES,GmPXtTest.NOT_ATTRIBUTES],n=t.length-1;0<=n;n--)"Select Table"===t[n].type?(delete t[n].filteredColumns,t[n].columnConditions=t[n].columnConditions.filter(function(t){if(t.key&&t.value)return t}),0===t[n].columnConditions.length&&GmPXtTest.removeFromRuleArray(t,n)):"Select Element"===t[n].type?(GmPXtTest.isEmpty(t[n].element)||GmPXtTest.isEmpty(t[n].value)&&e.includes(t[n].condition))&&GmPXtTest.removeFromRuleArray(t,n):GmPXtTest.isEmpty(t[n].value)||GmPXtTest.isEmpty(t[n].type)||GmPXtTest.isEmpty(t[n].condition)?GmPXtTest.removeFromRuleArray(t,n):"Creation Date"===t[n].type&&t[n].userCreationDate?delete t[n].userCreationDate:"Date"===t[n].type&&t[n].date?delete t[n].date:"Time"===t[n].type&&t[n].time?delete t[n].time:0===n&&(t[n].logical_condition="");return t},GmPXtTest.removeFromRuleArray=function(t,e){""!==t[e].logical_condition&&"||"!==t[e].logical_condition||t[e+1]&&(0===e?t[e+1].logical_condition="":"&&"===t[e+1].logical_condition&&(t[e+1].logical_condition=t[e].logical_condition)),t.splice(e,1)},GmPXtTest.replaceCdnSignFromString=function(t){var e,n;return t&&(e=GmPXtTest.user.cdn_signature)&&(n=e.slice(0,5),0<(n=t.indexOf(n)))&&(e=e.slice(e.length-5,e.length),e=t.indexOf(e)+5,n=t.slice(n,e),t=t.replace(n,""),t=GmPXtTest.replaceCdnSignFromString(t)),t},GmPXtTest.replaceCdnSignFromMsgStep=function(t){var e=t.step_settings.domElems;if(e)for(var n=0;n<e.length;n++)e[n].title&&(e[n].title=GmPXtTest.replaceCdnSignFromString(e[n].title));return t},GmPXtTest.replaceCdnSignFromImgStep=function(t){var e=t.highlightedArea;if(e)for(var n=0;n<e.length;n++)e[n].title&&(e[n].title=GmPXtTest.replaceCdnSignFromString(e[n].title));return t},GmPXtTest.replaceCdnSignFromStep=function(t){switch(t.step_title=GmPXtTest.replaceCdnSignFromString(t.step_title),t.step_description=GmPXtTest.replaceCdnSignFromString(t.step_description),t.step_type){case GmPXtTest.STEP_TYPE_MESSAGE:t=GmPXtTest.replaceCdnSignFromMsgStep(t);break;case GmPXtTest.STEP_TYPE_IMAGE:t=GmPXtTest.replaceCdnSignFromImgStep(t)}return t},GmPXtTest.isDefaultIcon=function(t){return!(!t||!(0<=t.indexOf("edcast.png")||0<=t.indexOf("guidemeg.png")||0<=t.indexOf("widget_icon.png")||0<=t.indexOf("chat_bot_icon.png")||0<=t.indexOf("default")||0<=t.indexOf("myguide.png")||0<=t.indexOf(GmPXtTest.conf.appConfig.defaultIcon)))},GmPXtTest.syncPlayerInst=function(t){return"mgPlayerExtChromeTest_action:started;task:select_existing_dom_element"===t||"mgPlayerExtChromeTest_action:started;task:select_existing_dom_element:target_frame_only"===t||"mgPlayerExtChromeTest_action:started;task:select_dom_element_tooltips"===t||"mgPlayerExtChromeTest_action:task:init_new_iframe"===t||"mgPlayerExtChromeTest_action:update_player_instance"===t||"mgPlayerExtChromeTest_action:play_slideshow"===t||"mgPlayerExtChromeTest_action:play_video_step"===t||"mgPlayerExtChromeTest_action:play_image_step"===t||"mgPlayerExtChromeTest_action:click; on:mgPlayerExtChromeTest_slideshow-close"===t||"mgPlayerExtChromeTest_action:mark_auto_tour_donotshow"===t||"mgPlayerExtChromeTest_action:update_player_instance_app"===t||"mgPlayerExtChromeTest_action:set_audio_mode_off"===t||"mgPlayerExtChromeTest_action:set_audio_mode_on"===t||"mgPlayerExtChromeTest_action:close_guide"===t||"mgPlayerExtChromeTest_action:set_style_audio_icon_response"===t},GmPXtTest.syncCreateInst=function(t){return"mgPlayerExtChromeTest_action:started;task:highlight_element"===t||"mgPlayerExtChromeTest_action:started;task:edit_step_select_existing_dom_element"===t||"mgPlayerExtChromeTest_action:completed;task:edit_step_select_existing_dom_element"===t||"mgPlayerExtChromeTest_action:started;task:edit_step_select_existing_dom_element:target_frame_only"===t||"mgPlayerExtChromeTest_action:started;task:select_new_dom_element"===t||"mgPlayerExtChromeTest_action:started;task:select_new_dom_element_for_edit_step"===t||"mgPlayerExtChromeTest_action:narrow_element_selection"===t||"mgPlayerExtChromeTest_action:started;task:narrow_element_selection"===t||"mgPlayerExtChromeTest_action:expand_element_selection"===t||"mgPlayerExtChromeTest_action:started;task:expand_element_selection"===t||"mgPlayerExtChromeTest_action:started;task:select_element_for_message_step"===t||"mgPlayerExtChromeTest_action:started;task:select_element_for_branching_step"===t||"mgPlayerExtChromeTest_action:started;task:select_new_element_for_dom_select_rule"===t||"mgPlayerExtChromeTest_action:started;task:select_new_table_for_dom_select_rule"===t||"mgPlayerExtChromeTest_action:started;task:delete_element_for_message_step"===t||"mgPlayerExtChromeTest_action:started;task:select_dom_element_for_beacon"===t||"mgPlayerExtChromeTest_action:started;task:blackout_dom_element"===t||"mgPlayerExtChromeTest_action:started;task:edit_message_step_select_existing_dom_element"===t||"mgPlayerExtChromeTest_action:started;task:step_blackout_area_existing_dom_element"===t||"mgPlayerExtChromeTest_action:started;task:edit_beacon_select_existing_dom_element"===t||"mgPlayerExtChromeTest_action:started;task:edit_beacon_select_existing_dom_element:target_frame_only"===t||"mgPlayerExtChromeTest_action:started:select_new_dom_element_for_smart_tip"===t||"mgPlayerExtChromeTest_action:find_element_to_get_precision"===t||"mgPlayerExtChromeTest_action:find_element_to_get_precision_for_rules"===t||"mgPlayerExtChromeTest_action:started;task:select_dom_element_for_matching_in_rules"===t||"mgPlayerExtChromeTest_action:do;task:enable_jQuery_selector"===t||"mgPlayerExtChromeTest_action:save_step"===t||"mgPlayerExtChromeTest_action:click;on:save-beacon-settings"===t||"mgPlayerExtChromeTest_action:reselect_beacon_element"===t||"mgPlayerExtChromeTest_action:reselect_element"===t||"mgPlayerExtChromeTest_action:select_element"===t||"mgPlayerExtChromeTest_action:blackout_element"===t||"mgPlayerExtChromeTest_action:delete_step_element"===t||"mgPlayerExtChromeTest_action:find_element_precision"===t||"mgPlayerExtChromeTest_action:find_element_precision_for_rules"===t||"mgPlayerExtChromeTest_action:save_elem"===t||"mgPlayerExtChromeTest_action:update_elem_tag"===t||"mgPlayerExtChromeTest_action:select_element_tag"===t||"mgPlayerExtChromeTest_action:started;task:edit_tag_select_existing_dom_element"===t},GmPXtTest.setAutoTour=function(t){var e;window.self===window.top?localStorage.setItem(GmPXtTest.storagePrefix+"autoLaunchTour",t):(t={tourId:t},GmPXtTest.isSidePanelApp?((e={action:"mgPlayerExtChromeTest_action:set_auto_tour"}).data=t,GmPXtTest.sendToParentWindow(e)):GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:set_auto_tour",t))},GmPXtTest.getPreviousStep=function(){var t;return GmPXtTest.playerI&&(t=GmPXtTest.getPreviousStepId(GmPXtTest.playerI.currentStepId))?GmPXtTest.createDeepCopy(GmPXtTest.getStepFromPlayerI(t)):null},GmPXtTest.getPreviousStepId=function(t,e){var n=null,s=GmPXtTest.playerI.playStructure;if(1<GmPXtTest.numberOfSameTail(t,s))n=GmPXtTest.playerI.mergingFromId;else if(s&&s.length)for(var r=0;r<s.length;r++){if(s[r]&&parseInt(s[r].tail)===parseInt(t)){n=s[r].id;break}if(s[r]&&s[r].branch)for(var o=0;o<s[r].branch.length;o++)if(parseInt(s[r].branch[o].tail)===t){n="slideshow"===e?s[r].id:GmPXtTest.getPreviousStepId(s[r].id);break}}return n},GmPXtTest.getPreviousStepsList=function(t){var e=[],n=GmPXtTest.playerI.tour.tour_settings.play_structure;if(n&&n.length)for(var s=0;s<n.length;s++)if(n[s]&&parseInt(n[s].tail)===parseInt(t))e.push(n[s].id);else if(n[s]&&n[s].branch)for(var r=0;r<n[s].branch.length;r++)parseInt(n[s].branch[r].tail)===t&&e.push(n[s].id);return e},GmPXtTest.getFirstStepId=function(){var t=null,e=GmPXtTest.playerI.playStructure;return t=e&&e.length&&(e=e[0])&&e.id?e.id:t},GmPXtTest.getStepFromPlayerI=function(t){for(var e=!1,n=GmPXtTest.playerI.tour.steps,s=0;s<n.length;s++)if(parseInt(n[s].step_id)===parseInt(t)){e=n[s];break}return e},GmPXtTest.getStepFromTourData=function(t,e){for(var n=!1,s=e.steps,r=0;r<s.length;r++)if(parseInt(s[r].step_id)===parseInt(t)){n=s[r];break}return n},GmPXtTest.getNextBotStepFromTour=function(t,e){for(var n=!1,s=e.steps,r=0;r<s.length;r++)if(parseInt(s[r].step_id)===parseInt(t)){if(s[r].step_settings.automation.enableBot&&s[r].step_settings.automation.botQuestion||s[r].step_type===GmPXtTest.STEP_TYPE_GUIDE||s[r].step_type===GmPXtTest.STEP_TYPE_BRANCH||"textSlide"===s[r].step_type){n=s[r];break}t=GmPXtTest.getTail(s[r].step_id,e.tour_settings.play_structure,null,e),GmPXtTest.getNextBotStepFromTour(t,e)}return n},GmPXtTest.isGuideAudioDisabled=function(){var t;return!GmPXtTest.isEmpty(GmPXtTest.playerI)&&!GmPXtTest.isEmpty(GmPXtTest.playerI.tour)&&void 0!==(t=GmPXtTest.playerI.tour.tour_settings.disableAudio)&&t},GmPXtTest.setTourUuid=function(t){GmPXtTest.playerI.uuids||(GmPXtTest.playerI.uuids={}),GmPXtTest.playerI.uuids["tour:"+t]||(GmPXtTest.playerI.uuids["tour:"+t]=GmPXtTest.getUUID())},GmPXtTest.getGlobalAudioPrference=function(){var t=GmPXtTest.getStepSettings().playAudio;return void 0===t||t},GmPXtTest.getAudioPreference=function(t){var e=!1,t=void 0===t||!0===t;return GmPXtTest.getGlobalAudioPrference()?GmPXtTest.isGuideAudioDisabled()||t&&(e=!0):GmPXtTest.isGuideAudioEnabled()&&t&&(e=!0),e},GmPXtTest.isGuideAudioEnabled=function(){var t=GmPXtTest.playerI.tour.tour_settings.enableAudio;return void 0===t||t},GmPXtTest.isLastStep=function(t,e){var n=!1;return n=null===GmPXtTest.getTail(t,e)?!0:n},GmPXtTest.isFirstStep=function(t){if(GmPXtTest.playerI){t=t||GmPXtTest.playerI.currentStepId;if(t&&GmPXtTest.playerI.tour){var e=GmPXtTest.getGuidePlayStructure(GmPXtTest.playerI.tour);if(e&&e[0])if(e[0].id===t)return!0}}return!1},GmPXtTest.getFirstNonAutomationStep=function(){var t=null,e=GmPXtTest.getGuidePlayStructure(GmPXtTest.playerI.tour);if(e)for(var n=0;n<e.length;n++){var s=e[n],s=(s&&s.id&&(t=s.id),GmPXtTest.getStepFromPlayerI(t));if(!GmPXtTest.isAutomationStep(s))return s}},GmPXtTest.isFirstNonAutomationStep=function(){if(GmPXtTest.playerI&&GmPXtTest.playerI.currentStepId&&GmPXtTest.playerI.tour){var t=GmPXtTest.getFirstNonAutomationStep();if(t&&t.step_id===GmPXtTest.playerI.currentStepId)return!0}return!1},GmPXtTest.filterOutAutomationSteps=function(t){return t.filter(function(t){return!GmPXtTest.isAutomationStep(t)})},GmPXtTest.initGlobals=function(t,e){e&&(e.debugMode&&(GmPXtTest.debugMode=e.debugMode),e.urlParts&&(GmPXtTest.urlParts=e.urlParts),GmPXtTest.syncCreateInst(t)&&(window.self!==window.top?!e.stepReq&&null!==e.stepReq||(GmPXtTest.stepReq=e.stepReq):GmPXtTest.stepReq&&e.syncStepReq&&(GmPXtTest.stepReq=e.stepReq)),GmPXtTest.syncPlayerInst(t))&&(window.self!==window.top?!e.playerInstance&&null!==e.playerInstance||(GmPXtTest.playerI=e.playerInstance):e.playerInstance&&e.fromSidePanel&&(GmPXtTest.playerI=e.playerInstance))},GmPXtTest.verifyMsg=function(t){if(mg$(window).width()<=1||mg$(window).height()<=1)return!1;t.data=GmPXtTest.parseJSON(t.data),t.data=GmPXtTest.convertMgdata(t.data);var e,n,s,t=t.data,r=t?t.action:"";return GmPXtTest.log(3,"VERIFY MESSAGE "+r),!(!t||!r)&&(r&&-1!==r.indexOf("MyGuideReporting:Ack")&&t.data===GmPXtTest.getAppName()?void 0:(r&&-1!==r.indexOf("MyGuideReporting")&&GmPXtTest.saveAppPresence(t),e=!1,n=t.data,s=-1!==r.indexOf("mgPlayerExtChromeTest_action:"),(s="gmPlayerXt_action:init_sfdc_env"!==r&&"gmPlayerXt_action:sfdc_play_tour"!==r&&"gmPlayerXt_action:init_snow"!==r&&"myguide_action:find_element_request_from_insight"!==r&&"myguide_action:paste_tour_from_myguide_library"!==r&&"gmPlayerXt_action:snow_panel_open"!==r?s:!0)&&(t&&t.data&&"other"===t.data.sender&&(delete t.data.organization,delete t.data.user),GmPXtTest.initGlobalUser(t),GmPXtTest.initGlobals(r,n),e=!0),e))},GmPXtTest.getMsgPrefix=function(){var t="GM:action";return t=""!==GmPXtTest.conf.msgPrefix?GmPXtTest.conf.msgPrefix+"action":t},GmPXtTest.initGlobalUser=function(t){t.data&&(window.self!==window.top||t.data.fromSidePanel)&&t.data.user&&!GmPXtTest.isEmpty(t.data.user)&&GmPXtTest.updateGlobalUser(t.data.user)},GmPXtTest.getTourUuid=function(t){if(GmPXtTest.playerI.uuids&&GmPXtTest.playerI.uuids["tour:"+t])return GmPXtTest.playerI.uuids["tour:"+t];GmPXtTest.setTourUuid(t),GmPXtTest.getTourUuid(t)},GmPXtTest.editStepWrapper=function(t,e,n,s,r,o){var i=t.tour_settings,a=!1,i=(GmPXtTest.isEmpty(i.step_settings)||(a=i.step_settings),e.step_type===GmPXtTest.STEP_TYPE_INLINE&&t.tour_settings.enableBot&&(a.tourEnableBot=!0),{data:{tourId:t.tour_id,category_id:t.category_id,stepCount:t.steps.length,step:e,tourStepSettings:a,isGuide:GmPXtTest.isGuide(t),language:s,isDefaultLang:r,guideRule:t.tour_settings.rules,previousStep:n||{},enableContinueInParent:GmPXtTest.enableContinueInParent(t,e.step_order)}});if(o&&(i.data.isEditOnImage=!0),"smartTip"===e.step_type&&(i.data.appCode=GmPXtTest.appList["app:"+GmPXtTest.activeAppId].external_id),"inline"===e.step_type||"smartTip"===e.step_type||e.step_type===GmPXtTest.STEP_TYPE_EXTERNAL_AUTOMATION)i.action="mgPlayerExtChromeTest_action:edit_step,type:inline",o||(e.step_settings.element=GmPXtTest.migrateMatchAlgoSetting(e.step_settings.element));else if(GmPXtTest.isAutomationStep(e))i.action="mgPlayerExtChromeTest_action:edit_step,type:automation",o||(e.step_settings.element=GmPXtTest.migrateMatchAlgoSetting(e.step_settings.element));else if("message"===e.step_type){i.action="mgPlayerExtChromeTest_action:edit_step,type:message";var m,l=e.step_settings.domElems;for(m in l)l[m].element=GmPXtTest.migrateMatchAlgoSetting(l[m].element)}else"image"===e.step_type&&(i.action="mgPlayerExtChromeTest_action:edit_step,type:image");GmPXtTest.sendToParentWindow(i)},GmPXtTest.toastMsg=function(t){var e={message:t||"Default message"};return{show:function(){mg$("#mgPlayerExtChromeTest_toast-msg").remove();var t="<wmgPlayerExtChromeTest_ id='mgPlayerExtChromeTest_toast-msg'></wmgPlayerExtChromeTest_>";("ie"===GmPXtTest.browserApp?mg$("body"):mg$("html")).append(t),mg$("#mgPlayerExtChromeTest_toast-msg").html(e.message),mg$("#mgPlayerExtChromeTest_toast-msg").fadeIn(),GmPXtTest.timeout(function(){mg$("#mgPlayerExtChromeTest_toast-msg").fadeOut(500)},GmPXtTest.t.toastMsg)}}},GmPXtTest.showToastMsg=function(t){mg$("#mgPlayerExtChromeTest_toast-msg").html(t),mg$("#mgPlayerExtChromeTest_toast-msg").fadeIn()},GmPXtTest.hideToastMsg=function(){mg$("#mgPlayerExtChromeTest_toast-msg").fadeOut(100)},GmPXtTest.toastMsgPersistent=function(e){return{show:function(){var t="<div class='mgPlayerExtChromeTest_toast-msg-wrapper'><div id='mgPlayerExtChromeTest_toast-msg-close' >x</div>";t+="<div id='mgPlayerExtChromeTest_toast-msg-text' >"+e+"</div></div>",mg$("#mgPlayerExtChromeTest_toast-msg").html(t),mg$("#mgPlayerExtChromeTest_toast-msg").fadeIn(),mg$("#mgPlayerExtChromeTest_toast-msg-close").click(function(){GmPXtTest.toastMsgPersistent().hide()})},hide:function(){mg$("#mgPlayerExtChromeTest_toast-msg").fadeOut(500)}}},GmPXtTest.clearScreen=function(){mg$(".mgPlayerExtChromeTest_inline-step-capture-screen").remove()},GmPXtTest.unlockScroll=function(){!0===GmPXtTest.lockScrollPosition&&(GmPXtTest.lockScrollPosition=!1,mg$("html").css("overflow",""),document.removeEventListener("wheel",stopEventPropagation,!0))},GmPXtTest.getNewGroup=function(){var t=GmPXtTest.getEmptyRule();return t.logical_condition="||",[t]},GmPXtTest.showAlertToastMsg=function(t){GmPXtTest.sendToParentWindow({action:"mgPlayerExtChromeTest_action:show_toast_message",data:t})},GmPXtTest.setDefault=function(t,e,n){t[e]||(t[e]=n)},GmPXtTest.sanitizeText=function(t){return mg$("<span />").html(t).text()},GmPXtTest.sanitizeTextHtml=function(t){t=mg$.extend({},t);return t.step_audio_text&&(t.step_audio_text=GmPXtTest.sanitizeText(t.step_audio_text)),t=GmPXtTest.replaceCdnSignFromStep(t)},GmPXtTest.tinymceTargetList=[{title:"Current tab",value:"_self"},{title:"New tab",value:"_blank"}],GmPXtTest.saveImage=function(s){return new Promise(function(e,t){var n=new FormData;n.append("image_data",s.replace("data:image/jpeg;base64,","")),GmPXtTest.api.uploadFileBase64({args:n}).then(function(t){e(t.data)}).catch(function(t){e(!1)})})},GmPXtTest.tinyMcePasteSetup=function(e){var n=[8,37,38,39,40,46];e.on("init",function(t){tinyMceEditLink(e)}),e.on("keydown",function(t){return-1!=n.indexOf(t.keyCode)||!(GmPXtTest.tinymce_getContentLength()+1>this.settings.max_chars&&(t.preventDefault(),t.stopPropagation(),1))}),e.on("keyup",function(t){var e;0===GmPXtTest.tinymce_getContentLength()&&(e=angular.element(".step-create-section-container").scope())&&("#mgPlayerExtChromeTest_step_title"===this.name&&(e.step.step_title="",mg$("#mgPlayerExtChromeTest_title-tool-text-color #tox-icon-text-color__color").attr({fill:"#222f3e",stroke:"#222f3e"}),mg$("#mgPlayerExtChromeTest_title-tool-bg-color #tox-icon-highlight-bg-color__color").attr({fill:"#222f3e",stroke:"#222f3e"})),"#mgPlayerExtChromeTest_step_description"===this.name&&(e.step.step_description="",mg$("#mgPlayerExtChromeTest_desc-tool-text-color #tox-icon-text-color__color").attr({fill:"#222f3e",stroke:"#222f3e"}),mg$("#mgPlayerExtChromeTest_desc-tool-bg-color #tox-icon-highlight-bg-color__color").attr({fill:"#222f3e",stroke:"#222f3e"})),"#mgPlayerExtChromeTest_smart_textarea"===this.name&&(e.step.step_settings.smartTip.guidanceMessage=""),"#mgPlayerExtChromeTest_step_tooltip"===this.name)&&(e.stepDomElms&&(e.stepDomElms[e.elemSelectedIndex].title=""),e.tooltips)&&(e.tooltips[e.elemSelectedIndex].title=""),GmPXtTest.tinymce_updateCharCounter(this,GmPXtTest.tinymce_getContentLength())})},GmPXtTest.tinyMcePasteProcess=function(t,e){var n=tinymce.get(tinymce.activeEditor.id),s=n.contentDocument.body.textContent.trim().length,r=GmPXtTest.sanitizeText(e.content).trim().length;s+r>n.settings.max_chars?(GmPXtTest.toastMsg("Pasting this exceeds the maximum allowed number of "+n.settings.max_chars+" characters.").show(),e.content=""):GmPXtTest.tinymce_updateCharCounter(n,s+r)},GmPXtTest.tinyMCETextContentChange=function(){tinyMCE.activeEditor&&tinyMCE.activeEditor.selection&&tinyMCE.activeEditor.selection.collapse(!1)},GmPXtTest.videoReturnListener=function(e){GmPXtTest.isExtension()&&"chrome"===GmPXtTest.browserApp&&chrome.runtime.onMessage.addListener(function(t){return t=GmPXtTest.parseJSON(t),"mgPlayerExtChromeTest_action:save_video_in_background;task:upload_video;completed"===(t=GmPXtTest.convertMgdata(t)).action&&(GmPXtTest.removeVidImageLoader(),e(t.data.videoUrl+GmPXtTest.user.cdn_signature,{alt:""})),!0})},GmPXtTest.sendVideoUploadMessage=function(t,e){t={data:{videoUrl:t},action:"mgPlayerExtChromeTest_action:save_video_in_background;task:upload_video"};GmPXtTest.videoReturnListener(e),GmPXtTest.sendMessageToBackgroundService(t)},GmPXtTest.readFile=function(t,e){var n,s,r;t&&(r=((r=t.size)/1024/1024).toFixed(4),!t.type||"video/mp4"!==t.type||10<r?GmPXtTest.showAlertToastMsg(GmPXtTest.label.imgUploadErr):(mg$(".disabledSaveBtn").prop("disabled",!0),mg$(".disabledSaveBtn").addClass("mgPlayerExtChromeTest_disabled"),n=window.URL.createObjectURL(t),(s=document.getElementById("mgPlayerExtChromeTest_video-container-currupt-file-test")).src=n,void 0!==(r=s.play())&&r.then(function(){mg$(".mgPlayerExtChromeTest_screen-container").show(),GmPXtTest.vidImageLoader(),GmPXtTest.sendVideoUploadMessage(n,e),s.pause()}).catch(function(){mg$(".mgPlayerExtChromeTest_screen-container").hide(),GmPXtTest.showAlertToastMsg(GmPXtTest.label.curruptVideoFileMsg)})))},GmPXtTest.vidImageLoader=function(){mg$(".disabledSaveBtn").prop("disabled",!0),mg$(".disabledSaveBtn").addClass("mgPlayerExtChromeTest_disabled"),mg$(".tox-button").addClass("mgPlayerExtChromeTest_disabled");var t="<div class='mgPlayerExtChromeTest_spinner-wrapper'><img src='"+GmPXtTest.getBasePath("common/img/g_new_loader.gif")+"'/></div>";mg$(".tox-dialog").append(t)},GmPXtTest.removeVidImageLoader=function(){mg$(".disabledSaveBtn").prop("disabled",!1),mg$(".disabledSaveBtn").removeClass("mgPlayerExtChromeTest_disabled"),mg$(".tox-button").removeClass("mgPlayerExtChromeTest_disabled"),mg$(".mgPlayerExtChromeTest_spinner-wrapper").remove()},GmPXtTest.getStepSortedByPS=function(t,e){var n=[],s=e?GmPXtTest.getStepFromPlayerI(e):GmPXtTest.getStepFromPlayerI(t[0].id),r=(n.push(s),s.step_id);if(s.step_type!==GmPXtTest.STEP_TYPE_BRANCH||!e)for(var o=0;o<t.length;o++){var i=GmPXtTest.getTail(r,t);if(!i)break;if(!(stepToPush=GmPXtTest.getStepFromPlayerI(i)))break;if(r=stepToPush.step_id,n.push(stepToPush),stepToPush.step_type===GmPXtTest.STEP_TYPE_BRANCH&&stepToPush.step_id!==GmPXtTest.playerI.currentStepId)break}return n},GmPXtTest.isEditAnywhere=function(t){var e=t.step_type,n=t.step_settings.element;return e===GmPXtTest.STEP_TYPE_SMART_TIP?!(n.version&&GmPXtTest.decodeVersion(n.version)<2020041500||t.image_url&&0<=t.image_url.indexOf("default")):!(t.image_url&&0<=t.image_url.indexOf("default"))},GmPXtTest.getDoNotShowTours=function(e){return GmPXtTest.storage().get(["tourIdArray","tourIdOnBoardingArray"]).then(function(t){return GmPXtTest.processDoNotShowGuides(t,e)})},GmPXtTest.saveSeenToursInDb=function(t,e){GmPXtTest.isEmpty(t)||(e.viewed_guide_notifications=t,GmPXtTest.updateUserProfileSettings(e),GmPXtTest.storage().remove(["tourIdArray"]))},GmPXtTest.processDoNotShowGuides=function(t,e){var n={},s=[],r=GmPXtTest.user.settings||{};return GmPXtTest.isAnonymousUser()?(s=t.tourIdArray||{},mg$.isArray(t.tourIdOnBoardingArray)&&(s=mg$.extend({},s,GmPXtTest.arrayToObjectNot(t.tourIdOnBoardingArray)),GmPXtTest.storage().set({tourIdArray:s}),GmPXtTest.storage().remove(["tourIdOnBoardingArray"]))):(s=r.viewed_guide_notifications||{},mg$.isArray(r.viewed_onboarding_guide_notifications)&&(s=mg$.extend({},s,GmPXtTest.arrayToObjectNot(r.viewed_onboarding_guide_notifications)),delete r.viewed_onboarding_guide_notifications,GmPXtTest.saveSeenToursInDb(s,r))),Array.isArray(s)?(n=GmPXtTest.arrayToObjectNot(s),GmPXtTest.isAnonymousUser()||GmPXtTest.saveSeenToursInDb(n,r)):n=s,n},GmPXtTest.arrayToObjectNot=function(t){var e,n={};for(e in t)t[e]&&(n[t[e]]=1);return n},GmPXtTest.escapeHtml=function(t){return t=t&&t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},GmPXtTest.removeNotif=function(){mg$(".mgPlayerExtChromeTest_overlay-tours-popup").remove(),mg$(".mgPlayerExtChromeTest_overlay-container").remove()},GmPXtTest.getObjectSize=function(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n},GmPXtTest.updateUserProfileSettings=function(t){var e=GmPXtTest.user;e.settings=t,GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:update_user_data",{user:e}),GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:update_organization_data",{organization:GmPXtTest.organization})},GmPXtTest.updatePlayedSteps=function(t){GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:update_played_step",{playedStep:t})},GmPXtTest.lastCheckWidgetIcon=0,GmPXtTest.getWidgetIcon=function(){return new Promise(function(t,e){var n="common/img/widget_icon.png",n=GmPXtTest.isExtension()?GmPXtTest.getBrowserUrl(n):GmPXtTest.conf.baseUrl+n,s=GmPXtTest.getWidgetSettings();s&&s.widget_icon_path&&!GmPXtTest.isDefaultIcon(s.widget_icon_path)&&(n=s.widget_icon_path+GmPXtTest.getCdnSign()),GmPXtTest.getCurrentTimeInMilSec(),GmPXtTest.lastCheckWidgetIcon,GmPXtTest.t.refreshWidget;t(n)})},GmPXtTest.getChatIcon=function(){return new Promise(function(t,e){var n=GmPXtTest.conf.staticContentPath+"chat_bot_icon.png",s=GmPXtTest.getAppSetting();s&&s.chat_icon_path&&!GmPXtTest.isDefaultIcon(s.chat_icon_path)&&(n=s.chat_icon_path+GmPXtTest.getCdnSign()),GmPXtTest.getCurrentTimeInMilSec(),GmPXtTest.lastCheckWidgetIcon,GmPXtTest.t.refreshWidget;t(n)})},GmPXtTest.getWidgetAlignment=function(){return"right"},GmPXtTest.visibleWindow=function(t){return!(t.checkIframe&&!GmPXtTest.isEmpty(t.frame.attributes)&&!t.frame.attributes.isVisible)},GmPXtTest.getSteps=function(n){return GmPXtTest.isSidePanelApp?new Promise(function(e,t){GmPXtTest.api.getTour(n).then(function(t){e(t)})}):new Promise(function(e,t){GmPXtTest.callApi(n,"tour").then(function(t){e(t)})})},GmPXtTest.checkIfInvalidSegment=function(n){return new Promise(function(e,t){GmPXtTest.getSteps(n).then(function(t){e(t?!0:!1)})})},GmPXtTest.updatePlayStructureLinkGuide=function(t,e,n){for(var s,r=GmPXtTest.getGuidePlayStructure(t),o=(GmPXtTest.playerI?s=GmPXtTest.playerI:e&&(s=e),r[0].id),i=s.playStructure,a=!1,m=0;m<i.length;m++){if(i[m].tail===s.currentStepId)i[m].tail=o;else if(i[m].branch)for(var l=0;l<i[m].branch.length;l++)i[m].branch[l].tail===s.currentStepId&&(i[m].branch[l].tail=o);i[m].id===s.currentStepId&&(r=GmPXtTest.updatePSLastTail(r,i[m].tail),i[m].tail=null,0===m)&&(a=!0)}s.linkGuideFS=r[0].id,a&&(i[0]=r[0],r.splice(0,1),s.startStepId=i[0].id);t=mg$.extend([],i.concat(r));s.type===GmPXtTest.TOUR_PLAYER_SLIDESHOW?(GmPXtTest.playerI=s,GmPXtTest.playerI.playStructure=t):e&&!GmPXtTest.playerI?n&&n(t):GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:update_PI_PS",t)},GmPXtTest.updatePSLastTail=function(t,e){for(var n=0;n<t.length;n++)if(t[n].branch)for(var s=0;s<t[n].branch.length;s++)null===t[n].branch[s].tail&&(t[n].branch[s].tail=e);else null===t[n].tail&&(t[n].tail=e);return t},GmPXtTest.concatLinkGuideSteps=function(t,e,n,s){var r=e&&n?GmPXtTest.getCurrentStepIndex(e,n):GmPXtTest.getCurrentStepIndex(),o=[],o=e?mg$.extend([],e.steps):mg$.extend([],GmPXtTest.playerI.tour.steps);(o=e&&n?o.filter(function(t,e){return t.step_id!==n}):o.filter(function(t,e){return t.step_id!==GmPXtTest.playerI.currentStepId})).splice.apply(o,[r,0].concat(t)),GmPXtTest.playerI?(GmPXtTest.playerI.type===GmPXtTest.TOUR_PLAYER_SLIDESHOW?GmPXtTest.playerI.tour.steps=o:GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:update_PI_steps",o),GmPXtTest.playerI.totalStepCount=o.length,GmPXtTest.playerI.tour.step_count=o.length):s&&s(o)},GmPXtTest.stopNotification=function(t){var e=!1,n="";return GmPXtTest.isPlayer()||t?mg$(".mgPlayerExtChromeTest_image-step-screen").is(":visible")||mg$(".mgPlayerExtChromeTest_preview-step-popup-container").is(":visible")?(n="step is playing",e=!0):mg$(".mgPlayerExtChromeTest_user-guide-container").is(":visible")?(n="survey is open",e=!0):mg$(".mgPlayerExtChromeTest_notifcation-popup").is(":visible")?(n="org notification",e=!0):mg$(".mgPlayerExtChromeTest_slideshow-panel").is(":visible")?(n="slideshow playing",e=!0):mg$(".mgPlayerExtChromeTest_play-pause-toolbar").is(":visible")?(n="pause guide",e=!0):GmPXtTest.APP_PANEL_OPEN&&!GmPXtTest.getAppSetting("keep_player_panel_open")?(n="side panel open",e=!0):GmPXtTest.playerI?(n="tour is active",e=!0):GmPXtTest.isEmpty(GmPXtTest.testMe)||(n="test me active",e=!0):(n="app is not a player",e=!0),e&&GmPXtTest.log(10,"STOP notification because "+n),e},GmPXtTest.initializeAudio=function(e,n){try{e[0].srcObject=n}catch(t){e[0].src=window.URL.createObjectURL(n)}return(mediaRecorder=new MediaRecorder(n)).start(),mediaRecorder},GmPXtTest.populateValueField=function(t){var e,n,s;"Is Visible"===t.condition?t.condition=GmPXtTest.VISIBLE:"Is Not Visible"===t.condition&&(t.condition=GmPXtTest.NOT_VISIBLE),"Select Element"===t.type?(t.showValueField=!1,e=[GmPXtTest.STARTS_WITH,GmPXtTest.ENDS_WITH,GmPXtTest.EQUALS,GmPXtTest.NOT_EQUAL,GmPXtTest.CONTAINS,GmPXtTest.NOT_CONTAINS,GmPXtTest.TXT_EQUALS,GmPXtTest.NOT_TXT,GmPXtTest.GREAT_THAN,GmPXtTest.LESS_THAN,GmPXtTest.TXT_CONTAINS,GmPXtTest.TXT_MATCHES],s=[GmPXtTest.CLASSES,GmPXtTest.NOT_CLASSES,GmPXtTest.ATTRIBUTES,GmPXtTest.NOT_ATTRIBUTES],-1<(s=mg$.inArray(t.condition,s))?(t.txtValue||(t.txtValue=t.value),delete(n=mg$.extend({},t.element.meta.elAttributes)).tagName,t.value=s<2?n.class?n.class.replace(/ /g,", "):"":Object.keys(n).join(", "),t.showValueField=!0):-1<mg$.inArray(t.condition,e)?(t.txtValue&&(t.value=t.txtValue,t.txtValue=null),t.showValueField=!0):t.showValueField=!1):"Display Frequency"===t.type?(s=[GmPXtTest.DAY_OF_WEEK,GmPXtTest.FIX_TIME],-1<mg$.inArray(t.condition,s)?(t.value="",t.showValueField=!0):t.showValueField=!1):("Variables"===t.type&&(t.condition===GmPXtTest.IS_VALID?t.value="":t.value=GmPXtTest.getVariableValue(t.variableData)),t.showValueField=!0)},GmPXtTest.sendMsgToParentFromStepPanel=function(t,e){(e=e||{}).stepReq=GmPXtTest.stepReq,e.syncStepReq=!0,GmPXtTest.sendToParentWindow({action:t,data:e})},GmPXtTest.setCustomAttributesChecked=function(t){var e={};if(t&&t.criteria&&t.criteria.matchAttributes){var n=t.criteria.matchAttributes;if(n)for(var s in n)e[n[s]]=!0}return e},GmPXtTest.checkSalesForceSite=function(){var t=GmPXtTest.getUrl();return 0<t.indexOf("salesforce.com")||0<t.indexOf("lightning.force.com")},GmPXtTest.checkWorkdaySite=function(){return 0<GmPXtTest.getUrl().indexOf("workday.com")},GmPXtTest.checkUBS=function(){var t=GmPXtTest.getUrl();return-1<t.indexOf("ubs.net")||-1<t.indexOf("pwj.com")},GmPXtTest.checkServiceNow=function(){return-1<GmPXtTest.getUrl().indexOf("service-now.com")},GmPXtTest.getCurrentStep=function(t){t=mg$.extend({},GmPXtTest.getStepFromPlayerI(t));return t.step_description||(t.step_description=" "),t.image_url=t.image_url+GmPXtTest.getCdnSign(),t.screen_url=t.screen_url+GmPXtTest.getCdnSign(),t},GmPXtTest.getNextStep=function(){var t;return GmPXtTest.playerI&&(t=GmPXtTest.getCurrentStep(GmPXtTest.playerI.currentStepId),t=GmPXtTest.getTail(t.step_id,GmPXtTest.playerI.playStructure))?GmPXtTest.getStepFromPlayerI(t):null},GmPXtTest.getProcessedLang=function(t){t={ar:"ar-SA","ar-EG":"ar-EG","ar-SA":"ar-SA",zh:"zh-CN","zh-HK":"zh-HK","zh-CN":"zh-CN","zh-TW":"zh-TW","zh-Hant":"zh-TW",cs:"cs-CZ","cs-CZ":"cs-CZ",da:"da-DK","da-DK":"da-DK",nl:"nl-NL","nl-NL":"nl-NL",en:"",fi:"fi-FI","fi-FI":"fi-FI",fr:"fr-FR","fr-FR":"fr-FR","fr-CH":"fr-CH","fr-CA":"fr-CA",de:"de-DE","de-AT":"de-AT","de-DE":"de-DE","de-CH":"de-CH",el:"el-GR","el-GR":"el-GR",he:"he-IL","he-IL":"he-IL",hi:"hi-IN","hi-IN":"hi-IN",hu:"hu-HU","hu-HU":"hu-HU",id:"id-ID","id-ID":"id-ID",it:"it-IT","it-IT":"it-IT",ja:"ja-JP","ja-JP":"ja-JP",ko:"ko-KR","ko-KR":"ko-KR",pl:"pl-PL","pl-PL":"pl-PL",pt:"pt-PT","pt-PT":"pt-PT","pt-BR":"pt-BR",ro:"ro-RO","ro-RO":"ro-RO",ru:"ru-RU","ru-RU":"ru-RU",sk:"sk-SK","sk-SK":"sk-SK",es:"es-ES","es-ES":"es-ES","es-MX":"es-MX",sv:"sv-SE","sv-SE":"sv-SE",ta:"ta-IN","ta-IN":"ta-IN",te:"te-IN","te-IN":"te-IN",th:"th-TH","th-TH":"th-TH",tr:"tr-TR","tr-TR":"tr-TR",vi:"vi-VN","vi-VN":"vi-VN"}[t];return t||"en-US"},GmPXtTest.parseMsg=function(t){return(t=mg$.extend({},t)).data=GmPXtTest.parseJSON(t.data),GmPXtTest.log(3,"PARSE MESSAGE "+t.data.action),t.data},GmPXtTest.browserLang=GmPXtTest.getProcessedLang(window.navigator.language),GmPXtTest.checkLangExist=function(t,e){var n=!1;if(t&&!GmPXtTest.isFalse(e))for(var s=0;s<t.length;s++)if(t[s].language===e){n=!0;break}return n},GmPXtTest.removePreviewFrame=function(){mg$(".mgPlayerExtChromeTest_preview-beacon").remove(),mg$(".mgPlayerExtChromeTest_preview-smarttip").remove(),mg$(".gssSmarttip-form-submit").removeClass("mgPlayerExtChromeTest_form-submit-preview gssSmarttip-form-submit"),mg$(".mgPlayerExtChromeTest_duct-tape-invisible-preview").removeClass("mgPlayerExtChromeTest_duct-tape-invisible-preview"),mg$(".mgPlayerExtChromeTest_preview-smarttip-pwr-html").length&&mg$(".mgPlayerExtChromeTest_preview-smarttip-pwr-html").val("")},GmPXtTest.clearSession=function(){GmPXtTest.user&&(GmPXtTest.user=!1),GmPXtTest.clearBeaconsAndTooltips(!0),GmPXtTest.highlighter.clear(),GmPXtTest.playedTour=[],GmPXtTest.storage().remove(["playedTour","stepsPlayed"]),0<mg$(".mgPlayerExtChromeTest_task-list-button").length&&mg$(".mgPlayerExtChromeTest_task-list-button").remove()},GmPXtTest.clearBeaconsAndTooltips=function(t,e){if(e){if(e.length){for(var n=0;n<e.length;n++)GmPXtTest.log(43,"Clearing tooltips for tour: "+e[n]),mg$(".mgPlayerExtChromeTest_smarttip-tour-"+e[n]).remove(),mg$(".mgPlayerExtChromeTest_duct-tape-smarttip-tour-"+e[n]).removeClass("mgPlayerExtChromeTest_duct-tape-invisible"),delete GmPXtTest.onScreenTooltipGuideInfo["tour_"+e[n]];GmPXtTest.onScreenTooltipGuideIds=GmPXtTest.onScreenTooltipGuideIds.filter(function(t){return-1===e.indexOf(t)}),GmPXtTest.partialVisibleTooltipsIds=GmPXtTest.partialVisibleTooltipsIds.filter(function(t){return-1===e.indexOf(t)})}}else mg$(".mgPlayerExtChromeTest_smarttip-icon").remove(),mg$(".smarttip-guidance-msg").remove(),mg$(".mgPlayerExtChromeTest_smarttip").remove(),mg$(".mgPlayerExtChromeTest_smarttip-valid").remove(),mg$(".mgPlayerExtChromeTest_duct-tape").remove(),mg$(".mgPlayerExtChromeTest_duct-tape-invisible").removeClass("mgPlayerExtChromeTest_duct-tape-invisible");mg$(".mgPlayerExtChromeTest_beacon-icon").remove(),GmPXtTest.beaconsOnScreen=[],t||GmPXtTest.closePowerForm(),GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:forward;remove_active_smarttip_beacon",{idList:e})},GmPXtTest.closePowerForm=function(){GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:close_power_form",{})},GmPXtTest.closeAppPanel=function(){GmPXtTest.APP_PANEL_OPEN=!1,GmPXtTest.displayWidget(),GmPXtTest.displayChatIcon();var t=GmPXtTest.getWidgetAlignment();mg$(".mgPlayerExtChromeTest_panel .mgPlayerExtChromeTest_app").css(t,"-9550px"),mg$(".mgPlayerExtChromeTest_panel").css(t,"-9550px"),"right"===t&&mg$(".mgPlayerExtChromeTest_panel").css("left","initial"),(GmPXtTest.isMicroPlayer()||GmPXtTest.isWBMicroPlayer())&&(mg$(".mgPlayerExtChromeTest_panel").css("left","initial"),mg$(".mgPlayerExtChromeTest_panel").css("top","50%")),mg$(".mgPlayerExtChromeTest_panel").attr({"aria-hidden":!0,tabindex:-1}),mg$("#mgPlayerExtChromeTest_app").attr({"aria-hidden":!0,tabindex:-1}),mg$(".mgPlayerExtChromeTest_panel").focus(),GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:app_panel_closed",{})},GmPXtTest.legacyWildChar=function(t){return GmPXtTest.decodeVersion(t)<=2020063002},GmPXtTest.getMd5=function(t){return md5(t)},GmPXtTest.getAppsArray=function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n},GmPXtTest.checkGmailSite=function(){return 0===GmPXtTest.getUrl().indexOf("mail.google.com")},GmPXtTest.sendMessageToDesktopApp=function(t,e){GmPXtTest.log(38,"Send message to Desktop App - ",t,e);var n="";switch(GmPXtTest.log(33,"Sending message to CAD"),GmPXtTest.log(33,t),t){case"step_complete":n="event/step_complete?step_id="+e.step_id+"&step_order"+e.step_order;break;case"step_failed":n="event/step_failed?step_id="+e.step_id+"&tour_id="+GmPXtTest.deskReq.testCaseId+"&jobId="+GmPXtTest.deskReq.jobId;break;case"trigger_event":var s=e.step_settings.completionEvent,r=e.step_settings.automation,o="",r=(r.enableDefaultData&&(o+="value="+escape(r.defaultData)),o+="&human_interaction="+escape(r.hasHumanInteraction),r.element&&r.element.dataOptionsType&&(o+="&type="+escape(r.element.dataOptionsType)),r.file&&(o+="&filePath="+escape(r.file)),"doitforme-"+e.step_id),n="action/"+{clickNext:"click",onRightClickNext:"right-click",onKeyupNext:"keyup",onChangeNext:"change",hoverNext:"hover"}[s]+"/"+r+"?"+o;break;case"image_comparison":t="Finding image match";GmPXtTest.isEmpty(e.step_title)||(t+=" for step '<b>"+e.step_title+"</b>' "),GmPXtTest.toastMsg(t).show(),n="image_comparison/doitforme-"+e.step_id+"?";break;case"task_complete":o="";GmPXtTest.deskReq&&(GmPXtTest.deskReq.testCaseId&&(o+="tour_id="+GmPXtTest.deskReq.testCaseId),GmPXtTest.deskReq.jobId&&(o+="&jobId="+GmPXtTest.deskReq.jobId),GmPXtTest.deskReq.jobRunId&&(o+="&jobRunId="+GmPXtTest.deskReq.jobRunId),e)&&e.isError&&(o+="&isError=true&errorMessage="+e.errorMessage),e&&e.entity_code&&(o+="&entityCode="+e.entity_code),n="event/task_complete?"+o}function i(t){n+="&tabid="+t,GmPXtTest.timeout(function(){var t={url:n,stepType:e&&e.step_settings?e.step_settings.stepType:""};e&&e.step_type===GmPXtTest.STEP_TYPE_IMAGE&&(t.info=e),GmPXtTest.callApi(t,"connectMgDesktop")},3e3)}GmPXtTest.deskReq&&GmPXtTest.deskReq.driverId&&(n+="&driver="+GmPXtTest.deskReq.driverId),GmPXtTest.log(33,n),GmPXtTest.log(37,"msg send to desktop",n),GmPXtTest.isBackgroundPage?i(GmPXtTest.trackerUtil.tabId):GmPXtTest.sendMessageToBackgroundService({action:"mgPlayerExtChromeTest_action:get_current_tab_id"},i)},GmPXtTest.compareArraysByPercentMatch=function(t,e,n){return(n=n||75)<=2*t.filter(function(t){return this.has(t)},new Set(e)).length*100/(t.length+e.length)},GmPXtTest.migrateOldRules=function(t){if(t&&0<t.length)for(var e=0;e<t.length;e++){var n=t[e];-1!==n.value.indexOf("*")&&-1===n.value.indexOf("{*}")&&(n.value=n.value.replaceAll("*","{*}")),-1!==n.value.indexOf("+")&&-1===n.value.indexOf("{+}")&&(n.value=n.value.replaceAll("+","{+}"))}return t},GmPXtTest.compareObjectsByPercentMatch=function(t,e,n,s){if(!GmPXtTest.isEmpty(t)&&!GmPXtTest.isEmpty(e)){for(var r=["aria-label"],o=0,i=0,a=(s=s||Object.keys(t)).length,m=0;m<a;m++){var l=s[m];if(t.hasOwnProperty(l)&&e.hasOwnProperty(l))if(i++,"object"==typeof t[l])Array.isArray(t[l])?GmPXtTest.compareArraysByPercentMatch(t[l],e[l],50)&&o++:GmPXtTest.compareObjectsByPercentMatch(t[l],e[l],50)&&o++;else{if(r.includes(l)&&t[l]!==e[l])return!1;t[l]===e[l]&&o++}}if(!i)return!1;if((n||75)<=100*o/i)return!0}return!1},GmPXtTest.checkInsightEnabled=function(){var t=GmPXtTest.organization;return!!(t&&t.admin_settings.insights.enabled&&t.admin_settings.insights.guide)},GmPXtTest.toggleStepSelectionToolbar=function(t,e,n){t?(mg$(".mgPlayerExtChromeTest_toolbar-panel").show(),e?GmPXtTest.sendMessageToolbar("mgPlayerExtChromeTest_action:show_done_button",{isQuick:n}):GmPXtTest.sendMessageToolbar("mgPlayerExtChromeTest_action:hide_done_button"),(GmPXtTest.user.settings||{}).showToolbarTooltip&&mg$(".mgPlayerExtChromeTest_toolbar-tooltip").show()):(mg$(".mgPlayerExtChromeTest_toolbar-panel").hide(),mg$(".mgPlayerExtChromeTest_toolbar-tooltip").hide(),GmPXtTest.sendMessageToolbar("mgPlayerExtChromeTest_action:hide_done_button"),window.removeEventListener("mouseover",stopEventPropagation,!0))},GmPXtTest.resizeBase64Image=function(t,s){return new Promise(function(e){var n=new Image;n.src=t,n.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(n,0,0,this.naturalWidth,this.naturalHeight),e(t.toDataURL("image/jpeg",s))}})},GmPXtTest.getBase64ImageSize=function(t){t=t.split(",")[1],t=.75*t.length-(0<t.indexOf("=")?4-t.indexOf("="):0);return Math.round(t/1024)},GmPXtTest.toDataURL=function(t){return new Promise(function(e){var n=new XMLHttpRequest;n.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n.response)},n.open("GET",t),n.responseType="blob",n.send()})},GmPXtTest.cropTemplate=function(t,s,r,o,i){return new Promise(function(e){var n=new Image;n.src=t,n.onload=function(){var t=document.createElement("canvas");t.width=o,t.height=i,t.getContext("2d").drawImage(n,s,r,o,i,0,0,o,i),e(t.toDataURL("image/png",1))}})},GmPXtTest.getBasePath=function(t){return GmPXtTest.isExtension()?GmPXtTest.getBrowserUrl(t):GmPXtTest.conf.baseUrl+t},GmPXtTest.checkTourCreatedBefore=function(t,e){return!t.hasOwnProperty("created_version")||GmPXtTest.decodeVersion(t.created_version)<e},GmPXtTest.reassignTourURls=function(t,e){for(var n in t){var s=t[n];switch(n){case"image_url":e.image_url=s;break;case"thumbnail_url":e.thumbnail_url=s;break;case"beaconIcon":e.tour_settings.beacon.beaconIcon=s;break;case"beaconPreviewImagePath":e.tour_settings.beacon.beaconPreviewImagePath=s;break;case"beaconIcon":e.tour_settings.beacon.beaconIcon=s;break;case"first_slide_img":e.tour_settings.video_settings.first_slide_img=s;break;case"last_slide_img":e.tour_settings.video_settings.last_slide_img=s;break;case"first_slide_recorded_audio_url":e.tour_settings.video_settings.first_slide_recorded_audio_url=s;break;case"last_slide_recorded_audio_url":e.tour_settings.video_settings.last_slide_recorded_audio_url=s;break;case"pdf":e.media_files[0].pdf=s;break;case"ppt":e.media_files[0].ppt=s;break;case"text":e.media_files[0].text=s;break;case"video":e.media_files[0].video=s;break;case"doc":e.media_files[0].doc=s;break;case"gify":e.media_files[0].gify=s;break;default:e=function(t,e,n){for(var s=e.split("-")[1],r=e.split("-")[0],o=0;o<n.steps.length;o++){var i=n.steps[o];i.step_id===s&&("smartTip_icon"===r?i.step_settings.smartTip.icon=t:i[r]=t,n.steps[o]=i)}return n}(s,n,e)}}return e},GmPXtTest.replaceNthOccurence=function(t,e,n,s){var r=0;return t=t.replace(e,function(t){return++r===s?n:t})},GmPXtTest.getEtagBundle=function(t){for(var e="<CompleteMultipartUpload>",n=0;n<t.length;n++)e=(e+="<Part><PartNumber>"+(n+1))+'</PartNumber><ETag>"'+t[n]+'"</ETag></Part>';return e+="</CompleteMultipartUpload>"},GmPXtTest.getEtagFromHeader=function(t){return 0<t.indexOf("etag:")&&t.split('etag: "')[1].split('"')[0]},GmPXtTest.getTourSegmentDetail=function(t){var e=[];return t.tour_settings.segment_groups.forEach(function(t){t=GmPXtTest.getSegmentById(t);GmPXtTest.isEmpty(t)||e.push(t)}),e},GmPXtTest.getSegmentById=function(e){return GmPXtTest.allSegments?GmPXtTest.allSegments.filter(function(t){return parseInt(t.group_id)===parseInt(e)})[0]:{}},GmPXtTest.validatedSegments={},GmPXtTest.areUserSegmentsValid=function(t,e){var n=GmPXtTest.user.profile?JSON.parse(GmPXtTest.user.profile):"",s=!1,r=[];if(n&&"[object Array]"!==Object.prototype.toString.call(n))for(var o=0;o<Object.keys(n).length;o++)key=Object.keys(n)[o],value=n[key],r.push({data:value});else r=n;if(r){if(!t||!t.length)return!0;if("user"!==GmPXtTest.user.role)return!0;for(o=0;o<t.length;o++)if(!GmPXtTest.isEmpty(t[o].data)){for(var i=0;i<r.length;i++)if(r[i].id&&!GmPXtTest.isEmpty(r[i].data)&&parseInt(t[o].id)===parseInt(r[i].id)){for(var s=!1,a=0;a<t[o].data.length;a++)if(r[i].data.includes(t[o].data[a])){s=!0;break}}else if(!GmPXtTest.isDefined(r[i].id)&&!GmPXtTest.isEmpty(r[i].data))for(a=0;a<t[o].data.length;a++)if(r[i].data.includes(t[o].data[a])){s=!0;break}if(!s)break}GmPXtTest.log(68,"Valid User Segments: ",s)}return s},GmPXtTest.getSegmentSetting=function(t){var e,n,t=GmPXtTest.getSegmentById(t);if(!GmPXtTest.isEmpty(t)&&t.settings)for(var s in e=GmPXtTest.parseJSON(t.settings))if(e.hasOwnProperty(s)&&1===e[s]){n=s;break}return n},GmPXtTest.checkGuidesBasedOnSegment=function(e,r,o){var i,n,a,s,t,m,l;function u(t){n++,GmPXtTest.isTrue(t.valid)&&(GmPXtTest.validatedSegments[t.segmentId]=!0,GmPXtTest.log(68,"Validat Segment ",t)),i!==s&&e.forEach(function(t){GmPXtTest.log(68,"Check Segments in Tour: "+GmPXtTest.tourLog(t));for(var e=!1,n=t.tour_settings.segment_groups,s=0;s<n.length;s++)if(GmPXtTest.validatedSegments[n[s]]){e=!0;break}if(e&&!GmPXtTest.inArray(t.tour_id,a)&&(a.push(parseInt(t.tour_id)),i++,GmPXtTest.log(68,"VALID Tour segments: "+GmPXtTest.tourLog(t))),0<n.length)switch(GmPXtTest.getSegmentSetting(n[0])){case"show_guides_user_in_segment":e&&r(t);break;case"hide_guides_user_in_segment":case"show_guides_user_not_in_segment":e||r(t);break;default:e&&r(t)}else r(t)}),n===l&&0===i&&r({})}e&&e.length?(m=[],n=i=l=0,a=[],s=e.length,e.forEach(function(t,e){0<t.tour_settings.segment_groups.length?m.push(t.tour_settings.segment_groups):(a.push(parseInt(t.tour_id)),i++,r(t))}),t=m.reduce(function(t,e){return t.concat(e)},[]),l=(m=GmPXtTest.removeDuplicates(t)).length,m.forEach(function(t,e){GmPXtTest.log(68,"Validating Segment: ",t);var n,s=GmPXtTest.getSegmentById(t);s&&!GmPXtTest.areUserSegmentsValid(s.segments,t)?(GmPXtTest.log(68,"Invalid User Segments: ",t),u({valid:!1,segmentId:t})):GmPXtTest.validatedSegments[t]&&s&&!s.rule_check?u({valid:!0,segmentId:t}):(n=s&&s.rules&&s.rules.length?GmPXtTest.parseJSON(s.rules):[],s=s?s.title:"Segment not found",GmPXtTest.validatedSegments[t]&&delete GmPXtTest.validatedSegments[t],n={rules:n,tour:{tour_id:t,tour_settings:{},tour_title:s},timeoutVal:GmPXtTest.t.ruleTimeOut10s,timeout:GmPXtTest.t.ruleTimeOut10s,cb:u,isTour:!0,initiator:o,segmentId:t},GmPXtTest.ruleEngine.queue(n))})):r({})},GmPXtTest.takeScreenshot=function(){return new Promise(function(e,t){GmPXtTest.isElectron()?require("electron").remote.getCurrentWindow().capturePage().then(function(t){e(t.toDataURL())}):GmPXtTest.isExtension()?GmPXtTest.sendMessageToBackgroundService({action:"mgPlayerExtChromeTest_action:capture_browser_screen"},function(t){e(t.imgSrc)}):e(0)})},GmPXtTest.triggerForOtherFunctions=function(t,e){switch(t){case"mgPlayerExtChromeTest_play_step_popup_drag":case"mgPlayerExtChromeTest_play-step-popup-drag-icon":break;case"mgPlayerExtChromeTest_play-step-audio-off":GmPXtTest.previewStepPopupInstance&&GmPXtTest.previewStepPopupInstance.setOnAudioMode();break;case"mgPlayerExtChromeTest_play-step-audio-on":GmPXtTest.previewStepPopupInstance&&GmPXtTest.previewStepPopupInstance.setOffAudioMode()}},GmPXtTest.checkAndCallClick=function(t,e){GmPXtTest.isIDinGuidePlayList(t.id)?("mousedown"===e.type&&GmPXtTest.tourPlayerI.triggerMyGuideClickMouseDown(e),GmPXtTest.tourPlayerI.triggerMyGuideClick(t.id,e)):GmPXtTest.isIDinOtherList(t.id)?GmPXtTest.triggerForOtherFunctions(t.id,e):GmPXtTest.checkMyGuideClass(t.className)&&GmPXtTest.checkAndCallClick(t.parentElement,e)},GmPXtTest.checkForSVGInstance=function(t){var e=t;return e=t instanceof SVGElement?GmPXtTest.checkForSVGInstance(t.parentNode):e},GmPXtTest.registerClickListner=function(t){var e=GmPXtTest.checkForSVGInstance(t.target);e&&GmPXtTest.checkMyGuideClass(e.className)&&(GmPXtTest.checkAndCallClick(e,t),GmPXtTest.playerI)&&GmPXtTest.playerI.automate&&GmPXtTest.checkSkipStepForTracking()},GmPXtTest.isIDinOtherList=function(t){var e=!1;return e=GmPXtTest.inArrayString(t,["mgPlayerExtChromeTest_play_step_popup_drag","mgPlayerExtChromeTest_play-step-popup-drag-icon","mgPlayerExtChromeTest_play-step-audio-off","mgPlayerExtChromeTest_play-step-audio-on"])?!0:e},GmPXtTest.isIDinGuidePlayList=function(t){var e=!1;return e=GmPXtTest.inArrayString(t,["mgPlayerExtChromeTest_play_step_pause_classic","mgPlayerExtChromeTest_play_step_next","mgPlayerExtChromeTest_play_step_next_classic","mgPlayerExtChromeTest_play_step_prev","mgPlayerExtChromeTest_play_step_prev_classic","mgPlayerExtChromeTest_play_step_popup_close","mgPlayerExtChromeTest_play_step_pause","mgPlayerExtChromeTest_play_step_next_done","mgPlayerExtChromeTest_play_step_next_done_classic","mgPlayerExtChromeTest_play_step_popup_edit","mgPlayerExtChromeTest_play-step-popup-close-svg","mgPlayerExtChromeTest_play-step-popup-edit-icon","mgPlayerExtChromeTest_play-step-pause-svg"])?!0:e},GmPXtTest.tooltipTitle=function(t,e){e="<div class='mgPlayerExtChromeTest_tooltip-title-css'><style type='text/css'>."+e+" p:first-child {color: "+t.popupDesign.current.stepTitleColor+" !important; font-family: "+t.popupDesign.current.stepTitleFontFamily+" !important; font-size: "+t.popupDesign.current.stepTitleFontSize+" !important; font-weight: "+t.popupDesign.current.stepTitleFontWeight+" !important; padding-bottom: 10px !important;}</style></div>";return mg$("html").append(e)},GmPXtTest.tooltipPopupCss=function(t,e){e="<div class='mgPlayerExtChromeTest_tooltip-popup-css'><style type='text/css'>"+e+".smarttip-guidance-msg-top:before {border-top-color:"+t.popupDesign.current.bgColor+" !important;}"+e+".smarttip-guidance-msg-top:after {border-top-color:"+t.popupDesign.current.borderColor+" !important;}"+e+".smarttip-guidance-msg-right:before {border-right-color:"+t.popupDesign.current.bgColor+" !important;}"+e+".smarttip-guidance-msg-right:after {border-right-color:"+t.popupDesign.current.borderColor+" !important;}"+e+".smarttip-guidance-msg-bottom:before {border-bottom-color:"+t.popupDesign.current.bgColor+" !important;}"+e+".smarttip-guidance-msg-bottom:after {border-bottom-color:"+t.popupDesign.current.borderColor+" !important;}"+e+".smarttip-guidance-msg-left:before {border-left-color:"+t.popupDesign.current.bgColor+" !important;}"+e+".smarttip-guidance-msg-left:after {border-left-color:"+t.popupDesign.current.borderColor+" !important;}"+e+".smarttip-guidance-msg-center:before {border-left-color:"+t.popupDesign.current.bgColor+" !important;}"+e+".smarttip-guidance-msg-center:after {border-left-color:"+t.popupDesign.current.borderColor+" !important;}</style></div>";return mg$("html").append(e)},GmPXtTest.tooltipTheme=function(t,e){var n={tooltipBgColor:"",tooltipDescColor:"",tooltipDescFfamily:"",tooltipDescFsize:"",tooltipBorderC:"",tooltipBorderW:"",tooltipBorderRadius:"",tooltipMwidth:"",tooltipWidth:"",tooltipPaddingTop:"",tooltipPaddingBottom:"",tooltipPaddingLeft:"",tooltipPaddingRight:""};return t.tooltipTheme?(n.tooltipBgColor="background:"+t.popupDesign.current.bgColor+" !important; box-shadow: rgb(0 0 0 / 50%) 0 0 10px -2px !important;",n.tooltipDescColor="color:"+t.popupDesign.current.stepDescColor+" !important; ",n.tooltipDescFfamily=("font-family:"+t.popupDesign.current.stepDesFontFamily+" !important; ").replace(/'/g,'"'),n.tooltipDescFsize="font-size:"+t.popupDesign.current.stepDesFontSize+" !important; ",n.tooltipBorderC="border-color:"+t.popupDesign.current.borderColor+" !important; ",n.tooltipBorderW="border-width:"+t.popupDesign.current.borderWidth+"px !important; ",n.tooltipBorderRadius="border-radius:"+t.popupDesign.current.borderRadius+"px !important; ",n.tooltipMwidth="max-width:"+t.stepPopupWidth+"px !important; ",n.tooltipWidth="width:"+t.stepPopupWidth+"px !important; padding: 15px 15px 5px 15px !important; white-space: normal !important; line-height: initial !important;",n.tooltipPaddingTop="padding-top:"+t.popupDesign.current.padding.top+"px !important; ",n.tooltipPaddingBottom="padding-bottom:"+t.popupDesign.current.padding.bottom+"px !important; ",n.tooltipPaddingLeft="padding-left:"+t.popupDesign.current.padding.left+"px !important; ",n.tooltipPaddingRight="padding-right:"+t.popupDesign.current.padding.right+"px !important; ",GmPXtTest.tooltipPopupCss(t,e),GmPXtTest.tooltipTitle(t,"smarttip-msg-inner")):(n.tooltipBorderC="border-color:"+t.tooltipColor+" !important; ",mg$(".mgPlayerExtChromeTest_tooltip-popup-css").remove(),mg$(".mgPlayerExtChromeTest_tooltip-title-css").remove()),n},GmPXtTest.addCSSRules=function(t,e){t.push(GmPXtTest.CLASSES,GmPXtTest.NOT_CLASSES,GmPXtTest.ATTRIBUTES,GmPXtTest.NOT_ATTRIBUTES);return["INPUT","SELECT","BUTTON"].includes(e)&&t.push(GmPXtTest.DISABLED,GmPXtTest.NOT_DISABLED),t},GmPXtTest.getOptionsForSelectElRule=function(t){var e=null,n="",s=((e=t.element?t.element:e)&&(n=e.meta.tagName,e.selector)&&e.selector.js&&(i=e.selector.js[0].toLowerCase()),[GmPXtTest.EXISTS,GmPXtTest.NOT_EXISTS,GmPXtTest.VISIBLE,GmPXtTest.NOT_VISIBLE]),r="",o="",i=("INPUT"===n&&(-1<i.indexOf("radio")?(s.push(GmPXtTest.SELECTED,GmPXtTest.NOT_SELECTED),r=GmPXtTest.SELECTED):-1<i.indexOf("checkbox")&&(s.push(GmPXtTest.CHECKED,GmPXtTest.NOT_CHECKED),r=GmPXtTest.CHECKED)),t.value.trim());return(i=GmPXtTest.isEmpty(i)?!GmPXtTest.isEmpty(e.targetInfo)&&e.targetInfo.text?e.targetInfo.text.trim():GmPXtTest.isEmpty(e.meta.textPropertyValue)?"":e.meta.textPropertyValue.trim().substring(0,GmPXtTest.ruleTextLimit).trim():i)&&(o=i,s.push(GmPXtTest.TXT_EQUALS,GmPXtTest.NOT_TXT,GmPXtTest.TXT_CONTAINS,GmPXtTest.TXT_MATCHES),i.match(/\d+/g)&&s.push(GmPXtTest.GREAT_THAN,GmPXtTest.LESS_THAN),GmPXtTest.isEmpty(r))&&(r=GmPXtTest.TXT_EQUALS),GmPXtTest.addCSSRules(s,n),{conditionsArr:s,defaultCondition:r||GmPXtTest.EXISTS,value:o.trim()}},GmPXtTest.showRuleInfo=function(t){return[GmPXtTest.TXT_MATCHES,GmPXtTest.CLASSES,GmPXtTest.ATTRIBUTES,GmPXtTest.DAY_OF_WEEK,GmPXtTest.FIX_TIME,GmPXtTest.DATE_RANGE,GmPXtTest.IS_VALID].includes(t)},GmPXtTest.getGuidanceMessage=function(t){var e="";switch(t){case GmPXtTest.TXT_MATCHES:e=GmPXtTest.label.rule_textMatches;break;case GmPXtTest.CLASSES:e=GmPXtTest.label.rule_classes;break;case GmPXtTest.ATTRIBUTES:e=GmPXtTest.label.rule_attributes;break;case GmPXtTest.DAY_OF_WEEK:e=GmPXtTest.label.rule_dayOfWeek;break;case GmPXtTest.FIX_TIME:e=GmPXtTest.label.rule_fixTime;break;case GmPXtTest.DATE_RANGE:e=GmPXtTest.label.rule_dateRange;break;case GmPXtTest.IS_VALID:e=GmPXtTest.label.rule_isValid}return e},GmPXtTest.getVariableValue=function(t){for(var e=GmPXtTest.getVariableData(),n=0;n<e.length;n++)if(e[n].name===t)return e[n].value||"";return""},GmPXtTest.defaultTourUrls=function(t){return!(!GmPXtTest.isEmpty(t)&&!GmPXtTest.isDefaultIcon(t))},GmPXtTest.stringUsesVariable=function(t){return t.includes("{{")&&t.includes("}}")},GmPXtTest.replaceVariableWithValue=function(t){var e=GmPXtTest.getVariableData();if(GmPXtTest.stringUsesVariable(t))for(var n=0;n<e.length;n++){var s=new RegExp("{{(?:\\s+)?("+RegExp.escape(e[n].name)+")(?:\\s+)?}}","g");s.test(t)&&e[n].value&&(t=t.replace(s,e[n].value))}return t},GmPXtTest.replaceVariableInText=function(t){var e=new RegExp("{{(?:\\s+)?(.+?)(?:\\s+)?}}","g");return t=e.test(t)?t.replace(e,"").replace(/\s\s+/g," "):t},GmPXtTest.variableRuleExistInGuide=function(t){for(var e=0,n=t.length;e<n;e++)if("Variables"===t[e].type)return!0;return!1},GmPXtTest.updateZIndex=function(t,e){return t?(e=e?1:-1,(parseInt(t)+e).toString()):""},GmPXtTest.blockMcKessonIFrame=function(t){return!(!GmPXtTest.isMcKesson()||"dieCommFrame"!==t.name||"IFrame"!==t.id)||!!(GmPXtTest.isMcKesson()&&t&&t.src&&t.src.includes("SpinSciSnap__AgentaSnap"))},GmPXtTest.skipTags=function(t){if(GmPXtTest.isSvgTag(t.tagName))for(t=t.parentNode;t&&t.parentNode&&GmPXtTest.isSvgTag(t.tagName);)t=t.parentNode;var e;return t=GmPXtTest.checkSalesForceSite()&&(e=(t="LIGHTNING-PRIMITIVE-ICON"===t.tagName?t.parentNode:t).parentNode)&&"BUTTON"===t.tagName&&("LIGHTNING-BUTTON-ICON"===e.tagName||"LIGHTNING-BUTTON"===e.tagName)?e:t},GmPXtTest.validateUrl=function(t){return!!/^(?:(?:https?|ftp):\/\/)?(?:[\w-]+\.)+[a-z]{2,}(?::\d{2,5})?(?:\/\S*)?$/i.test(t)},GmPXtTest.trackElNotFound=function(t){GmPXtTest.log(27,"track Element Not Found")},GmPXtTest.onPopupRerender=function(){var t;0<mg$("#mgPlayerExtChromeTest_popup-reload").length&&(t=!GmPXtTest.playerI.testAutomation,GmPXtTest.confirmTourClose(t))},GmPXtTest.concatHTMLStringWithSpace=function(t){return t=(t=(t=t.split("</p>").join(" ")).split("</div>").join(" ")).split("</li>").join(" "),t=mg$("<span />").html(t).text().trim()},GmPXtTest.removeHtmlFromText=function(t){return t?String(t).replace(/<[^>]+>/gm,""):""},GmPXtTest.getSurveyCompletedData=function(t){return GmPXtTest.storage().get(["surveyCompleted"]).then(function(t){return GmPXtTest.isAnonymousUser()?t.surveyCompleted||{}:(GmPXtTest.user.settings||{}).surveyCompleted||{}})},GmPXtTest.resetElTracker=function(){window.self===window.top&&GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:reset_dom_tracker")},GmPXtTest.resetElTrackerVariable=function(){GmPXtTest.isEmpty(GmPXtTest.domSelectorTracker)||GmPXtTest.isEmpty(GmPXtTest.domSelectorTracker[GmPXtTest.id])||(GmPXtTest.domSelectorTracker={})},GmPXtTest.logElTracker=function(){window.self===window.top&&(GmPXtTest.logTrackerData=!1,GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:request_dom_tracker_info"))},GmPXtTest.shareDomTrackerInfo=function(){window.self!==window.top?(GmPXtTest.isEmpty(GmPXtTest.domSelectorTracker)&&(GmPXtTest.domSelectorTracker[GmPXtTest.id]={}),GmPXtTest.sendMessageToTheTopWindow("mgPlayerExtChromeTest_action:send_dom_tracker_info",GmPXtTest.domSelectorTracker)):GmPXtTest.combineDomTrackerData()},GmPXtTest.combineDomTrackerData=function(t){var o,i,a,m,l;window.self===window.top&&(o={},i={},l=m=a=0,t&&(GmPXtTest.domSelectorTracker=Object.assign(GmPXtTest.domSelectorTracker,t)),GmPXtTest.timeout(function(){if(!GmPXtTest.logTrackerData){for(var t in GmPXtTest.domSelectorTracker)if(!GmPXtTest.isEmpty(GmPXtTest.domSelectorTracker[t])){l++;var e,n=GmPXtTest.domSelectorTracker[t];for(e in n){var s=n[e];o[e]=s.finder,a+=s.finder,i[e]=s.query,m+=s.query}}var r="color:#00a6d9;";console.log("%cNo. of iframes Searched â",r,l),console.log("%cTotal calls to dom.finder() â",r,a),console.log("%cCalls to dom.finder() segregated by element â",r,o),console.log("%cTotal calls to dom.query() â",r,m),console.log("%cCalls to dom.query() segregated by element â",r,i),GmPXtTest.logTrackerData=!0}},1500))},GmPXtTest.handleLinkClickEvent=function(t){var e=t.currentTarget.href,n=GmPXtTest.getURLMediaType(e);n?(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),"pdf"===n?GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:open_pdf",t.target.href):GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:open_video_player",t.target.href)):GmPXtTest.isElectron()&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),GmPXtTest.redirectLinkToBrowser(t)),GmPXtTest.storage().set({linkClickOnStep:e})},GmPXtTest.isStepInlineBranch=function(t){var e=!1;return e=t&&t.step_settings&&GmPXtTest.isTrue(t.step_settings.inlineBranch)?!0:e},GmPXtTest.getVariableData=function(){var t,e=!1;return!GmPXtTest.isEmpty(GmPXtTest.appList)&&GmPXtTest.activeAppId&&GmPXtTest.appList["app:"+GmPXtTest.activeAppId]&&(t=GmPXtTest.getBaseAppId(),e=GmPXtTest.appList["app:"+t].settings.variables),e},GmPXtTest.workdayAutoClick=function(t){GmPXtTest.playerI&&(t=mg$("[data-automation-id='actionImage']")[t],mg$(t).trigger("click"))},GmPXtTest.blockAbbvieIframe=function(t){return!(!GmPXtTest.isAbbvie()||!t.id.includes("emailFrame"))},GmPXtTest.captureScreenForFeedback=function(t){t&&(GmPXtTest.mailTo=t),GmPXtTest.takeScreenshot().then(function(t){GmPXtTest.isEmpty(t)?(mg$(".mgPlayerExtChromeTest_feedback-overlay-svg-error").show(),mg$(".mgPlayerExtChromeTest_feedback-re-edit-btn").hide(),mg$("#mg-feedback-screenshot-check").removeAttr("checked")):(mg$(".mgPlayerExtChromeTest_feedback-overlay-svg-error").hide(),mg$(".mgPlayerExtChromeTest_feedback-re-edit-btn").show()),mg$("#mg-feedback-screenshot-image").attr("src",t),GmPXtTest.feedbackImgSrc=t,GmPXtTest.showFeedBackToolbar()})},GmPXtTest.showFeedBackToolbar=function(){mg$("#mg-feedback-container-wrapper").show(),GmPXtTest.showFeedBackPopup()},GmPXtTest.showFeedBackPopup=function(){mg$("DIV#mg-feedback-selector-toolbar").hide(),mg$("DIV#mg-feedback-popup").show()},GmPXtTest.showFeedBackSelectorToolbar=function(){mg$("DIV#mg-feedback-popup").hide(),mg$("DIV#mg-feedback-selector-toolbar").show()},GmPXtTest.onEditScreenshotClick=function(){GmPXtTest.showFeedBackSelectorToolbar()},GmPXtTest.onClickFeedbackHighlightArea=function(){var t=document.getElementById("mgPlayerExtChromeTest_highlight");GmPXtTest.feedbackMarkArea(t)},GmPXtTest.onClickFeedbackHideArea=function(){var t=document.getElementById("mgPlayerExtChromeTest_blackout");GmPXtTest.feedbackMarkArea(t,!0)},GmPXtTest.onClickFeedbackEditDone=function(){mg$("DIV#mg-feedback-selector-toolbar").hide(),GmPXtTest.captureScreenForFeedback()},GmPXtTest.feedbackMarkArea=function(r,n){var s=mg$("DIV#mg-feedback-selector-toolbar"),o=(s.hide(),document.getElementById("mg-feedback-flex-container")),i=(o.style.cursor="crosshair",o.style.background="transparent",0),a=0,m=0,l=0;function e(){var t=Math.min(i,m),e=Math.max(i,m),n=Math.min(a,l),s=Math.max(a,l);r.style.left=t+"px",r.style.top=n+"px",r.style.width=e-t+"px",r.style.height=s-n+"px"}function u(t){t.preventDefault(),r.style.display="block",i=t.clientX,a=t.clientY,e()}function c(t){m=t.clientX,l=t.clientY,e()}function p(t){var e={id:"r_"+Math.floor(1e3*Math.random()),element:{position:{top:a,left:i,height:l-a,width:m-i}}};r.style.display="none",o.style.cursor="default",n?(GmPXtTest.sfHideElements||(GmPXtTest.sfHideElements=[]),GmPXtTest.sfHideElements.push(e),GmPXtTest.drawArea(GmPXtTest.sfHideElements,"blackout-feedback")):(GmPXtTest.sfMarkElements||(GmPXtTest.sfMarkElements=[]),GmPXtTest.sfMarkElements.push(e),GmPXtTest.drawArea(GmPXtTest.sfMarkElements,"highlight")),o.style.background="#26273b33",s.show(),o.removeEventListener("mousedown",u),o.removeEventListener("mouseup",p),o.removeEventListener("mousemove",c)}o.addEventListener("mousedown",u),o.addEventListener("mouseup",p),o.addEventListener("mousemove",c),r.onmouseup=p},GmPXtTest.drawArea=function(t,e){var n=t;mg$("DIV.mgPlayerExtChromeTest_selector-"+e).remove();for(var s=0;s<n.length&&n[s].id;s++){var r=n[s].element.position,o='<div class="mgPlayerExtChromeTest_close-area mgPlayerExtChromeTest_'+e+'-close" id='+n[s].id+'><div class="close-text">&times;</div></div>';mg$('<div class="mgPlayerExtChromeTest_selector-'+e+'" id="mgPlayerExtChromeTest_selector-'+e+"-"+n[s].id+'">'+o+"</div>").appendTo("#mg-feedback-flex-container").css({width:r.width,height:r.height,left:r.left,top:r.top})}mg$("DIV.mgPlayerExtChromeTest_"+e+"-close").on("click",function(n){var s=[];t.forEach(function(t,e){t.id!==n.currentTarget.id&&s.push(t)}),t=s,mg$("#mgPlayerExtChromeTest_selector-"+e+"-"+n.currentTarget.id).remove()})},GmPXtTest.sendFeedback=function(){var t,e=document.getElementById("mg-feedback").value,n={};GmPXtTest.isEmpty(e)?(t={description:GmPXtTest.label.feedbackRequired,button1:GmPXtTest.label.ok},GmPXtTest.alertV2(t).show()):(n.feedbackText=e,GmPXtTest.mailTo&&(n.mailTo=GmPXtTest.mailTo),GmPXtTest.user&&(t={email:GmPXtTest.user.user_email,firstName:GmPXtTest.user.first_name,lastName:GmPXtTest.user.last_name},n.userInfo=JSON.stringify(t)),mg$("#mg-feedback-screenshot-check")[0].checked&&(n.imgSrc=GmPXtTest.feedbackImgSrc),GmPXtTest.clearFeedBackView(),GmPXtTest.api.sendFeedbackEmail(n))},GmPXtTest.clearFeedBackView=function(){mg$("#mg-feedback-container-wrapper").remove(),mg$(".mgPlayerExtChromeTest_selector-highlight").remove(),GmPXtTest.sfMarkElements=[],mg$(".mgPlayerExtChromeTest_selector-blackout-feedback").remove(),GmPXtTest.sfHideElements=[],GmPXtTest.mailTo="",GmPXtTest.openAppPanel()},GmPXtTest.numberOfSameTail=function(t,e){let n=0;if(e&&e.length)for(var s=0;s<e.length;s++)parseInt(e[s].tail)===parseInt(t)&&n++;return n},GmPXtTest.getExcludedDomainList=function(){var t=[],e=GmPXtTest.getOrgSettings();return t=e&&e.excludeDomains&&!GmPXtTest.isEmpty(e.excludeDomains)?e.excludeDomains:t},GmPXtTest.isExcludeDomain=function(){var t=!1;if(GmPXtTest.urlParts&&GmPXtTest.urlParts.fullUrl&&GmPXtTest.isPlayer()){var e=GmPXtTest.urlParts.host+GmPXtTest.urlParts.pathname,n=GmPXtTest.getExcludedDomainList();if(n)for(var s=0;s<n.length;s++)if(e&&e.toLowerCase().includes(GmPXtTest.trimAndLowerCaseURL(n[s]))){t=!0;break}}return t},GmPXtTest.getStepPosFromPs=function(t,e){for(var n="",s=t.tour_settings.play_structure,r=0;r<s.length;r++)if(s[r].id===e){n=r+1;break}return n},GmPXtTest.isValueInArray=function(t,e,n){return t.some(function(t){return t[e]===n})},GmPXtTest.checkDomainInPublishedEnv=function(t){var e,n=!1;return n=GmPXtTest.isDefined(t)&&(e=GmPXtTest.getAppEnvByDomain(),!t.includes(e))?n:!0},GmPXtTest.updateNumericKeys=function(t){var e=t.slice(-1),e=parseInt(e);return isNaN(e)?t:t.slice(0,-1)+[")","!","@","#","$","%","^","&","*","("][e]},GmPXtTest.addHttpIfMissing=function(t){return t=t.trim().startsWith("http://")||t.trim().startsWith("https://")?t:"https://"+t},GmPXtTest.isShortcutExist=function(t,e){var n=t[t.length-1];return!(0!==t.indexOf("shift+"+n)||!e||-1===e.indexOf(t))},GmPXtTest.checkScheduleTime=function(t){var e;return!(t.tour_settings&&t.tour_settings.visibilitySettings&&t.tour_settings.visibilitytimestamp&&(t=t.tour_settings.visibilitytimestamp,e=Date.now(),parseInt(e)<t))},GmPXtTest.filterScheduleTours=function(t){return t=t.filter(function(t){if(GmPXtTest.checkScheduleTime(t))return t})},GmPXtTest.getCombinedDateFromTimestamp=function(t){var t=new Date(1e3*t),e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0");return t.getFullYear()+`-${n}-`+e},GmPXtTest.compareDates=function(t,e){t=t.split("-").map(Number),e=e.split("-").map(Number);return t[0]<e[0]?-1:t[0]>e[0]?1:t[1]<e[1]?-1:t[1]>e[1]?1:t[2]<e[2]?-1:t[2]>e[2]?1:0},GmPXtTest.compareTimes=function(t,e){var t=t.split(":"),e=e.split(":"),n=parseInt(t[0],10),s=parseInt(e[0],10),t=parseInt(t[1],10),e=parseInt(e[1],10);return n<s?-1:s<n?1:t<e?-1:e<t?1:0},void 0===(GmPXtTest=void 0===GmPXtTest?{}:GmPXtTest).requestHandler&&(GmPXtTest.requestHandler={}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(!e||e<0?0:+e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),String.prototype.includes||(String.prototype.includes=function(t){return-1!==this.indexOf(t)}),Array.prototype.includes||(Array.prototype.includes=function(t){return-1!==this.indexOf(t)}),GmPXtTest.stepPopupWidth=300,GmPXtTest.stepPopupMaxHeight=400,GmPXtTest.tourActivity={},GmPXtTest.validateAlphanumeric=function(t){return!(!t||!t.trim()||!t.match(".*[a-zA-Z].*"))},GmPXtTest.validateEmpty=function(t){return!(!t||!t.trim())&&0<t.length},GmPXtTest.validateLength=function(t,e){return!(!t||!t.length)&&(t=mg$("<div />").html(t).text().trim()).length<=e},GmPXtTest.openAppPanel=function(t,e){GmPXtTest.APP_PANEL_OPEN||(GmPXtTest.removeChatIcon(),GmPXtTest.initialization&&GmPXtTest.initialization.sidePanel&&GmPXtTest.playerDomainCheck()?(GmPXtTest.hideWidgetIcon(),GmPXtTest.editStepTout&&(clearTimeout(GmPXtTest.editStepTout),mg$(".mgPlayerExtChromeTest_edit-step-loader").hide()),"byPassRoute"!==t&&"playSlideShow"!==t&&GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:open_side_panel",{action:t}),GmPXtTest.tourPlayerI&&"playSlideShow"!==t?(GmPXtTest.tourPlayerI.stop(!0),GmPXtTest.closePopup()):GmPXtTest.isAutomationRunning()&&GmPXtTest.auto.stop(!0),GmPXtTest.user&&GmPXtTest.user.user_key&&e&&!GmPXtTest.APP_PANEL_OPEN&&GmPXtTest.trackerV1.trackPanelOpen(e,t),GmPXtTest.timeout(function(){var t=GmPXtTest.getWidgetAlignment();mg$(".mgPlayerExtChromeTest_panel .mgPlayerExtChromeTest_app").css(t,"0px"),mg$(".mgPlayerExtChromeTest_panel").css(t,"0px"),GmPXtTest.isMicroPlayer()||GmPXtTest.isWBMicroPlayer()?(mg$(".mgPlayerExtChromeTest_panel .mgPlayerExtChromeTest_app").css("right","50px"),mg$(".mgPlayerExtChromeTest_panel").css("right","50px"),GmPXtTest.taskListOpen=!1):(mg$(".mgPlayerExtChromeTest_panel").removeClass("mgPlayerExtChromeTest_theme-mplayer"),mg$(".mgPlayerExtChromeTest_panel").css("top","0"),GmPXtTest.showPanelCloseBtn()),GmPXtTest.removePreviewTop(),mg$(".mgPlayerExtChromeTest_panel").attr({"aria-hidden":!1,tabindex:0}),mg$("#mgPlayerExtChromeTest_app").attr({"aria-hidden":!1,tabindex:0})},GmPXtTest.t.appPanel),GmPXtTest.smartTipPreviewOn=!1,GmPXtTest.closeNotificationPopup(!0),GmPXtTest.APP_PANEL_OPEN=!0):GmPXtTest.showPanelDisabledPopup())},GmPXtTest.showPanelDisabledPopup=function(){GmPXtTest.isExtension()&&GmPXtTest.sendMessageToBackgroundService({action:"mgPlayerExtChromeTest_action:to_background;task:show_panel_disabled_popup"})},GmPXtTest.hideTips=function(){GmPXtTest.hideBeacons(),GmPXtTest.hideSmartTips(),GmPXtTest.removePreviewTop()},GmPXtTest.filterApps=function(t,e){for(var n=[],s=0;s<t.length;s++)-1!==t[s].indexOf(e)&&n.push(t[s]);return n},GmPXtTest.getByPrecedence=function(t,e){for(var n=[],s=0;s<e.length&&!n.length&&e[s];s++)n=GmPXtTest.filterApps(t,e[s]);return n},GmPXtTest.appPrecedence=[GmPXtTest.conf.creatorApp,GmPXtTest.conf.playerExtension,GmPXtTest.conf.creatorJS,GmPXtTest.conf.playerJS],GmPXtTest.envPrecedence=["Test","Stage","Prod"],GmPXtTest.checkPrecedence=function(){var t="",e=GmPXtTest.getAppsArray(GmPXtTest.myGuideApps);return!(0!==e.length||!GmPXtTest.user)||(1===(e=1<(e=GmPXtTest.getByPrecedence(e,GmPXtTest.appPrecedence)).length?GmPXtTest.getByPrecedence(e,GmPXtTest.envPrecedence):e).length&&(t=e[0]),GmPXtTest.getAppName()===t)},GmPXtTest.getChatIconVisibility=function(){var t,e,n,s=GmPXtTest.getAppSetting();return!(GmPXtTest.isEmpty(s)||(t=s.chatBotrules||[],e=!0,!s.enable_chatbot)||(0<t.length&&""!==t[0].value&&(n=!0,GmPXtTest.isDefined(s.clientVersion)&&(n=!1),e=GmPXtTest.ruleEngine.evaluateRules(t,n)),!e&&(GmPXtTest.log(21,"RULES NOT MATCHED, Hide chat widget"),1)))},GmPXtTest.getWidgetVisibility=function(t){if(GmPXtTest.tourPlayerI&&!t)return GmPXtTest.log(8,"PLAYER INSTANCE EXIST. HIDE WIDGET "+GmPXtTest.getAppName()),!1;if(GmPXtTest.isAutomationRunning())return GmPXtTest.log(8,"AUTOMATION RUNNING. HIDE WIDGET "+GmPXtTest.getAppName()),!1;if(!GmPXtTest.checkPrecedence()&&!GmPXtTest.conf.showWidget)return GmPXtTest.log(8,"NO PREFERENCE. HIDE WIDGET "+GmPXtTest.getAppName()),!1;if(GmPXtTest.isLXP()||GmPXtTest.snowApp)return GmPXtTest.log(8,"HIDE WIDGET on LXP || snowApp"),!1;if(GmPXtTest.isMcKessonClientJS())return GmPXtTest.log(8,"HIDE WIDGET on McKesson ClientJS"),!1;t=GmPXtTest.getWidgetSettings();if(!GmPXtTest.isEmpty(t)&&t){if(GmPXtTest.isFalse(t.showWidgetIcon))return GmPXtTest.log(8,"HIDDEN IN ORG SETTINGS"),!1;var e,n=t.rules||[],s=!0;if(0<n.length&&""!==n[0].value&&(e=!0,GmPXtTest.isDefined(t.clientVersion)&&(e=!1),s=GmPXtTest.ruleEngine.evaluateRules(n,e)),!s)return GmPXtTest.log(8,"RULES NOT MATCHED, hide widget"),!1;if(t.hide_widget_if_noguide&&GmPXtTest.isPlayer()&&!GmPXtTest.ifGuidesOnCurrentPage)return GmPXtTest.log(8,"NO GUIDES ON CURRENT PAGE. HIDE WIDGET "+GmPXtTest.getAppName()),!1}else if(!GmPXtTest.conf.showWidget)return!1;return!0},GmPXtTest.displayWidget=function(t){GmPXtTest.getWidgetVisibility(t)?GmPXtTest.getWidgetInstance().length?(GmPXtTest.getWidgetInstance().show(),GmPXtTest.showCurrentPageGuidesIndicator()):GmPXtTest.showWidget():GmPXtTest.hideWidgetIcon()},GmPXtTest.displayChatIcon=function(t){GmPXtTest.organization&&GmPXtTest.isPlayer()&&GmPXtTest.isChatEnable()?GmPXtTest.getChatIconInstance().length?GmPXtTest.getChatIconInstance().show():GmPXtTest.showChatIcon():GmPXtTest.removeChatIcon()},GmPXtTest.getDocTitle=function(){for(var t=document.title,e=t.split(" "),n=[],s=0;s<e.length;s++){var r=e[s];-1!==r.indexOf("@")&&-1!==r.indexOf(".")&&"."!==r.charAt(0)?n.push(""):n.push(r)}return t=n.join(" ")},GmPXtTest.alert=function(t){var s={},r={title:(t=t||{}).title,description:t.description,callback:t.callback,type:t.type};return s.show=function(){var t="",e=(r.description&&(t="<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-content-info'>"+r.description+"</wmgPlayerExtChromeTest_>"),""),n="<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_panel-popup-ok mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_ok-btn mgPlayerExtChromeTest_inline-block-vt'>"+GmPXtTest.label.ok+"</wmgPlayerExtChromeTest_>",t=("confirm"===r.type?e="<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_panel-popup-cancel mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_btn-neutral mgPlayerExtChromeTest_inline-block-vt'>"+GmPXtTest.label.btnCancel+"</wmgPlayerExtChromeTest_>":"onboarding"===r.type&&(n="<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_panel-popup-ok mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_inline-block-vt'>"+GmPXtTest.label.btnGuideMe+"</wmgPlayerExtChromeTest_>",e="<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_panel-popup-cancel mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_inline-block-vt'>"+GmPXtTest.label.btnSkip+"</wmgPlayerExtChromeTest_>")," <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_panel-popup-outer'></wmgPlayerExtChromeTest_> <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup mgPlayerExtChromeTest_popup-info'>    <div class='mgPlayerExtChromeTest_popup-header-wrapper'>\t    <div class='mgPlayerExtChromeTest_popup-header-icon-wrapper'><div class='mgPlayerExtChromeTest_popup-header-icon'></div></div>     </div> \t  <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-content-wrapper'>"+r.title+"</wmgPlayerExtChromeTest_>"+t+"     <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-btn-wrapper'>"+n+e+"    </wmgPlayerExtChromeTest_> </wmgPlayerExtChromeTest_>");mg$("body").append(t),mg$(".mgPlayerExtChromeTest_popup-header-icon").html(GmPXtTest.svgs.popup_info),mg$(".mgPlayerExtChromeTest_panel-popup-outer").css("height",mg$(document).height()),mg$(".mgPlayerExtChromeTest_panel-popup-ok").on("click",function(){mg$.isFunction(r.callback)&&r.callback(),s.close()}),mg$(".mgPlayerExtChromeTest_panel-popup-cancel").on("click",function(){s.close()})},s.close=function(){mg$(".mgPlayerExtChromeTest_popup").remove(),mg$(".mgPlayerExtChromeTest_panel-popup-outer").remove()},s},GmPXtTest.lockScroll=function(){!1!==GmPXtTest.lockScrollPosition&&void 0!==GmPXtTest.lockScrollPosition||(GmPXtTest.lockScrollPosition=!0,mg$("html").css("overflow","hidden"))},GmPXtTest.getAutoLaunchTourId=function(){return localStorage.getItem(GmPXtTest.storagePrefix+"autoLaunchTour")},GmPXtTest.isAutoTour=function(){var t=localStorage.getItem(GmPXtTest.storagePrefix+"autoLaunchTour"),t=parseInt(t);return!isNaN(t)&&0<t},GmPXtTest.alertV2=function(t){var s={},r={description:GmPXtTest.escapeHtml((t=t||{}).description),button1:t.button1,button1Callback:t.button1Callback,button2:t.button2,button2Callback:t.button2Callback,button3:t.button3,button3Callback:t.button3Callback,keepScrollLock:t.keepScrollLock||!1,closeTour:t.closeTour||!1,showInputField:t.showInputField||!1},o=r.showInputField?"block":"none";return s.show=function(){var e=GmPXtTest.getAutoLaunchTourId(),n=GmPXtTest.playerI,t=" <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_overlay-container'></wmgPlayerExtChromeTest_><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup mgPlayerExtChromeTest_popup-info'>   <div class='mgPlayerExtChromeTest_popup-header-wrapper'>\t   <div class='mgPlayerExtChromeTest_popup-header-icon-wrapper'><div class='mgPlayerExtChromeTest_popup-header-icon'></div></div>   </div><wmgPlayerExtChromeTest_ style='display:"+o+"'><input type='text' class='mgPlayerExtChromeTest_popup-input-field' maxlength='1000' /></wmgPlayerExtChromeTest_><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-content-wrapper'>"+r.description+"</wmgPlayerExtChromeTest_><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-btn-wrapper'>";r.button1&&(t+="<wmgPlayerExtChromeTest_ title='"+r.button1+"' aria-label='"+r.button1+"' class='mgPlayerExtChromeTest_popup-ok-btn mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_ok-btn mgPlayerExtChromeTest_text-overflow-ellipsis mgPlayerExtChromeTest_inline-block-vt'>"+r.button1+"</wmgPlayerExtChromeTest_>"),r.button3&&(t+="<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-play-inapp mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_ok-btn mgPlayerExtChromeTest_inline-block-vt' aria-label='"+r.button3+"'>"+r.button3+"</wmgPlayerExtChromeTest_>"),r.button2&&(t+="<wmgPlayerExtChromeTest_ title='"+r.button2+"' aria-label='"+r.button2+"' class='mgPlayerExtChromeTest_popup-cancel-btn mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_text-overflow-ellipsis mgPlayerExtChromeTest_inline-block-vt'>"+r.button2+"</wmgPlayerExtChromeTest_>"),t+="</wmgPlayerExtChromeTest_>",n&&e&&e===n.tour.tour_id&&(t+="<wmgPlayerExtChromeTest_><input type='checkbox' class='mgPlayerExtChromeTest_popup-checkbox mgPlayerExtChromeTest_input-checkbox-custom'>"+GmPXtTest.label.doNotShowAgain+"</wmgPlayerExtChromeTest_></wmgPlayerExtChromeTest_>"),mg$("html").append(t),mg$(".mgPlayerExtChromeTest_popup-header-icon").html(GmPXtTest.svgs.popup_info),mg$(".mgPlayerExtChromeTest_popup").on("mousedown",function(t){GmPXtTest.stopPropagation(t)}),mg$(".mgPlayerExtChromeTest_overlay-container").on("mousedown",function(t){GmPXtTest.stopPropagation(t)}),mg$(".mgPlayerExtChromeTest_popup-ok-btn").on("click",function(t){GmPXtTest.stopPropagation(t);t=mg$(".mgPlayerExtChromeTest_popup-input-field").val();n&&e&&e===n.tour.tour_id&&(0<mg$(".mgPlayerExtChromeTest_popup-checkbox:checkbox:checked").length?GmPXtTest.setDoNotShowTours(n.tour):GmPXtTest.setSnoozedTour(n.tour)),r.closeTour=!1,s.close(),mg$.isFunction(r.button1Callback)&&r.button1Callback(t)}),mg$(".mgPlayerExtChromeTest_popup-play-inapp").on("click",function(t){GmPXtTest.stopPropagation(t),s.close(),mg$.isFunction(r.button3Callback)&&r.button3Callback()}),mg$(".mgPlayerExtChromeTest_popup-cancel-btn").on("click",function(t){GmPXtTest.stopPropagation(t),s.close(r.keepScrollLock),mg$.isFunction(r.button2Callback)&&r.button2Callback()}),mg$(".mgPlayerExtChromeTest_popup-close-button").on("click",function(t){GmPXtTest.stopPropagation(t),s.close(r.keepScrollLock)})},s.close=function(t){t||GmPXtTest.unlockScroll(),r.closeTour&&GmPXtTest.cleanPlayer(),GmPXtTest.closePopup()},s},GmPXtTest.showForceMode=function(){GmPXtTest.closePopup();var t="<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_overlay-container'></wmgPlayerExtChromeTest_><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup mgPlayerExtChromeTest_popup-info'>   <div class='mgPlayerExtChromeTest_popup-header-wrapper'>\t   <div class='mgPlayerExtChromeTest_popup-header-icon-wrapper'><div class='mgPlayerExtChromeTest_popup-header-icon'></div></div>   </div><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-content-wrapper'>"+GmPXtTest.escapeHtml(GmPXtTest.label.userNotFollowingGuideMessage)+"</wmgPlayerExtChromeTest_><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-btn-wrapper'><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_btn-continue-guide mgPlayerExtChromeTest_ok-btn mgPlayerExtChromeTest_inline-block-vt'>"+GmPXtTest.label.continueGuide+"</wmgPlayerExtChromeTest_><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_btn-neutral mgPlayerExtChromeTest_btn-exit-guide mgPlayerExtChromeTest_inline-block-vt'>"+GmPXtTest.label.exitGuide+"</wmgPlayerExtChromeTest_></wmgPlayerExtChromeTest_></wmgPlayerExtChromeTest_>";mg$("html").append(t),GmPXtTest.stopAudioTrack(),mg$(".mgPlayerExtChromeTest_popup-header-icon").html(GmPXtTest.svgs.popup_info),GmPXtTest.enforceGuideMePopup=!0,GmPXtTest.pauseAutomation();t=(mg$(window).height()-mg$(".mgPlayerExtChromeTest_popup").height())/2;function e(t){GmPXtTest.stopPropagation(t),GmPXtTest.closePopup(),GmPXtTest.enforceGuideMePopup=!1,GmPXtTest.playerI&&GmPXtTest.resumeAutomation()}mg$(".mgPlayerExtChromeTest_popup").css("top",t),mg$(".mgPlayerExtChromeTest_btn-continue-guide").on("click",e),mg$(".mgPlayerExtChromeTest_btn-exit-guide").on("click",function(t){GmPXtTest.isExitSurvey()&&GmPXtTest.showExitSurvey(),GmPXtTest.tourPlayerI&&GmPXtTest.tourPlayerI.stop(),e(t)}),mg$(".mgPlayerExtChromeTest_popup-close-button").on("click",e)},GmPXtTest.firstStepAutoLaunch=function(){var t=GmPXtTest.playerI&&GmPXtTest.playerI.tour,e=GmPXtTest.user&&GmPXtTest.user.settings.viewed_guide_notifications||{},n=!1;return n=GmPXtTest.isAutoTour()&&GmPXtTest.isFirstNonAutomationStep()&&(!GmPXtTest.isDefined(e[t.tour_id])||e[t.tour_id]<parseInt(t.version))?!0:n},GmPXtTest.showAutoLaunchCloseOptions=function(t,e){t={tour:t};e&&(t.isTour=!0,t.okClose=e),GmPXtTest.showPushOptions(t).show()},GmPXtTest.pauseAutomation=function(){GmPXtTest.playerI&&GmPXtTest.playerI.automate&&(GmPXtTest.playerI.pauseAutomate=!0,GmPXtTest.sendMessageToSyncPlayerI())},GmPXtTest.resumeAutomation=function(){GmPXtTest.playerI&&(GmPXtTest.playerI.pauseAutomate=!1,GmPXtTest.sendMessageToSyncPlayerI())},GmPXtTest.sendMessageToSyncPlayerI=function(){var t={};t.playerInstance=GmPXtTest.playerI,GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:sync_playerinstance_for_automation",t)},GmPXtTest.getUrlParameter=function(t){var e=decodeURIComponent(GmPXtTest._location().search.substring(1));return GmPXtTest.getParameterValue(t,e)},GmPXtTest.getParameterValue=function(t,e){if(t&&e)for(var n,s=e.split("&"),r=0;r<s.length;r++)if((n=s[r].split("="))[0]===t)return void 0===n[1]||n[1];return!1},GmPXtTest.setCookie=function(t,e,n){document.cookie=t+"="+e+";path=/"},GmPXtTest.getCookie=function(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),s=0;s<n.length;s++){for(var r=n[s];" "==r.charAt(0);)r=r.substring(1);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return""},GmPXtTest.hideTooltipDelay=function(t,e){var n;window.self===window.top?GmPXtTest.hideTooltipTimeout=GmPXtTest.timeout(function(){GmPXtTest.hideTooltip(t,e)},GmPXtTest.t.hiteTooltip):(n={stepId:t.step_id,options:e},GmPXtTest.sendMessageToTheTopWindow("mgPlayerExtChromeTest_action:hide_smarttip_delay",n))},GmPXtTest.clearTooltipTimeout=function(){window.self===window.top?clearTimeout(GmPXtTest.hideTooltipTimeout):GmPXtTest.sendMessageToTheTopWindow("mgPlayerExtChromeTest_action:clear_smarttip_delay_timeout")},GmPXtTest.hideValidationTooltip=function(t,e){e={stepId:t.step_id,showGuidanceTooltip:e};window.self===window.top?GmPXtTest.requestHandler.hideValidationSmarttip(e):GmPXtTest.sendMessageToTheTopWindow("mgPlayerExtChromeTest_action:hide_validation_smarttip",e),mg$("#mgPlayerExtChromeTest_smarttip-valid-"+t.step_id).hide()},GmPXtTest.hideTooltip=function(t,e){t={stepId:t.step_id};window.self===window.top?GmPXtTest.requestHandler.hideSmartTip(t,e):GmPXtTest.sendMessageToTheTopWindow("mgPlayerExtChromeTest_action:hide_smarttip",t)},GmPXtTest.validateDateFormat=function(t){var e,n,s,t=/^(\d{1,2})[:](\d{1,2})[:](\d{4})$/.exec(t)||/^(\d{1,2})[-](\d{1,2})[-](\d{4})$/.exec(t)||/^(\d{1,2})[/](\d{1,2})[/](\d{4})$/.exec(t);return null!=t&&(e=t[2],n=t[1]-1,t=t[3],(s=new Date(t,n,e)).getDate()==e)&&s.getMonth()==n&&s.getFullYear()==t},GmPXtTest.validateTimeFormat=function(t){return!(8<t.length)&&(t.length<6?/^(0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/:/(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)/).test(t)},GmPXtTest.validateNumeric=function(t){var e,n=!0;if(0===t.length)return!1;for(i=0;i<t.length&&!0===n;i++)e=t.charAt(i),-1=="0123456789.-".indexOf(e)&&(n=!1);return n},GmPXtTest.validatePhonenumber=function(t){return/^[1-9][0-9]{4,14}$/.test(t)},GmPXtTest.validateEmail=function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},GmPXtTest.validateRegex=function(t,e){return new RegExp(t).test(e)},GmPXtTest.getBulletCount=function(t){return(t.match(/<li/g)||[]).length},GmPXtTest.validateWebUrl=function(t){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/.test(t)},GmPXtTest.getMatchingFrame=function(t,e,n){for(var s=0,r=t.length;s<r;s++)if((frame=t[s]).contentWindow==e.source){n.found=!0,n.frame=frame;break}return n},GmPXtTest.addFrameOffset=function(t,e){var n={found:!1,frame:null},s=document.getElementsByTagName("iframe");return(n=GmPXtTest.getMatchingFrame(s,t,n)).found||(s=document.getElementsByTagName("frame"),n=GmPXtTest.getMatchingFrame(s,t,n)),n.found||(s=GmPXtTest.getIframesFromShadowDom(),n=GmPXtTest.getMatchingFrame(s,t,n)),n.found&&(s=n.frame.getBoundingClientRect(),e.left+=s.left,e.top+=s.top),e.windowWidth=mg$(window).width(),e.windowHeight=mg$(window).height(),e},GmPXtTest.addScrollOffset=function(t,e){var n;return e||(e=mg$(window).scrollTop(),n=mg$(window).scrollLeft(),t.left+=n,t.origTop=t.top,t.top+=e),t},GmPXtTest.extractFileName=function(t){var e=t.split("/");return 1<e.length?GmPXtTest.conf.webServiceUrl+e[e.length-1]:t},GmPXtTest.clearPreviewPopupAlignment=function(t){t.removeClass("top-left").removeClass("top-middle").removeClass("top-right").removeClass("right-top").removeClass("right-middle").removeClass("right-bottom").removeClass("bottom-left").removeClass("bottom-middle").removeClass("bottom-right").removeClass("left-top").removeClass("left-middle").removeClass("left-bottom")},GmPXtTest.alignMessagePreview=function(t,e,n,s){GmPXtTest.clearPreviewPopupAlignment(t);var r=t.width(),o=t.height(),i=e.width(),a=e.height(),m=(i-r)/2,l=0;if(r&&o){switch(n){case"top":l=20,m=(i-r)/2;break;case"center":l=(a-o)/2,m=(i-r)/2;break;case"bottom":l=a-o-20,m=(i-r)/2;break;case"left-top":m=l=20;break;case"left-center":l=(a-o)/2,m=20;break;case"left-bottom":l=a-o-20,m=20;break;case"right-top":m=i-r-(l=20);break;case"right-center":l=(a-o)/2,m=i-r-20;break;case"right-bottom":l=a-o-20,m=i-r-20;break;case"custom":l=s.elementTop*a/100,m=s.elementLeft*i/100}t.css({left:m,top:l,position:"fixed"})}},GmPXtTest.closeNotificationPopup=function(t){GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:close_notification_popup",{isSidePanelOpen:t})},GmPXtTest.removePreviewTop=function(){GmPXtTest.removePreviewFrame(),GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:remove_preview")},GmPXtTest.hideSmartTipsIfOptionON=function(){var t=GmPXtTest.organization;t&&t.admin_settings.show_tooltips_during_workflow_guide||GmPXtTest.hideSmartTips()},GmPXtTest.hideSmartTips=function(){mg$(".mgPlayerExtChromeTest_smarttip-icon").addClass("tooltip-hidden"),mg$(".mgPlayerExtChromeTest_smarttip").addClass("tooltip-hidden"),mg$(".mgPlayerExtChromeTest_smarttip-valid").addClass("tooltip-hidden"),GmPXtTest.smarttipAreHidden=!0,GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:hide_all_smarttip")},GmPXtTest.showSmartTips=function(t){GmPXtTest.tourPlayerI&&!t||GmPXtTest.isSurveyVisible||(mg$(".mgPlayerExtChromeTest_smarttip-icon").removeClass("tooltip-hidden"),mg$(".mgPlayerExtChromeTest_smarttip").removeClass("tooltip-hidden"),mg$(".mgPlayerExtChromeTest_smarttip-valid").removeClass("tooltip-hidden"),GmPXtTest.smarttipAreHidden=!1,GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:show_all_smarttip"))},GmPXtTest.previewSmartTips=function(t){mg$(".mgPlayerExtChromeTest_smarttip-icon-wrapper-"+t).removeClass("tooltip-hidden"),mg$(".mgPlayerExtChromeTest_smarttip-icon-wrapper-"+t).show(),GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:show_preview_smarttip",{id:t})},GmPXtTest.hideBeacons=function(){mg$(".mgPlayerExtChromeTest_beacon-icon").addClass("mgPlayerExtChromeTest_hidden"),mg$("#mgPlayerExtChromeTest_beacon-icon-pos-select").show(),GmPXtTest.beaconsAreHidden=!0,GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:hide_beacons")},GmPXtTest.showBeacons=function(t){GmPXtTest.tourPlayerI&&!t||GmPXtTest.isSurveyVisible?GmPXtTest.log(48,"STOP showing beacons. player instance || survey on screen"):(mg$(".mgPlayerExtChromeTest_beacon-icon").removeClass("mgPlayerExtChromeTest_hidden"),mg$("#mgPlayerExtChromeTest_beacon-icon-pos-select").hide(),GmPXtTest.beaconsAreHidden=!1,GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:show_beacons"))},GmPXtTest.previewBeacons=function(t){mg$(".mgPlayerExtChromeTest_beacon-icon-tour-"+t).removeClass("mgPlayerExtChromeTest_hidden"),GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:show_preview_beacons",{id:t})},GmPXtTest.getScrollParent=function(t){var e;return null==t||1!==t.nodeType||"body"==(e=(e=t.tagName)&&e.toLowerCase())||"html"==e?null:"visible"!==getComputedStyle(t).overflowY&&t.scrollHeight>t.clientHeight+5?t:GmPXtTest.getScrollParent(t.parentNode)},GmPXtTest.setPopUpForImage=function(t,n){GmPXtTest.setImagePopUp();mg$(n).addClass("mgPlayerExtChromeTest_play-step-popup-loader");var s,r,o=mg$(n+" img");o.each(function(t){var e=mg$(n)[0].innerHTML,t=o[t].outerHTML;r=e.replace(t,"<div class='mgPlayerExtChromeTest_display-inline-block mgPlayerExtChromeTest_position-relative mgPlayerExtChromeTest_step-img-popup-cont'><div class='mgPlayerExtChromeTest_step-img-popup-overlay'></div><div class='mgPlayerExtChromeTest_full-screen-icon-cont'><button class='mgPlayerExtChromeTest_full-screen-icon'>&#x26F6;</button></div>"+t+"</div>"),mg$(n)[0].innerHTML=r}).addClass("mgPlayerExtChromeTest_custom-image"),mg$(".mgPlayerExtChromeTest_full-screen-icon").html(GmPXtTest.svgs.fullscreen),mg$(".mgPlayerExtChromeTest_full-screen-icon").on("click",function(t){var e=document.getElementById("mgPlayerExtChromeTest_img_desc"),n=this.closest(".mgPlayerExtChromeTest_step-img-popup-cont").getElementsByTagName("img")[0],n=(s=n.src,document.getElementsByClassName("mgPlayerExtChromeTest_image-popup")[0]);GmPXtTest.stopPropagation(t),n.style.display="block",e.src=s,mg$(".mgPlayerExtChromeTest_preview-step-popup-container").css({"z-index":"2147483646"})}),mg$(n+" img").on("load",function(){GmPXtTest.alignPopupI&&GmPXtTest.alignPopupI.redo(),mg$(n).removeClass("mgPlayerExtChromeTest_play-step-popup-loader")})},GmPXtTest.getText=function(t){return t=t&&mg$("<gssdummy />").html(t).text()},GmPXtTest.singleLineTitle=function(t){var e="";return e=t&&t.length<28?"mgPlayerExtChromeTest_nowrap-div":e},GmPXtTest.setLinkClickhandler=function(t,e){t&&-1!==t.indexOf("<a ")&&mg$(e+" a").each(function(){mg$(e+" a").on("click",function(t){GmPXtTest.handleLinkClickEvent(t)})})},GmPXtTest.getPageHostPathName=function(){return GmPXtTest._location().hostname+GmPXtTest._location().pathname},GmPXtTest.getAppName=function(){var t=GmPXtTest.conf.appName;return GmPXtTest.isPlayer()&&!GmPXtTest.playerMode&&(t+=GmPXtTest.conf.appType),t+GmPXtTest.conf.env},GmPXtTest.reportPresence=function(){var t={action:"MyGuideReporting",data:GmPXtTest.getAppName()};GmPXtTest.log(63,"Broadcast presence of: "+GmPXtTest.getAppName()),GmPXtTest.sendToParentWindow(t)},GmPXtTest.setOnAudioMode=function(){GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:set_audio_mode_on")},GmPXtTest.setOffAudioMode=function(){GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:set_audio_mode_off")},GmPXtTest.setOnOnBoarAudioMode=function(){mg$(".mgPlayerExtChromeTest_tooltip-title-mute").show(),mg$(".mgPlayerExtChromeTest_tooltip-title-unmute").hide(),mg$(".mgPlayerExtChromeTest_onboarding-audio-off").hide(),mg$(".mgPlayerExtChromeTest_onboarding-audio-on").show(),mg$(".mgPlayerExtChromeTest_onboarding-audio").addClass("playing-audio")},GmPXtTest.setOffOnBoarAudioMode=function(){mg$(".mgPlayerExtChromeTest_tooltip-title-mute").hide(),mg$(".mgPlayerExtChromeTest_tooltip-title-unmute").show(),mg$(".mgPlayerExtChromeTest_onboarding-audio-on").hide(),mg$(".mgPlayerExtChromeTest_onboarding-audio-off").show(),mg$(".mgPlayerExtChromeTest_onboarding-audio").removeClass("playing-audio")},GmPXtTest.getBoundingRect=function(t){try{return t.getBoundingClientRect()}catch(t){return!1}},GmPXtTest.getElVisibility=function(t,e){var n="visible";if(!e&&function(t){if(t&&GmPXtTest.checkUBS())for(var e=t;e&&e!==document;){if(e.classList.contains("drawer-dialog")||"BRML-DRAWER"===e.tagName)return 1;e=i(e)}return}(t))return"visible";if(t&&a(t,!0)){var s=GmPXtTest.getBoundingRect(t);if(!s)return"hidden";var r=s.left+s.width/2,o=s.top+s.height/2,r=(r>window.innerWidth?r=s.left+(window.innerWidth-s.left)/2:r<0&&(r=(s.left+s.width)/2),o>window.innerHeight?o=s.top+(window.innerHeight-s.top)/2:o<0&&(o=(s.top+s.height)/2),m(".mgPlayerExtChromeTest_smarttip-icon"),m(".mgPlayerExtChromeTest_beacon-icon"),document.elementFromPoint(r,o));if(!e&&function(t){if(GmPXtTest.checkUBS()&&t&&"BR-PLUTUX-RCAP-GEN5"===t.tagName){var e=t.shadowRoot;if(e&&(e=mg$(e).find("BR-PLUTUX-CONTEXT-BASED-DRAWERS-GEN5")).length){e=e[0].shadowRoot;var n,s=mg$(e).children();for(n in s){var r=s[n];if(r.tagName&&r.tagName.includes("-DRAWER-GEN5")&&(e=r.shadowRoot,(e=mg$(e).find("BRML-DRAWER")).length)&&(e=e[0].shadowRoot,(e=mg$(e).find("DIV.drawer-dialog")).length))return 1}}}return}(r))return"hidden";l(".mgPlayerExtChromeTest_smarttip-icon"),l(".mgPlayerExtChromeTest_beacon-icon"),null===(r=null===r&&null===(r=null===(r=null===(r=document.elementFromPoint(s.left,s.top))?document.elementFromPoint(s.left+s.width,s.top):r)?document.elementFromPoint(s.left,s.top+s.height):r)?document.elementFromPoint(s.left+s.width,s.top+s.height):r)?n="hidden":t===r||GmPXtTest.isMyGuideEl(r)||(o=void 0!==t.getRootNode&&t.getRootNode()instanceof ShadowRoot,mg$.contains(r,t)||o&&!e?function(t,e,n){var s=!0;for(;e!==t&&e!==document;)if(e&&GmPXtTest.checkUBS()&&e.classList.contains("hydrated"))e=i(e);else if(!(e=i(e))||!a(e,n)){s=!1;break}return s}(r,t,o)||GmPXtTest.checkServiceNow()||(n="hidden"):mg$.contains(r,t)||mg$.contains(t,r)||!t.parentNode||mg$.contains(t.parentNode,r)||!function(t,e){var n=GmPXtTest.getBoundingRect(t),s=e.getBoundingClientRect();if(s.height<n.height||s.width<n.width){for(var r=e;r!==document&&!mg$.contains(r.parentNode,t);)if((r=r.parentNode).offsetHeight>n.height&&r.offsetWidth>n.width)return 1;if(GmPXtTest.checkSalesForceSite()){var o=mg$(e).parents("lightning-calendar");if(o.length&&GmPXtTest.dom.levelCheck(o[0],e,10))return 1}}else{var o=.2*n.width,e=.2*n.height,i=n.left+o,o=n.right-o,a=n.top+e,e=n.bottom-e;if(s.top<=n.top&&s.bottom>=n.bottom&&s.left<=n.left&&s.right>=n.right)return 1;if(document.elementFromPoint(i,a)!==t&&document.elementFromPoint(o,a)!==t&&document.elementFromPoint(i,e)!==t&&document.elementFromPoint(o,e)!==t)return 1}return}(t,r)||(n="hidden"))}else n="hidden";function i(t){if(t){var e=t.parentElement||t.getRootNode().host||t.getRootNode();if(e!==t)return e}return null}function a(t,e){if(mg$(t).is(":visible")){t=getComputedStyle(t);if("hidden"!==t.visibility&&!(parseInt(t.opacity)<=0)){if(e){if(parseInt(t.height)<=0||parseInt(t.width)<=0)return;if("fixed"===t.position&&(parseInt(t.left)+parseInt(t.width)<=0||parseInt(t.top)+parseInt(t.height)<=0))return}return 1}}}function m(t){mg$(t).css("pointer-events","none")}function l(t){mg$(t).css("pointer-events","initial")}return n},GmPXtTest.getTagName=function(t){var e=t.match(/^(.*?)\[/g);return null===e?(e=t.match(/^(.*?)(:visible|:eq)/g))[0].replace(/:visible|:eq/g,""):e[0].replace(/\[/g,"")},GmPXtTest.alignImageStepPreview=function(t,e,n,s,r){GmPXtTest.clearPreviewPopupAlignment(t);var o=t.width(),i=t.height(),a=e.width(),m=e.height(),l=(a-o)/2,u=0;if(o&&i){switch(n){case"top":u=20,l=(a-o)/2;break;case"center":u=(m-i)/2,l=(a-o)/2;break;case"bottom":u=m-i-20,l=(a-o)/2;break;case"left-top":l=u=20;break;case"left-center":u=(m-i)/2,l=20;break;case"left-bottom":u=m-i-20,l=20;break;case"right-top":l=a-o-(u=20);break;case"right-center":u=(m-i)/2,l=a-o-20;break;case"right-bottom":u=m-i-20,l=a-o-20;break;case"custom":u=r.elementTop*m/100,l=r.elementLeft*a/100}!0===s&&(u+=e.scrollTop(),l+=e.scrollLeft()),u+=e.offset().top,l+=e.offset().left,t.css({left:l,top:u})}},GmPXtTest.isLooping=function(){var t=GmPXtTest.playerI,e=!1;return 0<t.loops-t.currentLoop&&(e=!0,GmPXtTest.log(33,"Current loop: "+t.currentLoop)),e},GmPXtTest.isCurrentHost=function(t){return!(!GmPXtTest.urlParts||-1===GmPXtTest.urlParts.host.indexOf(t))},GmPXtTest.openPowerForm=function(t){window.self===window.top?GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:show_power_form",t):GmPXtTest.sendMessageToTheTopWindow("mgPlayerExtChromeTest_action:open_power_form",t)},GmPXtTest.rotateGear=function(){var t=1,e=null,n="#mgPlayerExtChromeTest_auto-progress-",s="mgPlayerExtChromeTest_active-progress",e=setInterval(function(){1!==t&&!mg$(n+(t-1)).hasClass(s)||mg$(n+t).addClass(s),3<++t&&clearInterval(e)},900)},GmPXtTest.removeTooltips=function(t){GmPXtTest.log(43,"REMOVE Tooltip"+GmPXtTest.tourLog(t));for(var e=0;e<t.steps.length;e++){var n=t.steps[e],s={step_id:n.step_id,tour_id:t.tour_id};GmPXtTest.inTopWindow(n.step_settings)?GmPXtTest.requestHandler.removeToolip(s):GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:remove_tooltip",s),"injector"===t.steps[e].step_settings.smartTip.type&&GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:remove_power_form",s)}},GmPXtTest.updateBeaconsOnScreen=function(t,e){var n;window.self===window.top?(t=parseInt(t),n=GmPXtTest.beaconsOnScreen.indexOf(t),e&&n<0?(GmPXtTest.beaconsOnScreen.push(t),GmPXtTest.log(49,"ADDED on screen: "+t),GmPXtTest.auto.setBeaconsAutoDataToStorage(GmPXtTest.beaconsOnScreen),GmPXtTest.setBeaconsDisplayFrequency(t)):e||(GmPXtTest.beaconsOnScreen.splice(n,1),GmPXtTest.log(49,"REMOVED from screen: "+t))):GmPXtTest.sendMessageToTheTopWindow("mgPlayerExtChromeTest_action:update_beacons_on_screen",{jobId:t,isValid:e})},GmPXtTest.setOnScreenTooltipGuideInfo=function(t){GmPXtTest.log(43,"INFO SET: "+GmPXtTest.tourLog(t));var e="tour_"+t.tour_id;GmPXtTest.onScreenTooltipGuideInfo[e]?GmPXtTest.onScreenTooltipGuideInfo[e].total=t.steps.length:GmPXtTest.onScreenTooltipGuideInfo[e]={total:t.steps.length,visible:[],watchRules:t.tour_settings.ruleCheckOnClick},GmPXtTest.onScreenTooltipGuideInfo[e].rules=t.tour_settings.rules.map(function(t){return t.type}),GmPXtTest.isAutomationRunning()&&(GmPXtTest.tooltipInfoForAutomation=Object.assign({},GmPXtTest.onScreenTooltipGuideInfo))},GmPXtTest.updateOnScreenTooltipGuideIds=function(t,e){var n=GmPXtTest.onScreenTooltipGuideIds.indexOf(e),s=GmPXtTest.partialVisibleTooltipsIds.indexOf(e);t.total===t.visible.length?n<0&&(GmPXtTest.onScreenTooltipGuideIds.push(e),GmPXtTest.log(43,"ADDED on screen: "+e),0<=s)&&GmPXtTest.partialVisibleTooltipsIds.splice(s,1):(0<=n&&(GmPXtTest.onScreenTooltipGuideIds.splice(n,1),GmPXtTest.log(43,"REMOVED from screen: "+e)),0===t.visible.length?0<=s&&(GmPXtTest.partialVisibleTooltipsIds.splice(s,1),GmPXtTest.log(43,"REMOVED from screen (ALL HIDDEN): "+e)):s<0&&(GmPXtTest.partialVisibleTooltipsIds.push(e),GmPXtTest.log(43,"ADDED on screen (PARTIALLY): "+e)))},GmPXtTest.updateOnScreenTooltipGuideInfo=function(t,e,n,s,r,o){var i,a;window.self===window.top?(i=GmPXtTest.onScreenTooltipGuideInfo["tour_"+e],s&&GmPXtTest.setTooltipRenderInfo(t,e,n,r,o),i&&(a=i.visible.indexOf(n),s?a<0&&(i.visible.push(n),GmPXtTest.log(43,"VISIBLE: "+GmPXtTest.stepLog(n,e)),GmPXtTest.isAutomationRunning())&&GmPXtTest.tooltipInfoForAutomation["tour_"+e].visible.push(n):0<=a&&(i.visible.splice(a,1),GmPXtTest.log(43,"HIDDEN: "+GmPXtTest.stepLog(n,e))),GmPXtTest.updateOnScreenTooltipGuideIds(i,e),GmPXtTest.auto.setTooltipAutoDataToStorage(GmPXtTest.tooltipInfoForAutomation))):GmPXtTest.sendMessageToTheTopWindow("mgPlayerExtChromeTest_action:update_smarttip_on_screen",{tour:t,tourId:e,stepId:n,isValid:s,smartTip:r,url:o})},GmPXtTest.getTooltipName=function(t){var e="";switch(t){case"disableElement":e="digital_duct_tape";break;case"injector":e="power_html";break;case"formSubmit":e="form_submit";break;case"both":e="guidance_validation";break;default:e=t}return e},GmPXtTest.clearDataOnLogout=function(t){GmPXtTest.beaconTours=[],GmPXtTest.beaconsOnScreen=[],GmPXtTest.urlBasedTours=[],GmPXtTest.tooltipTours=[],GmPXtTest.fTags=[],GmPXtTest.onScreenTooltipGuideInfo={},GmPXtTest.onScreenTooltipGuideIds=[],GmPXtTest.partialVisibleTooltipsIds=[],GmPXtTest.closeNotificationPopup(),GmPXtTest.trackerV1.trackPageVisit(),GmPXtTest.creatorInterval&&clearInterval(GmPXtTest.creatorInterval),t.instantReLogin&&GmPXtTest.loginUsingAuthKey(),GmPXtTest.inPlayer&&t.startInterval&&GmPXtTest.startReloginInterval(),(GmPXtTest.isClientJs()||GmPXtTest.isCreatorJS())&&GmPXtTest.trackerV1.sendEvents(!0),GmPXtTest.storage().remove(["trackingTours","guideTrackingInProcess","userPulsePayloadTime","tooltipTrackData"]),GmPXtTest.user=!1,GmPXtTest.organization=!1,GmPXtTest.clearSession(),GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:clear_session")},GmPXtTest.startReloginInterval=function(){GmPXtTest.log(21,"Start re-login Interval"),GmPXtTest.reloginInterval&&clearInterval(GmPXtTest.reloginInterval),GmPXtTest.reloginInterval=setInterval(function(){GmPXtTest.user?(GmPXtTest.log(21,"CLEAR: re-login interval"),clearInterval(GmPXtTest.reloginInterval)):(GmPXtTest.log(21,"RE-LOGIN using orgkey"),GmPXtTest.storage().remove(["user"]).then(function(){GmPXtTest.log(21,"CLEARED user data "),GmPXtTest.loginUsingAuthKey()}))},GmPXtTest.t.autoRelogin)},GmPXtTest.checkIfSurveySubmitted=function(n,s,t,e){var r=!1;GmPXtTest.storage().get(["surveyCompleted"]).then(function(t){function e(t,e){return!e[s.tourId]||t>e[s.tourId]}s.instance={tour:{tour_settings:n.tour.tour_settings}},r=GmPXtTest.isAnonymousUser()?(0===GmPXtTest.getObjectSize(t)&&(t.surveyCompleted={}),e(parseInt(s.version),t.surveyCompleted)):((t=GmPXtTest.user.settings||{}).surveyCompleted=t.surveyCompleted||{},e(parseInt(s.version),t.surveyCompleted))}).then(function(){e&&e(r)})},GmPXtTest.showSurveyScreen=function(s,r){return new Promise(function(e,t){if(GmPXtTest.isSurveyVisible=!1,r)GmPXtTest.isSurveyVisible=!0,GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:exit_survey_start;task:show_survey",s),e(GmPXtTest.isSurveyVisible);else if("stepPlay"===s.type)GmPXtTest.isSurveyVisible=!0,GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:survey_start;task:show_survey",s),e(GmPXtTest.isSurveyVisible);else{var n=mg$.extend({},s.playerInstance);if(GmPXtTest.isEmpty(n))return;GmPXtTest.checkIfSurveySubmitted(n,s,r,function(t){t&&(GmPXtTest.isSurveyVisible=!0,GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:survey_start;task:show_survey",s)),e(GmPXtTest.isSurveyVisible)})}GmPXtTest.isSidePanelApp||GmPXtTest.closeAppPanel()})},GmPXtTest.checkCurrentStepSurvey=function(t){return"survey"===GmPXtTest.getCurrentStep(t.currentStepId).step_type},GmPXtTest.getSurveyScreen=function(o,i){return new Promise(function(e,t){var n,s,r;GmPXtTest.playerI&&GmPXtTest.isLooping()?e(!1):o&&o.tour&&GmPXtTest.checkInsightEnabled()&&(n={tourId:(n=o.tour).tour_id,version:n.version,playerInstance:o},i?o&&GmPXtTest.checkCurrentStepSurvey(o)?(r=(s=GmPXtTest.getCurrentStep(o.currentStepId)).step_settings.sentiment,n.data={},n.data.sentimentCode=r.sentiment_code,n.step=s,n.type="stepPlay",GmPXtTest.showSurveyScreen(n,!1,i).then(function(){e(!0)})):GmPXtTest.isExitSurvey()&&(GmPXtTest.isPlayer()?GmPXtTest.showSurveyScreen(n,!0).then(function(){e(!0)}):((r=GmPXtTest.tourPlayerI)&&r.closeGuide(),e(!0))):GmPXtTest.showSurvey(o)&&GmPXtTest.isPlayer()&&(n.type="guide",GmPXtTest.showSurveyScreen(n).then(function(t){e(t)})))})},GmPXtTest.showSurvey=function(t){var e=t.tour;return!!(e.is_published&&e.tour_settings.enableSentiment&&t.completeEventTracked&&GmPXtTest.isLastStep(t.currentStepId,t.playStructure))||!(GmPXtTest.playerI||!e||!e.is_published||!e.tour_settings.enableSentiment)},GmPXtTest.getOpacity=function(t){var e=0,t=t.step_settings;return e=t&&GmPXtTest.isNumeric(t.overlayOpacity)?parseInt(t.overlayOpacity):e},GmPXtTest.recordGuideEvents=function(){var e,n,t=GmPXtTest.playerI;t&&0!==t.length&&(GmPXtTest.isFirstNonAutomationStep()&&(t.firstStepPlayed=!0),e=t.tour,GmPXtTest.guidePlayTracker["tour:"+e.tour_id]||GmPXtTest.setGuidePlayTracker(e.tour_id),!0!==t.completeEventTracked&&!0===t.firstStepPlayed&&GmPXtTest.isLastStep(t.currentStepId,t.playStructure)&&(t.completeEventTracked=!0,GmPXtTest.guidePlayTracker["tour:"+e.tour_id][n="guide_complete"]=1,t.linkedGuides)&&t.linkedGuides.forEach(function(t){GmPXtTest.guidePlayTracker["tour:"+t]||GmPXtTest.setGuidePlayTracker(t),GmPXtTest.guidePlayTracker["tour:"+t]&&(GmPXtTest.guidePlayTracker["tour:"+t][n]=1,GmPXtTest.guidePlayTracker["tour:"+t].play_instance_id=GmPXtTest.guidePlayTracker["tour:"+e.tour_id].play_instance_id)}),t.linkedGuides&&t.linkedGuides.forEach(function(t){GmPXtTest.guidePlayTracker["tour:"+t]&&(GmPXtTest.guidePlayTracker["tour:"+t].play_instance_id=GmPXtTest.guidePlayTracker["tour:"+e.tour_id].play_instance_id)}),GmPXtTest.isLastStep(t.currentStepId,t.playStructure))&&GmPXtTest.tourActivity["t:"+t.tour.tour_id]&&(delete GmPXtTest.tourActivity["t:"+t.tour.tour_id],GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:update_tour_activity",{tourActivity:GmPXtTest.tourActivity}))},GmPXtTest.isClickInStepPopup=function(t){return!!(mg$(t.target).parents(".mgPlayerExtChromeTest_preview-step-popup-container").length||mg$(t.target).hasClass("mgPlayerExtChromeTest_image-popup")||mg$(t.target).parents(".mgPlayerExtChromeTest_image-popup").length||mg$(t.target).hasClass("mgPlayerExtChromeTest_icon-image-prev-button")||mg$(t.target).parents(".mgPlayerExtChromeTest_icon-image-prev-button").length||mg$(t.target).hasClass("mgPlayerExtChromeTest_image-step-prev")||mg$(t.target).parents(".mgPlayerExtChromeTest_play-pause-toolbar").length||mg$(t.target).hasClass("mgPlayerExtChromeTest_popup")||mg$(t.target).parents(".mgPlayerExtChromeTest_popup").length||mg$(t.target).hasClass("mgPlayerExtChromeTest_overlay-container"))},GmPXtTest.isClickInSurveyPopup=function(t){return!!mg$(t.target).parents(".mgPlayerExtChromeTest_survey-popup-wrapper").length},GmPXtTest.getSingleVisibility=function(t){return!("none"===mg$(t).css("display")||"hidden"===mg$(t).css("visibility")||!mg$(t).is(":visible"))},GmPXtTest.getVisibilityTillParent=function(t){if(!t||!GmPXtTest.getSingleVisibility(t))return!1;for(var e=!0,n=mg$(t).add(mg$(t).parents()),s=0;s<n.length;s++)if(!GmPXtTest.getSingleVisibility(n[s])){e=!1;break}return e},GmPXtTest.confirmTourClose=function(t){var e=GmPXtTest.playerI,n=GmPXtTest.tourPlayerI;e&&n&&(e.currentStepId&&e.playStructure&&null!==GmPXtTest.getTail(e.currentStepId,e.playStructure)&&GmPXtTest.isExitSurvey()&&GmPXtTest.isPlayer()&&GmPXtTest.showExitSurvey(),n.closeGuide(t))},GmPXtTest.requiredWidth=function(){return 550<mg$(window).width()},GmPXtTest.getPopupHtml=function(t,e,n){return" <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_overlay-container'></wmgPlayerExtChromeTest_><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup mgPlayerExtChromeTest_popup-info' id='mgPlayerExtChromeTest_popup-reload'>   <div class='mgPlayerExtChromeTest_popup-header-wrapper'>\t   <div class='mgPlayerExtChromeTest_popup-header-icon-wrapper'><div class='mgPlayerExtChromeTest_popup-header-icon'></div></div>   </div> <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-content-wrapper'>"+t+"</wmgPlayerExtChromeTest_> <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-btn-wrapper'>   <button title='"+e+"' aria-label='"+e+"' class='mgPlayerExtChromeTest_popup-ok-btn mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_ok-btn mgPlayerExtChromeTest_text-overflow-ellipsis mgPlayerExtChromeTest_inline-block-vt mgPlayerExtChromeTest_lbl-btn'>"+e+"</button>   <button title='"+n+"' aria-label='"+n+"' class='mgPlayerExtChromeTest_popup-cancel-btn mgPlayerExtChromeTest_btn-default mgPlayerExtChromeTest_text-overflow-ellipsis mgPlayerExtChromeTest_inline-block-vt mgPlayerExtChromeTest_lbl-btn'>"+n+"</button> </wmgPlayerExtChromeTest_></wmgPlayerExtChromeTest_>"},GmPXtTest.getKeyShortPopupHtml=function(t){var e="";if(t&&t.length)for(var n=0;n<t.length;n++)e=e+"<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-row-content-wrapper'><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-colmn-content-wrapper mgPlayerExtChromeTest_col-lt' > "+t[n].tour_settings.keyboardKeyInput+" : </wmgPlayerExtChromeTest_><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-colmn-content-wrapper mgPlayerExtChromeTest_col-rt' > "+t[n].tour_title+" </wmgPlayerExtChromeTest_></wmgPlayerExtChromeTest_>";else e="<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-row-content-wrapper'><wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-colmn-content-wrapper' > No shortcuts available </wmgPlayerExtChromeTest_> </wmgPlayerExtChromeTest_>";return"<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup mgPlayerExtChromeTest_popup-info mgPlayerExtChromeTest_popup-keyshort' id='mgPlayerExtChromeTest_popup-reload'>   <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-header-wrapper'>\t   <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-keyshort-header-title'>Keyboard shortcuts</wmgPlayerExtChromeTest_>\t   <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-keyshort-close'>"+GmPXtTest.label.close+"</wmgPlayerExtChromeTest_>   </wmgPlayerExtChromeTest_> <wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-content-wrapper'>  \t<wmgPlayerExtChromeTest_ class='mgPlayerExtChromeTest_popup-main-content-wrapper'>"+e+" \t</wmgPlayerExtChromeTest_> </wmgPlayerExtChromeTest_></wmgPlayerExtChromeTest_>"},GmPXtTest.stopPropagation=function(t){t.stopImmediatePropagation()},GmPXtTest.addPopupEvents=function(t,e,n){mg$(".mgPlayerExtChromeTest_popup").on("mousedown",GmPXtTest.stopPropagation),mg$(".mgPlayerExtChromeTest_overlay-container").on("mousedown",GmPXtTest.stopPropagation),mg$(".mgPlayerExtChromeTest_popup-ok-btn").on("click",t),mg$(".mgPlayerExtChromeTest_popup-cancel-btn").on("click",e),mg$(".mgPlayerExtChromeTest_popup-close-button").on("click",n),mg$(".mgPlayerExtChromeTest_popup-keyshort-close").on("click",t)},GmPXtTest.showPushOptions=function(r){var o={};return o.show=function(){GmPXtTest.isAutoNotifEnable=!0;var t=GmPXtTest.label.notifSnoozeDonotMsg,e=GmPXtTest.label.neverShowAgain,n=GmPXtTest.label.watchLater;function s(){var t;r.slideshow?(GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:stop_slideshow"),GmPXtTest.cleanPlayer()):r.isTour&&((t=GmPXtTest.playerI)&&GmPXtTest.isExitSurvey()&&GmPXtTest.isPlayer()&&!GmPXtTest.isLastStep(t.currentStepId,t.playStructure)&&GmPXtTest.showExitSurvey(),r.okClose())}mg$("html").append(GmPXtTest.getPopupHtml(t,e,n)),mg$(".mgPlayerExtChromeTest_popup-header-icon").html(GmPXtTest.svgs.popup_info),GmPXtTest.addPopupEvents(function(t){GmPXtTest.stopPropagation(t),GmPXtTest.setDoNotShowTours(r.tour),s(),o.close()},function(t){GmPXtTest.stopPropagation(t),GmPXtTest.setSnoozedTour(r.tour),s(),o.close()},function(t){GmPXtTest.stopPropagation(t),o.close()})},o.close=function(){GmPXtTest.unlockScroll(),GmPXtTest.closePopup()},o},GmPXtTest.closePopup=function(){mg$(".mgPlayerExtChromeTest_popup").remove(),mg$(".mgPlayerExtChromeTest_overlay-container").remove()},GmPXtTest.showExitSurvey=function(t){var e=GmPXtTest.playerI;GmPXtTest.unlockScroll(),mg$(".mgPlayerExtChromeTest_popup").remove(),GmPXtTest.getSurveyScreen(e,!0)},GmPXtTest.zoomImage=function(t,e){t&&-1!==t.indexOf("<img ")&&-1===t.indexOf('src=""')&&(window.self===window.top?GmPXtTest.setPopUpForImage(t,e):GmPXtTest.setZoomImageFromIframe(t,e))},GmPXtTest.redirectLinkToBrowser=function(t){t=t.target.href;require("electron").shell.openExternal(t)},GmPXtTest.setLinkGuidePlay=function(t,e){mg$(e+" a").each(function(){"gssPlayGuide"===mg$(this).attr("target")&&mg$(this).on("click",function(t){var e=(e=mg$(this).attr("href")).split("?")[1],n=GmPXtTest.getParameterValue("guideMe-tourId",e),e=GmPXtTest.getParameterValue("automation",e);n&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),t="true"===e?"doitforme":"urlTour",GmPXtTest.tourPlayerI&&GmPXtTest.tourPlayerI.stop(),window.self===window.top?GmPXtTest.getTourAndPlay(n,t):GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:play_guide_from_link",{tourId:n,initiator:t}))})})},GmPXtTest.saveAppPresence=function(e){function n(){var t;GmPXtTest.myGuideApps[e.data]=!0,"MyGuideReporting"===e.action&&(t={action:"MyGuideReporting:Ack",data:GmPXtTest.getAppName()},GmPXtTest.log(63,"Send acknowledgement of: "+t.data),GmPXtTest.sendToParentWindow(t)),GmPXtTest.log(63,"MyGuide apps found: ",GmPXtTest.myGuideApps)}e=GmPXtTest.convertMgdata(e),GmPXtTest.conf.appConfig.requireLogin&&!GmPXtTest.isClientJs()?GmPXtTest.storage().get(["login_state"]).then(function(t){t.login_state&&n()}):n()},GmPXtTest.isLessThan=function(t,e){return null==t||t<e},GmPXtTest.isGreaterThan=function(t,e){return null==t||e<t},GmPXtTest.setSnoozedTours=function(n,s){GmPXtTest.storage().get(["toursClosed","tourIdArray"]).then(function(t){GmPXtTest.showSnoozeMessage(s,n);var e=GmPXtTest.parseJSON(t.toursClosed);0===GmPXtTest.getObjectSize(e)&&(e={}),mg$.isArray(n)?n.forEach(function(t){e[t.tour_id]=(new Date).getTime()+":"+parseInt(t.version)}):e[n.tour_id]=(new Date).getTime()+":"+parseInt(n.version),GmPXtTest.storage().set({toursClosed:JSON.stringify(e)}),GmPXtTest.updNotifDataSidePanel(e,t.tourIdArray)})},GmPXtTest.showSnoozeMessage=function(t,e){var n=GmPXtTest.getSleepTime(GmPXtTest.label);n!=="0 "+GmPXtTest.label.hour&&GmPXtTest.toastMsg(t+n).show()},GmPXtTest.updNotifDataSidePanel=function(t,e){t={toursClosed:t,tourIdArray:""};GmPXtTest.isAnonymousUser()&&(t.tourIdArray=e),GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:update_notification_info",t)},GmPXtTest.updateNotification=function(n){GmPXtTest.storage().get(["toursClosed"]).then(function(t){var e=GmPXtTest.user.settings||{};e.viewed_guide_notifications=n,GmPXtTest.isAnonymousUser()?GmPXtTest.storage().set({tourIdArray:n}):GmPXtTest.updateUserProfileSettings(e),GmPXtTest.updNotifDataSidePanel(GmPXtTest.parseJSON(t.toursClosed),n)})},GmPXtTest.setSnoozedTour=function(t){var e=GmPXtTest.label.pushTourSnoozeMsg+" ";GmPXtTest.setSnoozedTours(t,e)},GmPXtTest.isTourDisplayFrequencyReached=function(t){var e=GmPXtTest.user.settings.display_frequency_guides||{};if(!GmPXtTest.isEmpty(e)){e=e[parseInt(t.tour_id)];if(GmPXtTest.isDefined(e)&&parseInt(e.version)===parseInt(t.version)&&t.tour_settings.displayFrequencyTimes-e.playedCount<=0)return!0}return!(!t.tour_settings.displayFrequency||1!==t.tour_settings.displayFrequencyTimes)},GmPXtTest.setDoNotShowTours=function(e){GmPXtTest.isTourDisplayFrequencyReached(e)||GmPXtTest.getDoNotShowTours(!1).then(function(t){(doNotShowTours=t)[e.tour_id]=parseInt(e.version),GmPXtTest.updateNotification(doNotShowTours)})},GmPXtTest.setDefaultStepSetting=function(t,e,n){t.step_settings[e]&&"keepNext"!==t.step_settings[e]||(t.step_settings[e]=n)},GmPXtTest.getHostErrorId=function(){var t,e={"workday.com":["#errorWidgetMessageCount"],"coupahost.com":["#dynamic_errors","#errorExplanation"]};for(t in e)if(e.hasOwnProperty(t)&&GmPXtTest.isCurrentHost(t))return e[t];return[]},GmPXtTest.checkHostError=function(t){for(var e=GmPXtTest.getHostErrorId(),n=0;n<e.length;n++)if((t=e[n])&&0<mg$(t).length)return!0;return!1},GmPXtTest.checkForErrorOnScreen=function(){var t,e=!1;return GmPXtTest.checkHostError()?(e=!0,GmPXtTest.log(33,"Error on screen."),t=GmPXtTest.label.hostJsError,GmPXtTest.toastMsgPersistent(t).show()):GmPXtTest.toastMsgPersistent().hide(),e},GmPXtTest.isParentElementId=function(t,e){t=mg$(t);return 0<t.add(t.parents()).filter(function(){return mg$(this).attr("id")===e}).length},GmPXtTest.setZoomImageFromIframe=function(t,e){GmPXtTest.initialiseImagePopUp(),mg$(e+" img").each(function(){mg$(e+" img").on("click",function(t){GmPXtTest.stopPropagation(t),GmPXtTest.openModalFromTopWindow(this.src)})})},GmPXtTest.initialiseImagePopUp=function(){GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:initialize_image_iframe_popup",{})},GmPXtTest.openModalFromTopWindow=function(t){var e={};e.imageSrc=t,GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:open_image_iframe_popup",e)},GmPXtTest.setImagePopUp=function(){mg$("#mgPlayerExtChromeTest_image_popup").remove(),GmPXtTest.addImagePopHtml();var e=document.getElementById("mgPlayerExtChromeTest_image_popup"),t=(e&&(e.style.display="none",e.onclick=function(t){GmPXtTest.stopPropagation(t)}),document.getElementsByClassName("mgPlayerExtChromeTest_close-img-popup")[0]);t&&(t.onclick=function(t){GmPXtTest.stopPropagation(t),e.style.display="none",mg$(".mgPlayerExtChromeTest_preview-step-popup-container").css({"z-index":"2147483647"})})},GmPXtTest.openImagePopup=function(t){var e=document.getElementById("mgPlayerExtChromeTest_image_popup"),n=document.getElementById("mgPlayerExtChromeTest_img_desc");e.style.display="block",n.src=t.imageSrc},GmPXtTest.addEventOnTooltip=function(e){clearTimeout(GmPXtTest.tooltipTimeout),GmPXtTest.tooltipTimeout=GmPXtTest.timeout(function(){mg$("#mgPlayerExtChromeTest_smarttip-"+e.step.step_id).off("click").on("click",function(t){e.isPreview||GmPXtTest.tooltipAction(t,e.settings.smartTip,e.step)})},GmPXtTest.t.addTooltipEvent)},GmPXtTest.isEventToolTip=function(t,e){var n=t.target.id,s=t.currentTarget.id,r=!1;switch(n){case"mgPlayerExtChromeTest_smarttip-icon-"+e:case"mgPlayerExtChromeTest_smarttip-"+e:r=!0}switch(s){case"mgPlayerExtChromeTest_smarttip-icon-"+e:case"mgPlayerExtChromeTest_smarttip-"+e:r=!0}return r=mg$(t.currentTarget).hasClass("mgPlayerExtChromeTest_smarttip-icon-wrapper-"+e)||mg$(t.target).hasClass("mgPlayerExtChromeTest_smarttip-icon-wrapper-"+e)?!0:r},GmPXtTest.tooltipAction=function(t,e,n){var s;GmPXtTest.updateTooltipActionInfo(n.tour_id,n.step_id,e,"click"),GmPXtTest.isEventToolTip(t,n.step_id)&&("openCurrentPage"===e.clickAction?(t.preventDefault(),t.stopImmediatePropagation(),window.self===window.top?GmPXtTest.openAppPanel("currentPage"):GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:open_app_panel")):"openUrl"===e.clickAction?(t.preventDefault(),t.stopImmediatePropagation(),0!==(s=e.openUrlText).indexOf("http")&&(s="https://"+s),window.open(s,"_blank")):"sentiment"===e.clickAction&&GmPXtTest.checkInsightEnabled()&&(t.preventDefault(),t.stopImmediatePropagation(),s={sentiment_code:e.sentimentCode,tourId:n.tour_id,stepId:n.step_id},window.self===window.top?GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:get_survey_detail_tooltip",s):GmPXtTest.sendMessageToParentWindow("mgPlayerExtChromeTest_action:get_survey_data_from_sidepanel",s)))},GmPXtTest.clearStepReqObj=function(){mg$("[gm_visited='true']").removeAttr("gm_visited"),delete GmPXtTest.currentHe,delete GmPXtTest.stepReq,GmPXtTest.storage().remove(["stepReq"]),GmPXtTest.fastSteps&&GmPXtTest.fastSteps.length&&(GmPXtTest.fastSteps=[],GmPXtTest.storage().remove(["gm_quick_steps"]))},GmPXtTest.isLastStepPlayed=function(){var t=!1;return t=GmPXtTest.playerI&&GmPXtTest.playerI.currentStepId===GmPXtTest.playerI.lastPlayedStepId?!0:t},GmPXtTest.getNextBtnElem=function(){var t,e=document.getElementById("mgPlayerExtChromeTest_play_step_next"),n=document.getElementById("mgPlayerExtChromeTest_play_step_next_done"),s=document.getElementById("mgPlayerExtChromeTest_play_step_next_classic"),r=document.getElementById("mgPlayerExtChromeTest_play_step_next_done_classic"),o=document.getElementById("mgPlayerExtChromeTest_play_step_pause"),i=document.getElementById("mgPlayerExtChromeTest_play_step_pause_classic");return mg$(e).is(":visible")?t=e:mg$(n).is(":visible")?t=n:mg$(s).is(":visible")?t=s:mg$(r).is(":visible")?t=r:(mg$(o).is(":visible")||mg$(i).is(":visible"))&&(t=e),t},GmPXtTest.triggerClick=function(t,e){var n,s;t&&(n={bubbles:!0,cancelable:!0},(s=GmPXtTest.getBoundingRect(t))&&(n.clientX=s.x,n.clientY=s.y),t.focus(),GmPXtTest.log(33,"Event trigger: mouseup"),t.dispatchEvent(new MouseEvent("mouseup",n)),e&&e.data&&e.data.settings,t.dispatchEvent(new MouseEvent("mouseover",n)),t.dispatchEvent(new MouseEvent("mousedown",n)),0<(s=mg$(t).find("a")).length&&(t=s[0]),GmPXtTest.log(33,"Event trigger: click"),t.dispatchEvent(new MouseEvent("click",n)))},GmPXtTest.markAutoLaunchTourDoNotShow=function(t){!t.tour_settings.displayFrequency&&GmPXtTest.firstStepAutoLaunch()&&GmPXtTest.setDoNotShowTours(t)},GmPXtTest.checkProceedToPlay=function(P,f){return new Promise(function(n,t){var e,r=P.step_settings,s=!1,o=!1,i=f.tour_settings,a=i.rules&&i.rules.length,m=!1,l=a&&GmPXtTest.variableRuleExistInGuide(i.rules),u=GmPXtTest.getDomain(P.step_url),c=GmPXtTest.getPageDomain();function p(t){!t&&l?GmPXtTest.timeout(function(){g()},GmPXtTest.t.checkVariable):g(t)}function T(t){var t=!!t.valid,e="MATCHED? ["+t+"] guide rules on first step "+GmPXtTest.stepLog(P.step_id,f.tour_title);GmPXtTest.log(33,e),GmPXtTest.log(27,e),GmPXtTest.playerI&&(GmPXtTest.playerI.guideRuleMatch=t),GmPXtTest.isAutomationRunning()&&!1==t?GmPXtTest.auto.fail(P,{errorMessage:"Guide Rules Not Matched."}):n(t)}function d(t){var t=!!t.valid,e="MATCHED? ["+t+"] step rules "+GmPXtTest.stepLog(P.step_id,f.tour_title);GmPXtTest.log(33,e),GmPXtTest.log(27,e),GmPXtTest.playerI&&(GmPXtTest.playerI.stepRuleMatch=t),n(t)}function g(t){var e=i.ruleDelayTime||0,n=GmPXtTest.t.ruleTimeOut25ms,s=(GmPXtTest.checkTourCreatedBefore(i,2021013001)&&(n=GmPXtTest.t.ruleTimeOut10s),{rules:i.rules,tour:f,timeoutVal:n,timeout:n,cb:T,isTour:!0,initiator:"tourPlay"});t&&(e=r.stepDelayTime||0,s.rules=r.rules,s.cb=d),GmPXtTest.timeout(function(){GmPXtTest.ruleEngine.queue(s)},e)}GmPXtTest.playerI&&(m="beaconTour"!==GmPXtTest.playerI.initiator&&"Current Page"!==GmPXtTest.playerI.initiator,GmPXtTest.log(33,"Launched From "+GmPXtTest.playerI.initiator)),r.rules&&r.rules.length&&(e=!(o=!0),r.version?e=GmPXtTest.legacyWildChar(r.version):r.element&&r.element.version&&(e=GmPXtTest.legacyWildChar(r.element.version)),s=GmPXtTest.ruleEngine.evaluateRules(r.rules,e)),o?s&&r.hasElRule?p(!0):(GmPXtTest.playerI&&(GmPXtTest.playerI.stepRuleMatch=s),s?(GmPXtTest.log(33,"MATCHED step rules"),n(!0)):(GmPXtTest.log(33,"Step rules did not MATCH"),GmPXtTest.playerI.testAutomation?GmPXtTest.auto.fail(P,{errorMessage:"Step Rules Not Matched."}):n(!1))):a&&GmPXtTest.isFirstNonAutomationStep()&&m?(GmPXtTest.isAutomationRunning()&&GmPXtTest.isAutomationStep(GmPXtTest.playerI.tour.steps[0])&&(GmPXtTest.domElStore=[]),p()):!GmPXtTest.playerI&&a?p():GmPXtTest.isFQDN()||a||!c||c===u||"video"===P.step_type||"image"===P.step_type||"guide"===P.step_type||P.step_type===GmPXtTest.STEP_TYPE_WEB_INLINE?n(!0):n(!1)})},GmPXtTest.setPanelTopLeft=function(t){var e;GmPXtTest.isMicroPlayer()||GmPXtTest.isWBMicroPlayer()?(mg$(".mgPlayerExtChromeTest_panel").css("left","initial"),mg$(".mgPlayerExtChromeTest_panel").css("top","50%"),GmPXtTest.APP_PANEL_OPEN&&mg$(".mgPlayerExtChromeTest_panel").css("right","50px")):(mg$(".mgPlayerExtChromeTest_panel").css("left","initial"),mg$(".mgPlayerExtChromeTest_panel").css("top","0"),GmPXtTest.APP_PANEL_OPEN&&(e=GmPXtTest.getWidgetAlignment(),mg$(".mgPlayerExtChromeTest_panel").css(e,"0")))},GmPXtTest.myGuideLogout=function(){GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:logout_user")},GmPXtTest.reloadElectronApp=function(){require("electron").remote.getCurrentWindow().reload()},GmPXtTest.getContainerOffSet=function(t){var e;return 0<t.length?(void 0!==(e=t.offset())&&(e.top<0&&(e.top=0),e.left<0)&&(e.left=0),e.width=parseInt(t.width()),e.height=parseInt(t.height())):e={top:0,left:0,width:mg$(document).width(),height:mg$(document).height()},e},GmPXtTest.removeScreenOverlay=function(){GmPXtTest.screenOverlayI=void 0,mg$(".mgPlayerExtChromeTest_screen-blackout").hide(),mg$(".mgPlayerExtChromeTest_screen-blackout").html("")},GmPXtTest.getWidgetInstance=function(){return mg$(".mgPlayerExtChromeTest_start-button")},GmPXtTest.getChatIconInstance=function(){return mg$("#mgPlayerExtChromeTest_btn-chat-button")},GmPXtTest.hideWidgetIcon=function(){GmPXtTest.log(8,"HIDE WIDGET");var t=GmPXtTest.getWidgetInstance();t.length&&t.hide()},GmPXtTest.getTaskListVisibility=function(){return!(GmPXtTest.isTrue(GmPXtTest.APP_PANEL_OPEN)||!GmPXtTest.checkPrecedence()||!(GmPXtTest.user&&GmPXtTest.isPlayer()&&0<GmPXtTest.taskListCount))},GmPXtTest.imageSizeStyle=function(t){var e=mg$(t).length;if(e)for(var n=0;n<e;n++){var s=mg$(t)[n].getAttribute("width"),r=mg$(t)[n].getAttribute("height");mg$(t)[n].style.setProperty("width",s+"px","important"),mg$(t)[n].style.setProperty("height",r+"px","important")}},GmPXtTest.updateGuideDisplayFrequency=function(t){GmPXtTest.user.settings.display_frequency_guides=t,GmPXtTest.updateUserProfileSettings(GmPXtTest.user.settings)},GmPXtTest.setBeaconsDisplayFrequency=function(t){for(var e=0;e<GmPXtTest.beaconTours.length;e++)if(parseInt(GmPXtTest.beaconTours[e].tour_id)===parseInt(t)){GmPXtTest.beaconTours[e].tour_settings.beacon.displayFrequency&&markBeaconDisplayFrequency(GmPXtTest.beaconTours[e]);break}},GmPXtTest.updateSurveyCompletedData=function(n){GmPXtTest.storage().get(["surveyCompleted"]).then(function(t){var e=GmPXtTest.user.settings||{};GmPXtTest.isAnonymousUser()?(t.surveyCompleted[n.tourId]=parseInt(n.version),GmPXtTest.storage().set({surveyCompleted:t.surveyCompleted})):(e.surveyCompleted=e.surveyCompleted||{},e.surveyCompleted[n.tourId]=parseInt(n.version),GmPXtTest.updateUserProfileSettings(e))})},GmPXtTest.resetMplayerPos=function(){mg$(".mgPlayerExtChromeTest_panel").removeAttr("style"),mg$(".mgPlayerExtChromeTest_panel").css({left:"initial",top:"50%",right:"50px"})},GmPXtTest.isMyGuideEl=function(t){return!!("wmgPlayerExtChromeTest_over"===t.nodeName.toLowerCase()||0<mg$(t).closest("wmgPlayerExtChromeTest_").length||t.name&&t.name.includes("guideme-iframe")||"string"==typeof t.className&&(0===t.className.indexOf("mgPlayerExtChromeTest_")||0<t.className.indexOf(" mgPlayerExtChromeTest_"))||t.id&&0===t.id.indexOf("mgPlayerExtChromeTest_beacon-icon-"))},GmPXtTest.playerDomainCheck=function(){return!GmPXtTest.isPlayer()||!(!GmPXtTest.isDomainInActiveApp()&&!GmPXtTest.user.signedInWithSso)},GmPXtTest.lastUserAction=0,GmPXtTest.iframeCount=0,GmPXtTest.prevEnv=[],GmPXtTest.storagePrefix=GmPXtTest.conf.appName+"_",GmPXtTest.ruleOpsUILabels={},GmPXtTest.timeout=function(t,e){return setTimeout(t,e)},GmPXtTest.trackerUtil={guidePayload:[],trackPI:!1,enableTracking:!1,ePayload:{},ttPayload:{},page_url:"",featureTracking:!1,pageTracking:!1},GmPXtTest.guidePlayTracker={},GmPXtTest.STEP_TYPE_INLINE="inline",GmPXtTest.STEP_TYPE_WEB_INLINE="web_inline",GmPXtTest.STEP_TYPE_MESSAGE="message",GmPXtTest.STEP_TYPE_IMAGE="image",GmPXtTest.STEP_BEACON_TYPE="BEACON",GmPXtTest.STEP_TYPE_EXTERNAL_AUTOMATION="external_automation_step",GmPXtTest.CAPTURE_SCREEN_STEP="capture-screen-step",GmPXtTest.UPLOAD_IMAGE_STEP="upload-image-step",GmPXtTest.STEP_TYPE_VIDEO="video",GmPXtTest.STEP_TYPE_SMART_TIP="smartTip",GmPXtTest.STEP_TYPE_AUTOMATION="automation",GmPXtTest.STEP_TYPE_GUIDE="guide",GmPXtTest.STEP_TYPE_BRANCH="branch",GmPXtTest.STEP_TYPE_SURVEY="survey",GmPXtTest.STEP_TYPE_TRANSPORT="transport",GmPXtTest.ANALYTICS_EVENT_CHAIN_ID="",GmPXtTest.INSIGHTS_EVENT_CHAIN_ID="",GmPXtTest.STEP_TEXT_SLIDE_TYPE="textSlide",GmPXtTest.STEP_TYPE_ERROR_HANDLER="errorHandler",GmPXtTest.isLogoutTrackApi=!1,GmPXtTest.STEP_TYPE_TAG="tag",GmPXtTest.t_={hr1:36e5,hr8:288e5,hr24:864e5,hr24inSec:86400,hr12inSec:43200,min30:18e5,min15:9e5,min10_s:600,min5_s:300,min5:3e5,min4:24e4,min2_s:120,min1_s:60,min1:6e4,sec15:15e3,sec10:1e4,sec5:5e3,sec4:4e3,sec3:3e3,sec2:2e3,sec1:1e3,ms25:2500,ms15:1500,ms8:800,ms5:500,ms3:300,ms2:200,ms1:100},GmPXtTest.t={sync24:GmPXtTest.t_.hr24,notifExp24:GmPXtTest.t_.hr24,syncSegment:GmPXtTest.t_.hr24,tracking24hr:GmPXtTest.t_.hr24inSec,tracking12hr:GmPXtTest.t_.hr12inSec,tracking8hr:GmPXtTest.t_.hr8,cdnExp:GmPXtTest.t_.hr1,openSso:GmPXtTest.t_.hr1,snoozeNotif:GmPXtTest.t_.hr1,refreshBrandLogo:GmPXtTest.t_.hr1,refreshWidget:GmPXtTest.t_.hr1,pageTrackWait:GmPXtTest.t_.min30,workflowIdle:GmPXtTest.t_.min15,workflowSync:GmPXtTest.t_.min15,clickSync:GmPXtTest.t_.min15,playerSync:GmPXtTest.t_.min5_s,fileStackExp:GmPXtTest.t_.min5,elLookupTime5m:GmPXtTest.t_.min5,autoRelogin:GmPXtTest.t_.min5,autoWaitTime:GmPXtTest.t_.min4,createStepTimeout:GmPXtTest.t_.min4,trackerSync:GmPXtTest.t_.min2_s,creatorSync:GmPXtTest.t_.min1_s,trackerInt:GmPXtTest.t_.min1,autoEndTime:GmPXtTest.t_.min1,trackerInt2:GmPXtTest.t_.sec15,highlighterDefautWT:GmPXtTest.t_.sec15,tooltipTimeout:GmPXtTest.t_.sec15,elLookupTime15s:GmPXtTest.t_.sec15,elLookupTime10s:GmPXtTest.t_.sec10,stepMTimeout:GmPXtTest.t_.sec15,waitForNotifications:GmPXtTest.t_.sec10,guideAutoWatch:GmPXtTest.t_.sec10,ruleTimeOut10s:GmPXtTest.t_.sec10,stepITimeout:GmPXtTest.t_.sec10,findElTimeout:GmPXtTest.t_.sec10,branchDecision_domRule:GmPXtTest.t_.sec10,branchDecision_domRule_quickBranch:GmPXtTest.t_.sec4,branchDecision:GmPXtTest.t_.sec2,branchDecision_errorHandler:GmPXtTest.t_.sec1,stepComplition:GmPXtTest.t_.sec4,drag:GmPXtTest.t_.sec2,checkVariable:GmPXtTest.t_.sec2,loginEdCast:GmPXtTest.t_.sec2,branchDecisionInterval_domRule:GmPXtTest.t_.sec1,plsWaitMsg:GmPXtTest.t_.sec1,stopRecorder:GmPXtTest.t_.sec1,toastMsg:GmPXtTest.t_.ms25,variableTimeout:GmPXtTest.t_.ms25,ruleTimeOut25ms:GmPXtTest.t_.ms25,eventGuideCompleteAuto:GmPXtTest.t_.ms15,tragetFrameWT:GmPXtTest.t_.ms15,ruleTimeOut15ms:GmPXtTest.t_.ms15,currentPageSpinner:GmPXtTest.t_.ms15,bgmsg:GmPXtTest.t_.ms15,screenrecording:GmPXtTest.t_.ms8,branchDecisionInterval:GmPXtTest.t_.ms5,msgToframes:GmPXtTest.t_.ms5,desktopCapture:GmPXtTest.t_.ms5,appPanel:GmPXtTest.t_.ms3,hiteTooltip:GmPXtTest.t_.ms2,addTooltipEvent:GmPXtTest.t_.ms1},GmPXtTest._location=function(){return window&&window.location},GmPXtTest.isWestpacOneUI=function(){return!!(window&&window.location&&-1!==window.location.href.indexOf("about:blank")&&parent.window&&parent.window.location&&-1!==parent.window.location.href.indexOf("ui.westpac.com.au"))},GmPXtTest.parseJSON__=function(t){try{var e;return"object"==typeof t?t:""===t||"AS"===t||"na"===t||"[object Object]"===t||void 0===t||"undefined"===t?{}:e="string"==typeof(e=JSON.parse(t))?JSON.parse(e):e}catch(t){return null}},GmPXtTest.isEmpty=function(t){return"boolean"!=typeof t&&"number"!=typeof t&&!(t&&("object"==typeof t&&t.constructor===Object?Object.keys(t).length:"object"==typeof t&&t.constructor===Array?t.length:"string"!=typeof t||t.trim()))},GmPXtTest.isDefined=function(t){return void 0!==t&&"undefined"!==t},GmPXtTest.updateGlobalUser=function(t){t&&(GmPXtTest.isBackgroundPage?GmPXtTest.user=t:GmPXtTest.user=GmPXtTest.validateDataModel(t,GmPXtTest.model.user),t.organization)&&GmPXtTest.updateGlobalOrg(t.organization)},GmPXtTest.updateGlobalOrg=function(t){t&&(GmPXtTest.isBackgroundPage?GmPXtTest.organization=t:GmPXtTest.organization=GmPXtTest.validateDataModel(t,GmPXtTest.model.organization),delete GmPXtTest.organization.applications)},GmPXtTest.playerIntervalValidator=function(t){GmPXtTest.log(70,"GET TIMESTAMP at "+new Date),GmPXtTest.getJsonTimeStamp(t).then(function(t){var e=t.last_updated_time;GmPXtTest.log(70,"LAST REFRESH from server "+e),e!=GmPXtTest.refreshTime?(GmPXtTest.log(70,"START PLAYER DATA REFRESH"),GmPXtTest.msgToApp("mgPlayerExtChromeTest_action:refresh_player",t,senderTabId)):(GmPXtTest.msgToApp("mgPlayerExtChromeTest_action:update_timestamp_sync_time",t,senderTabId),GmPXtTest.log(70,"NO UPDATE FOUND "+new Date)),GmPXtTest.refreshTime=t.last_updated_time,GmPXtTest.lastTimeStampSync=GmPXtTest.getCurrentTimeInSec()})},GmPXtTest.creatorIntervalValidator=function(t){GmPXtTest.log(70,"GET TIMESTAMP at "+new Date),GmPXtTest.getModifiedObjects().then(function(t){t.length&&GmPXtTest.msgToApp("mgPlayerExtChromeTest_action:creator_updates",{updates:t,refreshTime:GmPXtTest.creatorRefreshTime},senderTabId)}).catch(function(t){GmPXtTest.log(1,"ERROR: Creator sync failed",t)})},GmPXtTest.processLastActionTime=function(t){var e=GmPXtTest.getCurrentTimeInSec(),t=GmPXtTest.onPrem()?t||GmPXtTest.getOnPremJsonURL():"";GmPXtTest.inPlayer&&e-GmPXtTest.lastTimeStampSync>GmPXtTest.t.playerSync&&(GmPXtTest.log(70,"TRIGGER PLAYER UPDATE "+new Date),GmPXtTest.playerIntervalValidator(t)),GmPXtTest.isEnt()&&e-GmPXtTest.creatorRefreshTime>GmPXtTest.t.creatorSync&&(GmPXtTest.log(70,"TRIGGER CREATOR UPDATE "+new Date),GmPXtTest.creatorIntervalValidator(t)),GmPXtTest.log(45,"SEND Traker event "+new Date),GmPXtTest.trackerV1.sendEvents(),GmPXtTest.log(70,"LAST USER ACTION TIME: "+new Date)},GmPXtTest.startCreatorUpdateInterval=function(){GmPXtTest.creatorRefreshTime=GmPXtTest.refreshTime||GmPXtTest.getCurrentTimeInSec(),GmPXtTest.creatorInterval||(GmPXtTest.creatorInterval=setInterval(function(){GmPXtTest.getModifiedObjects().then(function(t){t.length&&GmPXtTest.msgToApp("mgPlayerExtChromeTest_action:creator_updates",{updates:t,refreshTime:GmPXtTest.creatorRefreshTime},senderTabId)}).catch(function(t){GmPXtTest.log(1,"ERROR: Creator sync failed",t)})},GmPXtTest.t.creatorSync))},GmPXtTest.sendMessageToApp=function(t,e){(e=e||{}).config=GmPXtTest.conf,GmPXtTest.playerI&&(e.playerInstance=GmPXtTest.playerI),GmPXtTest.initialization&&!0===GmPXtTest.initialization.sidePanel||-1<t.indexOf("receive_lxp_storage")?GmPXtTest.sendMessageToAppIn(t,e):GmPXtTest.timeout(function(){GmPXtTest.sendMessageToApp(t,e)},GmPXtTest.t_.sec1)},GmPXtTest.sendMessageToAppIn=function(t,e){var n=mg$(".mgPlayerExtChromeTest_app");n.length&&(t=GmPXtTest.formatMsg(t={action:t,data:e}),n.get(0).contentWindow.postMessage(t,"*"))},GmPXtTest.msgToApp=function(t,e,n){!0===GmPXtTest.isBackgroundPage?GmPXtTest.sendMessageToPanel(t,e,n):GmPXtTest.isSidePanelApp?GmPXtTest.msgToThisWin({action:t,data:e}):window.top===window.self?GmPXtTest.sendMessageToApp(t,e):GmPXtTest.isStepFrame&&GmPXtTest.sendToParentWindow({action:t,data:e})},GmPXtTest.sendMessageToPanel=function(t,e,r){var o={action:t,data:e=null!=e&&e?e:{}};chrome.tabs.query({active:!0,highlighted:!0},function(t){for(var e,n=!1,s=0;s<t.length;s++)(e=t[s]).id===r&&(n=!0);!n&&r&&GmPXtTest.msgToTab(r,o),GmPXtTest.FT.creatorApp&&t.length&&!n&&(e=t[0],r=e.id,GmPXtTest.updateVideoUploadStatus(r,{data:{operation:"get"}})),GmPXtTest.FT.isPlayer&&t.length&&!n&&(e=t[0],r=e.id),GmPXtTest.msgToTab(r,o)})},GmPXtTest.getCdnSignature=function(t){if(GmPXtTest.waitForCdnSignature)return!0;GmPXtTest.waitForCdnSignature=!0,t?GmPXtTest.msgToApp("mgPlayerExtChromeTest_action:get_cdn_signature_from_app"):GmPXtTest.callGetCdnSignature({organization_id:GmPXtTest.organization.organization_id}).then(function(t){t=t.data;t&&t.cdn_signature&&t.cdn_signature_expiry&&GmPXtTest.user&&(GmPXtTest.user.cdn_signature=t.cdn_signature,GmPXtTest.user.cdn_signature_expiry=t.cdn_signature_expiry)})},GmPXtTest.getCurrentTimeInMilSec=function(){return(new Date).getTime()},GmPXtTest.getCurrentTimeInSec=function(){return Math.floor((new Date).getTime()/1e3)},GmPXtTest.getModifiedObjects=function(t){return new Promise(function(e,n){var s=GmPXtTest.creatorRefreshTime,t=GmPXtTest.conf.webServiceUrl+"organization/modified/objects?",r=(GmPXtTest.log(61,"Check for updates. From timestamp: "+s),{timestamp:s,organization_id:GmPXtTest.organization.organization_id}),o={accesstoken:GmPXtTest.user.accesstoken,"Content-Type":"application/json"};GmPXtTest.creatorRefreshTime=GmPXtTest.getCurrentTimeInSec(),fetch(t+new URLSearchParams(r),{headers:o}).then(function(t){200===t.status?t.json().then(function(t){t.error?(GmPXtTest.creatorRefreshTime=s,1003===t.code||2004===t.code?GmPXtTest.msgToApp("mgPlayerExtChromeTest_action:logout_user"):1007===t.code&&GmPXtTest.getAccessToken().then(function(t){GmPXtTest.saveToken(t)}),n(t)):t.data&&t.data.objects?(t=t.data.objects,e(t)):n()}).catch(function(t){n()}):n()}).catch(function(t){GmPXtTest.log(1,"Creator could not refresh",t)})})},GmPXtTest.getJsonTimeStamp=function(s){return new Promise(function(e,t){var n="";GmPXtTest.onPrem()?n=s+"/json/timestamp.json":GmPXtTest.organization&&!GmPXtTest.isEmpty(GmPXtTest.organization)&&(n=GmPXtTest.conf.cdnStorage+GmPXtTest.organization.bucket+"/json/timestamp.json"+GmPXtTest.user.cdn_signature),GmPXtTest.isEmpty(n)||fetch(n).then(function(t){200===t.status?t.json().then(function(t){e(t)}).catch(function(t){GmPXtTest.log(1,"ERROR: Timestamp fetch failed",t)}):(GmPXtTest.log(1,"ERROR: Timestamp fetch failed"+t.status),GmPXtTest.waitForCdnSignature=!1,GmPXtTest.getCdnSignature())})})},GmPXtTest.encode=function(t){var e="";if(t){var n,s=0;for(n in t)t.hasOwnProperty(n)&&(s++&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]))}return e},GmPXtTest.getOrgKeyFromJwToken=function(t){try{var e=t.split(".")[1],n=atob(e);return n?GmPXtTest.parseJSON(n).org_key:""}catch(t){return{}}},GmPXtTest.parseJSON=function(t){try{return"object"==typeof t?t:""===t||"AS"===t||"na"===t||"[object Object]"===t||void 0===t||"undefined"===t?{}:JSON.parse(t)}catch(t){return{}}},GmPXtTest.sendMessageToTabs=function(e){chrome.tabs.query({},function(t){t.forEach(function(t){GmPXtTest.msgToTab(t.id,e)})})},GmPXtTest.msgToTab=function(t,e){chrome.tabs.sendMessage(t,GmPXtTest.formatMsg(e))},GmPXtTest.formatMsg=function(t){return GmPXtTest.isWestpac()&&-1!==t.action.indexOf("MyGuideReporting")?t:(t.data&&(t.mgdata=t.data,delete t.data),JSON.stringify(t))},GmPXtTest.getStepFromSteps=function(t,e){var n=!1;if(t)for(var s=0;s<e.length;s++)if(parseInt(e[s].step_id)===parseInt(t)){n=e[s];break}return n},GmPXtTest.getStartpointStepFromSteps=function(t,e){var n=!1;if(t)for(var s=0;s<e.length;s++)if(parseInt(e[s].step_id)===parseInt(t)&&e[s].step_settings.startPoint){n=e[s];break}return n},GmPXtTest.removePSStepId=function(t,e,n){for(var s=0;s<e.length;s++)if(e[s].tail===t){e[s].tail=e[n].tail;break}return e.splice(n,1),e},GmPXtTest.repairPlayStructure=function(t,e){for(var n=0;n<t.length;n++){var s=GmPXtTest.getStepFromSteps(t[n].id,e);if(!s){t=GmPXtTest.removePSStepId(t[n].id,t,n),t=GmPXtTest.repairPlayStructure(t,e);break}}return t},GmPXtTest.isAutomationRunning=function(){return GmPXtTest.auto&&GmPXtTest.auto.isAutomationRunning()},GmPXtTest.getAutomatedCurrentTour=function(){return GmPXtTest.auto&&GmPXtTest.auto.getAutomatedCurrentTour()},GmPXtTest.isAutomationStepRunning=function(){var t;return!!GmPXtTest.playerI&&(t=GmPXtTest.getStepFromPlayerI(GmPXtTest.playerI.currentStepId),GmPXtTest.isAutomationStep(t))},GmPXtTest.callApi=function(a,m){return new Promise(function(e,t){var n="id"+Math.random();function s(t){t&&"mgPlayerExtChromeTest_action:call_api_response"===t.action&&t.data&&t.data.id===n&&(window.removeEventListener("message",r),window.removeEventListener("message",o),e(t.data.items))}function r(t){t=GmPXtTest.parseMsg(t);s(GmPXtTest.convertMgdata(t))}function o(t){t=GmPXtTest.parseJSON(t);return s(GmPXtTest.convertMgdata(t)),!0}var i={id:n,option:a,api:m};!0===GmPXtTest.isBackgroundPage?(chrome.runtime.onMessage.addListener(o),GmPXtTest.sendMessageToPanel("mgPlayerExtChromeTest_action:call_api",i,senderTabId)):GmPXtTest.isSidePanelApp?GmPXtTest.msgToThisWin({action:"mgPlayerExtChromeTest_action:call_api",data:i}):(window.addEventListener("message",r),GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:call_api",i))})},GmPXtTest.cdnPlayer="Cdn"===GmPXtTest.conf.provider,GmPXtTest.apiPlayer="playerApi"===GmPXtTest.conf.provider,GmPXtTest.inPlayer=GmPXtTest.apiPlayer||GmPXtTest.cdnPlayer,GmPXtTest.convertMgdata=function(t){return t.action&&-1!==t.action.indexOf("init_sfdc_env")||GmPXtTest.isWestpac()&&t.action&&-1!==t.action.indexOf("MyGuideReporting")||(t.data=t.mgdata),t},GmPXtTest.inArray=function(t,e){return-1!==e.indexOf(parseInt(t))},GmPXtTest.inArrayString=function(t,e){return-1!==e.indexOf(t)},GmPXtTest.createDeepCopy=function(t){if(GmPXtTest.isDefined(t)&&!GmPXtTest.isEmpty(t))return JSON.parse(JSON.stringify(t))},GmPXtTest.getBrowserUrl=function(t){return"Safari"===GmPXtTest.browserApp?safari.extension.baseURI+t:("firefox"===GmPXtTest.browserApp||GmPXtTest.isClientJs()?chrome.extension:chrome.runtime).getURL(t)},GmPXtTest.getAccessToken=function(){var t={url:"user/token?",headers:{"Content-Type":"application/json",RefreshToken:GmPXtTest.user.refreshtoken},data:{force_update:!0,mg_source_name:GmPXtTest.conf.appConfig.customer},method:"GET"};return GmPXtTest.xhr(t)},GmPXtTest.saveToken=function(t){t&&t.accesstoken&&(GmPXtTest.user.accesstoken=t.accesstoken,GmPXtTest.user.refreshtoken=t.refreshtoken,GmPXtTest.isDefined(t.app_access)&&(GmPXtTest.user.app_access=t.app_access),GmPXtTest.isDefined(t.profile)&&(GmPXtTest.user.profile=t.profile),GmPXtTest.isBackgroundPage||GmPXtTest.getWidgetIcon().then(function(t){mg$(".mgPlayerExtChromeTest_start-button img").attr("src",t)}),GmPXtTest.msgToApp("mgPlayerExtChromeTest_action:update_access_token",t,senderTabId))},GmPXtTest.addStoragePrefix=function(t){return t=-1===t.indexOf(GmPXtTest.storagePrefix)?GmPXtTest.storagePrefix+t:t},GmPXtTest.removeStoragePrefix=function(t){return t=-1!==t.indexOf(GmPXtTest.storagePrefix)?t.split(GmPXtTest.storagePrefix)[1]:t},GmPXtTest.getUUID=function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==t?e:3&e|8).toString(16)})},GmPXtTest.categoryLog=function(t){return"APP: "+t.application_id+" : ["+t.category_id+", "+t.category_title+"] "},GmPXtTest.tourLog=function(t){return" ["+t.tour_id+", "+t.tour_title+"] "},GmPXtTest.stepLog=function(t,e){return" [ step: "+t+", tour: "+e+"] "},GmPXtTest.isTrue=function(t){return 1===parseInt(t)||!0===t},GmPXtTest.updateTourPlayStructure=function(t){var e=t.step,n=t.prevStepData;if(GmPXtTest.log(54,"GmPXtTest.updateTourPlayStructure ",t),n&&n.tour&&n.tour.tour_settings&&n.tour.tour_settings.play_structure){GmPXtTest.log(54,"GmPXtTest.updateTourPlayStructure check 1");var s=null,r=n.tour.tour_settings.play_structure;if(0<r.length)if(n.step_id){for(var o=0;o<r.length;o++)if(r[o].id===n.step_id){if(!GmPXtTest.checkForBranchVariationSteps(n)){r[o].tail&&(s=r[o].tail),r[o].tail=e.step_id;break}r[o].branch||(r[o].branch=[]);var i=n.branch_index;if(r[o].branch[i].tail&&-1!==r[o].branch[i].tail)s=r[o].branch[i].tail;else if(-1===r[o].branch[i].tail)for(var a=0;a<r[o].branch.length;a++)-1===r[o].branch[a].tail&&(r[o].branch[a].tail=e.step_id);r[o].branch[i].tail=e.step_id}}else s=r[0].id;var m={id:e.step_id,tail:s},l=e.step_settings;if(e.step_type===GmPXtTest.STEP_TYPE_BRANCH){m.branch=[],m.tail=null;for(o=0;o<l.branch.length;o++)l.branch[o].tail?m.branch.push({tail:l.branch[o].tail}):m.branch.push({tail:null})}else!GmPXtTest.isTrue(e.step_settings.inlineBranch)&&e.step_type!==GmPXtTest.STEP_TYPE_ERROR_HANDLER||(m.branch=[],m.branch.push({tail:s},{tail:null}),m.tail=null);return n.step_id?r.push(m):r.splice(0,0,m),n.tour.tour_settings.play_structure=r,t.prevStepData=n,t}return!1},GmPXtTest.engLbls={px:"px",Guide:"Guide",wbTitle:"Welcome to the iGuide Content Panel",wbDescription:"This panel provides users with an alternate way to view applicable iGuide learning tools such as step-by-step walk-throughs, slide demos, videos, etc",wbViewiGuideInfo:"View iGuide info",wbiGuideTools:"iGuide Tools",wbWalkThrus:"Walk-thrus & demos",wbTooltips:"Tooltips",wbVideos:"Videos",wbPopupNotification:"Pop-up notifications &",wbMessages:"messages",defaultTestMe:"TestMe",defaultShowMe:"ShowMe",defaultGuideMe:"GuideMe",defaultVLab:"TeachMe",defaultDoItForMe:"DoItForMe",testMe:"TestMe",showMe:"ShowMe",guideMe:"GuideMe",vLab:"TeachMe",doItForMe:"DoItForMe",microPlayer:"Mini Player",myGuides:"My Guides",powerHTML:"Power HTML",defaultNext:"Next",defaultBtnPrev:"Prev"},GmPXtTest.getPlayerLabels=function(t){var e=GmPXtTest.playerLbls.en_US;return t&&(t=t.replace("-","_"),GmPXtTest.playerLbls[t])&&(e=GmPXtTest.playerLbls[t]),e=GmPXtTest.mergeLabels(e,GmPXtTest.engLbls)},GmPXtTest.getCreatorLabels=function(t){var e=GmPXtTest.creatorLbls.en_US;return e=t&&(t=t.replace("-","_"),GmPXtTest.creatorLbls[t])?GmPXtTest.creatorLbls[t]:e},GmPXtTest.mergeLabels=function(t,e){for(var n in e)t[n]=e[n];return t},GmPXtTest.setRuleOpsUILabels=function(){GmPXtTest.ruleOpsUILabels[GmPXtTest.EXISTS]=GmPXtTest.label.opExists,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_EXISTS]=GmPXtTest.label.opNotExists,GmPXtTest.ruleOpsUILabels[GmPXtTest.EQUALS]=GmPXtTest.label.opEquals,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_EQUAL]=GmPXtTest.label.opNotEquals,GmPXtTest.ruleOpsUILabels[GmPXtTest.TXT_EQUALS]=GmPXtTest.label.opTxEquals,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_TXT]=GmPXtTest.label.opTxNotEquals,GmPXtTest.ruleOpsUILabels[GmPXtTest.CONTAINS]=GmPXtTest.label.opContains,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_CONTAINS]=GmPXtTest.label.opNotContains,GmPXtTest.ruleOpsUILabels[GmPXtTest.STARTS_WITH]=GmPXtTest.label.opStWith,GmPXtTest.ruleOpsUILabels[GmPXtTest.ENDS_WITH]=GmPXtTest.label.opEndWith,GmPXtTest.ruleOpsUILabels[GmPXtTest.GREAT_THAN]=GmPXtTest.label.opGrThan,GmPXtTest.ruleOpsUILabels[GmPXtTest.LESS_THAN]=GmPXtTest.label.opLeThan,GmPXtTest.ruleOpsUILabels[GmPXtTest.TXT_MATCHES]=GmPXtTest.label.opTxMatch,GmPXtTest.ruleOpsUILabels[GmPXtTest.TXT_CONTAINS]=GmPXtTest.label.opTxContains,GmPXtTest.ruleOpsUILabels[GmPXtTest.ATTRIBUTES]=GmPXtTest.label.opAttrs,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_ATTRIBUTES]=GmPXtTest.label.opNoAttrs,GmPXtTest.ruleOpsUILabels[GmPXtTest.CLASSES]=GmPXtTest.label.opClasses,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_CLASSES]=GmPXtTest.label.opNoClasses,GmPXtTest.ruleOpsUILabels[GmPXtTest.SELECTED]=GmPXtTest.label.opSelect,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_SELECTED]=GmPXtTest.label.opNoSelect,GmPXtTest.ruleOpsUILabels[GmPXtTest.CHECKED]=GmPXtTest.label.opChecked,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_CHECKED]=GmPXtTest.label.opNoChecked,GmPXtTest.ruleOpsUILabels[GmPXtTest.DISABLED]=GmPXtTest.label.opDisabled,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_DISABLED]=GmPXtTest.label.opNoDisable,GmPXtTest.ruleOpsUILabels[GmPXtTest.DAY_OF_WEEK]=GmPXtTest.label.opDayOfWeek,GmPXtTest.ruleOpsUILabels[GmPXtTest.FIX_TIME]=GmPXtTest.label.opFixTime,GmPXtTest.ruleOpsUILabels[GmPXtTest.DATE_RANGE]=GmPXtTest.label.opDateRange,GmPXtTest.ruleOpsUILabels[GmPXtTest.IS_VALID]=GmPXtTest.label.opIsValid,GmPXtTest.ruleOpsUILabels[GmPXtTest.VISIBLE]=GmPXtTest.label.opVisible,GmPXtTest.ruleOpsUILabels[GmPXtTest.NOT_VISIBLE]=GmPXtTest.label.opNotVisible},GmPXtTest.getAllLabels=function(t){return GmPXtTest.label=GmPXtTest.getPlayerLabels(t),GmPXtTest.FT.creatorApp&&(GmPXtTest.label=GmPXtTest.mergeLabels(GmPXtTest.label,GmPXtTest.getCreatorLabels(t))),"en_US"!==t&&"en-US"!==t&&(t=GmPXtTest.getEngLabels(),t=Object.assign({},t,GmPXtTest.label),GmPXtTest.label=t),GmPXtTest.setRuleOpsUILabels(),GmPXtTest.label},GmPXtTest.getEngLabels=function(){var t=GmPXtTest.getPlayerLabels("en_US");return t=GmPXtTest.FT.creatorApp?GmPXtTest.mergeLabels(t,GmPXtTest.getCreatorLabels("en_US")):t},GmPXtTest.checkForBranchVariationSteps=function(t){return!(!t||t.step_type!==GmPXtTest.STEP_TYPE_BRANCH&&t.step_type!==GmPXtTest.STEP_TYPE_ERROR_HANDLER&&!GmPXtTest.isTrue(t.step_settings&&t.step_settings.inlineBranch))},GmPXtTest.convertWeeksToHours=function(t){return 7*parseFloat(t)*24},GmPXtTest.getDatafromPanel=function(){return new Promise(function(e,t){function n(t){var t=GmPXtTest.parseJSON(t),t=GmPXtTest.convertMgdata(t);(t=t)&&"mgPlayerExtChromeTest_action:get_data_from_panel_response"===t.action&&(removeEventListener("message",n),e(t.data))}!0===GmPXtTest.isBackgroundPage?(chrome.runtime.onMessage.addListener(n),GmPXtTest.sendMessageToPanel("mgPlayerExtChromeTest_action:get_data_from_panel")):e(!1)})},GmPXtTest.getCreatorAppFeatures=function(){return{quickFilters:!0,hasEmbedMenu:!0,tourDownload:!0,publish:!0,copyTour:!0,toolTips:!0,branchStep:!0,inlineStep:!0,messageStep:!0,imageStep:!0,creatorApp:!0,guideApp:!0,onboardingGuide:!0,showMe:GmPXtTest.conf.appConfig.tourViewOptions.showMe,audio:GmPXtTest.conf.appConfig.tourViewOptions.audio,testme:GmPXtTest.conf.appConfig.tourViewOptions.testme,addSubCat:!0,addTour:!0,importTour:!0,uploadTour:!0,advancedFilter:!0,tourUserInfo:!0,manageAccount:!0,analytics:!0,userSettings:!0,taskStatus:!0,userDetails:!0,defaultDomain:!0}},GmPXtTest.getPlayerFeatures=function(){return{publishedGuides:!0,publishedCat:!0,isPlayer:!0,showMe:GmPXtTest.conf.appConfig.tourViewOptions.showMe,audio:GmPXtTest.conf.appConfig.tourViewOptions.audio,testme:GmPXtTest.conf.appConfig.tourViewOptions.testme}},GmPXtTest.isWB=function(){return!(!GmPXtTest.FT.isPlayer||"wb"!==GmPXtTest.conf.appConfig.customer)},GmPXtTest.isWestpac=function(){return"westpac"===GmPXtTest.conf.appConfig.customer},GmPXtTest.isMyGuide=function(){return"myguide"===GmPXtTest.conf.appConfig.customer},GmPXtTest.isPlayer=function(){return!(GmPXtTest.conf.appName!==GmPXtTest.conf.playerApp&&!GmPXtTest.showPlayer)},GmPXtTest.isExtension=function(){return GmPXtTest.conf.appType===GmPXtTest.conf.appTypeExt},GmPXtTest.isClientJs=function(){return GmPXtTest.conf.appType===GmPXtTest.conf.appTypeScript},GmPXtTest.isMicroPlayer=function(){return!(!GmPXtTest.isPlayer()||GmPXtTest.isWB()||!GmPXtTest.isMiniPlayer)},GmPXtTest.isWBMicroPlayer=function(){return!!(GmPXtTest.isPlayer()&&GmPXtTest.isWB()&&GmPXtTest.isMiniPlayer)},GmPXtTest.isWBC=function(){return!(!GmPXtTest.isPlayer()||"wbc"!==GmPXtTest.conf.appConfig.customer)},GmPXtTest.isEnt=function(){return GmPXtTest.conf.appName===GmPXtTest.conf.creatorApp},GmPXtTest.onPrem=function(){return GmPXtTest.conf.provider===GmPXtTest.conf.Premise},GmPXtTest.isCreatorJS=function(){return GmPXtTest.conf.appName===GmPXtTest.conf.creatorJS},GmPXtTest.isElectron=function(){return GmPXtTest.conf.runEnv===GmPXtTest.conf.appTypeElectron},GmPXtTest.isHumana=function(){return!(!GmPXtTest.isPlayer()||"humana"!==GmPXtTest.conf.appConfig.customer)},GmPXtTest.isMcKesson=function(){return"mckesson"===GmPXtTest.conf.appConfig.customer},GmPXtTest.isMcKessonClientJS=function(){return!(!GmPXtTest.isClientJs()||"mckesson"!==GmPXtTest.conf.appConfig.customer)},GmPXtTest.isSalesForcePopOutSide=function(){var t=GmPXtTest.getUrl();return!(!GmPXtTest.checkSalesForceSite()||-1===t.indexOf("lightning/popout"))},GmPXtTest.isEnt()||GmPXtTest.isCreatorJS()?GmPXtTest.FT=GmPXtTest.getCreatorAppFeatures():GmPXtTest.FT=GmPXtTest.getPlayerFeatures(),GmPXtTest.isAbbvie=function(){return"abbvie"===GmPXtTest.conf.appConfig.customer},GmPXtTest.isSumtotal=function(){return"sumtotal"===GmPXtTest.conf.appConfig.customer},GmPXtTest.isSbx=function(){return"sbx"===GmPXtTest.conf.appConfig.customer},GmPXtTest.isDesktop=function(){return!(!GmPXtTest.playerI||GmPXtTest.playerI.source!==GmPXtTest.sourceDesktop)},GmPXtTest.userApiKeySignin=function(t){var e=t.myGuideOrgKey;delete t.myGuideOrgKey;e={url:"user/sso/login?mg_source_name="+GmPXtTest.conf.appConfig.customer,method:"POST",headers:{"Content-Type":"application/json",Authorization:e},data:JSON.stringify(t)};return GmPXtTest.xhr(e)},GmPXtTest.getAnonymousUserPrefrence=function(t,e){e={url:"user/preference",method:"POST",headers:{"Content-Type":"application/json",AccessToken:e},data:JSON.stringify(t)};return GmPXtTest.xhr(e)},GmPXtTest.setAnonymousUserPrefrence=function(t){t={url:"user/preference",method:"PUT",headers:{"Content-Type":"application/json",AccessToken:GmPXtTest.user.accesstoken},data:JSON.stringify(t)};return GmPXtTest.xhr(t)},GmPXtTest.apiGetHandOffToken=function(){var t={url:"accounts/v1/handoff-token/generate/",method:"GET",headers:{"Content-Type":"application/json",AccessToken:GmPXtTest.user.accesstoken,AppKey:GmPXtTest.conf.apiSecrret,RefreshToken:GmPXtTest.user.refreshtoken},data:""};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiRegisterClientInsight=function(){var t={url:"event/v1/client/register/?org_id="+GmPXtTest.organization.organization_id,method:"POST",headers:{"Content-Type":"application/json",AccessToken:GmPXtTest.user.accesstoken,AppKey:GmPXtTest.conf.apiSecrret},data:""};return GmPXtTest.xhrAnalytics(t,!0)},GmPXtTest.apiGetClientSecretInsight=function(t){t={url:"event/v1/client/secret/?org_id="+GmPXtTest.organization.organization_id,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({app_client_id:t})};return GmPXtTest.xhrAnalytics(t,!0)},GmPXtTest.apiTrackEventV3=function(t){t={url:"v3/push_events/",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiTrackEventV1=function(t){t={url:"event/v1/push/?org_id="+t.payload[0].org_id+"&app_code="+t.payload[0].app_code+"&event_type="+t.payload[0].event_type,method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apitrackSentiment=function(t){t={url:"register/v1/sentiment/report/",method:"POST",headers:{"Content-Type":"application/json",accesstoken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apitrackConversation=function(t){t={url:"register/v1/conversation/report/",method:"POST",headers:{"Content-Type":"application/json",accesstoken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiUpdateSentiment=function(t){t={url:"sentiments/v1/questionaire/",method:"PUT",headers:{"Content-Type":"application/json",accesstoken:GmPXtTest.user.accesstoken,key:GmPXtTest.trackerUtil.clientKey,appkey:GmPXtTest.conf.apiSecrret},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiDeleteSentiment=function(t){t={url:t.app_code?"sentiments/v1/questionaire/?app_code="+t.app_code+"&sentiment_code="+t.sentiment_code+"&time_zone=utc+0530":"sentiments/v1/questionaire/?sentiment_code="+t.sentiment_code+"&time_zone=utc+0530",method:"DELETE",headers:{"Content-Type":"application/json",accesstoken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:""};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiGetSentiment=function(t){t={url:t.app_code?"sentiments/v1/questionaire/?app_code="+t.app_code+"&sentiment_code="+t.sentiment_code+"&time_zone=utc+0530":"sentiments/v1/questionaire/?sentiment_code="+t.sentiment_code+"&time_zone=utc+0530",method:"GET",headers:{"Content-Type":"application/json",accesstoken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:""};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiGetBotConv=function(t){t={url:t.app_code?"conversations/v1/questionaire/?app_code="+t.app_code+"&conversation_code="+t.conversation_code+"&time_zone=utc+0530":"conversations/v1/questionaire/?conversation_code="+t.conversation_code+"&time_zone=utc+0530",method:"GET",headers:{"Content-Type":"application/json",accesstoken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:""};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiGetSentiments=function(t){t={url:t.app_code?"sentiments/v1/list/?app_code="+t.app_code+"&sort_by=sentiment_title&order=asc&page_index="+t.pageIndex+"&page_size="+t.pageSize:"sentiments/v1/list/?sort_by=sentiment_title&order=asc&page_index="+t.pageIndex+"&page_size="+t.pageSize,method:"GET",headers:{"Content-Type":"application/json",accesstoken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:""};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiGetBotConvList=function(t){t={url:t.app_code?"conversations/v1/list/?app_code="+t.app_code+"&sort_by=conversation_title&order=asc&page_index="+t.pageIndex+"&page_size="+t.pageSize:"conversations/v1/list/?sort_by=conversation_title&order=asc&page_index="+t.pageIndex+"&page_size="+t.pageSize,method:"GET",headers:{"Content-Type":"application/json",accesstoken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:""};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiPostSurvey=function(t,e){e={url:"v3/survey/questionnaire/"+t.guide_id+"/",method:"POST",headers:{"Content-Type":"application/json",accesstoken:e.accesstoken,key:GmPXtTest.trackerUtil.clientKey,appkey:GmPXtTest.conf.apiSecrret},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(e)},GmPXtTest.apiPostSentiment=function(t){t={url:"sentiments/v1/questionaire/",method:"POST",headers:{"Content-Type":"application/json",accesstoken:GmPXtTest.user.accesstoken,key:GmPXtTest.trackerUtil.clientKey,appkey:GmPXtTest.conf.apiSecrret},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiUpdateUserProfile=function(t){t.settings=JSON.stringify(t.settings);t={url:"user",method:"PUT",data:JSON.stringify(t)};return GmPXtTest.xhr(t)},GmPXtTest.apiUpdateUserGuidevView=function(t){t={guide_view:JSON.stringify(t)},t={url:"user/guide_view",method:"PUT",data:JSON.stringify(t)};return GmPXtTest.xhr(t)},GmPXtTest.logoutUser=function(){GmPXtTest.msgToApp("mgPlayerExtChromeTest_action:to_signin_page",{},senderTabId)},GmPXtTest.loginFromConsole=function(t,e){GmPXtTest.isBackgroundPage||GmPXtTest.msgToApp("mgPlayerExtChromeTest_action:signin_from_console",{email:t,password:e},senderTabId)},GmPXtTest.saveMyBotReport=function(t){t={url:"register/v1/mybot/report/",method:"POST",headers:{"Content-Type":"application/json",AccessToken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.getElementsDetailInsights=function(t){t={url:"tracker/v1/element/metedata/contextual/?app_code="+t+"&url="+GmPXtTest.urlParts.host,method:"GET",headers:{"Content-Type":"application/json",AccessToken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret}};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.createNewElTrackObject=function(t){t={url:"tracker/v1/element/metedata/",method:"POST",headers:{"Content-Type":"application/json",AccessToken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.updateElTrackObject=function(t){t={url:"tracker/v1/element/metedata/",method:"PUT",headers:{"Content-Type":"application/json",AccessToken:GmPXtTest.user.accesstoken,appkey:GmPXtTest.conf.apiSecrret},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(t)},GmPXtTest.apiGetSegmentGroupList=function(t){t={url:"segment/group/list?organization_id="+t.organization_id,method:"GET",headers:{"Content-Type":"application/json"},data:""};return GmPXtTest.xhr(t)},GmPXtTest.apiPostSegmentGroupList=function(t){t={url:"segment/group",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};return GmPXtTest.xhr(t)},GmPXtTest.apiPutSegmentGroupList=function(t){t={url:"segment/group",method:"PUT",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};return GmPXtTest.xhr(t)},GmPXtTest.apiDeleteSegmentGroupList=function(t){t={url:"segment/group",method:"DELETE",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};return GmPXtTest.xhr(t)},GmPXtTest.callGetCdnSignature=function(t){t={url:"organization/signature?",method:"GET",headers:{"Content-Type":"application/json"},data:GmPXtTest.encode(t)};return GmPXtTest.xhr(t)},GmPXtTest.sendFeedbackEmail=function(t){t={url:"organization/feedback",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(t)};return GmPXtTest.xhr(t)},GmPXtTest.getSearchURL=function(t,e){var e=new URLSearchParams(e),n=e.toString();return n.length&&-1===n.indexOf("?")&&-1===t.indexOf("?")&&(e="?"+e.toString()),t+=e},GmPXtTest.xhr=function(l,u,c){return new Promise(function(n,s){function r(){!0===GmPXtTest.isBackgroundPage?GmPXtTest.sendMessageToPanel("mgPlayerExtChromeTest_action:maintenance"):GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:maintenance")}var t="",e={"x-mg-host":t=GmPXtTest.isEmpty(GmPXtTest.urlParts)?t:GmPXtTest.urlParts.host,"x-mg-source":GmPXtTest.conf.appName,"x-mg-orgId":""},o=function(t){var e;console.log(t),t?(t.url=l.url,t.paramsData=l.data,t.method=l.method,1003==(e=t.code)||2004===e||2036===e&&(0<t.url.indexOf("user/signout")||0<t.url.indexOf("user/token"))?(GmPXtTest.isBackgroundPage&&(GmPXtTest.createStepJobs=[]),GmPXtTest.logoutUser(),s(t)):1007==e?GmPXtTest.getAccessToken().then(function(t){GmPXtTest.saveToken(t),l.headers.AccessToken=GmPXtTest.user.accesstoken,ajax()}).catch(function(){GmPXtTest.logoutUser()}):(1014===e&&r(),s(t))):s()},i=function(t){var e;t.code=parseInt(t.code),u?n(t):(e=t.code,!1===t.error?(l.url&&-1!==l.url.indexOf("user/token")&&(t=GmPXtTest.validateDataModel(t.data,GmPXtTest.model.userToken)),l.onSuccess&&l.onSuccess(t),n(t)):1005===e||1018===e?n(t):1014===e?(r(),s(t)):1003==e||2004==e||2036===e&&(0<l.url.indexOf("user/signout")||0<l.url.indexOf("user/token"))?(GmPXtTest.isBackgroundPage&&(GmPXtTest.createStepJobs=[]),GmPXtTest.logoutUser(),s(t)):1007==e?GmPXtTest.getAccessToken().then(function(t){GmPXtTest.saveToken(t),l.headers.AccessToken=GmPXtTest.user.accesstoken,a()}).catch(function(){GmPXtTest.logoutUser()}):s(t))};function a(){for(var t in l.headers)l.headers.hasOwnProperty(t)&&(e[t]=l.headers[t]);GmPXtTest.user&&GmPXtTest.organization?(e.appType=GmPXtTest.conf.appType,e.orgId=GmPXtTest.organization.organization_id,e["x-mg-orgId"]=GmPXtTest.organization.organization_id,e.AccessToken=GmPXtTest.user.accesstoken,m()):GmPXtTest.getDatafromPanel().then(function(t){GmPXtTest.user=t.user,GmPXtTest.organization=t.organization,GmPXtTest.user&&(e.appType=GmPXtTest.conf.appType,e.orgId=GmPXtTest.organization.organization_id,e.AccessToken=GmPXtTest.user.accesstoken,e["x-mg-orgId"]=GmPXtTest.organization.organization_id),m()}).catch(function(t){console.log("Error while fetching user data",t)})}function m(){var t=GmPXtTest.conf.webServiceUrl+""+l.url;u&&(t=l.url),("GET"===l.method?fetch(GmPXtTest.getSearchURL(t,l.data),{headers:e,method:l.method}).then(function(t){u&&!c?(200===t.status?n:s)():t.json().then(i).catch(o)}):fetch(t,{headers:e,method:l.method,body:l.data}).then(function(t){t.json().then(i).catch(o)})).catch(o)}a()})},GmPXtTest.getDetailTour=function(r){return new Promise(function(e,t){var n={url:"tour",method:"GET",headers:{"Content-Type":"application/json"},data:GmPXtTest.encode(r)};function s(t){t=GmPXtTest.migrateTour(t),e(t)}GmPXtTest.xhr(n).then(function(t){t&&t.data?GmPXtTest.validateApiResp(s,"tour",t.data.tour,GmPXtTest.model.guide):e()})})},GmPXtTest.xhrAnalytics=function(a,m){return new Promise(function(e,n){function s(){GmPXtTest.getAccessToken().then(function(t){GmPXtTest.saveToken(t=t||{}),a.headers.accesstoken=GmPXtTest.user.accesstoken,i()}).catch(function(){GmPXtTest.logoutUser()})}function r(t){"success"===(t=GmPXtTest.parseJSON(t)).status?(t.data.event_chain_id&&(m?GmPXtTest.INSIGHTS_EVENT_CHAIN_ID=t.data.event_chain_id:GmPXtTest.ANALYTICS_EVENT_CHAIN_ID=t.data.event_chain_id),e(t)):!GmPXtTest.isEmpty(t)&&GmPXtTest.isDefined(t.status)&&"error"===t.status&&"Access token expired."===t.description?s():n(t)}function o(t){var e;console.log(t),t.responseJSON?"Access token expired."==t.responseJSON.description?s():((e=t.responseJSON).apiUrl=a.url,n(e)):n(e)}function i(){url=GmPXtTest.conf.analyticsPath+""+a.url,"GET"===a.method?fetch(GmPXtTest.getSearchURL(url,a.data),{headers:a.headers,method:a.method}).then(function(t){t.json().then(function(t){r(t)}).catch(o)}):fetch(url,{headers:a.headers,method:a.method,body:a.data}).then(function(t){t.json().then(r).catch(o)})}var t=GmPXtTest.organization;(!GmPXtTest.isEmpty(GmPXtTest.conf.analyticsPath)&&(t&&t.admin_settings.insights.enabled||-1!=a.url.indexOf("handoff-token")||GmPXtTest.isLogoutTrackApi)?i:n)()})},GmPXtTest.guideMeApiProvider=function(){var t={getUser:function(t){t={url:"user",method:"GET",headers:{"Content-Type":"application/json"},data:GmPXtTest.encode(t)};return GmPXtTest.xhr(t)},getOrganization:function(t){t={url:"organization",method:"GET",headers:{"Content-Type":"application/json"},data:GmPXtTest.encode(t)};return GmPXtTest.xhr(t)},getOrgSettings:function(t){t={url:"organization",method:"GET",headers:{"Content-Type":"application/json"},data:GmPXtTest.encode(t)};return GmPXtTest.xhr(t)},getTours:function(t){t={url:"tour/list",method:"GET",headers:{"Content-Type":"application/json"},data:GmPXtTest.encode(t)};return GmPXtTest.xhr(t)},getVideoUploadUrl:function(t){t.organization_id=GmPXtTest.organization.organization_id;t={url:"file/upload/url?",method:"GET",headers:{},data:GmPXtTest.encode(t)};return GmPXtTest.xhr(t)},getVideoUploadUrl_IBM:function(t){t.organization_id=GmPXtTest.organization.organization_id;t={url:"file/presigned/upload/url?",method:"GET",headers:{},data:GmPXtTest.encode(t)};return GmPXtTest.xhr(t)},videoUploadStatus:function(t){t.organization_id=GmPXtTest.organization.organization_id;t={url:"file/upload/status",method:"POST",headers:{},data:JSON.stringify(t)};return GmPXtTest.xhr(t)},getVideoLocator:function(t){t.organization_id=GmPXtTest.organization.organization_id;t={url:"file/upload/status",method:"GET",headers:{},data:GmPXtTest.encode(t)};return GmPXtTest.xhr(t)},uploadFTPFile:function(t,e,n){return t.organization_id=GmPXtTest.organization.organization_id,GmPXtTest.xhr({url:"file/upload/ftp",method:"POST",serviceType:"",data:t,fileInput:!0,onSuccess:e,onFail:n})},createStep:function(t){t={url:"step",method:"POST",headers:{},data:JSON.stringify(t.args)};return GmPXtTest.xhr(t)},deleteStep:function(t){t={url:"step",method:"DELETE",data:JSON.stringify(t)};return GmPXtTest.xhr(t)},updateTour:function(t){t={url:"tour",method:"PUT",headers:{},data:JSON.stringify(t)};return GmPXtTest.xhr(t)},updateStep:function(t){t={url:"step",method:"PUT",headers:{},data:JSON.stringify(t.args)};return GmPXtTest.xhr(t)},updateStepLang:function(t){t={url:"step/language/update",method:"PUT",headers:{},data:JSON.stringify(t.args)};return GmPXtTest.xhr(t)},uploadFileBase64:function(t){t={url:"file/base64image",method:"POST",headers:{},data:t.args};return GmPXtTest.xhr(t)},uploadBase64Image:function(t){t={url:"file/upload/base64image",method:"POST",headers:{},data:t.args};return GmPXtTest.xhr(t)},uploadFile:function(t){t.args.append("organization_id",GmPXtTest.organization.organization_id);t={url:"file/image",method:"POST",headers:{},data:t.args};return GmPXtTest.xhr(t)},uploadAudio:function(t){t={url:"file/audio",method:"POST",headers:{},data:t.args};return GmPXtTest.xhr(t)},getAudio:function(t){t={url:"file/audio",method:"GET",data:GmPXtTest.encode(t.args)};return GmPXtTest.xhr(t)},updateSurvey:function(t,e){e={url:"v3/survey/questionnaire/"+t.guide_id+"/",method:"PUT",headers:{"Content-Type":"application/json",accesstoken:e.accesstoken,key:GmPXtTest.trackerUtil.clientKey,appkey:GmPXtTest.conf.apiSecrret},data:JSON.stringify(t)};return GmPXtTest.xhrAnalytics(e)}};return t.updateUserProfile=GmPXtTest.apiUpdateUserProfile,t.getHandOffToken=GmPXtTest.apiGetHandOffToken,t.getSentiments=GmPXtTest.apiGetSentiments,t.getBotConvList=GmPXtTest.apiGetBotConvList,t.updateSentiment=GmPXtTest.apiUpdateSentiment,t.postSentiment=GmPXtTest.apiPostSentiment,t.deleteSentiment=GmPXtTest.apiDeleteSentiment,t.getSentiment=GmPXtTest.apiGetSentiment,t.getGetBotConv=GmPXtTest.apiGetBotConv,t.postSurvey=GmPXtTest.apiPostSurvey,t.getSegmentGroupList=GmPXtTest.apiGetSegmentGroupList,t.postSegmentGroupList=GmPXtTest.apiPostSegmentGroupList,t.putSegmentGroupList=GmPXtTest.apiPutSegmentGroupList,t.deleteSegmentGroupList=GmPXtTest.apiDeleteSegmentGroupList,t.userApiKeySignin=GmPXtTest.userApiKeySignin,t.registerClientInsight=GmPXtTest.apiRegisterClientInsight,t.getClientSecretInsight=GmPXtTest.apiGetClientSecretInsight,t.trackEventV1=GmPXtTest.apiTrackEventV1,t.trackEventV3=GmPXtTest.apiTrackEventV3,t.saveMyBotReport=GmPXtTest.saveMyBotReport,t.getOneTimeTokenInsights=GmPXtTest.getOneTimeTokenInsights,t.trackSentiment=GmPXtTest.apitrackSentiment,t.trackConversation=GmPXtTest.apitrackConversation,t.createNewElTrackObject=GmPXtTest.createNewElTrackObject,t.getElementsDetailInsights=GmPXtTest.getElementsDetailInsights,t.updateElTrackObject=GmPXtTest.updateElTrackObject,t.getCdnSignature=GmPXtTest.callGetCdnSignature,t.getTour=GmPXtTest.getDetailTour,t.sendFeedbackEmail=GmPXtTest.sendFeedbackEmail,t.getAnonymousUserPrefrence=GmPXtTest.getAnonymousUserPrefrence,t.setAnonymousUserPrefrence=GmPXtTest.setAnonymousUserPrefrence,t},"GuideMe"===GmPXtTest.conf.provider&&(GmPXtTest.api=GmPXtTest.guideMeApiProvider()),(GmPXtTest=void 0===GmPXtTest?{}:GmPXtTest).sendMessageToAllWindows=function(t,e){var e=mg$.extend({},e||{}),n=(!GmPXtTest.syncPlayerInst(t)||!GmPXtTest.playerI&&null!==GmPXtTest.playerI||(e.playerInstance=GmPXtTest.playerI),!GmPXtTest.syncCreateInst(t)||!GmPXtTest.stepReq&&null!==GmPXtTest.stepReq||(e.stepReq=GmPXtTest.stepReq),"mgPlayerExtChromeTest_action:clear_rule_jobs"===t&&"mgPlayerExtChromeTest_action:remove_tooltip"===t||(e.user=GmPXtTest.user,e.organization=GmPXtTest.organization),{action:t,data:e});if(n.data&&(n.data.frame=mg$.extend({},{})),GmPXtTest.inTopWindow(e.settings)){if("mgPlayerExtChromeTest_action:started;task:select_existing_dom_element"===t)return void GmPXtTest.requestHandler.selectExistingDomElement(n.data);if("mgPlayerExtChromeTest_action:started;task:edit_step_select_existing_dom_element"===t)return void GmPXtTest.requestHandler.selectDomElementEditStep(n);if("mgPlayerExtChromeTest_action:started;task:edit_tag_select_existing_dom_element"===t)return void GmPXtTest.requestHandler.selectDomElementEditTag(n);if("mgPlayerExtChromeTest_action:started;task:select_dom_element_tooltips"===t)return void GmPXtTest.requestHandler.selectDomElement(n);if("mgPlayerExtChromeTest_action:started;task:edit_beacon_select_existing_dom_element"===t)return GmPXtTest.selectorTool=null,void GmPXtTest.requestHandler.selectDomElementBeaconEdit(n);if("mgPlayerExtChromeTest_action:started;task:search_next_step"===t)return void GmPXtTest.requestHandler.searchDomElement(n.data)}else if(GmPXtTest.inTopWindow(e.beaconSettings)&&"mgPlayerExtChromeTest_action:show_beacon_on_dom_element"===t)return void GmPXtTest.highlighter.queueBeacon(n);if("mgPlayerExtChromeTest_action:started;task:select_dom_element_for_rules"===t&&e.rule&&e.rule.element&&e.rule.element.meta){if(!0===e.rule.element.meta.inTopWindow)return void GmPXtTest.requestHandler.findElementToCheckDomRule(e);GmPXtTest.rulesIframeQueue.push(mg$.extend({},e))}if("mgPlayerExtChromeTest_action:started;task:select_dom_element_for_matching_in_rules"===t&&(e.element&&e.element.meta&&!0===e.element.meta.inTopWindow))return void GmPXtTest.requestHandler.findElementToCheckMatchingAlgo(e);"mgPlayerExtChromeTest_action:update_session_info"===t&&(GmPXtTest.sessionInfo=e.sessionInfo),GmPXtTest.timeout(function(){GmPXtTest.sendToIframes(n),GmPXtTest.sendToFrames(n)},GmPXtTest.t.msgToframes),GmPXtTest.msgToThisWin(n)},GmPXtTest.inTopWindow=function(t){var e;if(t&&(t.element?e=t.element:t.selectedDOMElement&&(e=t.selectedDOMElement),e))if(e.version&&1e4<=GmPXtTest.decodeVersion(e.version)){if(!0===e.meta.inTopWindow)return!0}else if(!0===e.isTopWindow)return!0;return!1},GmPXtTest.myGuideFrame=function(t){return-1!==t.name.indexOf("guideme-iframe")},GmPXtTest.isEntIframe=function(t){return-1!==t.className.indexOf(GmPXtTest.conf.creatorApp)},GmPXtTest.isPlayerIframe=function(t){return-1!==t.className.indexOf(GmPXtTest.conf.playerApp)},GmPXtTest.passMessage=function(e,t){for(var n=0,s=t.length;n<s;n++){var r=t[n];if(!GmPXtTest.blockMcKessonIFrame(r)&&(!GmPXtTest.blockAbbvieIframe(r)&&0!==r.clientHeight&&0!==r.clientWidth&&!GmPXtTest.myGuideFrame(r))){e.mgdata&&e.mgdata.frame&&!GmPXtTest.isEmpty(e.mgdata.frame)&&(e.mgdata.frame.iframeTitle=r.getAttribute("title"),e.mgdata.frame.attributes=GmPXtTest.getIframeAttributes(mg$(r)),e.mgdata.frame.pos=r.getBoundingClientRect());try{r.contentWindow.postMessage(GmPXtTest.formatMsg(e),"*")}catch(t){console.dir(t),console.dir(e)}}}},GmPXtTest.sendToIframes=function(t){var e=window.document.getElementsByTagName("iframe"),n=GmPXtTest.getIframesFromShadowDom();GmPXtTest.passMessage(t,e),GmPXtTest.passMessage(t,n)},GmPXtTest.sendToFrames=function(e){for(var t=window.document.getElementsByTagName("frame"),n=0,s=t.length;n<s;n++){var r=t[n];if(0!==r.clientHeight&&0!==r.clientWidth){e.mgdata&&e.mgdata.frame&&!GmPXtTest.isEmpty(e.mgdata.frame)&&(e.mgdata.frame.iframeTitle=r.getAttribute("title"),e.mgdata.frame.attributes=GmPXtTest.getIframeAttributes(mg$(r)),e.mgdata.frame.pos=r.getBoundingClientRect());try{r.contentWindow.postMessage(GmPXtTest.formatMsg(e),"*")}catch(t){console.dir(t),console.dir(e)}}}},GmPXtTest.sendMessageToolbar=function(t,e){(e=e||{}).config=GmPXtTest.conf,e.user=GmPXtTest.user,GmPXtTest.initialization&&!0===GmPXtTest.initialization.toolbar?GmPXtTest.sendMessageToolbarIn(t,e):GmPXtTest.timeout(function(){GmPXtTest.sendMessageToolbar(t,e)},GmPXtTest.t_.sec1)},GmPXtTest.sendMessageToolbarIn=function(t,e){var n=mg$("#mgPlayerExtChromeTest_toolbar-iframe");n.length&&(t=GmPXtTest.formatMsg(t={action:t,data:e}),n.get(0).contentWindow.postMessage(t,"*"))},GmPXtTest.sendMessageToStepFrame=function(e,t){var n=!1;if(mg$("#mgPlayerExtChromeTest_step-iframe").length){var s=mg$("#mgPlayerExtChromeTest_step-iframe").get(0).contentWindow,e=((t=t||{}).config=GmPXtTest.conf,t.user=GmPXtTest.user,t.organization=GmPXtTest.organization,(GmPXtTest.stepReq||null===GmPXtTest.stepReq)&&GmPXtTest.stepReq&&GmPXtTest.stepReq.action&&(-1===GmPXtTest.stepReq.action.indexOf("beacon")?t.stepReq=GmPXtTest.stepReq:t.beaconReq=GmPXtTest.stepReq),{action:e,data:t});try{s.postMessage(GmPXtTest.formatMsg(e),"*"),n=!0}catch(t){console.dir(t),console.dir(e)}}return n},GmPXtTest.model={},GmPXtTest.model.api={code:{_type:"number",_required:!0},data:{_type:"object",_required:!0,_obj:{}},error:{_type:"bool",_required:!0},message:{_type:"array",_required:!0},version:{_type:"string"}},GmPXtTest.model.rule={type:{_type:"string"},name:{_type:"string"},condition:{_type:"string"},value:{_type:"string"},logical_condition:{_type:"string"},showValueField:{_type:"bool"},isValid:{_type:"bool"}},GmPXtTest.model.langOption={language:{_type:"string",_default:"en-US"},name:{_type:"string",_default:"English (United States)"},voice:{_type:"string",_default:"AriaNeural"}},GmPXtTest.model.segment={id:{_type:"string"},key_name:{_type:"string"},data:{_type:"array",_obj:{_arrOf:"string"}}},GmPXtTest.model.segmentGroup={group_id:{_type:"string"},rules:{_type:"array",_obj:GmPXtTest.createDeepCopy(GmPXtTest.model.rule)},segments:{_type:"array",_obj:GmPXtTest.createDeepCopy(GmPXtTest.model.segment)},title:{_type:"string"},rule_check:{_type:"bool",_default:!1}},GmPXtTest.model.segmentGroups={_type:"array",_obj:GmPXtTest.createDeepCopy(GmPXtTest.model.segmentGroup)},GmPXtTest.validate=function(t,e,n){var s=t[e],r="a(1f2";switch(n._type){case"array":(s=GmPXtTest.validateModelArray(s,n._obj))&&(r=s);break;case"object":(s=GmPXtTest.validateObject(s,n))&&(r=s);break;case"bool":r="boolean"==typeof s?s:1===parseInt(s)||"true"===s;break;case"number":s?isNaN(s)?isNaN(s)&&(r=1):r=s:r=0;break;case"string":"string"==typeof s&&GmPXtTest.isEmpty(s)&&GmPXtTest.isDefined(n._default)?r=n._default:"string"==typeof s?r=s:s?n._default?r=n._default:isNaN(s)||(r=String(s)):r="";break;case"number_or_null":r=isNaN(s)?null:s}return r},GmPXtTest.getDefault=function(t,e){return t?void 0!==e?e:{array:[],bool:!1,number:0,string:""}[t]:null},GmPXtTest.validateObject=function(t,e){return"object"==typeof(t=GmPXtTest.parseJSON__(t))&&(!e._obj||GmPXtTest.validateDataModel(t,e._obj))},GmPXtTest.validateModelArray=function(t,e){if(t=GmPXtTest.parseJSON__(t),!Array.isArray(t))return!1;for(var n=0,s=t.length;n<s;n++){var r=!0;if(!(r=e?"string"===e._arrOf?t[n]:("string"==typeof t[n]&&(t[n]=GmPXtTest.parseJSON__(t[n])),GmPXtTest.validateDataModel(t[n],e)):r))return!1;t[n]=r}return t},GmPXtTest.cloneObject=function(t){var e={};if(!GmPXtTest.isEmpty(t))for(var n in t)t.hasOwnProperty(n)&&(e[n]=GmPXtTest.getDefault(t[n]._type,t[n]._default));return e},GmPXtTest.validateLanguageData=function(t,e){for(var n in t=GmPXtTest.parseJSON__(t))t[n]=GmPXtTest.validateDataModel(t[n],e._obj);return t},GmPXtTest.validateDataModel=function(t,e){var n,s=!0;if(!GmPXtTest.isEmpty(t))for(var r in e)e.hasOwnProperty(r)&&("object"!==e[r]._type&&"array"!==e[r]._type||"string"!=typeof t[r]||(t[r]=GmPXtTest.parseJSON__(t[r]),null===t[r]&&("array"===e[r]._type?t[r]=[]:t[r]={})),"widget_icon_zindex"!==r||GmPXtTest.isEmpty(t[r])||"string"==typeof t[r]||(t[r]=t[r].toString()),"language_data"===r?t[r]=GmPXtTest.validateLanguageData(t[r],e[r]):void 0===t[r]||"boolean"!=typeof t[r]&&!t[r]&&!0===e[r]._inherit||"object"!=typeof t[r]&&"object"==e[r]._type&&!GmPXtTest.isEmpty(t[r])||t[r]&&"object"==typeof t[r]&&!Object.keys(t[r]).length&&e[r]._clone?!0===e[r]._inherit?e===GmPXtTest.model.application.settings._obj?t[r]=GmPXtTest.organization.settings[r]:e===GmPXtTest.model.application.settings._obj.popupDesign._obj?t[r]=GmPXtTest.organization.settings.popupDesign[r]:e===GmPXtTest.model.application.settings._obj.widget_icon_pos._obj?t[r]=GmPXtTest.organization.settings.widget_icon_pos[r]:e===GmPXtTest.model.application.settings._obj.selectorStyle._obj?t[r]=GmPXtTest.organization.settings.selectorStyle[r]:e===GmPXtTest.model.application.settings._obj.widgetIconSize._obj?t[r]=GmPXtTest.organization.settings.widgetIconSize[r]:e===GmPXtTest.model.application.settings._obj.notifications._obj?t[r]=GmPXtTest.organization.settings.notifications[r]:e===GmPXtTest.model.application.settings._obj.userLabels._obj&&(t[r]=GmPXtTest.organization.settings.userLabels[r]):"object"!==e[r]._type?t[r]=GmPXtTest.getDefault(e[r]._type,e[r]._default):"object"==e[r]._type&&e[r]._clone&&(t[r]=GmPXtTest.cloneObject(e[r]._obj),GmPXtTest.validateDataModel(t[r],e[r]._obj)):null!==t[r]&&"na"!==t[r]&&""!==t[r]||"object"!==e[r]._type?null!==t[r]&&"na"!==t[r]&&""!==t[r]&&0!==t[r]||"array"!==e[r]._type?"a(1f2"===(n=GmPXtTest.validate(t,r,e[r]))?"object"==e[r]._type&&e[r]._clone?(t[r]=GmPXtTest.cloneObject(e[r]._obj),GmPXtTest.validateDataModel(t[r],e[r]._obj)):(GmPXtTest.log(15,"Validation failed for prop: "+r+"; invalid value: ",t[r]),s=!1):t[r]=n:t[r]=[]:t[r]={});return!!s&&t},GmPXtTest.validateApiResp=function(t,e,n,s,r){(n=Array.isArray(n)?GmPXtTest.validateModelArray(n,s._obj):GmPXtTest.validateDataModel(n,s))?t&&r?t(n,r):t&&t(n):GmPXtTest.handleError(e)},(GmPXtTest=void 0===GmPXtTest?{}:GmPXtTest).l||(GmPXtTest.l={}),GmPXtTest.l.resetAll=function(){GmPXtTest.l.logStack={},GmPXtTest.l.currentStack=[],GmPXtTest.l.primaryInfo=[]},GmPXtTest.l.reset=function(){GmPXtTest.l.currentStack=[],GmPXtTest.l.logStack[GmPXtTest.id]=GmPXtTest.l.currentStack,GmPXtTest.l.primaryInfo=[]},GmPXtTest.l.resetAll(),GmPXtTest.l.addRCA=function(t,e){var n=e.selectorAttributes;if(t.precision_type===GmPXtTest.DOM_CRITERIA_DEFAULT&&n){var s,r=[];for(s in n)r=r.concat(n[s]);var o="[RCA] HTML structure appears to have changed since element selection. Check for presence and/or values of HTML attributes: "+(r=r.filter(function(t,e,n){return n.indexOf(t)===e}).sort()).join(", ");t.ignoreText&&(o+="\nAlso, could not find text: "+e.textPropertyValue),GmPXtTest.l.add(o,!0)}else t.precision_type===GmPXtTest.DOM_CRITERIA_CUSTOM&&GmPXtTest.l.add("[RCA] Could not find element by the user provided jQuery selector",!0)},GmPXtTest.l.start=function(t,e,n,s){obj={calls:[],identifier:t+"_"+e},n&&(obj.params=n),GmPXtTest.l.currentStack.length&&(GmPXtTest.l.add("START: "+t+" â "+e,s),GmPXtTest.l.currentStack[GmPXtTest.l.currentStack.length-1].calls.push(obj)),GmPXtTest.l.currentStack.push(obj)},GmPXtTest.l.end=function(t){t&&(GmPXtTest.l.currentStack[GmPXtTest.l.currentStack.length-1].returnValue=t),(null===t||"object"==typeof t&&null===t.he)&&GmPXtTest.l.add("null value returned by: "+GmPXtTest.l.currentStack[GmPXtTest.l.currentStack.length-1].identifier),1<GmPXtTest.l.currentStack.length&&GmPXtTest.l.currentStack.pop()},GmPXtTest.l.return=function(t){return GmPXtTest.l.end(t),t},GmPXtTest.l.add=function(t,e){GmPXtTest.isEmpty(GmPXtTest.l.currentStack)||(GmPXtTest.l.currentStack[GmPXtTest.l.currentStack.length-1]&&(GmPXtTest.l.currentStack[GmPXtTest.l.currentStack.length-1].log?GmPXtTest.l.currentStack[GmPXtTest.l.currentStack.length-1].log.push(t):GmPXtTest.l.currentStack[GmPXtTest.l.currentStack.length-1].log=[t]),e&&GmPXtTest.l.primaryInfo.push(t))},GmPXtTest.l.getPrimaryLogs=function(){return GmPXtTest.l.primaryInfo},GmPXtTest.l.getLogStack=function(){return 1===Object.keys(GmPXtTest.l.logStack).length?GmPXtTest.l.currentStack[0]:GmPXtTest.l.logStack},GmPXtTest.getDebugOptions=function(){return{1:"Global",2:"Page tracking",3:"Messages",5:"Rules engine",6:"Rules engine (Detailed)",8:"MyGuide widget",10:"Notification",12:"Matching algorithm",15:"API",16:"Features tags",17:"Features tags matching",21:"Initialisation",24:"LXP",27:"Workflow Insights",28:"Workflow Insights (Detailed)",30:"Current Page",33:"Workflow guide player",36:"Test automation",37:"Test automation (Detailed)",38:"QA Automator",39:"Onboarding guide",42:"Tooltips",43:"Tooltips (Detailed)",45:"Analytics",48:"Beacons",49:"Beacons (Detailed)",51:"Export tasks",54:"Step create/edit",57:"Click tracking",58:"Test Me",61:"Creator background sync",63:"Precedence",67:"Variables",68:"Segment Validation",70:"Player Background Sync",74:"Desktop Creator"}},GmPXtTest.getDebugColor=function(t){var e={1:"",2:"#fd5e53",3:"#ff0066",5:"#21bf73",6:"#192965",8:"#faafff",10:"#d15a7c",12:"#af460f",15:"#ffb677",21:"#40bfc1",24:"#0f4c75",27:"#3029f2",30:"#52de97",33:"#07b513",36:"#8cba51",39:"#fe8761",42:"#1c819e",45:"#d89cf6",48:"#eb8242",51:"#9dab86",54:"#5f6caf",57:"#4681ec",58:"#0097a7",63:"#ff1a8c",67:"#e3564f",61:"#ff0066",70:"#ff0066",74:"#6600cc"};return e[t]||e[t-1]||"#010038"},GmPXtTest.debugHelp=function(){console.log("Debug logs are feature wise. You can enable logs for upto 3 features at a time. Every feature logs come in different colors. E.g. Workflow guide logs are colored in blue, while Rules engine logs are colored in yellow. "),console.log("Call 'GmPXtTest.debug(op1, op2, op3)' to enable. Where op1, op2, op3 are debug options. E.g. Call 'GmPXtTest.debug(1)' for global logs. 'GmPXtTest.debug(33, 27, 54)' for Workflow guide and Rules engine and Matching algo."),console.log("Call 'GmPXtTest.debugStop()' to disable."),console.log("Call 'GmPXtTest.logElTracker()' â To log matching algo calls counter."),console.log("Call 'GmPXtTest.resetElTracker()' â To reset counter to zero."),console.log("Filter logs using 'Gm' to see only MyGuide logs."),console.log("Debug features list",GmPXtTest.getDebugOptions()),console.log("ALWAYS remember to disable after use.")},GmPXtTest.getDebugKey=function(){return GmPXtTest.storagePrefix+"debugMode"},GmPXtTest.initDebugMode=function(){GmPXtTest.debugMode=localStorage.getItem(GmPXtTest.getDebugKey()),GmPXtTest.debugMode&&(GmPXtTest.debugMode=GmPXtTest.debugMode.split('"').join("")),GmPXtTest.updateDebugMode(GmPXtTest.debugMode)},GmPXtTest.updateDebugMode=function(t){GmPXtTest.debugMode=t,GmPXtTest.isBackgroundPage||(t={debugMode:GmPXtTest.debugMode},GmPXtTest.isDefined(GmPXtTest.sendMessageToAllWindows)&&GmPXtTest.sendMessageToAllWindows("mgPlayerExtChromeTest_action:update_debug_mode",t),GmPXtTest.isSidePanelApp||GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:update_debug_mode",t),GmPXtTest.sendMessageToBackgroundService({action:"mgPlayerExtChromeTest_action:update_debug_mode",data:t}),GmPXtTest.isDefined(GmPXtTest.sendMessageToStepFrame)&&GmPXtTest.sendMessageToStepFrame("mgPlayerExtChromeTest_action:update_debug_mode",t))},GmPXtTest.debugStop=function(){return GmPXtTest.isBackgroundPage||localStorage.removeItem(GmPXtTest.storagePrefix+"debugMode"),GmPXtTest.updateDebugMode(""),"Logs disabled"},GmPXtTest.debug=function(t,e,n){var s=GmPXtTest.getDebugOptions(),r="",o="",i="";return t&&(s.hasOwnProperty(t)?(o+=t,r+=s[t]):i+=t),e&&(s.hasOwnProperty(e)?(o+=":"+e,r+=", "+s[e]):i+=","+e),n&&(s.hasOwnProperty(n)?(o+=":"+n,r+=", "+s[n]):i+=","+n),i?"Invalid debug mode: "+i:o?(GmPXtTest.isBackgroundPage||localStorage.setItem(GmPXtTest.storagePrefix+"debugMode",o),GmPXtTest.updateDebugMode(o),"Logs enabled: "+r):"Please provide debug mode"},GmPXtTest.showLogs=function(t){var e,n;return!!GmPXtTest.debugMode&&(1===t||(n=t+1,-1!==(e=(GmPXtTest.debugMode+"").split(":")).indexOf(t+""))||-1!==e.indexOf(n+""))},GmPXtTest.updateLogMetadata=function(t){return(t=GmPXtTest.id?t+" ["+GmPXtTest.id+"]":t)+"["+GmPXtTest.logtime()+"]"},GmPXtTest.log=function(t,e,n){GmPXtTest.showLogs(t)&&(12!==t&&(GmPXtTest.isSidePanelApp||GmPXtTest.isStepFrame)?GmPXtTest.sendMessageToPrintLog(t,e,n):GmPXtTest.printLog(t,e,n))},GmPXtTest.sendMessageToPrintLog=function(t,e,n){GmPXtTest.sendToParentWindow({action:"mgPlayerExtChromeTest_action:print_debug_log",data:{mode:t,str:e,opt:n}})},GmPXtTest.printLog=function(t,e,n){var s="color:"+GmPXtTest.getDebugColor(t)+";",r=null;1!==t&&1!==n||(s+="font-weight: bold;"),1!==n&&(r=n),e="%c"+(e=GmPXtTest.updateLogMetadata(e)),r?console.log(e,s,GmPXtTest.createDeepCopy(r)):console.log(e,s)},GmPXtTest.logArrayProp=function(t,e,n){if(GmPXtTest.showLogs(t))for(var s=0,r=e.length;s<r;s++){var o=s+1+") "+e[s][n],i=(o="%c"+GmPXtTest.updateLogMetadata(o),"color:"+GmPXtTest.getDebugColor(t)+";");console.log(o,i)}},GmPXtTest.logtime=function(){return(Date.now()+"").substring(7)},GmPXtTest.printMatchingAlgoLogs=function(){GmPXtTest.log(12,"Detailed logs",GmPXtTest.l.getLogStack()),GmPXtTest.log(12,"Primary debug info",{logs:GmPXtTest.l.getPrimaryLogs()})},GmPXtTest.primaryErrorReport=function(){return GmPXtTest.l.primaryInfo.join("<br>")},GmPXtTest.debugErrorReport=function(){},(GmPXtTest=void 0===GmPXtTest?{}:GmPXtTest).getAppStorage=function(o){return GmPXtTest.isBackgroundPage||window.top!==window.self?new Promise(function(t,e){for(var n={},s=0;s<o.length;s++){var r=GmPXtTest.addStoragePrefix(o[s]),r=localStorage.getItem(r);r&&"undefined"!==r&&(r=GmPXtTest.parseJSON(r),n[o[s]]=r)}t(n)}):new Promise(function(n,t){var s="id"+Math.random();window.addEventListener("message",function t(e){e=GmPXtTest.parseMsg(e);(e=GmPXtTest.convertMgdata(e)).data&&s===e.data.id&&e.action&&"mgPlayerExtChromeTest_action:get_local_storage_response"===e.action&&(window.removeEventListener("message",t),n(e.data.items))}),GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:get_local_storage",{id:s,keys:o})})},GmPXtTest.setAppStorage=function(s){return GmPXtTest.isBackgroundPage||window.top!==window.self?new Promise(function(t,e){mg$.each(s,function(t,e){t=GmPXtTest.addStoragePrefix(t),localStorage.setItem(t,JSON.stringify(e))}),t()}):new Promise(function(n,t){window.addEventListener("message",function t(e){e=GmPXtTest.parseMsg(e);(e=GmPXtTest.convertMgdata(e)).action&&"mgPlayerExtChromeTest_action:set_local_storage_response"===e.action&&(window.removeEventListener("message",t),n())}),GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:set_local_storage",s)})},GmPXtTest.removeAppStorage=function(s){return GmPXtTest.isBackgroundPage||window.top!==window.self?new Promise(function(t,e){for(var n=0;n<s.length;n++)s[n]=GmPXtTest.addStoragePrefix(s[n]),localStorage.removeItem(s[n]);t()}):new Promise(function(n,t){window.addEventListener("message",function t(e){e=GmPXtTest.parseMsg(e);(e=GmPXtTest.convertMgdata(e)).action&&"mgPlayerExtChromeTest_action:remove_local_storage_response"===e.action&&(window.removeEventListener("message",t),n())}),GmPXtTest.sendMessageToApp("mgPlayerExtChromeTest_action:remove_local_storage",s)})},GmPXtTest.getLocalStorage=function(o){return new Promise(function(t,e){for(var n={},s=0;s<o.length;s++){var r="mgLxp"+o[s],r=localStorage.getItem(r);r&&"undefined"!==r&&(r=GmPXtTest.parseJSON(r),n[o[s]]=r)}t(n)})},GmPXtTest.setLocalStorage=function(n){return new Promise(function(t,e){mg$.each(n,function(t,e){t="mgLxp"+t,localStorage.setItem(t,JSON.stringify(e))}),t()})},GmPXtTest.removeLocalStorage=function(r){return new Promise(function(t,e){for(var n=0;n<r.length;n++){var s="mgLxp"+r[n];localStorage.removeItem(s)}t()})},GmPXtTest.getChromeStorage=function(n){return new Promise(function(s,t){try{for(var e=0;e<n.length;e++)n[e]=GmPXtTest.addStoragePrefix(n[e]);chrome.storage.local.get(n,function(t){var e,n={};for(e in t)n[GmPXtTest.removeStoragePrefix(e)]=t[e];s(n)})}catch(t){}})},GmPXtTest.setChromeStorage=function(r){return new Promise(function(t,e){if(r){var n,s={};for(n in r)s[GmPXtTest.addStoragePrefix(n)]=r[n];try{chrome.storage.local.set(s,function(){t()})}catch(t){}}})},GmPXtTest.removeChromeStorage=function(s){return new Promise(function(t,e){try{if(s){for(var n=0;n<s.length;n++)s[n]=GmPXtTest.addStoragePrefix(s[n]);chrome.storage.local.remove(s,function(){t()})}}catch(t){}})},GmPXtTest.storage=function(t){var e={};return GmPXtTest.conf&&GmPXtTest.isExtension()&&"Safari"!==GmPXtTest.browserApp?(e.get=GmPXtTest.getChromeStorage,e.set=GmPXtTest.setChromeStorage,e.remove=GmPXtTest.removeChromeStorage):GmPXtTest.isLXP()?(e.get=GmPXtTest.getLocalStorage,e.set=GmPXtTest.setLocalStorage,e.remove=GmPXtTest.removeLocalStorage):(e.get=GmPXtTest.getAppStorage,e.set=GmPXtTest.setAppStorage,e.remove=GmPXtTest.removeAppStorage),e},void 0===GmPXtTest&&(GmPXtTest={});var stepAudio={},userPrefAudio=!1;function setAudioModeOn(){mg$(".mgPlayerExtChromeTest_play-step-audio-on").show(),mg$(".mgPlayerExtChromeTest_play-step-audio-off").hide(),mg$(".mgPlayerExtChromeTest_play-step-audio").addClass("playing-audio"),userPrefAudio&&formatAndSendToParentWindow("mgPlayerExtChromeTest_action:set_audio_storage",{stepAudioRunningStatus:!0})}function setAudioModeOff(){mg$(".mgPlayerExtChromeTest_play-step-audio-on").hide(),mg$(".mgPlayerExtChromeTest_play-step-audio-off").show(),mg$(".mgPlayerExtChromeTest_play-step-audio").removeClass("playing-audio"),userPrefAudio&&formatAndSendToParentWindow("mgPlayerExtChromeTest_action:set_audio_storage",{stepAudioRunningStatus:!1})}function pauseAudio(){GmPXtTest.audioObject&&GmPXtTest.audioObject.pause()}function formatAndSendToParentWindow(t,e){var n={};n.action=t,n.data=e||{},!GmPXtTest.playerI&&null!==GmPXtTest.playerI||(n.data.playerInstance=GmPXtTest.playerI),GmPXtTest.sendToParentWindow(n)}window.addEventListener("error",function(t){t&&t.target&&GmPXtTest.onImageLoadError(mg$(t.target))},!0),void 0===GmPXtTest.requestHandler&&(GmPXtTest.requestHandler={}),GmPXtTest.requestHandler.playAudioTrack=function(t){GmPXtTest.FT.audio&&(t.data.playerInstance&&(GmPXtTest.playerI=t.data.playerInstance),GmPXtTest.playStepAudio(t.data))},GmPXtTest.requestHandler.stopAudioTrack=function(t){GmPXtTest.stopAudio()},window.addEventListener("message",function(t){var e=(GmPXtTest=GmPXtTest||t.target.GmPXtTest).parseMsg(t);if(e&&e.action&&0===e.action.indexOf("mgPlayerExtChromeTest_action:"))switch((e=GmPXtTest.convertMgdata(e)).data&&(e.data.config&&(GmPXtTest.conf=e.data.config),e.data.user&&!GmPXtTest.isEmpty(e.data.user)&&GmPXtTest.updateGlobalUser(e.data.user),stepAudio.tour=e.data.tour||{},stepAudio.type=e.data.type||"",stepAudio.stepIndex=e.data.stepIndex||-1,GmPXtTest.syncPlayerInst(e.action))&&e.data.playerInstance&&(GmPXtTest.playerI=e.data.playerInstance),e.action){case"mgPlayerExtChromeTest_action:set_audio_mode_on":setAudioModeOn();break;case"mgPlayerExtChromeTest_action:set_audio_mode_off":setAudioModeOff();break;case"mgPlayerExtChromeTest_action:stop_audio":GmPXtTest.requestHandler.stopAudioTrack();break;case"mgPlayerExtChromeTest_action:set_style_audio_icon_response":mg$("html:first").append(e.data.data),mg$(".mgPlayerExtChromeTest_audio-iframe-icons").removeAttr("style"),formatAndSendToParentWindow("mgPlayerExtChromeTest_action:hide_pop_audio_ctrl",{})}},!1),GmPXtTest.checkAssetUrl=function(t,e,n){t===e?n(t):GmPXtTest.checkFileExist(t).then(function(){n(t)}).catch(function(t){n(e)})},GmPXtTest.playStepAudio=function(s){GmPXtTest.isPageReloaded=!1,setAudioModeOn(),s&&s.data||GmPXtTest.playerI&&(t=GmPXtTest.getCurrentStep(GmPXtTest.playerI.currentStepId),s={audioTrack:t.step_audio,step:t});var t,r=s.audioTrack;r&&-1===r.indexOf("?st=")&&(r+=GmPXtTest.getCdnSign()),GmPXtTest.checkAssetUrl(r,r,function(t){t&&(r=t);var t=s.step,e=(GmPXtTest.audioObject&&GmPXtTest.audioObject.pause(),GmPXtTest.audioObject=new Audio(r),"mgPlayerExtChromeTest_action:start_step_completion_timeout"),n={step:t},t=(GmPXtTest.audioObject.onended=function(){formatAndSendToParentWindow(e,n)},GmPXtTest.audioObject.play());void 0!==t&&t.then(function(){}).catch(function(t){formatAndSendToParentWindow(e,n),setAudioModeOff()})})},GmPXtTest.stopAudio=function(){GmPXtTest.audioObject&&GmPXtTest.audioObject.pause()},mg$(".mgPlayerExtChromeTest_play-step-audio-on").off("click").on("click",function(){userPrefAudio=!0,GmPXtTest.stopAudio(),formatAndSendToParentWindow("mgPlayerExtChromeTest_action:stop_audio",{}),setAudioModeOff()}),mg$(".mgPlayerExtChromeTest_play-step-audio-off").off("click").on("click",function(){var t;userPrefAudio=!0,setAudioModeOn(),GmPXtTest.playerI&&(t=GmPXtTest.getCurrentStep(GmPXtTest.playerI.currentStepId),message={audioTrack:t.step_audio,step:t},GmPXtTest.isPageReloaded=!1,GmPXtTest.playStepAudio(message))}),mg$(document).ready(function(){formatAndSendToParentWindow("mgPlayerExtChromeTest_action:set_style_audio_icon",{})});